/*

 handlebars v4.7.6

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

 MIT
 FastClick: polyfill to remove click delays on browsers with touch UIs.

 @codingstandard ftlabs-jsv2
 @copyright The Financial Times Limited [All Rights Reserved]
 @license MIT License (see LICENSE.txt)
*/
var applicationPath="iuuqt;00bqq/djofnb9/dpn",applicationWsPath="iuuqt;00djofnb9/dpn0bqj0w2",applicationStudioPath="iuuqt;00tuvejp/djofnb9/dpn",applicationResourcePath="iuuqt;00tuvejp/djofnb9/dpn0bttfut",authenticationPath="iuuqt;00tuvejp/djofnb9/dpn0dmjfou0mphjo",applicationEntryPath="iuuqt;00tuvejp/djofnb9/dpn0dmjfou0nbjo",c8AdminV2Host="iuuqt;00tuvejp/djofnb9/dpn",motionTrackerServiceUrl="https://mtrack.cinema8.com/api/track",widgetWebSocketHost="https://socket.cinema8.com",dataSourceHost="https://socket.cinema8.com",
applicationPath=a(applicationPath),applicationWsPath=a(applicationWsPath),applicationStudioPath=a(applicationStudioPath),applicationResourcePath=a(applicationResourcePath),authenticationPath=a(authenticationPath),applicationEntryPath=a(applicationEntryPath),c8AdminV2Host=a(c8AdminV2Host);function a(c){var e="";for(i=0;i<c.length;i++)e=28==c.charCodeAt(i)?e+"\x26":23==c.charCodeAt(i)?e+"!":e+String.fromCharCode(c.charCodeAt(i)-1);return e}
!function(c,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=c.document?e(c,!0):function(c){if(!c.document)throw Error("jQuery requires a window with a document");return e(c)}:e(c)}("undefined"!=typeof window?window:this,function(c,e){function b(c){var b=c.length,d=t.type(c);return"function"===d||t.isWindow(c)?!1:1===c.nodeType&&b?!0:"array"===d||0===b||"number"==typeof b&&0<b&&b-1 in c}function g(c,b,d){if(t.isFunction(b))return t.grep(c,function(c,f){return!!b.call(c,f,
c)!==d});if(b.nodeType)return t.grep(c,function(c){return c===b!==d});if("string"==typeof b){if(ma.test(b))return t.filter(b,c,d);b=t.filter(b,c)}return t.grep(c,function(c){return 0<=t.inArray(c,b)!==d})}function k(c,b){do c=c[b];while(c&&1!==c.nodeType);return c}function h(c){var b=va[c]={};return t.each(c.match(Oa)||[],function(c,d){b[d]=!0}),b}function d(){da.addEventListener?(da.removeEventListener("DOMContentLoaded",f,!1),c.removeEventListener("load",f,!1)):(da.detachEvent("onreadystatechange",
f),c.detachEvent("onload",f))}function f(){(da.addEventListener||"load"===event.type||"complete"===da.readyState)&&(d(),t.ready())}function l(c,b,d){if(void 0===d&&1===c.nodeType){var f="data-"+b.replace(pb,"-$1").toLowerCase();if(d=c.getAttribute(f),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Wa.test(d)?t.parseJSON(d):d}catch(h){}t.data(c,b,d)}else d=void 0}return d}function n(c){for(var b in c)if(("data"!==b||!t.isEmptyObject(c[b]))&&"toJSON"!==b)return!1;
return!0}function p(c,b,d,f){if(t.acceptData(c)){var h,e,k=t.expando,g=c.nodeType,l=g?t.cache:c,n=g?c[k]:c[k]&&k;if(n&&l[n]&&(f||l[n].data)||void 0!==d||"string"!=typeof b)return n||(n=g?c[k]=fa.pop()||t.guid++:k),l[n]||(l[n]=g?{}:{toJSON:t.noop}),("object"==typeof b||"function"==typeof b)&&(f?l[n]=t.extend(l[n],b):l[n].data=t.extend(l[n].data,b)),e=l[n],f||(e.data||(e.data={}),e=e.data),void 0!==d&&(e[t.camelCase(b)]=d),"string"==typeof b?(h=e[b],null==h&&(h=e[t.camelCase(b)])):h=e,h}}function q(c,
b,d){if(t.acceptData(c)){var f,h,e=c.nodeType,k=e?t.cache:c,g=e?c[t.expando]:t.expando;if(k[g]){if(b&&(f=d?k[g]:k[g].data)){t.isArray(b)?b=b.concat(t.map(b,t.camelCase)):b in f?b=[b]:(b=t.camelCase(b),b=b in f?[b]:b.split(" "));for(h=b.length;h--;)delete f[b[h]];if(d?!n(f):!t.isEmptyObject(f))return}(d||(delete k[g].data,n(k[g])))&&(e?t.cleanData([c],!0):aa.deleteExpando||k!=k.window?delete k[g]:k[g]=null)}}}function r(){return!0}function s(){return!1}function v(){try{return da.activeElement}catch(c){}}
function z(c){var b=xb.split("|");c=c.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function w(c,b){var d,f,h=0,e="undefined"!==typeof c.getElementsByTagName?c.getElementsByTagName(b||"*"):"undefined"!==typeof c.querySelectorAll?c.querySelectorAll(b||"*"):void 0;if(!e)for(e=[],d=c.childNodes||c;null!=(f=d[h]);h++)!b||t.nodeName(f,b)?e.push(f):t.merge(e,w(f,b));return void 0===b||b&&t.nodeName(c,b)?t.merge([c],e):e}function B(c){xa.test(c.type)&&(c.defaultChecked=
c.checked)}function E(c,b){return t.nodeName(c,"table")&&t.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?c.getElementsByTagName("tbody")[0]||c.appendChild(c.ownerDocument.createElement("tbody")):c}function u(c){return c.type=(null!==t.find.attr(c,"type"))+"/"+c.type,c}function D(c){var b=Gb.exec(c.type);return b?c.type=b[1]:c.removeAttribute("type"),c}function C(c,b){for(var d,f=0;null!=(d=c[f]);f++)t._data(d,"globalEval",!b||t._data(b[f],"globalEval"))}function F(c,b){if(1===b.nodeType&&t.hasData(c)){var d,
f,h;f=t._data(c);var e=t._data(b,f),k=f.events;if(k)for(d in delete e.handle,e.events={},k)for(f=0,h=k[d].length;h>f;f++)t.event.add(b,d,k[d][f]);e.data&&(e.data=t.extend({},e.data))}}function A(b,d){var f,e=t(d.createElement(b)).appendTo(d.body),h=c.getDefaultComputedStyle&&(f=c.getDefaultComputedStyle(e[0]))?f.display:t.css(e[0],"display");return e.detach(),h}function H(c){var b=da,d=bb[c];return d||(d=A(c,b),"none"!==d&&d||(Xb=(Xb||t("\x3ciframe frameborder\x3d'0' width\x3d'0' height\x3d'0'/\x3e")).appendTo(b.documentElement),
b=(Xb[0].contentWindow||Xb[0].contentDocument).document,b.write(),b.close(),d=A(c,b),Xb.detach()),bb[c]=d),d}function L(c,b){return{get:function(){var d=c();if(null!=d)return d?void delete this.get:(this.get=b).apply(this,arguments)}}}function J(c,b){if(b in c)return b;for(var d=b.charAt(0).toUpperCase()+b.slice(1),f=b,e=fc.length;e--;)if(b=fc[e]+d,b in c)return b;return f}function Q(c,b){for(var d,f,e,h=[],k=0,g=c.length;g>k;k++)f=c[k],f.style&&(h[k]=t._data(f,"olddisplay"),d=f.style.display,b?(h[k]||
"none"!==d||(f.style.display=""),""===f.style.display&&ra(f)&&(h[k]=t._data(f,"olddisplay",H(f.nodeName)))):(e=ra(f),(d&&"none"!==d||!e)&&t._data(f,"olddisplay",e?d:t.css(f,"display"))));for(k=0;g>k;k++)f=c[k],f.style&&(b&&"none"!==f.style.display&&""!==f.style.display||(f.style.display=b?h[k]||"":"none"));return c}function O(c,b,d){return(c=Fc.exec(b))?Math.max(0,c[1]-(d||0))+(c[2]||"px"):b}function N(c,b,d,f,e){b=d===(f?"border":"content")?4:"width"===b?1:0;for(var h=0;4>b;b+=2)"margin"===d&&(h+=
t.css(c,d+Xa[b],!0,e)),f?("content"===d&&(h-=t.css(c,"padding"+Xa[b],!0,e)),"margin"!==d&&(h-=t.css(c,"border"+Xa[b]+"Width",!0,e))):(h+=t.css(c,"padding"+Xa[b],!0,e),"padding"!==d&&(h+=t.css(c,"border"+Xa[b]+"Width",!0,e)));return h}function R(c,b,d){var f=!0,e="width"===b?c.offsetWidth:c.offsetHeight,h=Hb(c),k=aa.boxSizing&&"border-box"===t.css(c,"boxSizing",!1,h);if(0>=e||null==e){if(e=jb(c,b,h),(0>e||null==e)&&(e=c.style[b]),kb.test(e))return e;f=k&&(aa.boxSizingReliable()||e===c.style[b]);e=
parseFloat(e)||0}return e+N(c,b,d||(k?"border":"content"),f,h)+"px"}function T(c,b,d,f,e){return new T.prototype.init(c,b,d,f,e)}function W(){return setTimeout(function(){nc=void 0}),nc=t.now()}function ba(c,b){var d,f={height:c},e=0;for(b=b?1:0;4>e;e+=2-b)d=Xa[e],f["margin"+d]=f["padding"+d]=c;return b&&(f.opacity=f.width=c),f}function qa(c,b,d){for(var f,e=(gc[b]||[]).concat(gc["*"]),h=0,k=e.length;k>h;h++)if(f=e[h].call(d,b,c))return f}function P(c,b){var d,f,e,h,k;for(d in c)if(f=t.camelCase(d),
e=b[f],h=c[d],t.isArray(h)&&(e=h[1],h=c[d]=h[0]),d!==f&&(c[f]=h,delete c[d]),k=t.cssHooks[f],k&&"expand"in k)for(d in h=k.expand(h),delete c[f],h)d in c||(c[d]=h[d],b[d]=e);else b[f]=e}function K(c,b,d){var f,e=0,h=bc.length,k=t.Deferred().always(function(){delete g.elem}),g=function(){if(f)return!1;for(var b=nc||W(),b=Math.max(0,l.startTime+l.duration-b),d=1-(b/l.duration||0),e=0,h=l.tweens.length;h>e;e++)l.tweens[e].run(d);return k.notifyWith(c,[l,d,b]),1>d&&h?b:(k.resolveWith(c,[l]),!1)},l=k.promise({elem:c,
props:t.extend({},b),opts:t.extend(!0,{specialEasing:{}},d),originalProperties:b,originalOptions:d,startTime:nc||W(),duration:d.duration,tweens:[],createTween:function(b,d){var f=t.Tween(c,l.opts,b,d,l.opts.specialEasing[b]||l.opts.easing);return l.tweens.push(f),f},stop:function(b){var d=0,e=b?l.tweens.length:0;if(f)return this;for(f=!0;e>d;d++)l.tweens[d].run(1);return b?k.resolveWith(c,[l,b]):k.rejectWith(c,[l,b]),this}});d=l.props;for(P(d,l.opts.specialEasing);h>e;e++)if(b=bc[e].call(l,c,d,l.opts))return b;
return t.map(d,qa,l),t.isFunction(l.opts.start)&&l.opts.start.call(c,l),t.fx.timer(t.extend(g,{elem:c,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function ea(c){return function(b,d){"string"!=typeof b&&(d=b,b="*");var f,e=0,h=b.toLowerCase().match(Oa)||[];if(t.isFunction(d))for(;f=h[e++];)"+"===f.charAt(0)?(f=f.slice(1)||"*",(c[f]=c[f]||[]).unshift(d)):(c[f]=c[f]||[]).push(d)}}function M(c,b,d,f){function e(g){var l;
return h[g]=!0,t.each(c[g]||[],function(c,g){var n=g(b,d,f);return"string"!=typeof n||k||h[n]?k?!(l=n):void 0:(b.dataTypes.unshift(n),e(n),!1)}),l}var h={},k=c===lb;return e(b.dataTypes[0])||!h["*"]&&e("*")}function ca(c,b){var d,f,e=t.ajaxSettings.flatOptions||{};for(f in b)void 0!==b[f]&&((e[f]?c:d||(d={}))[f]=b[f]);return d&&t.extend(!0,c,d),c}function U(c,b,d,f){var e;if(t.isArray(b))t.each(b,function(b,e){d||cc.test(c)?f(c,e):U(c+"["+("object"==typeof e?b:"")+"]",e,d,f)});else if(d||"object"!==
t.type(b))f(c,b);else for(e in b)U(c+"["+e+"]",b[e],d,f)}function Y(){try{return new c.XMLHttpRequest}catch(b){}}function X(c){return t.isWindow(c)?c:9===c.nodeType?c.defaultView||c.parentWindow:!1}var fa=[],ga=fa.slice,ha=fa.concat,ja=fa.push,ya=fa.indexOf,Aa={},Ea=Aa.toString,sa=Aa.hasOwnProperty,aa={},t=function(c,b){return new t.fn.init(c,b)},Ya=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ma=/^-ms-/,Ta=/-([\da-z])/gi,Fa=function(c,b){return b.toUpperCase()};t.fn=t.prototype={jquery:"1.11.2",constructor:t,
selector:"",length:0,toArray:function(){return ga.call(this)},get:function(c){return null!=c?0>c?this[c+this.length]:this[c]:ga.call(this)},pushStack:function(c){c=t.merge(this.constructor(),c);return c.prevObject=this,c.context=this.context,c},each:function(c,b){return t.each(this,c,b)},map:function(c){return this.pushStack(t.map(this,function(b,d){return c.call(b,d,b)}))},slice:function(){return this.pushStack(ga.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(c){var b=this.length;c=+c+(0>c?b:0);return this.pushStack(0<=c&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ja,sort:fa.sort,splice:fa.splice};t.extend=t.fn.extend=function(){var c,b,d,f,e,h,k=arguments[0]||{},g=1,l=arguments.length,n=!1;"boolean"==typeof k&&(n=k,k=arguments[g]||{},g++);"object"==typeof k||t.isFunction(k)||(k={});for(g===l&&(k=this,g--);l>g;g++)if(null!=(e=arguments[g]))for(f in e)c=k[f],d=e[f],k!==d&&(n&&d&&(t.isPlainObject(d)||
(b=t.isArray(d)))?(b?(b=!1,h=c&&t.isArray(c)?c:[]):h=c&&t.isPlainObject(c)?c:{},k[f]=t.extend(n,h,d)):void 0!==d&&(k[f]=d));return k};t.extend({expando:"jQuery"+("1.11.2"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===t.type(c)},isArray:Array.isArray||function(c){return"array"===t.type(c)},isWindow:function(c){return null!=c&&c==c.window},isNumeric:function(c){return!t.isArray(c)&&0<=c-parseFloat(c)+1},isEmptyObject:function(c){for(var b in c)return!1;
return!0},isPlainObject:function(c){var b;if(!c||"object"!==t.type(c)||c.nodeType||t.isWindow(c))return!1;try{if(c.constructor&&!sa.call(c,"constructor")&&!sa.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(aa.ownLast)for(b in c)return sa.call(c,b);for(b in c);return void 0===b||sa.call(c,b)},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?Aa[Ea.call(c)]||"object":typeof c},globalEval:function(b){b&&t.trim(b)&&(c.execScript||function(b){c.eval.call(c,
b)})(b)},camelCase:function(c){return c.replace(Ma,"ms-").replace(Ta,Fa)},nodeName:function(c,b){return c.nodeName&&c.nodeName.toLowerCase()===b.toLowerCase()},each:function(c,d,f){var e,h=0,k=c.length,g=b(c);if(f)if(g)for(;k>h&&(e=d.apply(c[h],f),!1!==e);h++);else for(h in c){if(e=d.apply(c[h],f),!1===e)break}else if(g)for(;k>h&&(e=d.call(c[h],h,c[h]),!1!==e);h++);else for(h in c)if(e=d.call(c[h],h,c[h]),!1===e)break;return c},trim:function(c){return null==c?"":(c+"").replace(Ya,"")},makeArray:function(c,
d){var f=d||[];return null!=c&&(b(Object(c))?t.merge(f,"string"==typeof c?[c]:c):ja.call(f,c)),f},inArray:function(c,b,d){var f;if(b){if(ya)return ya.call(b,c,d);f=b.length;for(d=d?0>d?Math.max(0,f+d):d:0;f>d;d++)if(d in b&&b[d]===c)return d}return-1},merge:function(c,b){for(var d=+b.length,f=0,e=c.length;d>f;)c[e++]=b[f++];if(d!==d)for(;void 0!==b[f];)c[e++]=b[f++];return c.length=e,c},grep:function(c,b,d){for(var f=[],e=0,h=c.length,k=!d;h>e;e++)d=!b(c[e],e),d!==k&&f.push(c[e]);return f},map:function(c,
d,f){var e,h=0,k=c.length,g=[];if(b(c))for(;k>h;h++)e=d(c[h],h,f),null!=e&&g.push(e);else for(h in c)e=d(c[h],h,f),null!=e&&g.push(e);return ha.apply([],g)},guid:1,proxy:function(c,b){var d,f,e;return"string"==typeof b&&(e=c[b],b=c,c=e),t.isFunction(c)?(d=ga.call(arguments,2),f=function(){return c.apply(b||this,d.concat(ga.call(arguments)))},f.guid=c.guid=c.guid||t.guid++,f):void 0},now:function(){return+new Date},support:aa});t.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(c,b){Aa["[object "+b+"]"]=b.toLowerCase()});var la=function(c){function b(c,d,f,e){var h,k,g,l,n;if((d?d.ownerDocument||d:ua)!==ra&&Q(d),d=d||ra,f=f||[],l=d.nodeType,"string"!=typeof c||!c||1!==l&&9!==l&&11!==l)return f;if(!e&&K){if(11!==l&&(h=sa.exec(c)))if(g=h[1])if(9===l){if(k=d.getElementById(g),!k||!k.parentNode)return f;if(k.id===g)return f.push(k),f}else{if(d.ownerDocument&&(k=d.ownerDocument.getElementById(g))&&qa(d,k)&&k.id===g)return f.push(k),f}else{if(h[2])return mb.apply(f,d.getElementsByTagName(c)),
f;if((g=h[3])&&C.getElementsByClassName)return mb.apply(f,d.getElementsByClassName(g)),f}if(C.qsa&&(!M||!M.test(c))){if(k=h=T,g=d,n=1!==l&&c,1===l&&"object"!==d.nodeName.toLowerCase()){l=B(c);(h=d.getAttribute("id"))?k=h.replace(Xa,"\\$\x26"):d.setAttribute("id",k);k="[id\x3d'"+k+"'] ";for(g=l.length;g--;)l[g]=k+u(l[g]);g=pb.test(c)&&p(d.parentNode)||d;n=l.join(",")}if(n)try{return mb.apply(f,g.querySelectorAll(n)),f}catch(q){}finally{h||d.removeAttribute("id")}}}return L(c.replace(Hb,"$1"),d,f,e)}
function d(){function c(d,f){return b.push(d+" ")>H.cacheLength&&delete c[b.shift()],c[d+" "]=f}var b=[];return c}function f(c){return c[T]=!0,c}function e(c){var b=ra.createElement("div");try{return!!c(b)}catch(d){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function h(c,b){for(var d=c.split("|"),f=c.length;f--;)H.attrHandle[d[f]]=b}function k(c,b){var d=b&&c,f=d&&1===c.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~c.sourceIndex||-2147483648);if(f)return f;if(d)for(;d=
d.nextSibling;)if(d===b)return-1;return c?1:-1}function g(c){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===c}}function l(c){return function(b){var d=b.nodeName.toLowerCase();return("input"===d||"button"===d)&&b.type===c}}function n(c){return f(function(b){return b=+b,f(function(d,f){for(var e,h=c([],d.length,b),k=h.length;k--;)d[e=h[k]]&&(d[e]=!(f[e]=d[e]))})})}function p(c){return c&&"undefined"!=typeof c.getElementsByTagName&&c}function q(){}function u(c){for(var b=0,d=c.length,
f="";d>b;b++)f+=c[b].value;return f}function r(c,b,d){var f=b.dir,e=d&&"parentNode"===f,h=G++;return b.first?function(b,d,h){for(;b=b[f];)if(1===b.nodeType||e)return c(b,d,h)}:function(b,d,k){var g,l,n=[ba,h];if(k)for(;b=b[f];){if((1===b.nodeType||e)&&c(b,d,k))return!0}else for(;b=b[f];)if(1===b.nodeType||e){if(l=b[T]||(b[T]={}),(g=l[f])&&g[0]===ba&&g[1]===h)return n[2]=g[2];if(l[f]=n,n[2]=c(b,d,k))return!0}}}function s(c){return 1<c.length?function(b,d,f){for(var e=c.length;e--;)if(!c[e](b,d,f))return!1;
return!0}:c[0]}function D(c,b,d,f,e){for(var h,k=[],g=0,l=c.length,n=null!=b;l>g;g++)(h=c[g])&&(!d||d(h,f,e))&&(k.push(h),n&&b.push(g));return k}function E(c,d,e,h,k,g){return h&&!h[T]&&(h=E(h)),k&&!k[T]&&(k=E(k,g)),f(function(f,g,l,n){var p,q,u=[],r=[],s=g.length,E;if(!(E=f)){E=d||"*";for(var A=l.nodeType?[l]:l,v=[],C=0,F=A.length;F>C;C++)b(E,A[C],v);E=v}E=!c||!f&&d?E:D(E,u,c,l,n);A=e?k||(f?c:s||h)?[]:g:E;if(e&&e(E,A,l,n),h)for(p=D(A,r),h(p,[],l,n),l=p.length;l--;)(q=p[l])&&(A[r[l]]=!(E[r[l]]=q));
if(f){if(k||c){if(k){p=[];for(l=A.length;l--;)(q=A[l])&&p.push(E[l]=q);k(null,A=[],p,n)}for(l=A.length;l--;)(q=A[l])&&-1<(p=k?eb(f,q):u[l])&&(f[p]=!(g[p]=q))}}else A=D(A===g?A.splice(s,A.length):A),k?k(null,g,A,n):mb.apply(g,A)})}function A(c){var b,d,f,e=c.length,h=H.relative[c[0].type];d=h||H.relative[" "];for(var k=h?1:0,g=r(function(c){return c===b},d,!0),l=r(function(c){return-1<eb(b,c)},d,!0),n=[function(c,d,f){c=!h&&(f||d!==J)||((b=d).nodeType?g(c,d,f):l(c,d,f));return b=null,c}];e>k;k++)if(d=
H.relative[c[k].type])n=[r(s(n),d)];else{if(d=H.filter[c[k].type].apply(null,c[k].matches),d[T]){for(f=++k;e>f&&!H.relative[c[f].type];f++);return E(1<k&&s(n),1<k&&u(c.slice(0,k-1).concat({value:" "===c[k-2].type?"*":""})).replace(Hb,"$1"),d,f>k&&A(c.slice(k,f)),e>f&&A(c=c.slice(f)),e>f&&u(c))}n.push(d)}return s(n)}function v(c,d){var e=0<d.length,h=0<c.length,k=function(f,k,g,l,n){var p,q,u,r=0,s="0",A=f&&[],E=[],v=J,C=f||h&&H.find.TAG("*",n),F=ba+=null==v?1:Math.random()||.1,mc=C.length;for(n&&
(J=k!==ra&&k);s!==mc&&null!=(p=C[s]);s++){if(h&&p){for(q=0;u=c[q++];)if(u(p,k,g)){l.push(p);break}n&&(ba=F)}e&&((p=!u&&p)&&r--,f&&A.push(p))}if(r+=s,e&&s!==r){for(q=0;u=d[q++];)u(A,E,k,g);if(f){if(0<r)for(;s--;)A[s]||E[s]||(E[s]=Ja.call(l));E=D(E)}mb.apply(l,E);n&&!f&&0<E.length&&1<r+d.length&&b.uniqueSort(l)}return n&&(ba=F,J=v),A};return e?f(k):k}var F,C,H,z,w,B,t,L,J,N,O,Q,ra,P,K,M,R,W,qa,T="sizzle"+1*new Date,ua=c.document,ba=0,G=0,bb=d(),db=d(),xa=d(),ta=function(c,b){return c===b&&(O=!0),0},
I={}.hasOwnProperty,Wa=[],Ja=Wa.pop,Bb=Wa.push,mb=Wa.push,U=Wa.slice,eb=function(c,b){for(var d=0,f=c.length;f>d;d++)if(c[d]===b)return d;return-1},ea="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ca="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)[\\x20\\t\\r\\n\\f]*\\]",$a=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
ca+")*)|.*)\\)|)",ha=/[\x20\t\r\n\f]+/g,Hb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ub=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,cb=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Oa=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,Y=new RegExp($a),aa=new RegExp("^"+ea+"$"),Pa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ca),PSEUDO:new RegExp("^"+$a),
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},S=/^(?:input|select|textarea|button)$/i,Vb=/^h\d$/i,kb=/^[^{]+\{\s*\[native \w/,
sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pb=/[+~]/,Xa=/'|\\/g,jb=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,Na=function(c,b,d){c="0x"+b-65536;return c!==c||d?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)},V=function(){Q()};try{mb.apply(Wa=U.call(ua.childNodes),ua.childNodes),Wa[ua.childNodes.length].nodeType}catch(va){mb={apply:Wa.length?function(c,b){Bb.apply(c,U.call(b))}:function(c,b){for(var d=c.length,f=0;c[d++]=b[f++];);c.length=d-1}}}C=b.support=
{};w=b.isXML=function(c){return(c=c&&(c.ownerDocument||c).documentElement)?"HTML"!==c.nodeName:!1};Q=b.setDocument=function(c){var b,d,f=c?c.ownerDocument||c:ua;return f!==ra&&9===f.nodeType&&f.documentElement?(ra=f,P=f.documentElement,d=f.defaultView,d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",V,!1):d.attachEvent&&d.attachEvent("onunload",V)),K=!w(f),C.attributes=e(function(c){return c.className="i",!c.getAttribute("className")}),C.getElementsByTagName=e(function(c){return c.appendChild(f.createComment("")),
!c.getElementsByTagName("*").length}),C.getElementsByClassName=kb.test(f.getElementsByClassName),C.getById=e(function(c){return P.appendChild(c).id=T,!f.getElementsByName||!f.getElementsByName(T).length}),C.getById?(H.find.ID=function(c,b){if("undefined"!=typeof b.getElementById&&K){var d=b.getElementById(c);return d&&d.parentNode?[d]:[]}},H.filter.ID=function(c){var b=c.replace(jb,Na);return function(c){return c.getAttribute("id")===b}}):(delete H.find.ID,H.filter.ID=function(c){var b=c.replace(jb,
Na);return function(c){return(c="undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===b}}),H.find.TAG=C.getElementsByTagName?function(c,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(c):C.qsa?b.querySelectorAll(c):void 0}:function(c,b){var d,f=[],e=0,h=b.getElementsByTagName(c);if("*"===c){for(;d=h[e++];)1===d.nodeType&&f.push(d);return f}return h},H.find.CLASS=C.getElementsByClassName&&function(c,b){return K?b.getElementsByClassName(c):void 0},R=
[],M=[],(C.qsa=kb.test(f.querySelectorAll))&&(e(function(c){P.appendChild(c).innerHTML="\x3ca id\x3d'"+T+"'\x3e\x3c/a\x3e\x3cselect id\x3d'"+T+"-\f]' msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";c.querySelectorAll("[msallowcapture^\x3d'']").length&&M.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||M.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~\x3d"+T+"-]").length||M.push("~\x3d");c.querySelectorAll(":checked").length||M.push(":checked");c.querySelectorAll("a#"+T+"+*").length||M.push(".#.+[+~]")}),e(function(c){var b=f.createElement("input");b.setAttribute("type","hidden");c.appendChild(b).setAttribute("name","D");c.querySelectorAll("[name\x3dd]").length&&M.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");c.querySelectorAll(":enabled").length||M.push(":enabled",":disabled");c.querySelectorAll("*,:x");M.push(",.*:")})),
(C.matchesSelector=kb.test(W=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&e(function(c){C.disconnectedMatch=W.call(c,"div");W.call(c,"[s!\x3d'']:x");R.push("!\x3d",$a)}),M=M.length&&new RegExp(M.join("|")),R=R.length&&new RegExp(R.join("|")),b=kb.test(P.compareDocumentPosition),qa=b||kb.test(P.contains)?function(c,b){var d=9===c.nodeType?c.documentElement:c,f=b&&b.parentNode;return c===f||!(!f||1!==f.nodeType||!(d.contains?d.contains(f):c.compareDocumentPosition&&
16&c.compareDocumentPosition(f)))}:function(c,b){if(b)for(;b=b.parentNode;)if(b===c)return!0;return!1},ta=b?function(c,b){if(c===b)return O=!0,0;var d=!c.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(c.ownerDocument||c)===(b.ownerDocument||b)?c.compareDocumentPosition(b):1,1&d||!C.sortDetached&&b.compareDocumentPosition(c)===d?c===f||c.ownerDocument===ua&&qa(ua,c)?-1:b===f||b.ownerDocument===ua&&qa(ua,b)?1:N?eb(N,c)-eb(N,b):0:4&d?-1:1)}:function(c,b){if(c===b)return O=!0,0;var d,
e=0;d=c.parentNode;var h=b.parentNode,g=[c],l=[b];if(!d||!h)return c===f?-1:b===f?1:d?-1:h?1:N?eb(N,c)-eb(N,b):0;if(d===h)return k(c,b);for(d=c;d=d.parentNode;)g.unshift(d);for(d=b;d=d.parentNode;)l.unshift(d);for(;g[e]===l[e];)e++;return e?k(g[e],l[e]):g[e]===ua?-1:l[e]===ua?1:0},f):ra};b.matches=function(c,d){return b(c,null,null,d)};b.matchesSelector=function(c,d){if((c.ownerDocument||c)!==ra&&Q(c),d=d.replace(Oa,"\x3d'$1']"),!(!C.matchesSelector||!K||R&&R.test(d)||M&&M.test(d)))try{var f=W.call(c,
d);if(f||C.disconnectedMatch||c.document&&11!==c.document.nodeType)return f}catch(e){}return 0<b(d,ra,null,[c]).length};b.contains=function(c,b){return(c.ownerDocument||c)!==ra&&Q(c),qa(c,b)};b.attr=function(c,b){(c.ownerDocument||c)!==ra&&Q(c);var d=H.attrHandle[b.toLowerCase()],d=d&&I.call(H.attrHandle,b.toLowerCase())?d(c,b,!K):void 0;return void 0!==d?d:C.attributes||!K?c.getAttribute(b):(d=c.getAttributeNode(b))&&d.specified?d.value:null};b.error=function(c){throw Error("Syntax error, unrecognized expression: "+
c);};b.uniqueSort=function(c){var b,d=[],f=0,e=0;if(O=!C.detectDuplicates,N=!C.sortStable&&c.slice(0),c.sort(ta),O){for(;b=c[e++];)b===c[e]&&(f=d.push(e));for(;f--;)c.splice(d[f],1)}return N=null,c};z=b.getText=function(c){var b,d="",f=0;if(b=c.nodeType)if(1===b||9===b||11===b){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)d+=z(c)}else{if(3===b||4===b)return c.nodeValue}else for(;b=c[f++];)d+=z(b);return d};H=b.selectors={cacheLength:50,createPseudo:f,
match:Pa,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(jb,Na),c[3]=(c[3]||c[4]||c[5]||"").replace(jb,Na),"~\x3d"===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||b.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):
c[3]&&b.error(c[0]),c},PSEUDO:function(c){var b,d=!c[6]&&c[2];return Pa.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":d&&Y.test(d)&&(b=B(d,!0))&&(b=d.indexOf(")",d.length-b)-d.length)&&(c[0]=c[0].slice(0,b),c[2]=d.slice(0,b)),c.slice(0,3))}},filter:{TAG:function(c){var b=c.replace(jb,Na).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===b}},CLASS:function(c){var b=bb[c+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"))&&
bb(c,function(c){return b.test("string"==typeof c.className&&c.className||"undefined"!=typeof c.getAttribute&&c.getAttribute("class")||"")})},ATTR:function(c,d,f){return function(e){e=b.attr(e,c);return null==e?"!\x3d"===d:d?(e+="","\x3d"===d?e===f:"!\x3d"===d?e!==f:"^\x3d"===d?f&&0===e.indexOf(f):"*\x3d"===d?f&&-1<e.indexOf(f):"$\x3d"===d?f&&e.slice(-f.length)===f:"~\x3d"===d?-1<(" "+e.replace(ha," ")+" ").indexOf(f):"|\x3d"===d?e===f||e.slice(0,f.length+1)===f+"-":!1):!0}},CHILD:function(c,b,d,
f,e){var h="nth"!==c.slice(0,3),k="last"!==c.slice(-4),g="of-type"===b;return 1===f&&0===e?function(c){return!!c.parentNode}:function(b,d,l){var n,p,q,u,r;d=h!==k?"nextSibling":"previousSibling";var s=b.parentNode,D=g&&b.nodeName.toLowerCase();l=!l&&!g;if(s){if(h){for(;d;){for(p=b;p=p[d];)if(g?p.nodeName.toLowerCase()===D:1===p.nodeType)return!1;r=d="only"===c&&!r&&"nextSibling"}return!0}if(r=[k?s.firstChild:s.lastChild],k&&l)for(l=s[T]||(s[T]={}),n=l[c]||[],u=n[0]===ba&&n[1],q=n[0]===ba&&n[2],p=
u&&s.childNodes[u];p=++u&&p&&p[d]||(q=u=0)||r.pop();){if(1===p.nodeType&&++q&&p===b){l[c]=[ba,u,q];break}}else if(l&&(n=(b[T]||(b[T]={}))[c])&&n[0]===ba)q=n[1];else for(;(p=++u&&p&&p[d]||(q=u=0)||r.pop())&&((g?p.nodeName.toLowerCase()!==D:1!==p.nodeType)||!++q||(l&&((p[T]||(p[T]={}))[c]=[ba,q]),p!==b)););return q-=e,q===f||0===q%f&&0<=q/f}}},PSEUDO:function(c,d){var e,h=H.pseudos[c]||H.setFilters[c.toLowerCase()]||b.error("unsupported pseudo: "+c);return h[T]?h(d):1<h.length?(e=[c,c,"",d],H.setFilters.hasOwnProperty(c.toLowerCase())?
f(function(c,b){for(var f,e=h(c,d),k=e.length;k--;)f=eb(c,e[k]),c[f]=!(b[f]=e[k])}):function(c){return h(c,0,e)}):h}},pseudos:{not:f(function(c){var b=[],d=[],e=t(c.replace(Hb,"$1"));return e[T]?f(function(c,b,d,f){var h;d=e(c,null,f,[]);for(f=c.length;f--;)(h=d[f])&&(c[f]=!(b[f]=h))}):function(c,f,h){return b[0]=c,e(b,null,h,d),b[0]=null,!d.pop()}}),has:f(function(c){return function(d){return 0<b(c,d).length}}),contains:f(function(c){return c=c.replace(jb,Na),function(b){return-1<(b.textContent||
b.innerText||z(b)).indexOf(c)}}),lang:f(function(c){return aa.test(c||"")||b.error("unsupported lang: "+c),c=c.replace(jb,Na).toLowerCase(),function(b){var d;do if(d=K?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return d=d.toLowerCase(),d===c||0===d.indexOf(c+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var d=c.location&&c.location.hash;return d&&d.slice(1)===b.id},root:function(c){return c===P},focus:function(c){return c===ra.activeElement&&(!ra.hasFocus||
ra.hasFocus())&&!!(c.type||c.href||~c.tabIndex)},enabled:function(c){return!1===c.disabled},disabled:function(c){return!0===c.disabled},checked:function(c){var b=c.nodeName.toLowerCase();return"input"===b&&!!c.checked||"option"===b&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!H.pseudos.empty(c)},header:function(c){return Vb.test(c.nodeName)},
input:function(c){return S.test(c.nodeName)},button:function(c){var b=c.nodeName.toLowerCase();return"input"===b&&"button"===c.type||"button"===b},text:function(c){var b;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(b=c.getAttribute("type"))||"text"===b.toLowerCase())},first:n(function(){return[0]}),last:n(function(c,b){return[b-1]}),eq:n(function(c,b,d){return[0>d?d+b:d]}),even:n(function(c,b){for(var d=0;b>d;d+=2)c.push(d);return c}),odd:n(function(c,b){for(var d=1;b>d;d+=2)c.push(d);
return c}),lt:n(function(c,b,d){for(b=0>d?d+b:d;0<=--b;)c.push(b);return c}),gt:n(function(c,b,d){for(d=0>d?d+b:d;++d<b;)c.push(d);return c})}};H.pseudos.nth=H.pseudos.eq;for(F in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})H.pseudos[F]=g(F);for(F in{submit:!0,reset:!0})H.pseudos[F]=l(F);q.prototype=H.filters=H.pseudos;H.setFilters=new q;B=b.tokenize=function(c,d){var f,e,h,k,g,l,n;if(g=db[c+" "])return d?0:g.slice(0);g=c;l=[];for(n=H.preFilter;g;){f&&!(e=ub.exec(g))||(e&&(g=g.slice(e[0].length)||
g),l.push(h=[]));f=!1;(e=cb.exec(g))&&(f=e.shift(),h.push({value:f,type:e[0].replace(Hb," ")}),g=g.slice(f.length));for(k in H.filter)!(e=Pa[k].exec(g))||n[k]&&!(e=n[k](e))||(f=e.shift(),h.push({value:f,type:k,matches:e}),g=g.slice(f.length));if(!f)break}return d?g.length:g?b.error(c):db(c,l).slice(0)};return t=b.compile=function(c,b){var d,f=[],e=[],h=xa[c+" "];if(!h){b||(b=B(c));for(d=b.length;d--;)h=A(b[d]),h[T]?f.push(h):e.push(h);h=xa(c,v(e,f));h.selector=c}return h},L=b.select=function(c,b,
d,f){var e,h,k,g,l,n="function"==typeof c&&c,q=!f&&B(c=n.selector||c);if(d=d||[],1===q.length){if(h=q[0]=q[0].slice(0),2<h.length&&"ID"===(k=h[0]).type&&C.getById&&9===b.nodeType&&K&&H.relative[h[1].type]){if(b=(H.find.ID(k.matches[0].replace(jb,Na),b)||[])[0],!b)return d;n&&(b=b.parentNode);c=c.slice(h.shift().value.length)}for(e=Pa.needsContext.test(c)?0:h.length;e--&&(k=h[e],!H.relative[g=k.type]);)if((l=H.find[g])&&(f=l(k.matches[0].replace(jb,Na),pb.test(h[0].type)&&p(b.parentNode)||b))){if(h.splice(e,
1),c=f.length&&u(h),!c)return mb.apply(d,f),d;break}}return(n||t(c,q))(f,b,!K,d,pb.test(c)&&p(b.parentNode)||b),d},C.sortStable=T.split("").sort(ta).join("")===T,C.detectDuplicates=!!O,Q(),C.sortDetached=e(function(c){return 1&c.compareDocumentPosition(ra.createElement("div"))}),e(function(c){return c.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e","#"===c.firstChild.getAttribute("href")})||h("type|href|height|width",function(c,b,d){return d?void 0:c.getAttribute(b,"type"===b.toLowerCase()?1:2)}),C.attributes&&
e(function(c){return c.innerHTML="\x3cinput/\x3e",c.firstChild.setAttribute("value",""),""===c.firstChild.getAttribute("value")})||h("value",function(c,b,d){return d||"input"!==c.nodeName.toLowerCase()?void 0:c.defaultValue}),e(function(c){return null==c.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,b,d){var f;return d?void 0:!0===c[b]?b.toLowerCase():(f=c.getAttributeNode(b))&&
f.specified?f.value:null}),b}(c);t.find=la;t.expr=la.selectors;t.expr[":"]=t.expr.pseudos;t.unique=la.uniqueSort;t.text=la.getText;t.isXMLDoc=la.isXML;t.contains=la.contains;var za=t.expr.match.needsContext,ia=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ma=/^.[^:#\[\.,]*$/;t.filter=function(c,b,d){var f=b[0];return d&&(c=":not("+c+")"),1===b.length&&1===f.nodeType?t.find.matchesSelector(f,c)?[f]:[]:t.find.matches(c,t.grep(b,function(c){return 1===c.nodeType}))};t.fn.extend({find:function(c){var b,d=[],f=this,e=
f.length;if("string"!=typeof c)return this.pushStack(t(c).filter(function(){for(b=0;e>b;b++)if(t.contains(f[b],this))return!0}));for(b=0;e>b;b++)t.find(c,f[b],d);return d=this.pushStack(1<e?t.unique(d):d),d.selector=this.selector?this.selector+" "+c:c,d},filter:function(c){return this.pushStack(g(this,c||[],!1))},not:function(c){return this.pushStack(g(this,c||[],!0))},is:function(c){return!!g(this,"string"==typeof c&&za.test(c)?t(c):c||[],!1).length}});var Ca,da=c.document,oa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
(t.fn.init=function(c,b){var d,f;if(!c)return this;if("string"==typeof c){if(d="\x3c"===c.charAt(0)&&"\x3e"===c.charAt(c.length-1)&&3<=c.length?[null,c,null]:oa.exec(c),!d||!d[1]&&b)return!b||b.jquery?(b||Ca).find(c):this.constructor(b).find(c);if(d[1]){if(b=b instanceof t?b[0]:b,t.merge(this,t.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:da,!0)),ia.test(d[1])&&t.isPlainObject(b))for(d in b)t.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}if(f=da.getElementById(d[2]),f&&f.parentNode){if(f.id!==
d[2])return Ca.find(c);this.length=1;this[0]=f}return this.context=da,this.selector=c,this}return c.nodeType?(this.context=this[0]=c,this.length=1,this):t.isFunction(c)?"undefined"!=typeof Ca.ready?Ca.ready(c):c(t):(void 0!==c.selector&&(this.selector=c.selector,this.context=c.context),t.makeArray(c,this))}).prototype=t.fn;Ca=t(da);var Ja=/^(?:parents|prev(?:Until|All))/,cb={children:!0,contents:!0,next:!0,prev:!0};t.extend({dir:function(c,b,d){var f=[];for(c=c[b];c&&9!==c.nodeType&&(void 0===d||
1!==c.nodeType||!t(c).is(d));)1===c.nodeType&&f.push(c),c=c[b];return f},sibling:function(c,b){for(var d=[];c;c=c.nextSibling)1===c.nodeType&&c!==b&&d.push(c);return d}});t.fn.extend({has:function(c){var b,d=t(c,this),f=d.length;return this.filter(function(){for(b=0;f>b;b++)if(t.contains(this,d[b]))return!0})},closest:function(c,b){for(var d,f=0,e=this.length,h=[],k=za.test(c)||"string"!=typeof c?t(c,b||this.context):0;e>f;f++)for(d=this[f];d&&d!==b;d=d.parentNode)if(11>d.nodeType&&(k?-1<k.index(d):
1===d.nodeType&&t.find.matchesSelector(d,c))){h.push(d);break}return this.pushStack(1<h.length?t.unique(h):h)},index:function(c){return c?"string"==typeof c?t.inArray(this[0],t(c)):t.inArray(c.jquery?c[0]:c,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,b){return this.pushStack(t.unique(t.merge(this.get(),t(c,b))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});t.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?
c:null},parents:function(c){return t.dir(c,"parentNode")},parentsUntil:function(c,b,d){return t.dir(c,"parentNode",d)},next:function(c){return k(c,"nextSibling")},prev:function(c){return k(c,"previousSibling")},nextAll:function(c){return t.dir(c,"nextSibling")},prevAll:function(c){return t.dir(c,"previousSibling")},nextUntil:function(c,b,d){return t.dir(c,"nextSibling",d)},prevUntil:function(c,b,d){return t.dir(c,"previousSibling",d)},siblings:function(c){return t.sibling((c.parentNode||{}).firstChild,
c)},children:function(c){return t.sibling(c.firstChild)},contents:function(c){return t.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:t.merge([],c.childNodes)}},function(c,b){t.fn[c]=function(d,f){var e=t.map(this,b,d);return"Until"!==c.slice(-5)&&(f=d),f&&"string"==typeof f&&(e=t.filter(f,e)),1<this.length&&(cb[c]||(e=t.unique(e)),Ja.test(c)&&(e=e.reverse())),this.pushStack(e)}});var Oa=/\S+/g,va={};t.Callbacks=function(c){c="string"==typeof c?va[c]||h(c):t.extend({},c);var b,d,
f,e,k,g,l=[],n=!c.once&&[],p=function(h){d=c.memory&&h;f=!0;k=g||0;g=0;e=l.length;for(b=!0;l&&e>k;k++)if(!1===l[k].apply(h[0],h[1])&&c.stopOnFalse){d=!1;break}b=!1;l&&(n?n.length&&p(n.shift()):d?l=[]:q.disable())},q={add:function(){if(l){var f=l.length;!function Ob(b){t.each(b,function(b,d){var f=t.type(d);"function"===f?c.unique&&q.has(d)||l.push(d):d&&d.length&&"string"!==f&&Ob(d)})}(arguments);b?e=l.length:d&&(g=f,p(d))}return this},remove:function(){return l&&t.each(arguments,function(c,d){for(var f;-1<
(f=t.inArray(d,l,f));)l.splice(f,1),b&&(e>=f&&e--,k>=f&&k--)}),this},has:function(c){return c?-1<t.inArray(c,l):!(!l||!l.length)},empty:function(){return l=[],e=0,this},disable:function(){return l=n=d=void 0,this},disabled:function(){return!l},lock:function(){return n=void 0,d||q.disable(),this},locked:function(){return!n},fireWith:function(c,d){return!l||f&&!n||(d=d||[],d=[c,d.slice?d.slice():d],b?n.push(d):p(d)),this},fire:function(){return q.fireWith(this,arguments),this},fired:function(){return!!f}};
return q};t.extend({Deferred:function(c){var b=[["resolve","done",t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory")]],d="pending",f={state:function(){return d},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var c=arguments;return t.Deferred(function(d){t.each(b,function(b,h){var k=t.isFunction(c[b])&&c[b];e[h[1]](function(){var c=k&&k.apply(this,arguments);c&&t.isFunction(c.promise)?
c.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[h[0]+"With"](this===f?d.promise():this,k?[c]:arguments)})});c=null}).promise()},promise:function(c){return null!=c?t.extend(c,f):f}},e={};return f.pipe=f.then,t.each(b,function(c,h){var k=h[2],g=h[3];f[h[1]]=k.add;g&&k.add(function(){d=g},b[1^c][2].disable,b[2][2].lock);e[h[0]]=function(){return e[h[0]+"With"](this===e?f:this,arguments),this};e[h[0]+"With"]=k.fireWith}),f.promise(e),c&&c.call(e,e),e},when:function(c){var b=0,d=ga.call(arguments),
f=d.length,e=1!==f||c&&t.isFunction(c.promise)?f:0,h=1===e?c:t.Deferred(),k=function(c,b,d){return function(f){b[c]=this;d[c]=1<arguments.length?ga.call(arguments):f;d===g?h.notifyWith(b,d):--e||h.resolveWith(b,d)}},g,l,n;if(1<f)for(g=Array(f),l=Array(f),n=Array(f);f>b;b++)d[b]&&t.isFunction(d[b].promise)?d[b].promise().done(k(b,n,d)).fail(h.reject).progress(k(b,l,g)):--e;return e||h.resolveWith(n,d),h.promise()}});var Ua;t.fn.ready=function(c){return t.ready.promise().done(c),this};t.extend({isReady:!1,
readyWait:1,holdReady:function(c){c?t.readyWait++:t.ready(!0)},ready:function(c){if(!0===c?!--t.readyWait:!t.isReady){if(!da.body)return setTimeout(t.ready);t.isReady=!0;!0!==c&&0<--t.readyWait||(Ua.resolveWith(da,[t]),t.fn.triggerHandler&&(t(da).triggerHandler("ready"),t(da).off("ready")))}}});t.ready.promise=function(b){if(!Ua)if(Ua=t.Deferred(),"complete"===da.readyState)setTimeout(t.ready);else if(da.addEventListener)da.addEventListener("DOMContentLoaded",f,!1),c.addEventListener("load",f,!1);
else{da.attachEvent("onreadystatechange",f);c.attachEvent("onload",f);var e=!1;try{e=null==c.frameElement&&da.documentElement}catch(h){}e&&e.doScroll&&!function La(){if(!t.isReady){try{e.doScroll("left")}catch(c){return setTimeout(La,50)}d();t.ready()}}()}return Ua.promise(b)};for(var db in t(aa))break;aa.ownLast="0"!==db;aa.inlineBlockNeedsLayout=!1;t(function(){var c,b,d,f;(d=da.getElementsByTagName("body")[0])&&d.style&&(b=da.createElement("div"),f=da.createElement("div"),f.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
d.appendChild(f).appendChild(b),"undefined"!==typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",aa.inlineBlockNeedsLayout=c=3===b.offsetWidth,c&&(d.style.zoom=1)),d.removeChild(f))});(function(){var c=da.createElement("div");if(null==aa.deleteExpando){aa.deleteExpando=!0;try{delete c.test}catch(b){aa.deleteExpando=!1}}})();t.acceptData=function(c){var b=t.noData[(c.nodeName+" ").toLowerCase()],d=+c.nodeType||1;return 1!==d&&9!==d?!1:!b||!0!==b&&
c.getAttribute("classid")===b};var Wa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,pb=/([A-Z])/g;t.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(c){return c=c.nodeType?t.cache[c[t.expando]]:c[t.expando],!!c&&!n(c)},data:function(c,b,d){return p(c,b,d)},removeData:function(c,b){return q(c,b)},_data:function(c,b,d){return p(c,b,d,!0)},_removeData:function(c,b){return q(c,b,!0)}});t.fn.extend({data:function(c,b){var d,f,e,h=this[0],k=h&&
h.attributes;if(void 0===c){if(this.length&&(e=t.data(h),1===h.nodeType&&!t._data(h,"parsedAttrs"))){for(d=k.length;d--;)k[d]&&(f=k[d].name,0===f.indexOf("data-")&&(f=t.camelCase(f.slice(5)),l(h,f,e[f])));t._data(h,"parsedAttrs",!0)}return e}return"object"==typeof c?this.each(function(){t.data(this,c)}):1<arguments.length?this.each(function(){t.data(this,c,b)}):h?l(h,c,t.data(h,c)):void 0},removeData:function(c){return this.each(function(){t.removeData(this,c)})}});t.extend({queue:function(c,b,d){var f;
return c?(b=(b||"fx")+"queue",f=t._data(c,b),d&&(!f||t.isArray(d)?f=t._data(c,b,t.makeArray(d)):f.push(d)),f||[]):void 0},dequeue:function(c,b){b=b||"fx";var d=t.queue(c,b),f=d.length,e=d.shift(),h=t._queueHooks(c,b),k=function(){t.dequeue(c,b)};"inprogress"===e&&(e=d.shift(),f--);e&&("fx"===b&&d.unshift("inprogress"),delete h.stop,e.call(c,k,h));!f&&h&&h.empty.fire()},_queueHooks:function(c,b){var d=b+"queueHooks";return t._data(c,d)||t._data(c,d,{empty:t.Callbacks("once memory").add(function(){t._removeData(c,
b+"queue");t._removeData(c,d)})})}});t.fn.extend({queue:function(c,b){var d=2;return"string"!=typeof c&&(b=c,c="fx",d--),arguments.length<d?t.queue(this[0],c):void 0===b?this:this.each(function(){var d=t.queue(this,c,b);t._queueHooks(this,c);"fx"===c&&"inprogress"!==d[0]&&t.dequeue(this,c)})},dequeue:function(c){return this.each(function(){t.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,b){var d,f=1,e=t.Deferred(),h=this,k=this.length,g=function(){--f||
e.resolveWith(h,[h])};"string"!=typeof c&&(b=c,c=void 0);for(c=c||"fx";k--;)(d=t._data(h[k],c+"queueHooks"))&&d.empty&&(f++,d.empty.add(g));return g(),e.promise(b)}});var ub=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xa=["Top","Right","Bottom","Left"],ra=function(c,b){return c=b||c,"none"===t.css(c,"display")||!t.contains(c.ownerDocument,c)},ua=t.access=function(c,b,d,f,e,h,k){var g=0,l=c.length,n=null==d;if("object"===t.type(d))for(g in e=!0,d)t.access(c,b,g,d[g],!0,h,k);else if(void 0!==f&&(e=
!0,t.isFunction(f)||(k=!0),n&&(k?(b.call(c,f),b=null):(n=b,b=function(c,b,d){return n.call(t(c),d)})),b))for(;l>g;g++)b(c[g],d,k?f:f.call(c[g],g,b(c[g],d)));return e?c:n?b.call(c):l?b(c[0],d):h},xa=/^(?:checkbox|radio)$/i;!function(){var c=da.createElement("input"),b=da.createElement("div"),d=da.createDocumentFragment();if(b.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",aa.leadingWhitespace=3===b.firstChild.nodeType,aa.tbody=
!b.getElementsByTagName("tbody").length,aa.htmlSerialize=!!b.getElementsByTagName("link").length,aa.html5Clone="\x3c:nav\x3e\x3c/:nav\x3e"!==da.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,d.appendChild(c),aa.appendChecked=c.checked,b.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e",aa.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,d.appendChild(b),b.innerHTML="\x3cinput type\x3d'radio' checked\x3d'checked' name\x3d't'/\x3e",aa.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,
aa.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){aa.noCloneEvent=!1}),b.cloneNode(!0).click()),null==aa.deleteExpando){aa.deleteExpando=!0;try{delete b.test}catch(f){aa.deleteExpando=!1}}}();(function(){var b,d,f=da.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})d="on"+b,(aa[b+"Bubbles"]=d in c)||(f.setAttribute(d,"t"),aa[b+"Bubbles"]=!1===f.attributes[d].expando)})();var Bb=/^(?:input|select|textarea)$/i,mb=/^key/,eb=/^(?:mouse|pointer|contextmenu)|click/,$a=/^(?:focusinfocus|focusoutblur)$/,
Pa=/^([^.]*)(?:\.(.+)|)$/;t.event={global:{},add:function(c,b,d,f,e){var h,k,g,l,n,p,q,u,r,s;if(g=t._data(c)){d.handler&&(l=d,d=l.handler,e=l.selector);d.guid||(d.guid=t.guid++);(k=g.events)||(k=g.events={});(p=g.handle)||(p=g.handle=function(c){return"undefined"===typeof t||c&&t.event.triggered===c.type?void 0:t.event.dispatch.apply(p.elem,arguments)},p.elem=c);b=(b||"").match(Oa)||[""];for(g=b.length;g--;)h=Pa.exec(b[g])||[],r=s=h[1],h=(h[2]||"").split(".").sort(),r&&(n=t.event.special[r]||{},r=
(e?n.delegateType:n.bindType)||r,n=t.event.special[r]||{},q=t.extend({type:r,origType:s,data:f,handler:d,guid:d.guid,selector:e,needsContext:e&&t.expr.match.needsContext.test(e),namespace:h.join(".")},l),(u=k[r])||(u=k[r]=[],u.delegateCount=0,n.setup&&!1!==n.setup.call(c,f,h,p)||(c.addEventListener?c.addEventListener(r,p,!1):c.attachEvent&&c.attachEvent("on"+r,p))),n.add&&(n.add.call(c,q),q.handler.guid||(q.handler.guid=d.guid)),e?u.splice(u.delegateCount++,0,q):u.push(q),t.event.global[r]=!0);c=
null}},remove:function(c,b,d,f,e){var h,k,g,l,n,p,q,u,r,s,D,E=t.hasData(c)&&t._data(c);if(E&&(p=E.events)){b=(b||"").match(Oa)||[""];for(n=b.length;n--;)if(g=Pa.exec(b[n])||[],r=D=g[1],s=(g[2]||"").split(".").sort(),r){q=t.event.special[r]||{};r=(f?q.delegateType:q.bindType)||r;u=p[r]||[];g=g[2]&&new RegExp("(^|\\.)"+s.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=h=u.length;h--;)k=u[h],!e&&D!==k.origType||d&&d.guid!==k.guid||g&&!g.test(k.namespace)||f&&f!==k.selector&&("**"!==f||!k.selector)||(u.splice(h,
1),k.selector&&u.delegateCount--,q.remove&&q.remove.call(c,k));l&&!u.length&&(q.teardown&&!1!==q.teardown.call(c,s,E.handle)||t.removeEvent(c,r,E.handle),delete p[r])}else for(r in p)t.event.remove(c,r+b[n],d,f,!0);t.isEmptyObject(p)&&(delete E.handle,t._removeData(c,"events"))}},trigger:function(b,d,f,e){var h,k,g,l,n,p,q=[f||da],u=sa.call(b,"type")?b.type:b;p=sa.call(b,"namespace")?b.namespace.split("."):[];if(g=h=f=f||da,3!==f.nodeType&&8!==f.nodeType&&!$a.test(u+t.event.triggered)&&(0<=u.indexOf(".")&&
(p=u.split("."),u=p.shift(),p.sort()),k=0>u.indexOf(":")&&"on"+u,b=b[t.expando]?b:new t.Event(u,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=p.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=f),d=null==d?[b]:t.makeArray(d,[b]),n=t.event.special[u]||{},e||!n.trigger||!1!==n.trigger.apply(f,d))){if(!e&&!n.noBubble&&!t.isWindow(f)){l=n.delegateType||u;for($a.test(l+u)||(g=g.parentNode);g;g=g.parentNode)q.push(g),
h=g;h===(f.ownerDocument||da)&&q.push(h.defaultView||h.parentWindow||c)}for(p=0;(g=q[p++])&&!b.isPropagationStopped();)b.type=1<p?l:n.bindType||u,(h=(t._data(g,"events")||{})[b.type]&&t._data(g,"handle"))&&h.apply(g,d),(h=k&&g[k])&&h.apply&&t.acceptData(g)&&(b.result=h.apply(g,d),!1===b.result&&b.preventDefault());if(b.type=u,!(e||b.isDefaultPrevented()||n._default&&!1!==n._default.apply(q.pop(),d))&&t.acceptData(f)&&k&&f[u]&&!t.isWindow(f)){(h=f[k])&&(f[k]=null);t.event.triggered=u;try{f[u]()}catch(r){}t.event.triggered=
void 0;h&&(f[k]=h)}return b.result}},dispatch:function(c){c=t.event.fix(c);var b,d,f,e,h,k=[],g=ga.call(arguments);b=(t._data(this,"events")||{})[c.type]||[];var l=t.event.special[c.type]||{};if(g[0]=c,c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){k=t.event.handlers.call(this,c,b);for(b=0;(e=k[b++])&&!c.isPropagationStopped();)for(c.currentTarget=e.elem,h=0;(f=e.handlers[h++])&&!c.isImmediatePropagationStopped();)c.namespace_re&&!c.namespace_re.test(f.namespace)||(c.handleObj=
f,c.data=f.data,d=((t.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,g),void 0===d||!1!==(c.result=d)||(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(c,b){var d,f,e,h,k=[],g=b.delegateCount,l=c.target;if(g&&l.nodeType&&(!c.button||"click"!==c.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==c.type)){e=[];for(h=0;g>h;h++)f=b[h],d=f.selector+" ",void 0===e[d]&&(e[d]=f.needsContext?
0<=t(d,this).index(l):t.find(d,this,null,[l]).length),e[d]&&e.push(f);e.length&&k.push({elem:l,handlers:e})}return g<b.length&&k.push({elem:this,handlers:b.slice(g)}),k},fix:function(c){if(c[t.expando])return c;var b,d,f;b=c.type;var e=c,h=this.fixHooks[b];h||(this.fixHooks[b]=h=eb.test(b)?this.mouseHooks:mb.test(b)?this.keyHooks:{});f=h.props?this.props.concat(h.props):this.props;c=new t.Event(e);for(b=f.length;b--;)d=f[b],c[d]=e[d];return c.target||(c.target=e.srcElement||da),3===c.target.nodeType&&
(c.target=c.target.parentNode),c.metaKey=!!c.metaKey,h.filter?h.filter(c,e):c},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(c,b){return null==c.which&&(c.which=null!=b.charCode?b.charCode:b.keyCode),c}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(c,b){var d,f,e,h=b.button,k=b.fromElement;return null==c.pageX&&null!=b.clientX&&(f=c.target.ownerDocument||da,e=f.documentElement,d=f.body,c.pageX=b.clientX+(e&&e.scrollLeft||d&&d.scrollLeft||0)-(e&&e.clientLeft||d&&d.clientLeft||0),c.pageY=b.clientY+(e&&e.scrollTop||d&&d.scrollTop||0)-(e&&e.clientTop||d&&d.clientTop||0)),!c.relatedTarget&&k&&(c.relatedTarget=k===c.target?b.toElement:k),c.which||void 0===h||(c.which=1&h?1:2&h?3:4&h?2:0),c}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==
v()&&this.focus)try{return this.focus(),!1}catch(c){}},delegateType:"focusin"},blur:{trigger:function(){return this===v()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return t.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(c){return t.nodeName(c.target,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}},simulate:function(c,b,d,f){c=
t.extend(new t.Event,d,{type:c,isSimulated:!0,originalEvent:{}});f?t.event.trigger(c,null,b):t.event.dispatch.call(b,c);c.isDefaultPrevented()&&d.preventDefault()}};t.removeEvent=da.removeEventListener?function(c,b,d){c.removeEventListener&&c.removeEventListener(b,d,!1)}:function(c,b,d){b="on"+b;c.detachEvent&&("undefined"===typeof c[b]&&(c[b]=null),c.detachEvent(b,d))};t.Event=function(c,b){return this instanceof t.Event?(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||
void 0===c.defaultPrevented&&!1===c.returnValue?r:s):this.type=c,b&&t.extend(this,b),this.timeStamp=c&&c.timeStamp||t.now(),void(this[t.expando]=!0)):new t.Event(c,b)};t.Event.prototype={isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=r;c&&(c.preventDefault?c.preventDefault():c.returnValue=!1)},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=r;c&&(c.stopPropagation&&
c.stopPropagation(),c.cancelBubble=!0)},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=r;c&&c.stopImmediatePropagation&&c.stopImmediatePropagation();this.stopPropagation()}};t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,b){t.event.special[c]={delegateType:b,bindType:b,handle:function(c){var d,f=c.relatedTarget,e=c.handleObj;return(!f||f!==this&&!t.contains(this,f))&&(c.type=e.origType,
d=e.handler.apply(this,arguments),c.type=b),d}}});aa.submitBubbles||(t.event.special.submit={setup:function(){return t.nodeName(this,"form")?!1:void t.event.add(this,"click._submit keypress._submit",function(c){c=c.target;(c=t.nodeName(c,"input")||t.nodeName(c,"button")?c.form:void 0)&&!t._data(c,"submitBubbles")&&(t.event.add(c,"submit._submit",function(c){c._submit_bubble=!0}),t._data(c,"submitBubbles",!0))})},postDispatch:function(c){c._submit_bubble&&(delete c._submit_bubble,this.parentNode&&
!c.isTrigger&&t.event.simulate("submit",this.parentNode,c,!0))},teardown:function(){return t.nodeName(this,"form")?!1:void t.event.remove(this,"._submit")}});aa.changeBubbles||(t.event.special.change={setup:function(){return Bb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(t.event.add(this,"propertychange._change",function(c){"checked"===c.originalEvent.propertyName&&(this._just_changed=!0)}),t.event.add(this,"click._change",function(c){this._just_changed&&!c.isTrigger&&(this._just_changed=
!1);t.event.simulate("change",this,c,!0)})),!1):void t.event.add(this,"beforeactivate._change",function(c){c=c.target;Bb.test(c.nodeName)&&!t._data(c,"changeBubbles")&&(t.event.add(c,"change._change",function(c){!this.parentNode||c.isSimulated||c.isTrigger||t.event.simulate("change",this.parentNode,c,!0)}),t._data(c,"changeBubbles",!0))})},handle:function(c){var b=c.target;return this!==b||c.isSimulated||c.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?c.handleObj.handler.apply(this,arguments):
void 0},teardown:function(){return t.event.remove(this,"._change"),!Bb.test(this.nodeName)}});aa.focusinBubbles||t.each({focus:"focusin",blur:"focusout"},function(c,b){var d=function(c){t.event.simulate(b,c.target,t.event.fix(c),!0)};t.event.special[b]={setup:function(){var f=this.ownerDocument||this,e=t._data(f,b);e||f.addEventListener(c,d,!0);t._data(f,b,(e||0)+1)},teardown:function(){var f=this.ownerDocument||this,e=t._data(f,b)-1;e?t._data(f,b,e):(f.removeEventListener(c,d,!0),t._removeData(f,
b))}}});t.fn.extend({on:function(c,b,d,f,e){var h,k;if("object"==typeof c){"string"!=typeof b&&(d=d||b,b=void 0);for(h in c)this.on(h,b,d,c[h],e);return this}if(null==d&&null==f?(f=b,d=b=void 0):null==f&&("string"==typeof b?(f=d,d=void 0):(f=d,d=b,b=void 0)),!1===f)f=s;else if(!f)return this;return 1===e&&(k=f,f=function(c){return t().off(c),k.apply(this,arguments)},f.guid=k.guid||(k.guid=t.guid++)),this.each(function(){t.event.add(this,c,f,d,b)})},one:function(c,b,d,f){return this.on(c,b,d,f,1)},
off:function(c,b,d){var f,e;if(c&&c.preventDefault&&c.handleObj)return f=c.handleObj,t(c.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"==typeof c){for(e in c)this.off(e,b,c[e]);return this}return(!1===b||"function"==typeof b)&&(d=b,b=void 0),!1===d&&(d=s),this.each(function(){t.event.remove(this,c,d,b)})},trigger:function(c,b){return this.each(function(){t.event.trigger(c,b,this)})},triggerHandler:function(c,b){var d=this[0];return d?t.event.trigger(c,
b,d,!0):void 0}});var xb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Qb=/ jQuery\d+="(?:null|\d+)"/g,Kb=new RegExp("\x3c(?:"+xb+")[\\s/\x3e]","i"),vb=/^\s+/,nb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,hb=/<([\w:]+)/,rb=/<tbody/i,fb=/<|&#?\w+;/,Na=/<(?:script|style|link)/i,Kc=/checked\s*(?:[^=]|=\s*.checked.)/i,Zb=/^$|\/(?:java|ecma)script/i,Gb=/^true\/(.*)/,
Rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ra={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],param:[1,"\x3cobject\x3e","\x3c/object\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e",
"\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:aa.htmlSerialize?[0,"",""]:[1,"X\x3cdiv\x3e","\x3c/div\x3e"]},ob=z(da).appendChild(da.createElement("div"));Ra.optgroup=Ra.option;Ra.tbody=Ra.tfoot=Ra.colgroup=Ra.caption=Ra.thead;Ra.th=Ra.td;t.extend({clone:function(c,b,d){var f,e,h,k,g,l=t.contains(c.ownerDocument,c);if(aa.html5Clone||t.isXMLDoc(c)||!Kb.test("\x3c"+c.nodeName+"\x3e")?h=c.cloneNode(!0):(ob.innerHTML=c.outerHTML,ob.removeChild(h=ob.firstChild)),!(aa.noCloneEvent&&aa.noCloneChecked||
1!==c.nodeType&&11!==c.nodeType||t.isXMLDoc(c)))for(f=w(h),g=w(c),k=0;null!=(e=g[k]);++k)if(f[k]){var n=f[k],p=void 0,q=void 0,r=void 0;if(1===n.nodeType){if(p=n.nodeName.toLowerCase(),!aa.noCloneEvent&&n[t.expando]){r=t._data(n);for(q in r.events)t.removeEvent(n,q,r.handle);n.removeAttribute(t.expando)}"script"===p&&n.text!==e.text?(u(n).text=e.text,D(n)):"object"===p?(n.parentNode&&(n.outerHTML=e.outerHTML),aa.html5Clone&&e.innerHTML&&!t.trim(n.innerHTML)&&(n.innerHTML=e.innerHTML)):"input"===p&&
xa.test(e.type)?(n.defaultChecked=n.checked=e.checked,n.value!==e.value&&(n.value=e.value)):"option"===p?n.defaultSelected=n.selected=e.defaultSelected:("input"===p||"textarea"===p)&&(n.defaultValue=e.defaultValue)}}if(b)if(d)for(g=g||w(c),f=f||w(h),k=0;null!=(e=g[k]);k++)F(e,f[k]);else F(c,h);return f=w(h,"script"),0<f.length&&C(f,!l&&w(c,"script")),h},buildFragment:function(c,b,d,f){for(var e,h,k,g,l,n,p,q=c.length,u=z(b),r=[],s=0;q>s;s++)if(h=c[s],h||0===h)if("object"===t.type(h))t.merge(r,h.nodeType?
[h]:h);else if(fb.test(h)){g=g||u.appendChild(b.createElement("div"));l=(hb.exec(h)||["",""])[1].toLowerCase();p=Ra[l]||Ra._default;g.innerHTML=p[1]+h.replace(nb,"\x3c$1\x3e\x3c/$2\x3e")+p[2];for(e=p[0];e--;)g=g.lastChild;if(!aa.leadingWhitespace&&vb.test(h)&&r.push(b.createTextNode(vb.exec(h)[0])),!aa.tbody)for(e=(h="table"!==l||rb.test(h)?"\x3ctable\x3e"!==p[1]||rb.test(h)?0:g:g.firstChild)&&h.childNodes.length;e--;)t.nodeName(n=h.childNodes[e],"tbody")&&!n.childNodes.length&&h.removeChild(n);t.merge(r,
g.childNodes);for(g.textContent="";g.firstChild;)g.removeChild(g.firstChild);g=u.lastChild}else r.push(b.createTextNode(h));g&&u.removeChild(g);aa.appendChecked||t.grep(w(r,"input"),B);for(s=0;h=r[s++];)if((!f||-1===t.inArray(h,f))&&(k=t.contains(h.ownerDocument,h),g=w(u.appendChild(h),"script"),k&&C(g),d))for(e=0;h=g[e++];)Zb.test(h.type||"")&&d.push(h);return u},cleanData:function(c,b){for(var d,f,e,h,k=0,g=t.expando,l=t.cache,n=aa.deleteExpando,p=t.event.special;null!=(d=c[k]);k++)if((b||t.acceptData(d))&&
(e=d[g],h=e&&l[e])){if(h.events)for(f in h.events)p[f]?t.event.remove(d,f):t.removeEvent(d,f,h.handle);l[e]&&(delete l[e],n?delete d[g]:"undefined"!==typeof d.removeAttribute?d.removeAttribute(g):d[g]=null,fa.push(e))}}});t.fn.extend({text:function(c){return ua(this,function(c){return void 0===c?t.text(this):this.empty().append((this[0]&&this[0].ownerDocument||da).createTextNode(c))},null,c,arguments.length)},append:function(){return this.domManip(arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&
9!==this.nodeType||E(this,c).appendChild(c)})},prepend:function(){return this.domManip(arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=E(this,c);b.insertBefore(c,b.firstChild)}})},before:function(){return this.domManip(arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return this.domManip(arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},remove:function(c,b){for(var d,f=
c?t.filter(c,this):this,e=0;null!=(d=f[e]);e++)b||1!==d.nodeType||t.cleanData(w(d)),d.parentNode&&(b&&t.contains(d.ownerDocument,d)&&C(w(d,"script")),d.parentNode.removeChild(d));return this},empty:function(){for(var c,b=0;null!=(c=this[b]);b++){for(1===c.nodeType&&t.cleanData(w(c,!1));c.firstChild;)c.removeChild(c.firstChild);c.options&&t.nodeName(c,"select")&&(c.options.length=0)}return this},clone:function(c,b){return c=null==c?!1:c,b=null==b?c:b,this.map(function(){return t.clone(this,c,b)})},
html:function(c){return ua(this,function(c){var b=this[0]||{},d=0,f=this.length;if(void 0===c)return 1===b.nodeType?b.innerHTML.replace(Qb,""):void 0;if(!("string"!=typeof c||Na.test(c)||!aa.htmlSerialize&&Kb.test(c)||!aa.leadingWhitespace&&vb.test(c)||Ra[(hb.exec(c)||["",""])[1].toLowerCase()])){c=c.replace(nb,"\x3c$1\x3e\x3c/$2\x3e");try{for(;f>d;d++)b=this[d]||{},1===b.nodeType&&(t.cleanData(w(b,!1)),b.innerHTML=c);b=0}catch(e){}}b&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=
arguments[0];return this.domManip(arguments,function(b){c=this.parentNode;t.cleanData(w(this));c&&c.replaceChild(b,this)}),c&&(c.length||c.nodeType)?this:this.remove()},detach:function(c){return this.remove(c,!0)},domManip:function(c,b){c=ha.apply([],c);var d,f,e,h,k=0,g=this.length,l=this,n=g-1,p=c[0],q=t.isFunction(p);if(q||1<g&&"string"==typeof p&&!aa.checkClone&&Kc.test(p))return this.each(function(d){var f=l.eq(d);q&&(c[0]=p.call(this,d,f.html()));f.domManip(c,b)});if(g&&(h=t.buildFragment(c,
this[0].ownerDocument,!1,this),d=h.firstChild,1===h.childNodes.length&&(h=d),d)){e=t.map(w(h,"script"),u);for(f=e.length;g>k;k++)d=h,k!==n&&(d=t.clone(d,!0,!0),f&&t.merge(e,w(d,"script"))),b.call(this[k],d,k);if(f)for(h=e[e.length-1].ownerDocument,t.map(e,D),k=0;f>k;k++)d=e[k],Zb.test(d.type||"")&&!t._data(d,"globalEval")&&t.contains(h,d)&&(d.src?t._evalUrl&&t._evalUrl(d.src):t.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Rb,"")));h=d=null}return this}});t.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,b){t.fn[c]=function(c){for(var d=0,f=[],e=t(c),h=e.length-1;h>=d;d++)c=d===h?this:this.clone(!0),t(e[d])[b](c),ja.apply(f,c.get());return this.pushStack(f)}});var Xb,bb={};!function(){var c;aa.shrinkWrapBlocks=function(){if(null!=c)return c;c=!1;var b,d,f;return d=da.getElementsByTagName("body")[0],d&&d.style?(b=da.createElement("div"),f=da.createElement("div"),f.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
d.appendChild(f).appendChild(b),"undefined"!==typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(da.createElement("div")).style.width="5px",c=3!==b.offsetWidth),d.removeChild(f),c):void 0}}();var ta=/^margin/,kb=new RegExp("^("+ub+")(?!px)[a-z%]+$","i"),Hb,jb,Vb=/^(top|right|bottom|left)$/;c.getComputedStyle?(Hb=function(b){return b.ownerDocument.defaultView.opener?
b.ownerDocument.defaultView.getComputedStyle(b,null):c.getComputedStyle(b,null)},jb=function(c,b,d){var f,e,h,k,g=c.style;return d=d||Hb(c),k=d?d.getPropertyValue(b)||d[b]:void 0,d&&(""!==k||t.contains(c.ownerDocument,c)||(k=t.style(c,b)),kb.test(k)&&ta.test(b)&&(f=g.width,e=g.minWidth,h=g.maxWidth,g.minWidth=g.maxWidth=g.width=k,k=d.width,g.width=f,g.minWidth=e,g.maxWidth=h)),void 0===k?k:k+""}):da.documentElement.currentStyle&&(Hb=function(c){return c.currentStyle},jb=function(c,b,d){var f,e,h,
k,g=c.style;return d=d||Hb(c),k=d?d[b]:void 0,null==k&&g&&g[b]&&(k=g[b]),kb.test(k)&&!Vb.test(b)&&(f=g.left,e=c.runtimeStyle,h=e&&e.left,h&&(e.left=c.currentStyle.left),g.left="fontSize"===b?"1em":k,k=g.pixelLeft+"px",g.left=f,h&&(e.left=h)),void 0===k?k:k+""||"auto"});!function(){var b,d,f,e,h,k,g;if(b=da.createElement("div"),b.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",f=b.getElementsByTagName("a")[0],d=f&&f.style){var l=
function(){var b,d,f,l;(d=da.getElementsByTagName("body")[0])&&d.style&&(b=da.createElement("div"),f=da.createElement("div"),f.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",d.appendChild(f).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=h=!1,g=!0,c.getComputedStyle&&(e="1%"!==(c.getComputedStyle(b,null)||{}).top,h=
"4px"===(c.getComputedStyle(b,null)||{width:"4px"}).width,l=b.appendChild(da.createElement("div")),l.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",l.style.marginRight=l.style.width="0",b.style.width="1px",g=!parseFloat((c.getComputedStyle(l,null)||{}).marginRight),b.removeChild(l)),b.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",l=
b.getElementsByTagName("td"),l[0].style.cssText="margin:0;border:0;padding:0;display:none",k=0===l[0].offsetHeight,k&&(l[0].style.display="",l[1].style.display="none",k=0===l[0].offsetHeight),d.removeChild(f))};d.cssText="float:left;opacity:.5";aa.opacity="0.5"===d.opacity;aa.cssFloat=!!d.cssFloat;b.style.backgroundClip="content-box";b.cloneNode(!0).style.backgroundClip="";aa.clearCloneStyle="content-box"===b.style.backgroundClip;aa.boxSizing=""===d.boxSizing||""===d.MozBoxSizing||""===d.WebkitBoxSizing;
t.extend(aa,{reliableHiddenOffsets:function(){return null==k&&l(),k},boxSizingReliable:function(){return null==h&&l(),h},pixelPosition:function(){return null==e&&l(),e},reliableMarginRight:function(){return null==g&&l(),g}})}}();t.swap=function(c,b,d,f){var e,h={};for(e in b)h[e]=c.style[e],c.style[e]=b[e];d=d.apply(c,f||[]);for(e in b)c.style[e]=h[e];return d};var Cc=/alpha\([^)]*\)/i,ed=/opacity\s*=\s*([^)]*)/,tc=/^(none|table(?!-c[ea]).+)/,Fc=new RegExp("^("+ub+")(.*)$","i"),fd=new RegExp("^([+-])\x3d("+
ub+")","i"),Lc={position:"absolute",visibility:"hidden",display:"block"},Mc={letterSpacing:"0",fontWeight:"400"},fc=["Webkit","O","Moz","ms"];t.extend({cssHooks:{opacity:{get:function(c,b){if(b){var d=jb(c,"opacity");return""===d?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":aa.cssFloat?"cssFloat":"styleFloat"},style:function(c,b,d,f){if(c&&3!==c.nodeType&&8!==c.nodeType&&
c.style){var e,h,k,g=t.camelCase(b),l=c.style;if(b=t.cssProps[g]||(t.cssProps[g]=J(l,g)),k=t.cssHooks[b]||t.cssHooks[g],void 0===d)return k&&"get"in k&&void 0!==(e=k.get(c,!1,f))?e:l[b];if(h=typeof d,"string"===h&&(e=fd.exec(d))&&(d=(e[1]+1)*e[2]+parseFloat(t.css(c,b)),h="number"),null!=d&&d===d&&("number"!==h||t.cssNumber[g]||(d+="px"),aa.clearCloneStyle||""!==d||0!==b.indexOf("background")||(l[b]="inherit"),!(k&&"set"in k&&void 0===(d=k.set(c,d,f)))))try{l[b]=d}catch(n){}}},css:function(c,b,d,f){var e,
h,k,g=t.camelCase(b);return b=t.cssProps[g]||(t.cssProps[g]=J(c.style,g)),k=t.cssHooks[b]||t.cssHooks[g],k&&"get"in k&&(h=k.get(c,!0,d)),void 0===h&&(h=jb(c,b,f)),"normal"===h&&b in Mc&&(h=Mc[b]),""===d||d?(e=parseFloat(h),!0===d||t.isNumeric(e)?e||0:h):h}});t.each(["height","width"],function(c,b){t.cssHooks[b]={get:function(c,d,f){return d?tc.test(t.css(c,"display"))&&0===c.offsetWidth?t.swap(c,Lc,function(){return R(c,b,f)}):R(c,b,f):void 0},set:function(c,d,f){var e=f&&Hb(c);return O(c,d,f?N(c,
b,f,aa.boxSizing&&"border-box"===t.css(c,"boxSizing",!1,e),e):0)}}});aa.opacity||(t.cssHooks.opacity={get:function(c,b){return ed.test((b&&c.currentStyle?c.currentStyle.filter:c.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(c,b){var d=c.style,f=c.currentStyle,e=t.isNumeric(b)?"alpha(opacity\x3d"+100*b+")":"",h=f&&f.filter||d.filter||"";d.zoom=1;(1<=b||""===b)&&""===t.trim(h.replace(Cc,""))&&d.removeAttribute&&(d.removeAttribute("filter"),""===b||f&&!f.filter)||(d.filter=Cc.test(h)?
h.replace(Cc,e):h+" "+e)}});t.cssHooks.marginRight=L(aa.reliableMarginRight,function(c,b){return b?t.swap(c,{display:"inline-block"},jb,[c,"marginRight"]):void 0});t.each({margin:"",padding:"",border:"Width"},function(c,b){t.cssHooks[c+b]={expand:function(d){var f=0,e={};for(d="string"==typeof d?d.split(" "):[d];4>f;f++)e[c+Xa[f]+b]=d[f]||d[f-2]||d[0];return e}};ta.test(c)||(t.cssHooks[c+b].set=O)});t.fn.extend({css:function(c,b){return ua(this,function(c,b,d){var f,e={},h=0;if(t.isArray(b)){d=Hb(c);
for(f=b.length;f>h;h++)e[b[h]]=t.css(c,b[h],!1,d);return e}return void 0!==d?t.style(c,b,d):t.css(c,b)},c,b,1<arguments.length)},show:function(){return Q(this,!0)},hide:function(){return Q(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():this.hide():this.each(function(){ra(this)?t(this).show():t(this).hide()})}});t.Tween=T;T.prototype={constructor:T,init:function(c,b,d,f,e,h){this.elem=c;this.prop=d;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=f;this.unit=
h||(t.cssNumber[d]?"":"px")},cur:function(){var c=T.propHooks[this.prop];return c&&c.get?c.get(this):T.propHooks._default.get(this)},run:function(c){var b,d=T.propHooks[this.prop];return this.pos=b=this.options.duration?t.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):c,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):T.propHooks._default.set(this),this}};T.prototype.init.prototype=T.prototype;
T.propHooks={_default:{get:function(c){var b;return null==c.elem[c.prop]||c.elem.style&&null!=c.elem.style[c.prop]?(b=t.css(c.elem,c.prop,""),b&&"auto"!==b?b:0):c.elem[c.prop]},set:function(c){t.fx.step[c.prop]?t.fx.step[c.prop](c):c.elem.style&&(null!=c.elem.style[t.cssProps[c.prop]]||t.cssHooks[c.prop])?t.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}};T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};t.easing={linear:function(c){return c},
swing:function(c){return.5-Math.cos(c*Math.PI)/2}};t.fx=T.prototype.init;t.fx.step={};var nc,ec,Nc=/^(?:toggle|show|hide)$/,Oc=new RegExp("^(?:([+-])\x3d|)("+ub+")([a-z%]*)$","i"),Xc=/queueHooks$/,bc=[function(c,b,d){var f,e,h,k,g,l,n,p=this,q={},u=c.style,r=c.nodeType&&ra(c),s=t._data(c,"fxshow");d.queue||(k=t._queueHooks(c,"fx"),null==k.unqueued&&(k.unqueued=0,g=k.empty.fire,k.empty.fire=function(){k.unqueued||g()}),k.unqueued++,p.always(function(){p.always(function(){k.unqueued--;t.queue(c,"fx").length||
k.empty.fire()})}));1===c.nodeType&&("height"in b||"width"in b)&&(d.overflow=[u.overflow,u.overflowX,u.overflowY],l=t.css(c,"display"),n="none"===l?t._data(c,"olddisplay")||H(c.nodeName):l,"inline"===n&&"none"===t.css(c,"float")&&(aa.inlineBlockNeedsLayout&&"inline"!==H(c.nodeName)?u.zoom=1:u.display="inline-block"));d.overflow&&(u.overflow="hidden",aa.shrinkWrapBlocks()||p.always(function(){u.overflow=d.overflow[0];u.overflowX=d.overflow[1];u.overflowY=d.overflow[2]}));for(f in b)if(e=b[f],Nc.exec(e)){if(delete b[f],
h=h||"toggle"===e,e===(r?"hide":"show")){if("show"!==e||!s||void 0===s[f])continue;r=!0}q[f]=s&&s[f]||t.style(c,f)}else l=void 0;if(t.isEmptyObject(q))"inline"===("none"===l?H(c.nodeName):l)&&(u.display=l);else for(f in s?"hidden"in s&&(r=s.hidden):s=t._data(c,"fxshow",{}),h&&(s.hidden=!r),r?t(c).show():p.done(function(){t(c).hide()}),p.done(function(){var b;t._removeData(c,"fxshow");for(b in q)t.style(c,b,q[b])}),q)b=qa(r?s[f]:0,f,p),f in s||(s[f]=b.start,r&&(b.end=b.start,b.start="width"===f||"height"===
f?1:0))}],gc={"*":[function(c,b){var d=this.createTween(c,b),f=d.cur(),e=Oc.exec(b),h=e&&e[3]||(t.cssNumber[c]?"":"px"),k=(t.cssNumber[c]||"px"!==h&&+f)&&Oc.exec(t.css(d.elem,c)),g=1,l=20;if(k&&k[3]!==h){h=h||k[3];e=e||[];k=+f||1;do g=g||".5",k/=g,t.style(d.elem,c,k+h);while(g!==(g=d.cur()/f)&&1!==g&&--l)}return e&&(k=d.start=+k||+f||0,d.unit=h,d.end=e[1]?k+(e[1]+1)*e[2]:+e[2]),d}]};t.Animation=t.extend(K,{tweener:function(c,b){t.isFunction(c)?(b=c,c=["*"]):c=c.split(" ");for(var d,f=0,e=c.length;e>
f;f++)d=c[f],gc[d]=gc[d]||[],gc[d].unshift(b)},prefilter:function(c,b){b?bc.unshift(c):bc.push(c)}});t.speed=function(c,b,d){var f=c&&"object"==typeof c?t.extend({},c):{complete:d||!d&&b||t.isFunction(c)&&c,duration:c,easing:d&&b||b&&!t.isFunction(b)&&b};return f.duration=t.fx.off?0:"number"==typeof f.duration?f.duration:f.duration in t.fx.speeds?t.fx.speeds[f.duration]:t.fx.speeds._default,(null==f.queue||!0===f.queue)&&(f.queue="fx"),f.old=f.complete,f.complete=function(){t.isFunction(f.old)&&f.old.call(this);
f.queue&&t.dequeue(this,f.queue)},f};t.fn.extend({fadeTo:function(c,b,d,f){return this.filter(ra).css("opacity",0).show().end().animate({opacity:b},c,d,f)},animate:function(c,b,d,f){var e=t.isEmptyObject(c),h=t.speed(b,d,f);b=function(){var b=K(this,t.extend({},c),h);(e||t._data(this,"finish"))&&b.stop(!0)};return b.finish=b,e||!1===h.queue?this.each(b):this.queue(h.queue,b)},stop:function(c,b,d){var f=function(c){var b=c.stop;delete c.stop;b(d)};return"string"!=typeof c&&(d=b,b=c,c=void 0),b&&!1!==
c&&this.queue(c||"fx",[]),this.each(function(){var b=!0,e=null!=c&&c+"queueHooks",h=t.timers,k=t._data(this);if(e)k[e]&&k[e].stop&&f(k[e]);else for(e in k)k[e]&&k[e].stop&&Xc.test(e)&&f(k[e]);for(e=h.length;e--;)h[e].elem!==this||null!=c&&h[e].queue!==c||(h[e].anim.stop(d),b=!1,h.splice(e,1));!b&&d||t.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var b,d=t._data(this),f=d[c+"queue"];b=d[c+"queueHooks"];var e=t.timers,h=f?f.length:0;d.finish=!0;t.queue(this,c,
[]);b&&b.stop&&b.stop.call(this,!0);for(b=e.length;b--;)e[b].elem===this&&e[b].queue===c&&(e[b].anim.stop(!0),e.splice(b,1));for(b=0;h>b;b++)f[b]&&f[b].finish&&f[b].finish.call(this);delete d.finish})}});t.each(["toggle","show","hide"],function(c,b){var d=t.fn[b];t.fn[b]=function(c,f,e){return null==c||"boolean"==typeof c?d.apply(this,arguments):this.animate(ba(b,!0),c,f,e)}});t.each({slideDown:ba("show"),slideUp:ba("hide"),slideToggle:ba("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(c,b){t.fn[c]=function(c,d,f){return this.animate(b,c,d,f)}});t.timers=[];t.fx.tick=function(){var c,b=t.timers,d=0;for(nc=t.now();d<b.length;d++)c=b[d],c()||b[d]!==c||b.splice(d--,1);b.length||t.fx.stop();nc=void 0};t.fx.timer=function(c){t.timers.push(c);c()?t.fx.start():t.timers.pop()};t.fx.interval=13;t.fx.start=function(){ec||(ec=setInterval(t.fx.tick,t.fx.interval))};t.fx.stop=function(){clearInterval(ec);ec=null};t.fx.speeds={slow:600,fast:200,_default:400};
t.fn.delay=function(c,b){return c=t.fx?t.fx.speeds[c]||c:c,b=b||"fx",this.queue(b,function(b,d){var f=setTimeout(b,c);d.stop=function(){clearTimeout(f)}})};(function(){var c,b,d,f,e;b=da.createElement("div");b.setAttribute("className","t");b.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";f=b.getElementsByTagName("a")[0];d=da.createElement("select");e=d.appendChild(da.createElement("option"));c=b.getElementsByTagName("input")[0];
f.style.cssText="top:1px";aa.getSetAttribute="t"!==b.className;aa.style=/top/.test(f.getAttribute("style"));aa.hrefNormalized="/a"===f.getAttribute("href");aa.checkOn=!!c.value;aa.optSelected=e.selected;aa.enctype=!!da.createElement("form").enctype;d.disabled=!0;aa.optDisabled=!e.disabled;c=da.createElement("input");c.setAttribute("value","");aa.input=""===c.getAttribute("value");c.value="t";c.setAttribute("type","radio");aa.radioValue="t"===c.value})();var Dc=/\r/g;t.fn.extend({val:function(c){var b,
d,f,e=this[0];if(arguments.length)return f=t.isFunction(c),this.each(function(d){var e;1===this.nodeType&&(e=f?c.call(this,d,t(this).val()):c,null==e?e="":"number"==typeof e?e+="":t.isArray(e)&&(e=t.map(e,function(c){return null==c?"":c+""})),b=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=t.valHooks[e.type]||t.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(d=b.get(e,"value"))?d:(d=e.value,"string"==
typeof d?d.replace(Dc,""):null==d?"":d)}});t.extend({valHooks:{option:{get:function(c){var b=t.find.attr(c,"value");return null!=b?b:t.trim(t.text(c))}},select:{get:function(c){for(var b,d=c.options,f=c.selectedIndex,e="select-one"===c.type||0>f,h=e?null:[],k=e?f+1:d.length,g=0>f?k:e?f:0;k>g;g++)if(b=d[g],!(!b.selected&&g!==f||(aa.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&t.nodeName(b.parentNode,"optgroup"))){if(c=t(b).val(),e)return c;h.push(c)}return h},set:function(c,
b){for(var d,f,e=c.options,h=t.makeArray(b),k=e.length;k--;)if(f=e[k],0<=t.inArray(t.valHooks.option.get(f),h))try{f.selected=d=!0}catch(g){f.scrollHeight}else f.selected=!1;return d||(c.selectedIndex=-1),e}}}});t.each(["radio","checkbox"],function(){t.valHooks[this]={set:function(c,b){return t.isArray(b)?c.checked=0<=t.inArray(t(c).val(),b):void 0}};aa.checkOn||(t.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var Sb,ic,Lb=t.expr.attrHandle,Pc=/^(?:checked|selected)$/i,
ib=aa.getSetAttribute,jc=aa.input;t.fn.extend({attr:function(c,b){return ua(this,t.attr,c,b,1<arguments.length)},removeAttr:function(c){return this.each(function(){t.removeAttr(this,c)})}});t.extend({attr:function(c,b,d){var f,e,h=c.nodeType;if(c&&3!==h&&8!==h&&2!==h)return"undefined"===typeof c.getAttribute?t.prop(c,b,d):(1===h&&t.isXMLDoc(c)||(b=b.toLowerCase(),f=t.attrHooks[b]||(t.expr.match.bool.test(b)?ic:Sb)),void 0===d?f&&"get"in f&&null!==(e=f.get(c,b))?e:(e=t.find.attr(c,b),null==e?void 0:
e):null!==d?f&&"set"in f&&void 0!==(e=f.set(c,d,b))?e:(c.setAttribute(b,d+""),d):void t.removeAttr(c,b))},removeAttr:function(c,b){var d,f,e=0,h=b&&b.match(Oa);if(h&&1===c.nodeType)for(;d=h[e++];)f=t.propFix[d]||d,t.expr.match.bool.test(d)?jc&&ib||!Pc.test(d)?c[f]=!1:c[t.camelCase("default-"+d)]=c[f]=!1:t.attr(c,d,""),c.removeAttribute(ib?d:f)},attrHooks:{type:{set:function(c,b){if(!aa.radioValue&&"radio"===b&&t.nodeName(c,"input")){var d=c.value;return c.setAttribute("type",b),d&&(c.value=d),b}}}}});
ic={set:function(c,b,d){return!1===b?t.removeAttr(c,d):jc&&ib||!Pc.test(d)?c.setAttribute(!ib&&t.propFix[d]||d,d):c[t.camelCase("default-"+d)]=c[d]=!0,d}};t.each(t.expr.match.bool.source.match(/\w+/g),function(c,b){var d=Lb[b]||t.find.attr;Lb[b]=jc&&ib||!Pc.test(b)?function(c,b,f){var e,h;return f||(h=Lb[b],Lb[b]=e,e=null!=d(c,b,f)?b.toLowerCase():null,Lb[b]=h),e}:function(c,b,d){return d?void 0:c[t.camelCase("default-"+b)]?b.toLowerCase():null}});jc&&ib||(t.attrHooks.value={set:function(c,b,d){return t.nodeName(c,
"input")?void(c.defaultValue=b):Sb&&Sb.set(c,b,d)}});ib||(Sb={set:function(c,b,d){var f=c.getAttributeNode(d);return f||c.setAttributeNode(f=c.ownerDocument.createAttribute(d)),f.value=b+="","value"===d||b===c.getAttribute(d)?b:void 0}},Lb.id=Lb.name=Lb.coords=function(c,b,d){var f;return d?void 0:(f=c.getAttributeNode(b))&&""!==f.value?f.value:null},t.valHooks.button={get:function(c,b){var d=c.getAttributeNode(b);return d&&d.specified?d.value:void 0},set:Sb.set},t.attrHooks.contenteditable={set:function(c,
b,d){Sb.set(c,""===b?!1:b,d)}},t.each(["width","height"],function(c,b){t.attrHooks[b]={set:function(c,d){return""===d?(c.setAttribute(b,"auto"),d):void 0}}}));aa.style||(t.attrHooks.style={get:function(c){return c.style.cssText||void 0},set:function(c,b){return c.style.cssText=b+""}});var Ha=/^(?:input|select|textarea|button|object)$/i,wa=/^(?:a|area)$/i;t.fn.extend({prop:function(c,b){return ua(this,t.prop,c,b,1<arguments.length)},removeProp:function(c){return c=t.propFix[c]||c,this.each(function(){try{this[c]=
void 0,delete this[c]}catch(b){}})}});t.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(c,b,d){var f,e,h,k=c.nodeType;if(c&&3!==k&&8!==k&&2!==k)return h=1!==k||!t.isXMLDoc(c),h&&(b=t.propFix[b]||b,e=t.propHooks[b]),void 0!==d?e&&"set"in e&&void 0!==(f=e.set(c,d,b))?f:c[b]=d:e&&"get"in e&&null!==(f=e.get(c,b))?f:c[b]},propHooks:{tabIndex:{get:function(c){var b=t.find.attr(c,"tabindex");return b?parseInt(b,10):Ha.test(c.nodeName)||wa.test(c.nodeName)&&c.href?0:-1}}}});aa.hrefNormalized||
t.each(["href","src"],function(c,b){t.propHooks[b]={get:function(c){return c.getAttribute(b,4)}}});aa.optSelected||(t.propHooks.selected={get:function(c){c=c.parentNode;return c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex),null}});t.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){t.propFix[this.toLowerCase()]=this});aa.enctype||(t.propFix.enctype="encoding");var kc=/[\t\r\n\f]/g;t.fn.extend({addClass:function(c){var b,
d,f,e,h,k=0,g=this.length;b="string"==typeof c&&c;if(t.isFunction(c))return this.each(function(b){t(this).addClass(c.call(this,b,this.className))});if(b)for(b=(c||"").match(Oa)||[];g>k;k++)if(d=this[k],f=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(kc," "):" ")){for(h=0;e=b[h++];)0>f.indexOf(" "+e+" ")&&(f+=e+" ");f=t.trim(f);d.className!==f&&(d.className=f)}return this},removeClass:function(c){var b,d,f,e,h,k=0,g=this.length;b=0===arguments.length||"string"==typeof c&&c;if(t.isFunction(c))return this.each(function(b){t(this).removeClass(c.call(this,
b,this.className))});if(b)for(b=(c||"").match(Oa)||[];g>k;k++)if(d=this[k],f=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(kc," "):"")){for(h=0;e=b[h++];)for(;0<=f.indexOf(" "+e+" ");)f=f.replace(" "+e+" "," ");f=c?t.trim(f):"";d.className!==f&&(d.className=f)}return this},toggleClass:function(c,b){var d=typeof c;return"boolean"==typeof b&&"string"===d?b?this.addClass(c):this.removeClass(c):this.each(t.isFunction(c)?function(d){t(this).toggleClass(c.call(this,d,this.className,b),b)}:
function(){if("string"===d)for(var b,f=0,e=t(this),h=c.match(Oa)||[];b=h[f++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else("undefined"===d||"boolean"===d)&&(this.className&&t._data(this,"__className__",this.className),this.className=this.className||!1===c?"":t._data(this,"__className__")||"")})},hasClass:function(c){c=" "+c+" ";for(var b=0,d=this.length;d>b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(kc," ").indexOf(c))return!0;return!1}});t.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(c,b){t.fn[b]=function(c,d){return 0<arguments.length?this.on(b,null,c,d):this.trigger(b)}});t.fn.extend({hover:function(c,b){return this.mouseenter(c).mouseleave(b||c)},bind:function(c,b,d){return this.on(c,null,b,d)},unbind:function(c,b){return this.off(c,null,b)},delegate:function(c,b,d,f){return this.on(b,c,d,f)},undelegate:function(c,b,d){return 1===arguments.length?this.off(c,"**"):this.off(b,c||"**",d)}});var ka=t.now(),G=/\?/,na=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
t.parseJSON=function(b){if(c.JSON&&c.JSON.parse)return c.JSON.parse(b+"");var d,f=null,e=t.trim(b+"");return e&&!t.trim(e.replace(na,function(c,b,e,h){return d&&b&&(f=0),0===f?c:(d=e||b,f+=!h-!e,"")}))?Function("return "+e)():t.error("Invalid JSON: "+b)};t.parseXML=function(b){var d,f;if(!b||"string"!=typeof b)return null;try{c.DOMParser?(f=new DOMParser,d=f.parseFromString(b,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b))}catch(e){d=void 0}return d&&d.documentElement&&
!d.getElementsByTagName("parsererror").length||t.error("Invalid XML: "+b),d};var V,Mb,Yc=/#.*$/,wb=/([?&])_=[^&]*/,S=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,qd=/^(?:GET|HEAD)$/,uc=/^\/\//,pa=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Zc={},lb={},gd="*/".concat("*");try{Mb=location.href}catch(Nb){Mb=da.createElement("a"),Mb.href="",Mb=Mb.href}V=pa.exec(Mb.toLowerCase())||[];t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mb,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(V[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":gd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":t.parseJSON,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,b){return b?
ca(ca(c,t.ajaxSettings),b):ca(t.ajaxSettings,c)},ajaxPrefilter:ea(Zc),ajaxTransport:ea(lb),ajax:function(c,b){function d(c,b,f,e){var p,A,v,F,z=b;if(2!==C){C=2;g&&clearTimeout(g);n=void 0;k=e||"";H.readyState=0<c?4:0;e=200<=c&&300>c||304===c;if(f){v=q;for(var w=H,B,L,J,N,O=v.contents,Q=v.dataTypes;"*"===Q[0];)Q.shift(),void 0===L&&(L=v.mimeType||w.getResponseHeader("Content-Type"));if(L)for(N in O)if(O[N]&&O[N].test(L)){Q.unshift(N);break}if(Q[0]in f)J=Q[0];else{for(N in f){if(!Q[0]||v.converters[N+
" "+Q[0]]){J=N;break}B||(B=N)}J=J||B}v=J?(J!==Q[0]&&Q.unshift(J),f[J]):void 0}var ra;a:{f=q;B=v;L=H;J=e;var P,K,M;v={};w=f.dataTypes.slice();if(w[1])for(P in f.converters)v[P.toLowerCase()]=f.converters[P];for(N=w.shift();N;)if(f.responseFields[N]&&(L[f.responseFields[N]]=B),!M&&J&&f.dataFilter&&(B=f.dataFilter(B,f.dataType)),M=N,N=w.shift())if("*"===N)N=M;else if("*"!==M&&M!==N){if(P=v[M+" "+N]||v["* "+N],!P)for(ra in v)if(K=ra.split(" "),K[1]===N&&(P=v[M+" "+K[0]]||v["* "+K[0]])){!0===P?P=v[ra]:
!0!==v[ra]&&(N=K[0],w.unshift(K[1]));break}if(!0!==P)if(P&&f["throws"])B=P(B);else try{B=P(B)}catch(R){ra={state:"parsererror",error:P?R:"No conversion from "+M+" to "+N};break a}}ra={state:"success",data:B}}v=ra;e?(q.ifModified&&(F=H.getResponseHeader("Last-Modified"),F&&(t.lastModified[h]=F),F=H.getResponseHeader("etag"),F&&(t.etag[h]=F)),204===c||"HEAD"===q.type?z="nocontent":304===c?z="notmodified":(z=v.state,p=v.data,A=v.error,e=!A)):(A=z,(c||!z)&&(z="error",0>c&&(c=0)));H.status=c;H.statusText=
(b||z)+"";e?s.resolveWith(u,[p,z,H]):s.rejectWith(u,[H,z,A]);H.statusCode(E);E=void 0;l&&r.trigger(e?"ajaxSuccess":"ajaxError",[H,q,e?p:A]);D.fireWith(u,[H,z]);l&&(r.trigger("ajaxComplete",[H,q]),--t.active||t.event.trigger("ajaxStop"))}}"object"==typeof c&&(b=c,c=void 0);b=b||{};var f,e,h,k,g,l,n,p,q=t.ajaxSetup({},b),u=q.context||q,r=q.context&&(u.nodeType||u.jquery)?t(u):t.event,s=t.Deferred(),D=t.Callbacks("once memory"),E=q.statusCode||{},A={},v={},C=0,F="canceled",H={readyState:0,getResponseHeader:function(c){var b;
if(2===C){if(!p)for(p={};b=S.exec(k);)p[b[1].toLowerCase()]=b[2];b=p[c.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===C?k:null},setRequestHeader:function(c,b){var d=c.toLowerCase();return C||(c=v[d]=v[d]||c,A[c]=b),this},overrideMimeType:function(c){return C||(q.mimeType=c),this},statusCode:function(c){var b;if(c)if(2>C)for(b in c)E[b]=[E[b],c[b]];else H.always(c[H.status]);return this},abort:function(c){c=c||F;return n&&n.abort(c),d(0,c),this}};if(s.promise(H).complete=
D.add,H.success=H.done,H.error=H.fail,q.url=((c||q.url||Mb)+"").replace(Yc,"").replace(uc,V[1]+"//"),q.type=b.method||b.type||q.method||q.type,q.dataTypes=t.trim(q.dataType||"*").toLowerCase().match(Oa)||[""],null==q.crossDomain&&(f=pa.exec(q.url.toLowerCase()),q.crossDomain=!(!f||f[1]===V[1]&&f[2]===V[2]&&(f[3]||("http:"===f[1]?"80":"443"))===(V[3]||("http:"===V[1]?"80":"443")))),q.data&&q.processData&&"string"!=typeof q.data&&(q.data=t.param(q.data,q.traditional)),M(Zc,q,b,H),2===C)return H;(l=
t.event&&q.global)&&0===t.active++&&t.event.trigger("ajaxStart");q.type=q.type.toUpperCase();q.hasContent=!qd.test(q.type);h=q.url;q.hasContent||(q.data&&(h=q.url+=(G.test(h)?"\x26":"?")+q.data,delete q.data),!1===q.cache&&(q.url=wb.test(h)?h.replace(wb,"$1_\x3d"+ka++):h+(G.test(h)?"\x26":"?")+"_\x3d"+ka++));q.ifModified&&(t.lastModified[h]&&H.setRequestHeader("If-Modified-Since",t.lastModified[h]),t.etag[h]&&H.setRequestHeader("If-None-Match",t.etag[h]));(q.data&&q.hasContent&&!1!==q.contentType||
b.contentType)&&H.setRequestHeader("Content-Type",q.contentType);H.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+gd+"; q\x3d0.01":""):q.accepts["*"]);for(e in q.headers)H.setRequestHeader(e,q.headers[e]);if(q.beforeSend&&(!1===q.beforeSend.call(u,H,q)||2===C))return H.abort();F="abort";for(e in{success:1,error:1,complete:1})H[e](q[e]);if(n=M(lb,q,b,H)){H.readyState=1;l&&r.trigger("ajaxSend",[H,q]);q.async&&0<q.timeout&&(g=
setTimeout(function(){H.abort("timeout")},q.timeout));try{C=1,n.send(A,d)}catch(z){if(!(2>C))throw z;d(-1,z)}}else d(-1,"No Transport");return H},getJSON:function(c,b,d){return t.get(c,b,d,"json")},getScript:function(c,b){return t.get(c,void 0,b,"script")}});t.each(["get","post"],function(c,b){t[b]=function(c,d,f,e){return t.isFunction(d)&&(e=e||f,f=d,d=void 0),t.ajax({url:c,type:b,dataType:e,data:d,success:f})}});t._evalUrl=function(c){return t.ajax({url:c,type:"GET",dataType:"script",async:!1,global:!1,
"throws":!0})};t.fn.extend({wrapAll:function(c){if(t.isFunction(c))return this.each(function(b){t(this).wrapAll(c.call(this,b))});if(this[0]){var b=t(c,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var c=this;c.firstChild&&1===c.firstChild.nodeType;)c=c.firstChild;return c}).append(this)}return this},wrapInner:function(c){return this.each(t.isFunction(c)?function(b){t(this).wrapInner(c.call(this,b))}:function(){var b=t(this),d=b.contents();
d.length?d.wrapAll(c):b.append(c)})},wrap:function(c){var b=t.isFunction(c);return this.each(function(d){t(this).wrapAll(b?c.call(this,d):c)})},unwrap:function(){return this.parent().each(function(){t.nodeName(this,"body")||t(this).replaceWith(this.childNodes)}).end()}});t.expr.filters.hidden=function(c){return 0>=c.offsetWidth&&0>=c.offsetHeight||!aa.reliableHiddenOffsets()&&"none"===(c.style&&c.style.display||t.css(c,"display"))};t.expr.filters.visible=function(c){return!t.expr.filters.hidden(c)};
var hd=/%20/g,cc=/\[\]$/,Ga=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,Cb=/^(?:input|select|textarea|keygen)/i;t.param=function(c,b){var d,f=[],e=function(c,b){b=t.isFunction(b)?b():null==b?"":b;f[f.length]=encodeURIComponent(c)+"\x3d"+encodeURIComponent(b)};if(void 0===b&&(b=t.ajaxSettings&&t.ajaxSettings.traditional),t.isArray(c)||c.jquery&&!t.isPlainObject(c))t.each(c,function(){e(this.name,this.value)});else for(d in c)U(d,c[d],b,e);return f.join("\x26").replace(hd,"+")};t.fn.extend({serialize:function(){return t.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var c=t.prop(this,"elements");return c?t.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!t(this).is(":disabled")&&Cb.test(this.nodeName)&&!yb.test(c)&&(this.checked||!xa.test(c))}).map(function(c,b){var d=t(this).val();return null==d?null:t.isArray(d)?t.map(d,function(c){return{name:b.name,value:c.replace(Ga,"\r\n")}}):{name:b.name,value:d.replace(Ga,"\r\n")}}).get()}});t.ajaxSettings.xhr=void 0!==c.ActiveXObject?function(){var b;
if(!(b=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Y()))a:{try{b=new c.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b}:Y;var Wb=0,Ia={},zb=t.ajaxSettings.xhr();c.attachEvent&&c.attachEvent("onunload",function(){for(var c in Ia)Ia[c](void 0,!0)});aa.cors=!!zb&&"withCredentials"in zb;(zb=aa.ajax=!!zb)&&t.ajaxTransport(function(c){if(!c.crossDomain||aa.cors){var b;return{send:function(d,f){var e,h=c.xhr(),k=++Wb;if(h.open(c.type,c.url,c.async,c.username,
c.password),c.xhrFields)for(e in c.xhrFields)h[e]=c.xhrFields[e];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType);c.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(e in d)void 0!==d[e]&&h.setRequestHeader(e,d[e]+"");h.send(c.hasContent&&c.data||null);b=function(d,e){var g,l,n;if(b&&(e||4===h.readyState))if(delete Ia[k],b=void 0,h.onreadystatechange=t.noop,e)4!==h.readyState&&h.abort();else{n={};g=h.status;"string"==typeof h.responseText&&(n.text=h.responseText);
try{l=h.statusText}catch(p){l=""}g||!c.isLocal||c.crossDomain?1223===g&&(g=204):g=n.text?200:404}n&&f(g,l,n,h.getAllResponseHeaders())};c.async?4===h.readyState?setTimeout(b):h.onreadystatechange=Ia[k]=b:b()},abort:function(){b&&b(void 0,!0)}}}});t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(c){return t.globalEval(c),c}}});t.ajaxPrefilter("script",
function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET",c.global=!1)});t.ajaxTransport("script",function(c){if(c.crossDomain){var b,d=da.head||t("head")[0]||da.documentElement;return{send:function(f,e){b=da.createElement("script");b.async=!0;c.scriptCharset&&(b.charset=c.scriptCharset);b.src=c.url;b.onload=b.onreadystatechange=function(c,d){(d||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,
d||e(200,"success"))};d.insertBefore(b,d.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var Ab=[],Qa=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=Ab.pop()||t.expando+"_"+ka++;return this[c]=!0,c}});t.ajaxPrefilter("json jsonp",function(b,d,f){var e,h,k,g=!1!==b.jsonp&&(Qa.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qa.test(b.data)&&"data");return g||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=
t.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,g?b[g]=b[g].replace(Qa,"$1"+e):!1!==b.jsonp&&(b.url+=(G.test(b.url)?"\x26":"?")+b.jsonp+"\x3d"+e),b.converters["script json"]=function(){return k||t.error(e+" was not called"),k[0]},b.dataTypes[0]="json",h=c[e],c[e]=function(){k=arguments},f.always(function(){c[e]=h;b[e]&&(b.jsonpCallback=d.jsonpCallback,Ab.push(e));k&&t.isFunction(h)&&h(k[0]);k=h=void 0}),"script"):void 0});t.parseHTML=function(c,b,d){if(!c||"string"!=typeof c)return null;
"boolean"==typeof b&&(d=b,b=!1);b=b||da;var f=ia.exec(c);d=!d&&[];return f?[b.createElement(f[1])]:(f=t.buildFragment([c],b,d),d&&d.length&&t(d).remove(),t.merge([],f.childNodes))};var ab=t.fn.load;t.fn.load=function(c,b,d){if("string"!=typeof c&&ab)return ab.apply(this,arguments);var f,e,h,k=this,g=c.indexOf(" ");return 0<=g&&(f=t.trim(c.slice(g,c.length)),c=c.slice(0,g)),t.isFunction(b)?(d=b,b=void 0):b&&"object"==typeof b&&(h="POST"),0<k.length&&t.ajax({url:c,type:h,dataType:"html",data:b}).done(function(c){e=
arguments;k.html(f?t("\x3cdiv\x3e").append(t.parseHTML(c)).find(f):c)}).complete(d&&function(c,b){k.each(d,e||[c.responseText,b,c])}),this};t.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,b){t.fn[b]=function(c){return this.on(b,c)}});t.expr.filters.animated=function(c){return t.grep(t.timers,function(b){return c===b.elem}).length};var sb=c.document.documentElement;t.offset={setOffset:function(c,b,d){var f,e,h,k,g,l,n=t.css(c,"position"),p=t(c),q={};"static"===
n&&(c.style.position="relative");g=p.offset();h=t.css(c,"top");l=t.css(c,"left");("absolute"===n||"fixed"===n)&&-1<t.inArray("auto",[h,l])?(f=p.position(),k=f.top,e=f.left):(k=parseFloat(h)||0,e=parseFloat(l)||0);t.isFunction(b)&&(b=b.call(c,d,g));null!=b.top&&(q.top=b.top-g.top+k);null!=b.left&&(q.left=b.left-g.left+e);"using"in b?b.using.call(c,q):p.css(q)}};t.fn.extend({offset:function(c){if(arguments.length)return void 0===c?this:this.each(function(b){t.offset.setOffset(this,c,b)});var b,d,f=
{top:0,left:0},e=this[0],h=e&&e.ownerDocument;if(h)return b=h.documentElement,t.contains(b,e)?("undefined"!==typeof e.getBoundingClientRect&&(f=e.getBoundingClientRect()),d=X(h),{top:f.top+(d.pageYOffset||b.scrollTop)-(b.clientTop||0),left:f.left+(d.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):f},position:function(){if(this[0]){var c,b,d={top:0,left:0},f=this[0];return"fixed"===t.css(f,"position")?b=f.getBoundingClientRect():(c=this.offsetParent(),b=this.offset(),t.nodeName(c[0],"html")||(d=c.offset()),
d.top+=t.css(c[0],"borderTopWidth",!0),d.left+=t.css(c[0],"borderLeftWidth",!0)),{top:b.top-d.top-t.css(f,"marginTop",!0),left:b.left-d.left-t.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||sb;c&&!t.nodeName(c,"html")&&"static"===t.css(c,"position");)c=c.offsetParent;return c||sb})}});t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,b){var d=/Y/.test(b);t.fn[c]=function(f){return ua(this,function(c,f,e){var h=X(c);return void 0===
e?h?b in h?h[b]:h.document.documentElement[f]:c[f]:void(h?h.scrollTo(d?t(h).scrollLeft():e,d?e:t(h).scrollTop()):c[f]=e)},c,f,arguments.length,null)}});t.each(["top","left"],function(c,b){t.cssHooks[b]=L(aa.pixelPosition,function(c,d){return d?(d=jb(c,b),kb.test(d)?t(c).position()[b]+"px":d):void 0})});t.each({Height:"height",Width:"width"},function(c,b){t.each({padding:"inner"+c,content:b,"":"outer"+c},function(d,f){t.fn[f]=function(f,e){var h=arguments.length&&(d||"boolean"!=typeof f),k=d||(!0===
f||!0===e?"margin":"border");return ua(this,function(b,d,f){var e;return t.isWindow(b)?b.document.documentElement["client"+c]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+c],e["scroll"+c],b.body["offset"+c],e["offset"+c],e["client"+c])):void 0===f?t.css(b,d,k):t.style(b,d,f,k)},b,h?f:void 0,h,null)}})});t.fn.size=function(){return this.length};t.fn.andSelf=t.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return t});var I=c.jQuery,Va=c.$;return t.noConflict=
function(b){return c.$===t&&(c.$=Va),b&&c.jQuery===t&&(c.jQuery=I),t},"undefined"===typeof e&&(c.jQuery=c.$=t),t});
(function(c,e){function b(c){Abstract.put.call(this,c)}function g(c){this.parent=c;this.byStart=[{start:-1,end:-1}];this.byEnd=[{start:-1,end:-1}];this.animating=[];this.endIndex=this.startIndex=0;this.previousUpdateTime=-1;this.count=1}function k(c,b){return function(){if(Popcorn.plugin.debug)return c.apply(this,arguments);try{return c.apply(this,arguments)}catch(d){Popcorn.plugin.errors.push({plugin:b,thrown:d,source:c.toString()}),this.emit("pluginerror",Popcorn.plugin.errors)}}}if(e.addEventListener){var h=
Array.prototype,d=Object.prototype,f=h.forEach,l=h.slice,n=d.hasOwnProperty,p=d.toString,q=c.Popcorn,r=[],s=!1,v=void 0;internal={events:{hash:{},apis:{}}};requestAnimFrame=function(){return c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||c.msRequestAnimationFrame||function(b,d){c.setTimeout(b,16)}}();getKeys=function(c){if(Object.keys)c=Object.keys(c);else{var b,d=[];for(b in c)n.call(c,b)&&d.push(b);c=d}return c};Abstract={put:function(c){for(var b in c)c.hasOwnProperty(b)&&
(this[b]=c[b])}};Popcorn=function(c,b){return new Popcorn.p.init(c,b||null)};Popcorn.version="1.5.6";Popcorn.isSupported=!0;Popcorn.instances=[];Popcorn.p=Popcorn.prototype={init:function(c,b){var d,f=this;if("function"===typeof c)if("complete"===e.readyState)c(e,Popcorn);else{if(r.push(c),!s){s=!0;var h=function(){e.removeEventListener("DOMContentLoaded",h,!1);for(var c=0,b=r.length;c<b;c++)r[c].call(e,Popcorn);r=null};e.addEventListener("DOMContentLoaded",h,!1)}}else{if("string"===typeof c)try{d=
e.querySelector(c)}catch(k){throw Error("Popcorn.js Error: Invalid media element selector: "+c);}this.media=d||c;d=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video";this[d]=this.media;this.options=Popcorn.extend({},b)||{};this.id=this.options.id||Popcorn.guid(d);if(Popcorn.byId(this.id))throw Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1;this.data={running:{cue:[]},timeUpdate:Popcorn.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},
trackRefs:{},trackEvents:new g(this)};Popcorn.instances.push(this);var l=function(){0>f.media.currentTime&&(f.media.currentTime=0);f.media.removeEventListener("loadedmetadata",l,!1);var c,b,d,e,h;v=c=f.media.duration;c=c!=c?Number.MAX_VALUE:c+1;Popcorn.addTrackEvent(f,{start:c,end:c});f.isDestroyed||(f.data.durationChange=function(){var c=f.media.duration,b=c+1,d=f.data.trackEvents.byStart,e=f.data.trackEvents.byEnd;if(void 0!=v&&.5<c-v){v=c;d.pop();e.pop();for(var h=e.length-1;0<h;h--)e[h].end>c&&
f.removeTrackEvent(e[h]._id);for(e=0;e<d.length;e++)d[e].end>c&&f.removeTrackEvent(d[e]._id);f.data.trackEvents.byEnd.push({start:b,end:b});f.data.trackEvents.byStart.push({start:b,end:b})}},f.media.addEventListener("durationchange",f.data.durationChange,!1));f.options.frameAnimation?(f.data.timeUpdate=function(){Popcorn.timeUpdate(f,{});Popcorn.forEach(Popcorn.manifest,function(c,k){if(b=f.data.running[k]){e=b.length;for(var g=0;g<e;g++)d=b[g],(h=d._natives)&&h.frame&&h.frame.call(f,{},d,f.currentTime())}});
f.emit("timeupdate");!f.isDestroyed&&requestAnimFrame(f.data.timeUpdate)},!f.isDestroyed&&requestAnimFrame(f.data.timeUpdate)):(f.data.timeUpdate=function(c){Popcorn.timeUpdate(f,c)},f.isDestroyed||f.media.addEventListener("timeupdate",f.data.timeUpdate,!1))};f.media.addEventListener("error",function(){f.error=f.media.error},!1);1<=f.media.readyState&&4!=f.media.readyState?l():f.media.addEventListener("loadedmetadata",l,!1);return this}}};Popcorn.p.init.prototype=Popcorn.p;Popcorn.byId=function(c){for(var b=
Popcorn.instances,d=b.length,f=0;f<d;f++)if(b[f].id===c)return b[f];return null};Popcorn.forEach=function(c,b,d){if(!c||!b)return{};d=d||this;var e,h;if(f&&c.forEach===f)return c.forEach(b,d);if("[object NodeList]"===p.call(c)){e=0;for(h=c.length;e<h;e++)b.call(d,c[e],e,c);return c}for(e in c)n.call(c,e)&&b.call(d,c[e],e,c);return c};Popcorn.extend=function(c){var b=c,d=l.call(arguments,1);Popcorn.forEach(d,function(c){for(var d in c)b[d]=c[d]});return b};Popcorn.extend(Popcorn,{noConflict:function(b){b&&
(c.Popcorn=q);return Popcorn},error:function(c){throw Error(c);},guid:function(c){Popcorn.guid.counter++;return(c?c:"")+(+new Date+Popcorn.guid.counter)},sizeOf:function(c){var b=0,d;for(d in c)b++;return b},isArray:Array.isArray||function(c){return"[object Array]"===p.call(c)},nop:function(){},position:function(b){if(!b.parentNode)return null;b=b.getBoundingClientRect();var d={},f=e.documentElement,h=e.body,k,g,l;k=f.clientTop||h.clientTop||0;g=f.clientLeft||h.clientLeft||0;l=c.pageYOffset&&f.scrollTop||
h.scrollTop;f=c.pageXOffset&&f.scrollLeft||h.scrollLeft;k=Math.ceil(b.top+l-k);g=Math.ceil(b.left+f-g);for(var n in b)d[n]=Math.round(b[n]);return Popcorn.extend({},d,{top:k,left:g})},disable:function(c,b){if(!c.data.disabled[b]){c.data.disabled[b]=!0;if(b in Popcorn.registryByName&&c.data.running[b])for(var d=c.data.running[b].length-1,f;0<=d;d--)f=c.data.running[b][d],f._natives.end.call(c,null,f),c.emit("trackend",Popcorn.extend({},f,{plugin:f.type,type:"trackend"}));return c}},enable:function(c,
b){if(c.data.disabled[b]){c.data.disabled[b]=!1;if(b in Popcorn.registryByName&&c.data.running[b])for(var d=c.data.running[b].length-1,f;0<=d;d--)f=c.data.running[b][d],f._natives.start.call(c,null,f),c.emit("trackstart",Popcorn.extend({},f,{plugin:f.type,type:"trackstart",track:f}));return c}},destroy:function(c){var b=c.data.events,d=c.data.trackEvents,f,e,h,k;for(e in b){f=b[e];for(h in f)delete f[h];b[e]=null}for(k in Popcorn.registryByName)Popcorn.removePlugin(c,k);d.byStart.length=0;d.byEnd.length=
0;c.isDestroyed||(c.data.timeUpdate&&c.media.removeEventListener("timeupdate",c.data.timeUpdate,!1),c.isDestroyed=!0);Popcorn.instances.splice(Popcorn.instances.indexOf(c),1)}});Popcorn.guid.counter=1;Popcorn.extend(Popcorn.p,function(){var c={};Popcorn.forEach("load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended".split(/\s+/g),function(b){c[b]=function(c){var d;return"function"===typeof this.media[b]?
(null!=c&&/play|pause/.test(b)&&(this.media.currentTime=Popcorn.util.toSeconds(c)),this.media[b](),this):null!=c?(d=this.media[b],this.media[b]=c,d!==c&&this.emit("attrchange",{attribute:b,previousValue:d,currentValue:c}),this):this.media[b]}});return c}());Popcorn.forEach(["enable","disable"],function(c){Popcorn.p[c]=function(b){return Popcorn[c](this,b)}});Popcorn.extend(Popcorn.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(c,d,f){var e=arguments.length,h="trackadded",
k,g;try{g=Popcorn.util.toSeconds(c)}catch(l){}"number"===typeof g&&(c=g);if("number"===typeof c&&2===e)f=d,d=c,c=Popcorn.guid("cue");else if(1===e)d=-1;else if(k=this.getTrackEvent(c))this.data.trackEvents.remove(c),b.end(this,k),Popcorn.removeTrackEvent.ref(this,c),h="cuechange","string"===typeof c&&2===e&&("number"===typeof d&&(f=k._natives.start),"function"===typeof d&&(f=d,d=k.start));else if(2<=e){if("string"===typeof d){try{g=Popcorn.util.toSeconds(d)}catch(n){}d=g}"number"===typeof d&&(f=f||
Popcorn.nop());"function"===typeof d&&(f=d,d=-1)}e={id:c,start:d,end:d+1,_running:!1,_natives:{start:f||Popcorn.nop,end:Popcorn.nop,type:"cue"}};k&&(e=Popcorn.extend(k,e));"cuechange"===h?(e._id=e.id||e._id||Popcorn.guid(e._natives.type),this.data.trackEvents.add(e),b.start(this,e),this.timeUpdate(this,null,!0),Popcorn.addTrackEvent.ref(this,e),this.emit(h,Popcorn.extend({},e,{id:c,type:h,previousValue:{time:k.start,fn:k._natives.start},currentValue:{time:d,fn:f||Popcorn.nop},track:k}))):Popcorn.addTrackEvent(this,
e);return this},mute:function(c){c=null==c||!0===c?"muted":"unmuted";"unmuted"===c&&(this.media.muted=!1,this.media.volume=this.data.state.volume);"muted"===c&&(this.data.state.volume=this.media.volume,this.media.muted=!0);this.emit(c);return this},unmute:function(c){return this.mute(null==c?!1:!c)},position:function(){return Popcorn.position(this.media)},toggle:function(c){return Popcorn[this.data.disabled[c]?"enable":"disable"](this,c)},defaults:function(c,b){if(Popcorn.isArray(c))return Popcorn.forEach(c,
function(c){for(var b in c)this.defaults(b,c[b])},this),this;this.options.defaults||(this.options.defaults={});this.options.defaults[c]||(this.options.defaults[c]={});Popcorn.extend(this.options.defaults[c],b);return this}});Popcorn.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"};
Popcorn.Events.Natives=Popcorn.Events.UIEvents+" "+Popcorn.Events.MouseEvents+" "+Popcorn.Events.Events;internal.events.apiTypes=["UIEvents","MouseEvents","Events"];(function(c,b){for(var d=internal.events.apiTypes,f=c.Natives.split(/\s+/g),e=0,h=f.length;e<h;e++)b.hash[f[e]]=!0;d.forEach(function(d,f){b.apis[d]={};for(var e=c[d].split(/\s+/g),h=e.length,k=0;k<h;k++)b.apis[d][e[k]]=!0})})(Popcorn.Events,internal.events);Popcorn.events={isNative:function(c){return!!internal.events.hash[c]},getInterface:function(c){if(!Popcorn.events.isNative(c))return!1;
for(var b=internal.events,d=b.apiTypes,b=b.apis,f=0,e=d.length,h,k;f<e;f++)if(k=d[f],b[k][c]){h=k;break}return h},all:Popcorn.Events.Natives.split(/\s+/g),fn:{trigger:function(b,d){var f,h=this.data.events[b];if(h){if(f=Popcorn.events.getInterface(b))return f=e.createEvent(f),f.initEvent(b,!0,!0,c,1),this.media.dispatchEvent(f),this;for(f=h.slice();f.length;)f.shift().call(this,d)}return this},listen:function(c,b){var d=this,f=!0,e=Popcorn.events.hooks[c],h,k;if("function"!==typeof b)throw Error("Popcorn.js Error: Listener is not a function");
this.data.events[c]||(this.data.events[c]=[],f=!1);e&&(e.add&&e.add.call(this,{},b),e.bind&&(c=e.bind),e.handler&&(k=b,b=function(c){e.handler.call(d,c,k)}),f=!0,this.data.events[c]||(this.data.events[c]=[],f=!1));this.data.events[c].push(b);!f&&-1<Popcorn.events.all.indexOf(c)&&this.media.addEventListener(c,function(b){if(d.data.events[c])for(h=d.data.events[c].slice();h.length;)h.shift().call(d,b)},!1);return this},unlisten:function(c,b){var d,f=this.data.events[c];if(f){if("string"===typeof b){for(d=
0;d<f.length;d++)f[d].name===b&&f.splice(d--,1);return this}if("function"===typeof b){for(;-1!==d;)d=f.indexOf(b),-1!==d&&f.splice(d,1);return this}this.data.events[c]=null;return this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(c,b){var d=!1;this.media.readyState&&(setTimeout(function(){b.call(this,c)}.bind(this),0),d=!0);this.data.hooks.canplayall={fired:d}},handler:function(c,b){this.data.hooks.canplayall.fired||(b.call(this,c),this.data.hooks.canplayall.fired=!0)}}}};Popcorn.forEach([["trigger",
"emit"],["listen","on"],["unlisten","off"]],function(c){Popcorn.p[c[0]]=Popcorn.p[c[1]]=Popcorn.events.fn[c[0]]});b.start=function(c,b){b.end>c.media.currentTime&&b.start<=c.media.currentTime&&!b._running&&(b._running=!0,c.data.running[b._natives.type].push(b),c.data.disabled[b._natives.type]||(b._natives.start.call(c,null,b),c.emit("trackstart",Popcorn.extend({},b,{plugin:b._natives.type,type:"trackstart",track:b}))))};b.end=function(c,b){var d;(b.end<=c.media.currentTime||b.start>c.media.currentTime)&&
b._running&&(d=c.data.running[b._natives.type],b._running=!1,d.splice(d.indexOf(b),1),c.data.disabled[b._natives.type]||(b._natives.end.call(c,null,b),c.emit("trackend",Popcorn.extend({},b,{plugin:b._natives.type,type:"trackend",track:b}))))};g.prototype.where=function(c){return(this.parent.getTrackEvents()||[]).filter(function(b){var d,f;if(!c)return!0;for(d in c){f=c[d];var e;(e=b[d]&&b[d]===f)||(e=b._natives,e=e[d]&&e[d]===f);if(e)return!0}return!1})};g.prototype.add=function(c){var b=this.byStart,
d=this.byEnd,f;c&&c._id&&this.parent.data.history.push(c._id);c.start=Popcorn.util.toSeconds(c.start,this.parent.options.framerate);c.end=Popcorn.util.toSeconds(c.end,this.parent.options.framerate);for(f=b.length-1;0<=f;f--)if(c.start>=b[f].start){b.splice(f+1,0,c);break}for(b=d.length-1;0<=b;b--)if(void 0!=d[b]&&c.end>d[b].end){d.splice(b+1,0,c);break}f<=this.parent.data.trackEvents.startIndex&&c.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++;b<=
this.parent.data.trackEvents.endIndex&&c.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++;this.count++};g.prototype.remove=function(c,d){c instanceof b&&(c=c.id);if("object"===typeof c)return this.where(c).forEach(function(c){this.removeTrackEvent(c._id)},this.parent),this;var f,e,h;h=this.byStart.length;for(var k=0,g=0,l=[],n=[],p=[],q=[];-1<--h;)f=this.byStart[k],e=this.byEnd[k],f._id||(l.push(f),n.push(e)),f._id&&(f._id!==c&&l.push(f),e&&e._id&&e._id!==
c&&n.push(e),f._id===c&&(g=k)),k++;h=this.animating.length;k=0;if(h)for(;-1<--h;)f=this.animating[k],f._id||p.push(f),f._id&&f._id!==c&&p.push(f),k++;g<=this.startIndex&&this.startIndex--;g<=this.endIndex&&this.endIndex--;this.byStart=l;this.byEnd=n;this.animating=p;this.count--;h=this.parent.data.history.length;for(k=0;k<h;k++)this.parent.data.history[k]!==c&&q.push(this.parent.data.history[k]);this.parent.data.history=q};Popcorn.addTrackEvent=function(c,d){var f;d instanceof b||((d=new b(d))&&d._natives&&
d._natives.type&&c.options.defaults&&c.options.defaults[d._natives.type]&&(f=Popcorn.extend({},d),Popcorn.extend(d,c.options.defaults[d._natives.type],f)),d._natives&&(d._id=d.id||d._id||Popcorn.guid(d._natives.type),d._natives._setup&&(d._natives._setup.call(c,d),c.emit("tracksetup",Popcorn.extend({},d,{plugin:d._natives.type,type:"tracksetup",track:d})))),c.data.trackEvents.add(d),b.start(c,d),this.timeUpdate(c,null,!0),d._id&&Popcorn.addTrackEvent.ref(c,d),c.emit("trackadded",Popcorn.extend({},
d,d._natives?{plugin:d._natives.type}:{},{type:"trackadded",track:d})))};Popcorn.addTrackEvent.ref=function(c,b){c.data.trackRefs[b._id]=b;return c};Popcorn.removeTrackEvents=function(c){(c.getTrackEvents()||[]).forEach(function(b){c.removeTrackEvent(b._id)},this)};Popcorn.removeTrackEvent=function(c,b){var d=c.getTrackEvent(b);d&&(d._natives._teardown&&d._natives._teardown.call(c,d),c.data.trackEvents.remove(b),Popcorn.removeTrackEvent.ref(c,b),d._natives&&c.emit("trackremoved",Popcorn.extend({},
d,{plugin:d._natives.type,type:"trackremoved",track:d})))};Popcorn.removeTrackEvent.ref=function(c,b){delete c.data.trackRefs[b];return c};Popcorn.getTrackEvents=function(c){var b=[];c=c.data.trackEvents.byStart;for(var d=c.length,f=0,e;f<d;f++)e=c[f],e._id&&b.push(e);return b};Popcorn.getTrackEvents.ref=function(c){return c.data.trackRefs};Popcorn.getTrackEvent=function(c,b){return c.data.trackRefs[b]};Popcorn.getTrackEvent.ref=function(c,b){return c.data.trackRefs[b]};Popcorn.getLastTrackEventId=
function(c){return c.data.history[c.data.history.length-1]};Popcorn.timeUpdate=function(c,b){var d=c.media.currentTime,f=c.data.trackEvents.previousUpdateTime,e=c.data.trackEvents,h=e.endIndex,k=e.startIndex,g=e.byStart.length,l=e.byEnd.length,n=Popcorn.registryByName,p,q,r;if(f<=d){for(;e.byEnd[h]&&e.byEnd[h].end<=d;)if(p=e.byEnd[h],q=(f=p._natives)&&f.type,!f||n[q]||c[q])!0===p._running&&(p._running=!1,r=c.data.running[q],r.splice(r.indexOf(p),1),c.data.disabled[q]||(f.end.call(c,b,p),c.emit("trackend",
Popcorn.extend({},p,{plugin:q,type:"trackend",track:p})))),h++;else{Popcorn.removeTrackEvent(c,p._id);return}for(;e.byStart[k]&&e.byStart[k].start<=d;)if(p=e.byStart[k],q=(f=p._natives)&&f.type,!f||n[q]||c[q])p.end>d&&!1===p._running&&(p._running=!0,c.data.running[q].push(p),c.data.disabled[q]||(f.start.call(c,b,p),c.emit("trackstart",Popcorn.extend({},p,{plugin:q,type:"trackstart",track:p})))),k++;else{Popcorn.removeTrackEvent(c,p._id);return}}else if(f>d){for(;e.byStart[k]&&e.byStart[k].start>d;)if(p=
e.byStart[k],q=(f=p._natives)&&f.type,!f||n[q]||c[q])!0===p._running&&(p._running=!1,r=c.data.running[q],r.splice(r.indexOf(p),1),c.data.disabled[q]||(f.end.call(c,b,p),c.emit("trackend",Popcorn.extend({},p,{plugin:q,type:"trackend",track:p})))),k--;else{Popcorn.removeTrackEvent(c,p._id);return}for(;e.byEnd[h]&&e.byEnd[h].end>d;)if(p=e.byEnd[h],q=(f=p._natives)&&f.type,!f||n[q]||c[q])p.start<=d&&!1===p._running&&(p._running=!0,c.data.running[q].push(p),c.data.disabled[q]||(f.start.call(c,b,p),c.emit("trackstart",
Popcorn.extend({},p,{plugin:q,type:"trackstart",track:p})))),h--;else{Popcorn.removeTrackEvent(c,p._id);return}}e.endIndex=h;e.startIndex=k;e.previousUpdateTime=d;e.byStart.length<g&&e.startIndex--;e.byEnd.length<l&&e.endIndex--};Popcorn.extend(Popcorn.p,{getTrackEvents:function(){return Popcorn.getTrackEvents.call(null,this)},getTrackEvent:function(c){return Popcorn.getTrackEvent.call(null,this,c)},getLastTrackEventId:function(){return Popcorn.getLastTrackEventId.call(null,this)},removeTrackEvent:function(c){Popcorn.removeTrackEvent.call(null,
this,c);return this},removePlugin:function(c){Popcorn.removePlugin.call(null,this,c);return this},timeUpdate:function(c){Popcorn.timeUpdate.call(null,this,c);return this},destroy:function(){Popcorn.destroy.call(null,this);return this}});Popcorn.manifest={};Popcorn.registry=[];Popcorn.registryByName={};Popcorn.plugin=function(c,d,f){if(0<=Popcorn.protect.natives.indexOf(c.toLowerCase()))Popcorn.error("'"+c+"' is a protected function name");else{var e="function"===typeof d,h=["start","end","type","manifest"],
g=["_setup","_teardown","start","end","frame"],p={},q=function(c,b){c=c||Popcorn.nop;b=b||Popcorn.nop;return function(){c.apply(this,arguments);b.apply(this,arguments)}};Popcorn.manifest[c]=f=f||d.manifest||{};g.forEach(function(b){d[b]=k(d[b]||Popcorn.nop,c)});var r=function(d,e){if(!e)return this;if(e.ranges&&Popcorn.isArray(e.ranges))return Popcorn.forEach(e.ranges,function(b){b=Popcorn.extend({},e,b);delete b.ranges;this[c](b)},this),this;var k=e._natives={},p="",r;Popcorn.extend(k,d);e._natives.type=
e._natives.plugin=c;e._running=!1;k.start=k.start||k["in"];k.end=k.end||k.out;e.once&&(k.end=q(k.end,function(){this.removeTrackEvent(e._id)}));k._teardown=q(function(){var c=l.call(arguments),b=this.data.running[k.type];c.unshift(null);c[1]._running&&b.splice(b.indexOf(e),1)&&k.end.apply(this,c);c[1]._running=!1;this.emit("trackend",Popcorn.extend({},e,{plugin:k.type,type:"trackend",track:Popcorn.getTrackEvent(this,e.id||e._id)}))},k._teardown);k._teardown=q(k._teardown,function(){this.emit("trackteardown",
Popcorn.extend({},e,{plugin:c,type:"trackteardown",track:Popcorn.getTrackEvent(this,e.id||e._id)}))});e.compose=e.compose||[];"string"===typeof e.compose&&(e.compose=e.compose.split(" "));e.effect=e.effect||[];"string"===typeof e.effect&&(e.effect=e.effect.split(" "));e.compose=e.compose.concat(e.effect);e.compose.forEach(function(c){p=Popcorn.compositions[c]||{};g.forEach(function(c){k[c]=q(k[c],p[c])})});e._natives.manifest=f;"start"in e||(e.start=e["in"]||0);e.end||0===e.end||(e.end=e.out||Number.MAX_VALUE);
n.call(e,"toString")||(e.toString=function(){var b=["start: "+e.start,"end: "+e.end,"id: "+(e.id||e._id)];null!=e.target&&b.push("target: "+e.target);return c+" ( "+b.join(", ")+" )"});e.target||(r="options"in f&&f.options,e.target=r&&"target"in r&&r.target);!e._id&&e._natives&&(e._id=Popcorn.guid(e._natives.type));e instanceof b?(e._natives&&(e._id=e.id||e._id||Popcorn.guid(e._natives.type),e._natives._setup&&(e._natives._setup.call(this,e),this.emit("tracksetup",Popcorn.extend({},e,{plugin:e._natives.type,
type:"tracksetup",track:e})))),this.data.trackEvents.add(e),b.start(this,e),this.timeUpdate(this,null,!0),e._id&&Popcorn.addTrackEvent.ref(this,e)):Popcorn.addTrackEvent(this,e);Popcorn.forEach(d,function(c,b){if(-1===h.indexOf(b))this.on(b,c)},this);return this};Popcorn.p[c]=p[c]=function(f,h){var k,g;if(f&&!h)h=f;else{if(k=this.getTrackEvent(f)){g=h;var l={},p;for(p in k)n.call(g,p)&&n.call(k,p)&&(l[p]=k[p]);if(k._natives._update)this.data.trackEvents.remove(k),n.call(h,"start")&&(k.start=h.start),
n.call(h,"end")&&(k.end=h.end),b.end(this,k),e&&d.call(this,k),k._natives._update.call(this,k,h),this.data.trackEvents.add(k),b.start(this,k);else return Popcorn.extend(k,h),this.data.trackEvents.remove(f),k._natives._teardown&&k._natives._teardown.call(this,k),Popcorn.removeTrackEvent.ref(this,f),e?r.call(this,d.call(this,k),k):(k._id=k.id||k._id||Popcorn.guid(k._natives.type),k._natives&&k._natives._setup&&(k._natives._setup.call(this,k),this.emit("tracksetup",Popcorn.extend({},k,{plugin:k._natives.type,
type:"tracksetup",track:k}))),this.data.trackEvents.add(k),b.start(this,k),this.timeUpdate(this,null,!0),Popcorn.addTrackEvent.ref(this,k)),this.emit("trackchange",{id:k.id,type:"trackchange",previousValue:l,currentValue:k,track:k}),this;"cue"!==k._natives.type&&this.emit("trackchange",{id:k.id,type:"trackchange",previousValue:l,currentValue:g,track:k});return this}h.id=f}this.data.running[c]=this.data.running[c]||[];k=Popcorn.extend({},this.options.defaults&&this.options.defaults[c]||{},h);r.call(this,
e?d.call(this,k):d,k);return this};f&&Popcorn.extend(d,{manifest:f});var s={fn:p[c],definition:d,base:d,parents:[],name:c};Popcorn.registry.push(Popcorn.extend(p,s,{type:c}));Popcorn.registryByName[c]=s;return p}};Popcorn.plugin.errors=[];Popcorn.plugin.debug="@VERSION"===Popcorn.version;Popcorn.removePlugin=function(c,b){if(!b){b=c;c=Popcorn.p;if(0<=Popcorn.protect.natives.indexOf(b.toLowerCase())){Popcorn.error("'"+b+"' is a protected function name");return}var d=Popcorn.registry.length,f;for(f=
0;f<d;f++)if(Popcorn.registry[f].name===b){Popcorn.registry.splice(f,1);delete Popcorn.registryByName[b];delete Popcorn.manifest[b];delete c[b];return}}d=c.data.trackEvents.byStart;f=c.data.trackEvents.byEnd;var e=c.data.trackEvents.animating,h,k;h=0;for(k=d.length;h<k;h++)d[h]&&d[h]._natives&&d[h]._natives.type===b&&(d[h]._natives._teardown&&d[h]._natives._teardown.call(c,d[h]),d.splice(h,1),h--,k--,c.data.trackEvents.startIndex<=h&&(c.data.trackEvents.startIndex--,c.data.trackEvents.endIndex--)),
f[h]&&f[h]._natives&&f[h]._natives.type===b&&f.splice(h,1);h=0;for(k=e.length;h<k;h++)e[h]&&e[h]._natives&&e[h]._natives.type===b&&(e.splice(h,1),h--,k--)};Popcorn.compositions={};Popcorn.compose=function(c,b,d){Popcorn.manifest[c]=d||b.manifest||{};Popcorn.compositions[c]=b};Popcorn.plugin.effect=Popcorn.effect=Popcorn.compose;var z=/^(?:\.|#|\[)/;Popcorn.dom={debug:!1,find:function(c,b){var d=null;b=b||e;if(c){if(!z.test(c)&&(d=e.getElementById(c),null!==d))return d;try{d=b.querySelector(c)}catch(f){if(Popcorn.dom.debug)throw Error(f);
}}return d}};var w=/\?/,B={ajax:null,url:"",data:"",dataType:"",success:Popcorn.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8"};Popcorn.xhr=function(c){c.dataType=c.dataType&&c.dataType.toLowerCase()||null;if(!c.dataType||"jsonp"!==c.dataType&&"script"!==c.dataType){if(c=Popcorn.extend({},B,c),c.ajax=new XMLHttpRequest,c.ajax)return"GET"===c.type&&c.data&&(c.url+=(w.test(c.url)?"\x26":"?")+c.data,c.data=null),c.ajax.open(c.type,c.url,c.async),"POST"===c.type&&
c.ajax.setRequestHeader("Content-Type",c.contentType),c.ajax.send(c.data||null),Popcorn.xhr.httpData(c)}else Popcorn.xhr.getJSONP(c.url,c.success,"script"===c.dataType)};Popcorn.xhr.httpData=function(c){var b,d=null,f,e=null;c.ajax.onreadystatechange=function(){if(4===c.ajax.readyState){try{d=JSON.parse(c.ajax.responseText)}catch(h){}b={xml:c.ajax.responseXML,text:c.ajax.responseText,json:d};if(!b.xml||!b.xml.documentElement){b.xml=null;try{f=new DOMParser,e=f.parseFromString(c.ajax.responseText,
"text/xml"),e.getElementsByTagName("parsererror").length||(b.xml=e)}catch(k){}}c.dataType&&(b=b[c.dataType]);c.success.call(c.ajax,b)}};return b};Popcorn.xhr.getJSONP=function(c,b,d){var f=e.head||e.getElementsByTagName("head")[0]||e.documentElement,h=e.createElement("script"),k=!1,g=[],g=/(=)\?(?=&|$)|\?\?/,l,n;d||(n=c.match(/(callback=[^&]*)/),null!==n&&n.length?(g=n[1].split("\x3d")[1],"?"===g&&(g="jsonp"),l=Popcorn.guid(g),c=c.replace(/(callback=[^&]*)/,"callback\x3d"+l)):(l=Popcorn.guid("jsonp"),
g.test(c)&&(c=c.replace(g,"$1"+l)),g=c.split(/\?(.+)?/),c=g[0]+"?",g[1]&&(c+=g[1]+"\x26"),c+="callback\x3d"+l),window[l]=function(c){b&&b(c);k=!0});h.addEventListener("load",function(){d&&b&&b();k&&delete window[l];f.removeChild(h)},!1);h.addEventListener("error",function(c){b&&b({error:c});d||delete window[l];f.removeChild(h)},!1);h.src=c;f.insertBefore(h,f.firstChild)};Popcorn.getJSONP=Popcorn.xhr.getJSONP;Popcorn.getScript=Popcorn.xhr.getScript=function(c,b){return Popcorn.xhr.getJSONP(c,b,!0)};
Popcorn.util={toSeconds:function(c,b){var d=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,f,e,h;if("number"===typeof c)return c;"string"!==typeof c||d.test(c)||Popcorn.error("Invalid time format");d=c.split(":");f=d.length-1;e=d[f];-1<e.indexOf(";")&&(e=e.split(";"),h=0,b&&"number"===typeof b&&(h=parseFloat(e[1],10)/b),d[f]=parseInt(e[0],10)+h);f=d[0];return{1:parseFloat(f,10),2:60*parseInt(f,10)+parseFloat(d[1],10),3:3600*parseInt(f,10)+60*parseInt(d[1],10)+parseFloat(d[2],10)}[d.length||1]}};Popcorn.p.cue=
Popcorn.p.exec;Popcorn.protect={natives:getKeys(Popcorn.p).map(function(c){return c.toLowerCase()})};Popcorn.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(c,b){var d=Popcorn.p[b];Popcorn.p[b]=function(){"undefined"!==typeof console&&console.warn&&(console.warn("Deprecated method '"+b+"', "+(null==c?"do not use.":"use '"+c+"' instead.")),Popcorn.p[b]=d);return Popcorn.p[c].apply(this,[].slice.call(arguments))}});c.Popcorn=Popcorn}else for(c.Popcorn={isSupported:!1},h="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);h.length;)c.Popcorn[h.shift()]=
function(){}})(window,window.document);
(function(c,e){function b(c){var e=b.options;c=e.parser[e.strictMode?"strict":"loose"].exec(c);for(var d={},f=14;f--;)d[e.key[f]]=c[f]||"";d[e.q.name]={};d[e.key[12]].replace(e.q.parser,function(c,b,f){b&&(d[e.q.name][b]=f)});return d}b.options={strictMode:!1,key:"source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
var g={length:0,start:c.nop,end:c.nop};window.MediaError=window.MediaError||function(){function c(b,d){this.code=b||null;this.message=d||""}c.MEDIA_ERR_NONE_ACTIVE=0;c.MEDIA_ERR_ABORTED=1;c.MEDIA_ERR_NETWORK=2;c.MEDIA_ERR_DECODE=3;c.MEDIA_ERR_NONE_SUPPORTED=4;return c}();c._MediaElementProto=function(){var k={},h;Object.prototype.__defineGetter__||(k=e.createElement("div"));k._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(c){return"string"===typeof c||!0===
c},parseUri:b};k.addEventListener=function(c,b,h){e.addEventListener(this._eventNamespace+c,b,h)};k.removeEventListener=function(c,b,h){e.removeEventListener(this._eventNamespace+c,b,h)};k.dispatchEvent=function(c){var b=e.createEvent("CustomEvent");b.initCustomEvent(this._eventNamespace+c,!1,!1,{type:c,target:this.parentNode,data:null});e.dispatchEvent(b)};k.load=c.nop;k.canPlayType=function(c){return""};k.getBoundingClientRect=function(){return h.getBoundingClientRect()};k.NETWORK_EMPTY=0;k.NETWORK_IDLE=
1;k.NETWORK_LOADING=2;k.NETWORK_NO_SOURCE=3;k.HAVE_NOTHING=0;k.HAVE_METADATA=1;k.HAVE_CURRENT_DATA=2;k.HAVE_FUTURE_DATA=3;k.HAVE_ENOUGH_DATA=4;Object.defineProperties(k,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return h},set:function(c){h=c},configurable:!0},preload:{get:function(){return"auto"},set:c.nop,configurable:!0},controls:{get:function(){return!0},set:c.nop,configurable:!0},poster:{get:function(){return""},set:c.nop,configurable:!0},
crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return g},configurable:!0},seekable:{get:function(){return g},configurable:!0},buffered:{get:function(){return g},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}});return k}})(Popcorn,window.document);
(function(c,e){function b(c){return"maybe"}function g(k,h){new c._MediaElementProto;var d=null,d="string"===typeof k?e.querySelector(k):k,f=null;void 0==e.ivideoMediaList&&(f=e.createElement(h),f.style.width="100%",f.style.height="100%",f.className="js-video",f.style.display="block",f.setAttribute("disablePictureInPicture",""),"undefined"!==typeof _360&&_360&&f.setAttribute("crossorigin","anonymous"));e.ivideoMediaList&&0<e.ivideoMediaList.length&&(f=e.ivideoMediaList[0]);video_muted&&(f.muted=!0);
video_loop&&(f.loop=!0);d.appendChild(f);f._canPlaySrc=b;f.dispatchEvent=function(c){void 0!=c&&"ended"==c.type&&console.log(c.type)};return f}c.HTMLVideoElement=function(c){return g(c,"video")};c.HTMLVideoElement._canPlaySrc=b;c.HTMLAudioElement=function(c){return g(c,"audio")};c.HTMLAudioElement._canPlaySrc=b})(Popcorn,window.document);
(function(c,e,b){function g(){var c;if(YT.loaded)for(n=!0;q.length;)c=q.shift(),c();else setTimeout(g,250)}function k(){var c;p||(e.YT?g():(c=b.createElement("script"),c.addEventListener("load",g,!1),c.src="https://www.youtube.com/iframe_api",b.head.appendChild(c)),p=!0);return n}function h(c){q.push(c)}function d(d){function g(c){ga.push(c)}function n(){X.pauseVideo();D("play",n);u("play",T)}function p(){u("pause",W);D("pause",p)}function q(c){var b=function(){if(X.isMuted()){if(M.autoplay){var c=
function(){D("play",c);0===X.getCurrentTime()?setTimeout(c,0):(u("pause",d),X.seekTo(0),X.pauseVideo())},d=function(){D("pause",d);0<X.getCurrentTime()?setTimeout(d,0):M.autoplay||!M.paused?(u("play",E),X.playVideo()):E()};u("play",c);X.playVideo();u("play",c);X.playVideo()}else c=function(){D("play",c);E();T()},u("play",c);u("play",c)}else setTimeout(b,0)};ca=!0;X.mute();b()}function B(c){var b={name:"MediaError"};switch(c.data){case 2:b.message="Invalid video parameter.";b.code=MediaError.MEDIA_ERR_ABORTED;
break;case 5:b.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",b.code=MediaError.MEDIA_ERR_DECODE;case 100:b.message="Video not found.";b.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:b.message="Video not usable.";b.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:b.message="Unknown error.",b.code=5}M.error=b;P.dispatchEvent("error")}function E(){u("play",T);u("pause",W);if(M.autoplay||!M.paused)D("play",
E),M.paused=!1,g(function(){M.paused||T()});M.muted||X.unMute();M.readyState=P.HAVE_METADATA;P.dispatchEvent("loadedmetadata");Aa=setInterval(L,10);P.dispatchEvent("loadeddata");M.readyState=P.HAVE_FUTURE_DATA;P.dispatchEvent("canplay");U=!0;for(ja=setInterval(J,50);ga.length;)ga[0](),ga.shift();M.readyState=P.HAVE_ENOUGH_DATA;P.dispatchEvent("canplaythrough")}function u(c,b){P.addEventListener("youtube-"+c,b,!1)}function D(c,b){P.removeEventListener("youtube-"+c,b,!1)}function C(c){P.dispatchEvent("youtube-"+
c)}function F(){M.networkState=P.NETWORK_LOADING;var c=X.getDuration();M.duration!==c&&(M.duration=c,P.dispatchEvent("durationchange"));P.dispatchEvent("waiting")}function A(c){switch(c.data){case YT.PlayerState.ENDED:C("ended");break;case YT.PlayerState.PLAYING:C("play");break;case YT.PlayerState.PAUSED:X.getDuration()!==X.getCurrentTime()&&C("pause");break;case YT.PlayerState.BUFFERING:C("buffering")}c.data!==YT.PlayerState.BUFFERING&&ha===YT.PlayerState.BUFFERING&&P.dispatchEvent("progress");ha=
c.data}function H(c){if(P._canPlaySrc(c))if(M.src=c,k()){if(ca)if(U)ca&&X&&(D("buffering",F),D("ended",ba),D("play",T),D("pause",W),W(),Y=U=!1,M.currentTime=0,ga=[],clearInterval(Aa),clearInterval(ja),X.stopVideo(),X.clearVideo(),X.destroy(),ea=b.createElement("div"));else{g(function(){H(c)});return}K.appendChild(ea);var d=P._util.parseUri(c).queryKey;delete d.v;M.autoplay="1"===d.autoplay||M.autoplay;delete d.autoplay;M.loop="1"===d.loop||M.loop;delete d.loop;d.rel=d.rel||0;d.modestbranding=d.modestbranding||
1;d.iv_load_policy=d.iv_load_policy||3;d.disablekb=d.disablekb||1;d.showinfo=d.showinfo||0;var l="file:"===e.location.protocol?"*":e.location.protocol+"//"+e.location.host;d.origin=d.origin||l;d.controls=parseInt(d.controls)||M.controls?2:0;M.controls=d.controls;d.wmode=d.wmode||"opaque";0!==d.html5&&(d.html5=1);c=f.exec(c)[1];X=new YT.Player(ea,{width:"100%",height:"100%",wmode:d.wmode,videoId:c,playerVars:d,events:{onReady:q,onError:B,onStateChange:A}});M.networkState=P.NETWORK_LOADING;P.dispatchEvent("loadstart");
P.dispatchEvent("progress")}else h(function(){H(c)});else M.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},P.dispatchEvent("error")}function L(){var c=X.getCurrentTime();M.seeking?1>l(c-M.currentTime)&&R():(10<l(M.currentTime-c)&&(N(),R()),M.currentTime=c)}function J(){var c=X.getVideoLoadedFraction();c&&ya!==c&&(ya=c,P.dispatchEvent("progress"))}function Q(c){c!==M.currentTime&&(M.currentTime=c,U?(N(),X.seekTo(c)):g(function(){N();X.seekTo(c)}))}
function O(){P.dispatchEvent("timeupdate")}function N(){u("pause",p);D("pause",W);M.seeking=!0;P.dispatchEvent("seeking")}function R(){M.ended=!1;M.seeking=!1;P.dispatchEvent("timeupdate");P.dispatchEvent("seeked");P.dispatchEvent("canplay");P.dispatchEvent("canplaythrough")}function T(){M.ended&&(Q(0),M.ended=!1);Ea=setInterval(O,P._util.TIMEUPDATE_MS);M.paused=!1;if(fa){fa=!1;if(M.loop&&!Y||!M.loop)Y=!0,P.dispatchEvent("play");P.dispatchEvent("playing")}}function W(){M.paused=!0;fa||(fa=!0,clearInterval(Ea),
P.dispatchEvent("pause"))}function ba(){M.loop?(Q(0),P.play()):(M.ended=!0,W(),u("play",n),D("play",T),P.dispatchEvent("timeupdate"),P.dispatchEvent("ended"))}function qa(c){M.muted=c;U?(X[c?"mute":"unMute"](),P.dispatchEvent("volumechange")):g(function(){qa(M.muted)})}if(!e.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";var P=new c._MediaElementProto,K="string"===typeof d?b.querySelector(d):d,ea=b.createElement("div"),M={src:"",networkState:P.NETWORK_EMPTY,readyState:P.HAVE_NOTHING,
seeking:!1,autoplay:"",preload:"",controls:!1,loop:!1,poster:"",volume:1,muted:!1,currentTime:0,duration:NaN,ended:!1,paused:!0,error:null},ca=!1,U=!1,Y=!1,X,fa=!0,ga=[],ha=-1,ja,ya=0,Aa,Ea;P._eventNamespace=c.guid("HTMLYouTubeVideoElement::");P.parentNode=K;P._util.type="YouTube";u("buffering",F);u("ended",ba);P.play=function(){M.paused=!1;U?X.playVideo():g(function(){P.play()})};P.pause=function(){M.paused=!0;U?(p(),X.pauseVideo()):g(function(){P.pause()})};Object.defineProperties(P,{src:{get:function(){return M.src},
set:function(c){c&&c!==M.src&&H(c)}},autoplay:{get:function(){return M.autoplay},set:function(c){M.autoplay=P._util.isAttributeSet(c)}},loop:{get:function(){return M.loop},set:function(c){M.loop=P._util.isAttributeSet(c)}},width:{get:function(){return P.parentNode.offsetWidth}},height:{get:function(){return P.parentNode.offsetHeight}},currentTime:{get:function(){return M.currentTime},set:function(c){Q(c)}},duration:{get:function(){return M.duration}},ended:{get:function(){return M.ended}},paused:{get:function(){return M.paused}},
seeking:{get:function(){return M.seeking}},readyState:{get:function(){return M.readyState}},networkState:{get:function(){return M.networkState}},volume:{get:function(){return M.volume},set:function(c){if(0>c||1<c)throw"Volume value must be between 0.0 and 1.0";M.volume=c;U?(X.setVolume(100*M.volume),P.dispatchEvent("volumechange")):g(function(){P.volume=c})}},muted:{get:function(){return M.muted},set:function(c){qa(P._util.isAttributeSet(c))}},error:{get:function(){return M.error}},buffered:{get:function(){return{start:function(c){if(0===
c)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1";},end:function(c){if(0===c)return M.duration?M.duration*ya:0;throw"INDEX_SIZE_ERR: DOM Exception 1";},length:1}},configurable:!0}});P._canPlaySrc=c.HTMLYouTubeVideoElement._canPlaySrc;P.canPlayType=c.HTMLYouTubeVideoElement.canPlayType;return P}var f=/^.*(?:\/|v=)(.{11})/,l=Math.abs,n=!1,p=!1,q=[];c.HTMLYouTubeVideoElement=function(c){return new d(c)};c.HTMLYouTubeVideoElement._canPlaySrc=function(c){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)(.{11})/.test(c)?
"probably":""};c.HTMLYouTubeVideoElement.canPlayType=function(c){return"video/x-youtube"===c?"probably":""}})(Popcorn,window,document);
(function(c,e,b){function g(c){var b=this,f=c.src.split("?")[0];"//"===f.substr(0,2)&&(f=e.location.protocol+f);"play pause paused seekTo unload getCurrentTime getDuration getVideoEmbedCode getVideoHeight getVideoWidth getVideoUrl getColor setColor setLoop getVolume setVolume addEventListener".split(" ").forEach(function(e){b[e]=function(b){b=JSON.stringify({method:e,value:b});c.contentWindow&&c.contentWindow.postMessage(b,f)}})}function k(h){function d(c){L.unshift(c)}function f(c){A.addEventListener("loadProgress");
A.addEventListener("playProgress");A.addEventListener("play");A.addEventListener("pause");A.addEventListener("finish");A.addEventListener("seek");A.getDuration();D.networkState=B.NETWORK_LOADING;B.dispatchEvent("loadstart");B.dispatchEvent("progress")}function k(c){var b=D.duration;if(b!==c&&(D.duration=c,B.dispatchEvent("durationchange"),isNaN(b)))for(D.networkState=B.NETWORK_IDLE,D.readyState=B.HAVE_METADATA,B.dispatchEvent("loadedmetadata"),B.dispatchEvent("loadeddata"),D.readyState=B.HAVE_FUTURE_DATA,
B.dispatchEvent("canplay"),D.readyState=B.HAVE_ENOUGH_DATA,B.dispatchEvent("canplaythrough"),D.autoplay&&B.play(),c=L.length;c--;)L[c](),delete L[c]}function n(c){C?(D.seeking=!0,B.dispatchEvent("seeking"),A.seekTo(c)):d(function(){n(c)})}function p(){B.dispatchEvent("timeupdate")}function q(c){(D.currentTime=c)!==O&&B.dispatchEvent("timeupdate");O=D.currentTime}function r(c){if("https://player.vimeo.com"===c.origin){var b;try{b=JSON.parse(c.data)}catch(d){console.warn(d)}if(b.player_id==F)switch(b.event){case "ready":A=
new g(u);A.addEventListener("loadProgress");A.addEventListener("pause");A.setVolume(0);A.play();break;case "loadProgress":setTimeout(function(){var c=parseFloat(b.data.duration);A.setVolume(1);e.removeEventListener("message",r,!1);e.addEventListener("message",s,!1);f();0<c&&!C&&(C=!0,A.pause())},100);break;case "pause":A.setVolume(1),e.removeEventListener("message",r,!1),e.addEventListener("message",s,!1),f()}}}function s(c){if("https://player.vimeo.com"===c.origin){var b;try{b=JSON.parse(c.data)}catch(d){console.warn(d)}if(b.player_id==
F){switch(b.method){case "getCurrentTime":q(parseFloat(b.value));break;case "getDuration":k(parseFloat(b.value));break;case "getVolume":c=parseFloat(b.value),D.volume!==c&&(D.volume=c,B.dispatchEvent("volumechange"))}switch(b.event){case "loadProgress":B.dispatchEvent("progress");k(parseFloat(b.data.duration));break;case "playProgress":q(parseFloat(b.data.seconds));break;case "play":D.ended&&n(0);Q||(Q=setInterval(v,16),D.loop&&B.dispatchEvent("play"));J=setInterval(p,B._util.TIMEUPDATE_MS);D.paused=
!1;H&&(H=!1,D.loop||B.dispatchEvent("play"),B.dispatchEvent("playing"));break;case "pause":D.paused=!0;H||(H=!0,clearInterval(J),B.dispatchEvent("pause"));break;case "finish":D.loop?(n(0),B.play()):(D.ended=!0,B.dispatchEvent("ended"));break;case "seek":q(parseFloat(b.data.seconds)),D.seeking=!1,B.dispatchEvent("timeupdate"),B.dispatchEvent("seeked"),B.dispatchEvent("canplay"),B.dispatchEvent("canplaythrough")}}}}function v(){A.getCurrentTime()}function z(c){D.volume=c;C?(A.setVolume(c),B.dispatchEvent("volumechange")):
d(function(){z(c)})}function w(c){C?c?(D.muted=D.volume,z(0)):(D.muted=0,z(D.muted)):(D.muted=c?1:0,d(function(){w(c)}))}if(!e.postMessage)throw"ERROR: HTMLVimeoVideoElement requires window.postMessage";var B=new c._MediaElementProto,E="string"===typeof h?c.dom.find(h):h,u=b.createElement("iframe"),D={src:"",networkState:B.NETWORK_EMPTY,readyState:B.HAVE_NOTHING,seeking:!1,autoplay:"",preload:"",controls:!1,loop:!1,poster:"",volume:1,muted:0,currentTime:0,duration:NaN,ended:!1,paused:!0,error:null},
C=!1,F=c.guid("player_"),A,H=!0,L=[],J,Q,O=0;B._eventNamespace=c.guid("HTMLVimeoVideoElement::");B.parentNode=E;B._util.type="Vimeo";B.play=function(){D.paused=!1;C?A.play():d(function(){B.play()})};B.pause=function(){D.paused=!0;C?A.pause():d(function(){B.pause()})};Object.defineProperties(B,{src:{get:function(){return D.src},set:function(c){if(c&&c!==D.src)if(B._canPlaySrc(c)){D.src=c;C&&C&&A&&(clearInterval(Q),A.pause(),e.removeEventListener("message",s,!1),E.removeChild(u),u=b.createElement("iframe"));
C=!1;c=B._util.parseUri(c);var d=c.queryKey,f,h=["api\x3d1","player_id\x3d"+F,"title\x3d0","byline\x3d0","portrait\x3d0","#t\x3d0"];D.loop="1"===d.loop||D.loop;delete d.loop;D.autoplay="1"===d.autoplay||D.autoplay;delete d.autoplay;c="https://player.vimeo.com/video/"+/\d+$/.exec(c.path)+"?";for(f in d)d.hasOwnProperty(f)&&h.push(encodeURIComponent(f)+"\x3d"+encodeURIComponent(d[f]));c+=h.join("\x26");u.id=F;u.style.width="100%";u.style.height="100%";u.frameBorder=0;u.webkitAllowFullScreen=!0;u.mozAllowFullScreen=
!0;u.allowFullScreen=!0;E.appendChild(u);u.src=c;e.addEventListener("message",r,!1)}else D.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},B.dispatchEvent("error")}},autoplay:{get:function(){return D.autoplay},set:function(c){D.autoplay=B._util.isAttributeSet(c)}},loop:{get:function(){return D.loop},set:function(c){D.loop=B._util.isAttributeSet(c)}},width:{get:function(){return B.parentNode.offsetWidth}},height:{get:function(){return B.parentNode.offsetHeight}},
currentTime:{get:function(){return D.currentTime},set:function(c){n(c)}},duration:{get:function(){return D.duration}},ended:{get:function(){return D.ended}},paused:{get:function(){return D.paused}},seeking:{get:function(){return D.seeking}},readyState:{get:function(){return D.readyState}},networkState:{get:function(){return D.networkState}},volume:{get:function(){return 0<D.muted?D.muted:D.volume},set:function(c){if(0>c||1<c)throw"Volume value must be between 0.0 and 1.0";z(c)}},muted:{get:function(){return 0<
D.muted},set:function(c){w(B._util.isAttributeSet(c))}},error:{get:function(){return D.error}}});B._canPlaySrc=c.HTMLVimeoVideoElement._canPlaySrc;B.canPlayType=c.HTMLVimeoVideoElement.canPlayType;return B}c.HTMLVimeoVideoElement=function(c){return new k(c)};c.HTMLVimeoVideoElement._canPlaySrc=function(c){return/player.vimeo.com\/video\/\d+/.test(c)||/vimeo.com\/\d+/.test(c)?"probably":""};c.HTMLVimeoVideoElement.canPlayType=function(c){return"video/x-vimeo"===c?"probably":""}})(Popcorn,window,document);
skippedElements={};var activeCountdownTracks={},countdownOnResizeTimer=null,dndQuestionResizeTimer=null;$(window).resize(function(){clearTimeout(countdownOnResizeTimer);countdownOnResizeTimer=setTimeout(function(){if(0<Object.keys(activeCountdownTracks).length)for(var c in activeCountdownTracks)activeCountdownTracks.hasOwnProperty(c)&&activeCountdownTracks[c].updateSize()},150)});trackActionOnClickMap={};var activeConditionalTrackIds={};
function addCssJsBlock(c,e,b,g){var k="elem-tmpl";"QUESTION"==g&&(k="qn-tmpl");var h=document.createElement("style");h.type="text/css";h.id=k+"-css-"+c;h.innerHTML=e;document.getElementsByTagName("head")[0].appendChild(h);setTimeout(function(){var d=document.createElement("script");d.type="text/javascript";d.id=k+"-js-"+c;var f="";"TEMPLATED"==g?(f=f+" try{  \n "+(' if(document.querySelectorAll("[data-c8-element-template\x3dc8-elem-tmpl-'+c+']").length \x3e 0){ \n '),f+=' document.querySelectorAll("[data-c8-element-template\x3dc8-elem-tmpl-'+
c+']")[0].addEventListener("onPause",_onPauseEvent_, false); \n ',f+=' document.querySelectorAll("[data-c8-element-template\x3dc8-elem-tmpl-'+c+']")[0].addEventListener("onPlay",_onPlayEvent_, false); \n ',f+=' document.querySelectorAll("[data-c8-element-template\x3dc8-elem-tmpl-'+c+']")[0].addEventListener("onFullscreenChange",_onFullscreenChangeEvent_, false); \n ',f+=' document.querySelectorAll("[data-c8-element-template\x3dc8-elem-tmpl-'+c+']")[0].addEventListener("onPlaybackRateChange",_onPlaybackRateChangeEvent_, false); \n ',
f+=' document.querySelectorAll("[data-c8-element-template\x3dc8-elem-tmpl-'+c+']")[0].addEventListener("onQualityLevelChange",_onQualityLevelChangeEvent_, false); \n ',f+=' document.querySelectorAll("[data-c8-element-template\x3dc8-elem-tmpl-'+c+']")[0].addEventListener("onVisibilityChange",_onVisibilityChangeEvent_, false); \n ',f+=' document.querySelectorAll("[data-c8-element-template\x3dc8-elem-tmpl-'+c+']")[0].addEventListener("onWidgetDestroy",_onWidgetDestroyEvent_, false); \n ',f+=' document.querySelectorAll("[data-c8-element-template\x3dc8-elem-tmpl-'+
c+']")[0].addEventListener("onVariableChange",_onVariableChangeEvent_, false); \n ',f+=" }  \n ",f+=" }catch(e){\nconsole.log(e)\n} \n "):"QUESTION"==g&&(f+=' document.getElementById("overlay-area").addEventListener("onQuestionTemplateFeedback",_onQuestionTemplateFeedbackEvent_, false); \n ');b=f+b;d.innerHTML=b;try{document.getElementsByTagName("head")[0].appendChild(d)}catch(e){console.log(e)}},200)}
function trackOnAction(c,e){"ONCLICK"==e.trackTriggerType?($('[data-id\x3d"'+c.id+'"]').css("cursor","pointer","!important"),null==trackActionOnClickMap[e.id]&&($(document).on("click",'[data-id\x3d"'+c.id+'"]',function(){"PAUSE"==e.trackActionType&&popcorn.pause();trackOnActionFn.call(this,c,e)}),trackActionOnClickMap[e.id]=!0)):trackOnActionFn(c,e)}var onClickTimeout;
function trackOnActionFn(c,e){clearTimeout(onClickTimeout);if(null==findByProperty(pendingWebhookCallbackActions,"id",e.id)&&(null!=c&&updateUserInteractionContext(c,"click"),null==c||"CONDITIONAL"!=c.trackType||checkCondition(c.conditionQuery))){null!=c&&"ONCLICK"==e.trackTriggerType&&(onClickTimeout=setTimeout(function(){"number"==typeof c.id&&(null==c||"QUESTION"!=c.trackType&&"TEMPLATED"!=c.trackType)&&trackExpose(c.id,"C")},200));var b=null;null!=e.triggeredTrack&&(b=findElement(_tracks,"id",
e.triggeredTrack.id));if("REWINDTO"==e.trackActionType)mobileAndTabletcheck()?jumpTo(e.value/1E3,c.trackActions,c.trackType,e.trackTriggerType):rewindTo(e.value);else if("PAUSE"==e.trackActionType)pauseIt(!0);else if("JUMPTO"==e.trackActionType)jumpTo(e.value/1E3,c.trackActions,c.trackType,e.trackTriggerType);else if("PLAY"==e.trackActionType)adPlaying=!1,playIt(null,!0);else if("URL"==e.trackActionType)b=e.value,null!=b&&(b.startsWith("mailto:")||b.startsWith("tel:")?window.location.href=b:(/^(f|ht)tps?:\/\//i.test(b)||
(b="http://"+b),window.open(b,"_blank")));else if("VISIBLE"==e.trackActionType)isNull(e)||isNull(e.triggeredTrack)||isNull(e.triggeredTrack.id)||setVisible(e.triggeredTrack.id,b,c);else if("INVISIBLE"==e.trackActionType)isNull(e)||isNull(e.triggeredTrack)||isNull(e.triggeredTrack.id)||setInvisible(e.triggeredTrack.id,b,c);else if("AUDIOPLAY"==e.trackActionType){if(!isNull(e)&&!isNull(e.triggeredTrack)&&!isNull(e.triggeredTrack.id)){var b=findElement(_tracks,"id",e.triggeredTrack.id),g=audioElements.getByTrackId(b.id);
b.syncWithTimeline&&null!=g&&delete g.pausedByAudioStopAction;(isNull(g)||g.paused)&&audioTrackPlay(b)}}else if("AUDIOSTOP"==e.trackActionType){if(!(isNull(e)||isNull(e.triggeredTrack)||isNull(e.triggeredTrack.id)||(b=findElement(_tracks,"id",e.triggeredTrack.id),g=audioElements.getByTrackId(b.id),isNull(g))))if(b.syncWithTimeline)g._playing=!1,g.pausedByAudioStopAction=!0,g.pause(),g.currentTime=0;else{g.trackId=null;g.pauseWhenVideoIsPaused=null;g.pause();try{g.currentTime=0}catch(k){}g.removeAttribute("src")}}else if("ENABLE_PLAY_BUTTON"==
e.trackActionType)$(".play-video").removeClass("ctrl-item-disabled");else if("DISABLE_PLAY_BUTTON"==e.trackActionType)$(".play-video").addClass("ctrl-item-disabled");else if("ENABLE_PAUSE_BUTTON"==e.trackActionType)$(".pause-video").removeClass("ctrl-item-disabled");else if("DISABLE_PAUSE_BUTTON"==e.trackActionType)$(".pause-video").addClass("ctrl-item-disabled");else if("ENABLE_SEEKBAR"==e.trackActionType)$(".ivid-seekbar").removeClass("ctrl-item-disabled");else if("DISABLE_SEEKBAR"==e.trackActionType)$(".ivid-seekbar").addClass("ctrl-item-disabled");
else if("SHOW_PLAYER_CONTROLS"==e.trackActionType)showPlayerControls();else if("HIDE_PLAYER_CONTROLS"==e.trackActionType)hidePlayerControls();else if("INSTANT_PLAY"==e.trackActionType)$('[data-id\x3d"'+c.id+'"]').css("pointer-events","none"),b=JSON.parse(e.value),null!=b&&null!=b.hashId&&(g=0,null!=b.sec&&(g=b.sec/1E3),createInstantPlay(b.hashId,g));else if("CONTEXT_DATA"==e.trackActionType){if("CONDITIONAL"==c.trackType&&delete activeConditionalTrackIds[c.id],!__IVIDEO_CONTEXT__.projects[sceneData.hashId].consumedActions[e.id]){var h=
g=b=null,d=!1;e.value&&(h=e.value.split(";"));null!=h&&0<h.length&&(b=h[0],g=h[1],2<h.length&&"1"==h[2]&&(d=!0));d||(__IVIDEO_CONTEXT__.projects[sceneData.hashId].consumedActions[e.id]=!0);h=getVariable(b);evaluateHtmlContext(b,g);apiEvent("contextChanged");g=getVariable(b);c8PlayerApi.executeEvent(null,"variableChange",b,h,g);apiEvent("variableChange",{name:b,prevValue:h,newValue:g})}}else if("EXECUTE_JS_API_CUSTOM_CALLBACK"==e.trackActionType)h=e.value.split(";"),g=b=null,null!=h&&0<h.length&&(b=
h[0],null!=h[1]&&(g=h[1])),void 0!=g&&null!=g&&("true"===g||"false"===g?g="true"==g?!0:!1:isNaN(g)||(g=parseFloat(g.replace(/,/g,"")))),h=null,void 0!=b&&null!=b&&""!=b&&(h=_defineProperty({},b,g)),apiEvent("customcallback",h);else if("MUTE"==e.trackActionType){_currentVol=popcorn.volume();popcorn.volume(0);try{$("#vol-slider").slider("value",0)}catch(f){setTimeout(function(){$("#vol-slider").slider("value",0)},1E3)}"ios"==getMobileOS()&&(b=document.getElementById("xvideo"),b.muted=!0)}else if("UNMUTE"==
e.trackActionType)"ios"==getMobileOS()&&(b=document.getElementById("xvideo"),b.muted=!1),popcorn.volume(_currentVol),$("#vol-slider").slider("value",100*_currentVol);else if("SPEED"==e.trackActionType)b=parseFloat(e.value)||1,popcorn.playbackRate(b);else if("WEBHOOK"==e.trackActionType)webhookConf=JSON.parse(e.value),null!=webhookConf.widgetCustomPropId?executeWebhook(webhookConf.widgetCustomPropId,webhookConf.sync,webhookConf.userInteractions,webhookConf.userInteractionTrackTypes,"WIDGET"):null!=
webhookConf.questionOptionId?executeWebhook(webhookConf.questionOptionId,webhookConf.sync,webhookConf.userInteractions,webhookConf.userInteractionTrackTypes,"QUESTION_OPTION"):executeWebhook(e.id,webhookConf.sync,webhookConf.userInteractions,webhookConf.userInteractionTrackTypes);else if("SCORM_SET_COMPLETED"==e.trackActionType)scormSetCompleted(!0);else if("SCORM_SET_SUCCESS"==e.trackActionType)scormSetSuccessStatus("passed");else if("SCORM_SET_FAILED"==e.trackActionType)scormSetSuccessStatus("failed");
else if("SCORM_SET_VALUE"==e.trackActionType){b=e.parameters;if(null!=e.value)try{g=JSON.parse(e.value),null!=g&&null!=g.params&&(b=g.params)}catch(l){console.log(l)}if(null!=b&&0<b.length)for(g=0;g<b.length;g++)h=getReplacedVariableData(b[g].value),scormSetValue(b[g].key,h)}}}function _defineProperty(c,e,b){e in c?Object.defineProperty(c,e,{value:b,enumerable:!0,configurable:!0,writable:!0}):c[e]=b;return c}
function checkCondition(c){if(null==c||""==c||"()"==c)return!0;if(null!=__IVIDEO_CONTEXT__.projects[sceneData.hashId].context){var e=__IVIDEO_CONTEXT__.projects[sceneData.hashId].context,e=objectToDotNotation(e),b;for(b in e)if(e.hasOwnProperty(b)){var g=e[b];if(isNaN(g)||"boolean"===typeof g)g='"'+e[b]+'"';if(isNaN(g)||"boolean"!==typeof g)b+=" ";"string"===typeof g&&(g=g.latinize().trim().toLowerCase());"string"===typeof b&&(b=b.latinize().trim().toLowerCase());"string"===typeof c&&(c=c.latinize().trim().toLowerCase());
c=c.replace(new RegExp(new RegExp(b+" "),"g"),g)}try{var k=c.replace(/\(/gm," ").replace(/\)/gm," ").split(/[!=,==,>,<,>=,<=,&&,||]+/);if(null!=k&&0<k.length)for(e=0;e<k.length;e++){var h=k[e].trim();try{eval("typeof "+h+" \x3d\x3d\x3d 'undefined'")&&(c=c.replace(h,null))}catch(d){c=c.replace(h,null)}}return eval(c)}catch(f){return-1!=c.indexOf("!\x3d")?!0:!1}}}
function recursiveEvalGen(c){try{return eval(c)}catch(e){if(e instanceof ReferenceError){var b=e.message.split(" ")[0];c=c.replace(b,null);return recursiveEvalGen(c)}return-1!=c.indexOf("!\x3d")?!0:!1}}
function audioTrackPlay(c){function e(b){b.currentTarget.removeEventListener("ended",e);c.repeat||(b=audioElements.getByTrackId(c.id),b.removeAttribute("src"),b._playing=!1);void 0!=c.trackActions&&null!=c.trackActions&&0<c.trackActions.length&&c.trackActions.forEach(function(b){"ONEND"==b.trackTriggerType&&("REWINDTO"==b.trackActionType?mobileAndTabletcheck()?jumpTo(b.value/1E3,c.trackActions,c.trackType,b.trackTriggerType):rewindTo(b.value):"PAUSE"==b.trackActionType?pauseIt(!0):"JUMPTO"==b.trackActionType?
jumpTo(b.value/1E3,c.trackActions,c.trackType,b.trackTriggerType):"PLAY"==b.trackActionType&&playIt(null,!0))});c.repeat&&audioTrackPlay(c)}var b=!1;void 0!=c.trackActions&&null!=c.trackActions&&0<c.trackActions.length&&c.trackActions.forEach(function(d){if("ONSTART"==d.trackTriggerType&&("PAUSE"==d.trackActionType&&pauseIt(!0),"DELAY"==d.trackActionType)){var f=audioElements.getNext(!1,c.repeat,c.pauseWhenVideoIsPaused,c.syncWithTimeline,c.id);f.setAttribute("src",c.mediaContent.url);intervalDelayedAudio=
setInterval(function(){f.play();clearInterval(intervalDelayedAudio)},d.value);b=!0}});var g=audioElements.getNext(c.keepOnTrackExit,c.repeat,c.pauseWhenVideoIsPaused,c.syncWithTimeline,c.id);c.mediaContent.url&&g.setAttribute("src",c.mediaContent.url);!c.mediaContent.url&&c.mediaContent.hlsUrl&&g.setAttribute("src",c.mediaContent.hlsUrl);if(Hls.isSupported()&&!c.mediaContent.url&&c.mediaContent.hlsUrl){var k=new Hls;k.loadSource(c.mediaContent.hlsUrl);k.attachMedia(g);k.on(Hls.Events.MANIFEST_PARSED,
function(){})}var h=popcorn.currentTime().toFixed(2);c.syncWithTimeline?h>=c.start&&h<=c.end&&!g.pausedByAudioStopAction&&(g._playing=!0):g._playing=!0;g.addEventListener("ended",e,!1);audioElements.syncWithTimeline();b||setTimeout(function(){c.syncWithTimeline&&popcorn.paused()||(c.syncWithTimeline?h>=c.start&&h<=c.end&&!g.pausedByAudioStopAction&&g.play():g.play())})}
function compileFreeMarkerTemplate(c,e){if(null!=e)for(var b in e)if(e.hasOwnProperty(b)){var g=e[b],k=c.match(new RegExp("\\$\\{"+b+".*?}","g"));if(null!=k&&0<k.length)for(var h=0;h<k.length;h++)c=c.replace(k[h],g)}b=c.match(/\$\{.*?}/g);if(null!=b&&0<b.length)for(h=0;h<b.length;h++)g="",k=b[h].split("!"),null!=k&&0<k.length&&(g=k[1]),null!=g&&(g=g.replace(/['"}]+/g,"")),void 0==g&&(g=""),c=c.replace(b[h],g);return c}
function jumpTo(c,e,b,g,k){var h=null;try{null!=trackTimeRangeList&&0<trackTimeRangeList.length&&trackTimeRangeList.forEach(function(b){("QUESTION"==b.trackType||"FORM_DESIGNER"==b.trackType)&&c>=b.start&&b.end>=c&&1>=b.end-b.start&&(c=(parseFloat(b.start)+.5).toFixed(2))})}catch(d){console.log(d)}null!=e&&e.forEach(function(c){c.trackTriggerType!=g||"PLAY"!=c.trackActionType&&"PAUSE"!=c.trackActionType||(h=c.trackActionType)});if(null!=k)createInstantPlay(k,c);else{try{popcorn.currentTime(c)}catch(f){}"PLAY"==
h?playIt(c,!0):"PAUSE"==h&&pauseIt(!0)}}
function renderVariables(c){if(null!=c&&-1<c.indexOf("${")){var e=[],b=c.match(/<img.*?src="(.*?)"[^\>]+>/g);if(null!=b)for(var g=0;g<b.length;g++){var k=b[g].substring(1,b[g].length-1).match(/src\=([^\s]*)\s/)[1],k=k.substring(1,k.length-1);e.push(k)}b=c;if(null!=e&&0<e.length){b=(new DOMParser).parseFromString(b,"text/html");for(g=0;g<e.length;g++)if($("img[src$\x3d'"+e[g]+"']",b).addClass("project-context"),c=e[g].match(/\$\{(.*?)\}/g),null!=c){var k=c[0].replace(/\$\{/g,""),k=k.replace(/\}/g,
""),h=k.split("!"),k=h[0].trim();$("img[src$\x3d'"+e[g]+"']",b).attr("data-project-context-ref",k)}b=b.body.innerHTML}for(var d=b.match(/\$\{(.*?)\}/g),g=0;g<d.length;g++)for(var f=d[g].match(/\$\{(.*?)\}/g),l=0;l<f.length;l++){var n=f[l];c=n.match(/\$\{(.*?)\}/g);var k=c[0].replace(/\$\{/g,""),k=k.replace(/\}/g,""),h=k.split("!"),k=h[0].trim(),p="";void 0!=h[1]&&(p=h[1].trim());var h="",q=k,r=__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[k],s={},v=!1,z=q;-1!=q.indexOf(".")&&(q=q.split(".")[0],
s[q]="authenticatedUser"==q?__IVIDEO_CONTEXT__.authenticatedUser:__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[q],s[q]?(s=objectToDotNotation(s),v=!0):q=z);isNull(q)||isNull(s)||s.constructor!==Object||isNull(s[k])||(h=s[k]);v||isNull(r)||(h=r);""==h&&void 0!=p&&null!=p&&""!=p&&(h=p);b=e.includes(c[0])?b.replace(n,h):b.replace(n,'\x3cspan class\x3d"project-context" data-project-context-ref\x3d"'+k+'"\x3e'+h+"\x3c/span\x3e")}c=b}return c}
function setVisible(c,e,b){if(null!=c){null==e&&(e=findElement(_tracks,"id",c));var g=!1,k=$('*[data-id\x3d"'+c+'"]');if(null!=k&&0<k.length)"visible"==k.css("visibility")&&(g=!0),k.css("visibility","visible"),void 0!=k.parent()&&null!=k.parent()&&k.parent().hasClass("ivid-quest-wrapper")&&(k.parent().css("display","block"),$(".ext-video-controls").css("display","none"),hideChapterMenu(),hideShareIcon(),wBackgroundIsOpen=!0);else if(k=skippedElements[c],null!=k){"visible"==k.css("visibility")&&(g=
!0);k.css("visibility","visible");k.css("display","block");var h=!0;if(null!=popcorn.getTrackEvents()&&0<popcorn.getTrackEvents().length)for(var d=0;d<popcorn.getTrackEvents().length;d++)if(popcorn.getTrackEvents()[d].id==c&&("VIDEO"==popcorn.getTrackEvents()[d].trackType||popcorn.getTrackEvents()[d].fixedPosition)){h=!1;break}null==c8VR||!h||null!=b.fixedPosition&&b.fixedPosition||"IMAGE"!=b.trackType&&"HTML"!=b.trackType&&"CLICKABLE_AREA"!=b.trackType&&"TEMPLATED"!=b.trackType&&"LOTTIE"!=b.trackType?
$("#overlay-area").append(k):$(document.getElementById("_360_wrapper").childNodes[0]).append(k)}$("#overlay-area").animate({scrollTop:0},"fast");$("#overlay-area").css("overflow-y","hidden");k&&null!=e&&"QUESTION"==e.trackType&&e.pauseVideoOnEnter&&pauseIt(!0);null!=e&&"VIDEO"==e.trackType&&playVideoTrack(e);null!=e&&"DFP"==e.trackType&&(currentAd=new Ad(e));if(!g){if((e=document.querySelectorAll('[data-c8-element-template\x3d"c8-elem-tmpl-'+c+'"]'))&&0<e.length)for(b=new CustomEvent("onVisibilityChange",
{detail:{visible:!0}}),d=0;d<e.length;d++)e[d].dispatchEvent(b);c8PlayerApi.executeEvent(c,"visibilityChange",!0)}null!=c8VR&&c8VR.setVisible(c)}}
function setInvisible(c,e,b){if(null!=c){var g=!1;null==e&&(e=findElement(_tracks,"id",c));b=$('*[data-id\x3d"'+c+'"]');"hidden"==b.css("visibility")&&(g=!0);b.css("visibility","hidden");if(!g){if((g=document.querySelectorAll('[data-c8-element-template\x3d"c8-elem-tmpl-'+c+'"]'))&&0<g.length)for(var k=new CustomEvent("onVisibilityChange",{detail:{visible:!1}}),h=0;h<g.length;h++)g[h].dispatchEvent(k);c8PlayerApi.executeEvent(c,"visibilityChange",!1)}void 0!=b.parent()&&null!=b.parent()&&b.parent().is("form")&&
b.parent().hasClass("ivid-quest-wrapper")&&b.parent().css("visibility","hidden");$("#overlay-area").css("overflow-y","auto");null!=e&&"VIDEO"==e.trackType&&stopVideoTrack(e);if(null!=e&&"TEMPLATED"!=e.trackType){if(null==skippedElements[e.id]||null!=skippedElements[e.id]&&0>=skippedElements[e.id].length){b=$("#"+e.id).clone();if(null==b||0>=b.length)b=$("#anim-obj-"+e.id).clone();skippedElements[e.id]=b}$("#"+e.id).remove();$("#anim-obj-"+e.id).remove()}null!=c8VR&&c8VR.setInvisible(c)}}
(function(c){c.plugin("gplayer",function(c){var b=this,g=b.media,k=new Animator;return{start:function(c,d){if("function"===typeof d.onStart)try{d.onStart(d)}catch(f){}$(function(){var c=null;if(!rewinding){"CONDITIONAL"==d.trackType&&(activeConditionalTrackIds[d.id]=!0);try{if(null!=d&&null!=d.dataProp){var f=JSON.parse(d.dataProp);null==c8VR||null==f||null!=d.fixedPosition&&d.fixedPosition||null!=f.lat&&null!=f.lon||"IMAGE"!=d.trackType&&"HTML"!=d.trackType&&"CLICKABLE_AREA"!=d.trackType&&"TEMPLATED"!=
d.trackType&&"LOTTIE"!=d.trackType||(f.lat=-0,f.lon=-90,d.dataProp=JSON.stringify(f))}}catch(e){}void 0!=d.trackActions&&null!=d.trackActions&&0<d.trackActions.length&&d.trackActions.forEach(function(c){"ONSTART"==c.trackTriggerType&&"PAUSE"==c.trackActionType&&"CONDITIONAL"!=d.trackType&&(forcePauseConsumed||0!=b.currentTime()||(forcePause=!0),pauseIt(!0))});if("IMAGE"==d.trackType||"DYNAMIC_IMAGE"==d.trackType){if("IMAGE"==d.trackType){if(c=Handlebars.getTemplate("ivid-img"),void 0!=d.image.url&&
null!=d.image.url){var f=endsWith(d.image.url,"gif"),h=d.image.url;f&&(d.image.url=d.image.url+"?v\x3d"+(new Date).getTime())}}else c=Handlebars.getTemplate("ivid-dynamic-img");$("#overlay-area").find("#anim-obj-"+d.id).remove();d.rnd=(new Date).getTime();null!=d.inEffect?setTimeout(function(){k.animate(d,d.inEffect,"anim-obj")}):setTimeout(function(){$("#overlay-area").find("#anim-obj-"+d.id).css("opacity",1)});setTimeout(function(){d.image&&(d.image.url=h)},150)}else if("SCENE_ITEM"==d.trackType)c=
Handlebars.getTemplate("ivid-scene-item"),void 0!=d.scene.image.url&&null!=d.scene.image.url&&(f=endsWith(d.scene.image.url,"gif"),h=d.scene.image.url,f&&(d.scene.image.url=d.scene.image.url+"?v\x3d"+(new Date).getTime())),$("#overlay-area").find("#anim-obj-"+d.id).remove(),setTimeout(function(){d.scene.image&&(d.scene.image.url=h);$("#anim-obj-"+d.id).css("opacity",1);void 0!=d.trackActions&&null!=d.trackActions&&0<d.trackActions.length&&d.trackActions.forEach(function(c){"ONCLICK"!=c.trackTriggerType&&
"ONSTART"!=c.trackTriggerType||trackOnAction(d,c)});$(".gplayer-scene-item-form").hover(function(){$(this).addClass("si-hover");$("#overlay-area").css("background","rgba(0, 0, 0, 0.3)")},function(){$(this).removeClass("si-hover");$("#overlay-area").css("background","rgba(0, 0, 0, 0)")})},150);else if("CLICKABLE_AREA"==d.trackType)c=Handlebars.getTemplate("ivid-clickable-area"),setTimeout(function(){null!=d&&d.blink&&$('[data-id\x3d"'+d.id+'"]').addClass("ivid-blink")},150);else if("FORM_DESIGNER"==
d.trackType)c=Handlebars.getTemplate("ivid-form-designer"),pauseIt(!0),currentFormDesignData=$.parseJSON(d.data),setTimeout(function(){wBackgroundIsOpen=!0;$(".ext-video-controls").css("display","none");$("#ivid-form-designer-render").formRender({dataType:"json",formData:d.data});for(var c=$("#ivid-form-designer-render"),b=0;b<$(c).find(".radio input").length;b++)$($($($(c).find(".radio input")[b]).next())[0]).prepend("\x3ci\x3e\x3c/i\x3e").prepend($(c).find(".radio input")[b]);for(b=0;b<$(c).find(".checkbox input").length;b++)$($($($(c).find(".checkbox input")[b]).next())[0]).prepend("\x3ci\x3e\x3c/i\x3e").prepend($(c).find(".checkbox input")[b]);
for(b=0;b<$(c).find(".checkbox-inline input").length;b++)$($($($(c).find(".checkbox-inline input")[b]).next())[0]).prepend("\x3ci\x3e\x3c/i\x3e").prepend($(c).find(".checkbox-inline input")[b]);for(b=0;b<$(c).find(".radio-inline input").length;b++)$($($($(c).find(".radio-inline input")[b]).next())[0]).prepend("\x3ci\x3e\x3c/i\x3e").prepend($(c).find(".radio-inline input")[b]);null!=userFormDesignAnswers&&null!=userFormDesignAnswers[d.id]&&userFormDesignAnswers[d.id].forEach(function(c){(c.name.startsWith("text")||
c.name.startsWith("date")||c.name.startsWith("number"))&&$('*[name\x3d"'+c.name+'"]').val(c.value);if(c.name.startsWith("autocomplete")){var b=$("ul li[value\x3d'"+c.value+"']").html();$("#"+c.name+"-input").val(b);$("#"+c.name+"-input").next().val(c.value)}c.name.startsWith("checkbox")&&$('input[type\x3d"checkbox"][value\x3d"'+c.value+'"]').prop("checked",!0);c.name.startsWith("radio")&&$('input[type\x3d"radio"][value\x3d"'+c.value+'"]').prop("checked",!0);c.name.startsWith("select")&&$('select option[value\x3d"'+
c.value+'"]').prop("selected",!0)})}),$(window).resize(),setTimeout(function(){b.paused()||pauseIt(!0);$(window).resize();wBackgroundIsOpen=!0;$(".ext-video-controls").css("display","none")},300);else if("TEMPLATED"==d.trackType)c=templatedTrackRenderer(d,d.html,d.css,d.js,"ivid-templated"),d.trackable&&null!=d.motionData&&$("[data-c8-element-template\x3d'c8-elem-tmpl-"+d.id+"']").css("opacity",0);else if("HTML"==d.trackType)void 0!=d.originalHtmlSrc&&null!=d.originalHtmlSrc&&(d.htmlSrc=d.originalHtmlSrc),
d.originalHtmlSrc=d.htmlSrc,d.htmlSrc=renderVariables(d.htmlSrc),f=null,"undefined"!==typeof _loggedInUser_&&(f=_loggedInUser_),d.htmlSrc=compileFreeMarkerTemplate(d.htmlSrc,f),c=Handlebars.getTemplate("ivid-html");else if("COUNTDOWN"==d.trackType)c=Handlebars.getTemplate("ivid-countdown"),void 0!=activeCountdownTracks[d.id]&&null!=activeCountdownTracks[d.id]||setTimeout(function(){var c=150,b=JSON.parse(d.dataProp);null!=b&&(c=b.height,null!=c&&""!=c&&(c=c.replace(/\% ?/g,""),c=$("#overlay-area").height()/
(100/c)));c={width:c,autostart:!1,smooth:!0,onComplete:function(){void 0!=d.trackActions&&null!=d.trackActions&&0<d.trackActions.length&&d.trackActions.forEach(function(c){"ONCOMPLETE"==c.trackTriggerType&&trackOnAction(d,c)});var c=activeCountdownTracks[d.id];void 0!=c&&null!=c&&(delete activeCountdownTracks[d.id],$("#countdown_"+d.id).closest("form").remove())}};null!=d.seconds&&""!=d.seconds&&(c.seconds=d.seconds);null!=d.fontColor&&(c.fontColor=d.fontColor);null!=d.fillColor&&(c.fillStyle=d.fillColor);
null!=d.strokeColor&&(c.strokeStyle=d.strokeColor);null!=d.label&&""!=d.label&&(c.label=[d.label,d.label]);c=$("#countdown_"+d.id).countdown360(c);activeCountdownTracks[d.id]=c;c.start();c.updateSize()});else if("LOTTIE"==d.trackType)$("#overlay-area").find("#anim-obj-"+d.id).remove(),d.lottiePlayerData=getLottiPlayerHtml(d.file.url,d.loop,d.animationSpeed,d.syncWithTimeline,!1),c=Handlebars.getTemplate("ivid-lottie"),d.rnd=(new Date).getTime(),null!=d.inEffect?setTimeout(function(){try{document.querySelector("#anim-obj-"+
d.id+" lottie-player").addEventListener("ready",function(c){k.animate(d,d.inEffect,"anim-obj");b.paused()&&c.currentTarget.pause()})}catch(c){k.animate(d,d.inEffect,"anim-obj")}}):setTimeout(function(){$("#overlay-area").find("#anim-obj-"+d.id).css("opacity",1)});else if("ANIMATED_TEXT"==d.trackType)c=Handlebars.getTemplate("ivid-animated-text"),$("#overlay-area").find("#anim-obj-"+d.id).remove(),d.text=renderVariables(d.text),f=null,"undefined"!==typeof _loggedInUser_&&(f=_loggedInUser_),d.text=
compileFreeMarkerTemplate(d.text,f),d.rnd=(new Date).getTime(),setTimeout(function(){k.animate(d,d.inEffect,"anim-obj")});else if("KJ_BAND"==d.trackType)c=Handlebars.getTemplate("ivid-kjBandV1"),setTimeout(function(){var c=JSON.parse(d.dataProp);kj1(d.kjBandText,c,d.start,d.end)});else if("DRAWING"==d.trackType)c=Handlebars.getTemplate("ivid-drawing"),$("#overlay-area form#"+d.id).remove(),setTimeout(function(){ividDrawing(d)});else if("SUBTITLE"==d.trackType)$(".gplayer-subtitle-wrapper").remove(),
c=Handlebars.getTemplate("ivid-subtitle");else if("VIDEO"==d.trackType)c=Handlebars.getTemplate("ivid-vid");else if("JUMPTO"==d.trackType)jumpTo(d.jumpLocation/1E3,d.trackActions,d.trackActions,d.trackType,d.jumpToProjectHashId);else if("AUDIO"==d.trackType)d.syncWithTimeline?d.visible?audioTrackPlay(d):(f=audioElements.getByTrackId(d.id),null!=f&&null!=f.id&&audioTrackPlay(d)):d.visible&&audioTrackPlay(d);else if("SCENE_SELECTION"==d.trackType)c=Handlebars.getTemplate("ivid-scene-selection"),$(".ext-video-controls").fadeIn(300,
function(){$(this).css("display","block")}),$(".container").css("cursor","auto"),pauseIt(!0),g.dispatchEvent("pause"),d.skippable||$(".ext-video-controls").fadeOut(300,function(){$(this).css("display","none")});else if("QUESTION"==d.trackType){d.visible&&(wBackgroundIsOpen=!0,d.pauseVideoOnEnter&&pauseIt(!0));d.keepAnswer&&getUserAnswers(d);switch(d.questionType){case "FREE_TEXT":null!=sceneData.questionTemplate||null!=d.template?(c=getQuestionTemplateById(null!=d.template&&null!=d.template.id?d.template.id:
sceneData.questionTemplate.id,d.questionType),c=$.isEmptyObject(c)?Handlebars.getTemplate("ivid-free-text-question"):templatedTrackRenderer(d,c.html,c.css,c.js,"c8-qn-tmpl-html")):c=Handlebars.getTemplate("ivid-free-text-question");break;case "AUDIO_VIDEO_INPUT":setAudioVideoInputQuestionData(d.audioVideoInputQuestionType,d.audioVideoInputDuration);c=Handlebars.getTemplate("ivid-audio-video-input-question");setTimeout(function(){void 0==window.MediaRecorder&&alert("Unfortunately, your browser does not support this feature. Please use Google Chrome or Firefox...")},
300);break;case "FILL_IN_THE_BLANK":d.questionText=d.questionText.replace(/disabled="disabled"/g,"");d.questionText=d.questionText.replace(/placeholder="[^"]*"/g,"");null!=d.userAnswer&&null!=d.userAnswer.answers&&0<d.userAnswer.answers.length&&d.userAnswer.answers.forEach(function(c){d.questionText=d.questionText.replace('\x3cinput id\x3d"'+c.id+'"','\x3cinput id\x3d"'+c.id+'" value\x3d"'+c.value+'"')});null!=sceneData.questionTemplate||null!=d.template?(c=getQuestionTemplateById(null!=d.template&&
null!=d.template.id?d.template.id:sceneData.questionTemplate.id,d.questionType),c=$.isEmptyObject(c)?Handlebars.getTemplate("ivid-fib-question"):templatedTrackRenderer(d,c.html,c.css,c.js,"c8-qn-tmpl-html")):c=Handlebars.getTemplate("ivid-fib-question");break;case "DRAG_N_DROP":dndMatches={};$(window).off("resize.dndQuestion");null==d.questionText&&(d.questionText="");d.questionText=d.questionText.replace(/placeholder="[^"]*"/g,"");null!=d.userAnswer&&null!=d.userAnswer.answers&&0<d.userAnswer.answers.length&&
(d.userAnswer.answers.forEach(function(c){dndMatches[c.id]=c.value}),updateDndQuestionPosition());null!=sceneData.questionTemplate||null!=d.template?(c=getQuestionTemplateById(null!=d.template&&null!=d.template.id?d.template.id:sceneData.questionTemplate.id,d.questionType),c=$.isEmptyObject(c)?Handlebars.getTemplate("ivid-dnd-question"):templatedTrackRenderer(d,c.html,c.css,c.js,"c8-qn-tmpl-html")):c=Handlebars.getTemplate("ivid-dnd-question");setTimeout(function(){var c=document.querySelectorAll(".dnd-drop-wrapper input, .c8-dnd-drop-wrapper input");
null!=c&&0<c.length&&c.forEach(function(c){c=c.getAttribute("data-dnd-drop-id");dndMatches[c]||(dndMatches[c]=null)});var b=null;Draggable.create(document.querySelectorAll(".dnd-draggable, .c8-dnd-draggable"),{type:"x,y",throwProps:!0,bounds:"#overlay-area",onPress:function(){gsap.to(this.target,0,{boxShadow:"inset 0 0 0.2rem 0 rgb(61 76 90 / 70%)"})},onRelease:function(){gsap.to(this.target,0,{background:null,boxShadow:null,borderColor:null})},onDrag:function(c){for(c=document.querySelectorAll(".dnd-drop-wrapper input, .c8-dnd-drop-wrapper input").length;-1<
--c;){var d=document.querySelectorAll(".dnd-drop-wrapper input, .c8-dnd-drop-wrapper input")[c];if(this.hitTest(d,"1%")){b=c;gsap.to(d,.5,{opacity:.8});break}else b=null,gsap.to(d,.5,{opacity:1})}},onDragEnd:function(){var c=this.target.getAttribute("data-dnd-drag-id");null!=c&&(c=parseInt(c));var d=null;null!=b&&(d=document.querySelectorAll(".dnd-drop-wrapper input, .c8-dnd-drop-wrapper input")[b].getAttribute("data-dnd-drop-id"));null!=b&&null!=d&&null!=dndMatches[d]&&c!=dndMatches[d]&&(b=null);
Object.keys(dndMatches).forEach(function(b){dndMatches[b]==c&&(dndMatches[b]=null)});if(null===b)gsap.to(this.target,.2,{x:0,y:0});else{dndMatches[d]=c;var d=document.querySelectorAll(".dnd-drop-wrapper input, .c8-dnd-drop-wrapper input")[b].getBoundingClientRect(),f=this.target.getBoundingClientRect();gsap.to(this.target,.2,{x:"+\x3d"+(d.x-f.x-2),y:"+\x3d"+(d.y-f.y-(f.height-d.height)/2)});Object.keys(dndMatches).forEach(function(c){null===dndMatches[c]&&(c=document.querySelector(".dnd-drop-wrapper input[data-dnd-drop-id\x3d'"+
c+"'], .c8-dnd-drop-wrapper input[data-dnd-drop-id\x3d'"+c+"']"),null!=c&&gsap.to(c,0,{}))})}}});$(window).on("resize.dndQuestion",function(){clearTimeout(dndQuestionResizeTimer);updateDndQuestionPosition()})},400);break;case "SINGLE_SELECT":d.optionType="";d.showOptionsAsImage&&(d.optionType="image",setTimeout(function(){var c=document.getElementById(d.id);c.style.right="0%";c.style.left="0%";c.style.top="0%";c.style.bottom="0%";c.style.height="100%";c.style.width="100%";c=$('.question-text-label-opt-img[data-id\x3d"'+
d.id+'"]')[0];if(null!=d.questionTextDataProp){var b=JSON.parse(d.questionTextDataProp);null!=b.right&&(c.style.right=b.right);null!=c&&null!=c.style&&(c.style.left=b.left,c.style.top=b.top,c.style.height=b.height,c.style.width=b.width,c.style.bottom=b.bottom)}d.options.forEach(function(c){var b=$('.gplayer-ss-opt-img-item[data-opt-id\x3d"'+c.id+'"]')[0];if(null!=b&&null!=c.dataProp){var d=JSON.parse(c.dataProp);b.style.right=d.right;b.style.left=d.left;b.style.top=d.top;b.style.height=d.height;b.style.width=
d.width;b.style.bottom=d.bottom;b.style.backgroundImage="url('"+c.imageUrl+"')"}});$(".gplayer-ss-opt-img-item").hover(function(){$(this).addClass("sso-opt-hover");$("#overlay-area").css("background","rgba(0, 0, 0, 0.3)")},function(){$(this).removeClass("sso-opt-hover");$("#overlay-area").css("background","rgba(0, 0, 0, 0)")});d.hideQuestionText||$(".ss-image-opt-quest").css("display","block")},150));null!=sceneData.questionTemplate||null!=d.template?(c=getQuestionTemplateById(null!=d.template&&null!=
d.template.id?d.template.id:sceneData.questionTemplate.id,d.questionType),c=$.isEmptyObject(c)?Handlebars.getTemplate("ivid-single-select-question"):templatedTrackRenderer(d,c.html,c.css,c.js,"c8-qn-tmpl-html")):c=Handlebars.getTemplate("ivid-single-select-question");break;case "MULTI_SELECT":null!=sceneData.questionTemplate||null!=d.template?(c=getQuestionTemplateById(null!=d.template&&null!=d.template.id?d.template.id:sceneData.questionTemplate.id,d.questionType),c=$.isEmptyObject(c)?Handlebars.getTemplate("ivid-multi-select-question"):
templatedTrackRenderer(d,c.html,c.css,c.js,"c8-qn-tmpl-html")):c=Handlebars.getTemplate("ivid-multi-select-question");break;case "TRUE_FALSE":c=Handlebars.getTemplate("ivid-true-false-question")}activeQuestionTrackId=d.id}else"DFP"==d.trackType&&(void 0!=d.tagUrl&&null!=d.tagUrl&&(c=Handlebars.getTemplate("ivid-dfp-vast")),d.visible&&(currentAd=new Ad(d)));if("CHAPTER"!=d.trackType){f=null;c&&(f=Handlebars.compile(c));d.linkLocation&&!/^(f|ht)tps?:\/\//i.test(d.linkLocation)&&(d.linkLocation="http://"+
d.linkLocation);d.contextUrl="https://app.cinema8.com";c=null;null!=f&&(c=f(d));var r=null;null!=c&&(null==c8VR||"IMAGE"!=d.trackType&&"HTML"!=d.trackType&&"CLICKABLE_AREA"!=d.trackType&&"TEMPLATED"!=d.trackType&&"LOTTIE"!=d.trackType?$("#overlay-area").append(c):(c=c.trim(),r=$.parseHTML(c)[0],null!=d.fixedPosition&&d.fixedPosition&&$("#overlay-area").append(c)));updateUserInteractionContext(d,"expose");d.hideQuestionText&&$(".question-text-label").css("display","none");"FORM_DESIGNER"==d.trackType&&
setTimeout(function(){$(".btn-fd-confirm").css("display","block")});if(d.dataProp){f=JSON.parse(d.dataProp);null!=document.getElementById(d.id)?r=document.getElementById(d.id):null!=document.getElementById("anim-obj-"+d.id)&&(r=document.getElementById("anim-obj-"+d.id));var s=document.getElementById("xvideo"),v=!1;null!=s&&s.videoHeight>s.videoWidth&&(v=!0);if(null!=r){if("VIDEO"==d.trackType)d.visible||(r.style.visibility="hidden"),r.children[1].style.zIndex=f.zIndex;else if("DFP"!=d.trackType||
void 0!=d.tagUrl&&null!=d.tagUrl){r.style.right=f.right;r.style.top=f.top;r.style.height=f.height;r.style.bottom=f.bottom;r.style.zIndex=f.zIndex;mobileAndTabletcheck()&&"QUESTION"==d.trackType&&v||(r.style.left=f.left,r.style.width=f.width);"FADE_IN"==d.inEffect&&$("."+r.id).css("opacity",0);"IMAGE"==d.trackType&&"100%"==f.height&&"100%"==f.width&&(r.style.backgroundSize="cover");if("IMAGE"==d.trackType){var z=!1;if(null!=d.trackActions&&0<d.trackActions.length)for(c=0;c<d.trackActions.length;c++)if("ONCLICK"==
d.trackActions[c].trackTriggerType){z=!0;break}z||(r.style.pointerEvents="none")}null!=f.borderRadius&&(r.style.borderRadius=f.borderRadius+"%");"FORM_DESIGNER"!=d.trackType&&"QUESTION"!=d.trackType||null==r.parentElement||(r.parentElement.style.zIndex=f.zIndex,null!=s&&s.videoHeight>s.videoWidth&&(r.className+=" vertical-vid-track"),mobileAndTabletcheck()&&!v&&(r.style.top=0,r.style.left=0));d.visible||("QUESTION"==d.trackType&&(r.parentElement.style.display="none"),r.style.visibility="hidden");
if("HTML"==d.trackType||"CLICKABLE_AREA"==d.trackType)r.style.background=f.background;void 0!=d.optionType&&null!=d.optionType&&"image"==d.optionType&&(r.style.right="0px",r.style.left="0px",r.style.top="0px",r.style.bottom="0px",r.style.height="100%",r.style.width="100%")}else f.left?(r.style.left=f.left,r.style.top=($("#overlay-area").height()-f.height.replace("px",""))/2+"px"):f.bottom?(r.style.bottom=f.bottom,r.style.left=($("#overlay-area").width()-f.width.replace("px",""))/2+"px"):f.center?
(r.style.left=($("#overlay-area").width()-f.width.replace("px",""))/2+"px",r.style.top=($("#overlay-area").height()-f.height.replace("px",""))/2+"px"):f.top?(r.style.top=f.top,r.style.left=($("#overlay-area").width()-f.width.replace("px",""))/2+"px"):f.right&&(r.style.right=f.right,r.style.top=($("#overlay-area").height()-f.height.replace("px",""))/2+"px");"QUESTION"==d.trackType&&"AUDIO_VIDEO_INPUT"==d.questionType&&(r.style.left="3%",r.style.top="3%",r.style.height="94%",r.style.width="94%");mobileAndTabletcheck()&&
"QUESTION"==d.trackType&&"AUDIO_VIDEO_INPUT"!=!d.questionType&&(v?(delete r.style.width,delete r.style.left):r.style.width="92%",r.style.margin="0 auto",r.style.position="relative",r.style.marginTop="0")}}null==c8VR||"IMAGE"!=d.trackType&&"HTML"!=d.trackType&&"CLICKABLE_AREA"!=d.trackType&&"TEMPLATED"!=d.trackType&&"LOTTIE"!=d.trackType||(f=JSON.parse(d.dataProp),c=f.lat,f=f.lon,c&&f||(c=-0,f=-90),c8VR.addHotspot(r,c,f,d),null!=d.fixedPosition&&d.fixedPosition||(r.style.left=null,r.style.top=null,
r.style.opacity=0,null!=document.getElementById("_360_wrapper")&&setTimeout(function(){$(document.getElementById("_360_wrapper").childNodes[0]).append(r)},100)));if(sceneData.subtitleDataProp&&"SUBTITLE"==d.trackType){var w=JSON.parse(sceneData.subtitleDataProp);$(".gplayer-subtitle-content").css("color",w.color);c=w.textShadow;$(".gplayer-subtitle-content").css("text-shadow",""+c+" 1.33333px 1.33333px 2px, "+c+" 1.33333px 1.33333px 2.66667px, "+c+" 1.33333px 1.33333px 3.33333px")}"SUBTITLE"==d.trackType&&
animatedSubtitlesRunner(d.text,d.words,w);"DFP"==d.trackType&&void 0!=d.tagUrl&&null!=d.tagUrl||$("#overlay-area").css("display","block");"QUESTION"==d.trackType&&d.visible&&($(".ext-video-controls").css("display","none"),hideChapterMenu(),hideShareIcon())}"CHAPTER"!=d.trackType&&"SUBTITLE"!=d.trackType&&"CONDITIONAL"!=d.trackType&&trackExpose(d.id);if(null==c8VR&&"HTML"==d.trackType&&!d.visible){w=$("#"+d.id).clone();if(null==w||0>=w.length)w=$("#anim-obj-"+d.id).clone();skippedElements[d.id]=w;
$("#"+d.id).remove()}if(void 0!=d.trackActions&&null!=d.trackActions&&0<d.trackActions.length){v=s=f=w=!1;z={ONCLICK:[],ONSTART:[],ONEND:[],ONCOMPLETE:[],ONCORRECT:[],ONWRONG:[]};for(c=0;c<d.trackActions.length;c++)z[d.trackActions[c].trackTriggerType].push(d.trackActions[c]),"WEBHOOK"==d.trackActions[c].trackActionType&&JSON.parse(d.trackActions[c].value).sync&&("ONCLICK"==d.trackActions[c].trackTriggerType&&(w=!0),"ONSTART"==d.trackActions[c].trackTriggerType&&(f=!0),"ONEND"==d.trackActions[c].trackTriggerType&&
(s=!0),"ONCOMPLETE"==d.trackActions[c].trackTriggerType&&(v=!0));w&&(pendingWebhookCallbackActions=z.ONCLICK);f&&(pendingWebhookCallbackActions=z.ONSTART);s&&(pendingWebhookCallbackActions=z.ONEND);v&&(pendingWebhookCallbackActions=z.ONCOMPLETE);if((w||f||s||v)&&null!=pendingWebhookCallbackActions&&0<pendingWebhookCallbackActions.length)for(w=pendingWebhookCallbackActions.length;w--;)pendingWebhookCallbackActions[w].trackEvent=d,"WEBHOOK"==pendingWebhookCallbackActions[w].trackActionType&&pendingWebhookCallbackActions.splice(w,
1);d.trackActions.forEach(function(c){"ONCLICK"!=c.trackTriggerType&&"ONSTART"!=c.trackTriggerType||trackOnAction(d,c)})}$(".gplayer-img-href").click(function(){pauseIt(!0);g.dispatchEvent("pause")});$("body").delegate('[data-id\x3d"'+d.id+'"] .ico-close-gplayer-html, [data-id\x3d"'+d.id+'"] .ico-close-gplayer-img',"click",function(){if(null==skippedElements[d.id]){var c=$("#"+d.id).clone();if(null==c||0>=c.length)c=$("#anim-obj-"+d.id).clone();skippedElements[d.id]=c}$("#"+d.id).remove();$("#anim-obj-"+
d.id).remove();null!=c8VR&&c8VR.setInvisible(d.id)});$(".ico-close-gplayer-scene-selection").click(function(){$("#"+d.id).fadeOut(300,function(){$(this).remove()});playIt(null,!0)});"VIDEO"!=d.trackType||null!=getParameterByName("t")&&0==b.currentTime()&&"s0"!=getParameterByName("t")||d.visible&&playVideoTrack(d)}})},frame:function(c,b,f){},end:function(c,d){"CONDITIONAL"==d.trackType&&delete activeConditionalTrackIds[d.id];"DFP"==d.trackType&&(null==currentAd||null==currentAd.ad||currentAd.ad.isLinear()||
currentAd.destroyAd());"SCENE_ITEM"==d.trackType&&$("#overlay-area").css("background","rgba(0, 0, 0, 0)");if("COUNTDOWN"==d.trackType){var f=activeCountdownTracks[d.id];void 0!=f&&null!=f&&(f.stop(),delete activeCountdownTracks[d.id])}void 0!=d.trackActions&&null!=d.trackActions&&0<d.trackActions.length&&d.trackActions.forEach(function(c){"ONEND"==c.trackTriggerType&&"VIDEO"!=d.trackType&&"DFP"!=d.trackType&&trackOnAction(d,c);"ONSTART"==c.trackTriggerType&&("PAUSE"==c.trackActionType?(forcePause=
!1,forcePauseConsumed=!0):"MUTE"==c.trackActionType?("ios"==getMobileOS()&&(document.getElementById("xvideo").muted=!1),b.volume(_currentVol),$("#vol-slider").slider("value",100*_currentVol)):"SPEED"==c.trackActionType?(c=parseFloat(d.value)||1,b.playbackRate(c)):"DISABLE_PLAY_BUTTON"==c.trackActionType?$(".play-video").removeClass("ctrl-item-disabled"):"DISABLE_PAUSE_BUTTON"==c.trackActionType?$(".pause-video").removeClass("ctrl-item-disabled"):"DISABLE_SEEKBAR"==c.trackActionType&&$(".ivid-seekbar").removeClass("ctrl-item-disabled"))});
if("TEMPLATED"==d.trackType){if((f=document.querySelectorAll('[data-c8-element-template\x3d"c8-elem-tmpl-'+d.id+'"]'))&&0<f.length)for(var e=new CustomEvent("onWidgetDestroy",{detail:{destroyed:!0}}),g=0;g<f.length;g++)f[g].dispatchEvent(e);c8PlayerApi.executeEvent(d.id,"widgetDestroy");d.trackable&&null!=motionTrackers&&null!=motionTrackers[d.id]&&motionTrackers[d.id].removeListeners()}d.closeEnding&&("SUBTITLE"==d.trackType?($("#"+d.id).remove(),animationTimelines=[]):"QUESTION"==d.trackType||"FORM_DESIGNER"==
d.trackType?$("#"+d.id).parent().remove():("DRAWING"==d.trackType?endIvidDrawing(d):"SCENE_ITEM"==d.trackType?($(".gplayer-scene-item-form").css("opacity",0),setTimeout(function(){$("#anim-obj-"+d.id).remove()},300)):$("#"+d.id).remove(),null==d.outEffect&&"SCENE_ITEM"!=d.trackType&&$("#anim-obj-"+d.id).fadeOut(300,function(){$(this).remove()})));"QUESTION"==d.trackType&&(wBackgroundIsOpen=!1,activeQuestionTrackId=null,"DRAG_N_DROP"==d.questionType&&$(window).off("resize.dndQuestion"));"TEMPLATED"==
d.trackType&&(f=document.getElementById("elem-tmpl-css-"+d.id),null!=f&&f.remove(),f=document.getElementById("elem-tmpl-js-"+d.id),null!=f&&f.remove());"QUESTION"==d.trackType&&(f=document.getElementById("qn-tmpl-css-"+d.id),null!=f&&f.remove(),f=document.getElementById("qn-tmpl-js-"+d.id),null!=f&&f.remove(),document.getElementById("overlay-area").removeEventListener("onQuestionTemplateFeedback",_onQuestionTemplateFeedbackEvent_,!1));null!=d.outEffect&&setTimeout(function(){k.animate(d,d.outEffect,
"anim-obj")});if(null!=c8VR){for(g=c8VR.hotspotList.length-1;0<=g;--g)c8VR.hotspotList[g].trackId==d.id&&(c8VR.group.remove(c8VR.hotspotList[g].mesh),c8VR.fixedPositionArea.remove(c8VR.hotspotList[g].mesh),c8VR.hotspotList.splice(g,1));for(g=c8VR.objsToTest.length-1;0<=g;--g)null!=c8VR.objsToTest[g].userData&&c8VR.objsToTest[g].userData.trackId==d.id&&c8VR.objsToTest.splice(g,1)}delete skippedElements[d.id]},_teardown:function(c){}}},{about:{name:"Popcorn gPlayer Plugin",version:.1,author:"inal incedal"},
options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},text:{elem:"input",type:"text",label:"Text","default":"pop!"},link:{elem:"input",type:"text",label:"Link (URL)"},classes:{elem:"input",type:"text",label:"List of classes to apply to text container"},style:{elem:"input",type:"text",label:"CSS to apply to text"},align:{elem:"select",label:"CSS to apply to text"},top:{elem:"input",type:"number",label:"Top position","default":"50"},left:{elem:"input",type:"number",
label:"Left position","default":"50"},target:{elem:"input",type:"text",label:"Target Element"},icon:{elem:"input",type:"text",label:"Pop Icon"},type:{elem:"input",type:"text",label:"Target Element"},skipInSec:{elem:"input",type:"number",label:"skipInSec"}}})})(Popcorn);
(function(){function c(c,b,d){return c.call.apply(c.bind,arguments)}function e(c,b,d){if(!c)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,f);return c.apply(b,d)}}return function(){return c.apply(b,arguments)}}function b(d,f,h){b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:e;return b.apply(null,arguments)}function g(c,b){this.a=
c;this.m=b||c;this.c=this.m.document}function k(c,b,d,f){b=c.c.createElement(b);if(d)for(var e in d)d.hasOwnProperty(e)&&("style"==e?b.style.cssText=d[e]:b.setAttribute(e,d[e]));f&&b.appendChild(c.c.createTextNode(f));return b}function h(c,b,d){(c=c.c.getElementsByTagName(b)[0])||(c=document.documentElement);c.insertBefore(d,c.lastChild)}function d(c){c.parentNode&&c.parentNode.removeChild(c)}function f(c,b,d){b=b||[];d=d||[];for(var f=c.className.split(/\s+/),e=0;e<b.length;e+=1){for(var h=!1,k=
0;k<f.length;k+=1)if(b[e]===f[k]){h=!0;break}h||f.push(b[e])}b=[];for(e=0;e<f.length;e+=1){h=!1;for(k=0;k<d.length;k+=1)if(f[e]===d[k]){h=!0;break}h||b.push(f[e])}c.className=b.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(c,b){for(var d=c.className.split(/\s+/),f=0,e=d.length;f<e;f++)if(d[f]==b)return!0;return!1}function n(c){if("string"===typeof c.f)return c.f;var b=c.m.location.protocol;"about:"==b&&(b=c.a.location.protocol);return"https:"==b?"https:":"http:"}function p(c){return c.m.location.hostname||
c.a.location.hostname}function q(c,b,d){function f(){n&&e&&g&&(n(l),n=null)}b=k(c,"link",{rel:"stylesheet",href:b,media:"all"});var e=!1,g=!0,l=null,n=d||null;la?(b.onload=function(){e=!0;f()},b.onerror=function(){e=!0;l=Error("Stylesheet failed to load");f()}):setTimeout(function(){e=!0;f()},0);h(c,"head",b)}function r(c,b,d,f){var e=c.c.getElementsByTagName("head")[0];if(e){var h=k(c,"script",{src:b}),g=!1;h.onload=h.onreadystatechange=function(){g||this.readyState&&"loaded"!=this.readyState&&"complete"!=
this.readyState||(g=!0,d&&d(null),h.onload=h.onreadystatechange=null,"HEAD"==h.parentNode.tagName&&e.removeChild(h))};e.appendChild(h);setTimeout(function(){g||(g=!0,d&&d(Error("Script load timeout")))},f||5E3);return h}return null}function s(){this.a=0;this.c=null}function v(c){c.a++;return function(){c.a--;w(c)}}function z(c,b){c.c=b;w(c)}function w(c){0==c.a&&c.c&&(c.c(),c.c=null)}function B(c){this.a=c||"-"}function E(c,b){this.c=c;this.f=4;this.a="n";var d=(b||"n4").match(/^([nio])([1-9])$/i);
d&&(this.a=d[1],this.f=parseInt(d[2],10))}function u(c){return F(c)+" "+(c.f+"00")+" 300px "+D(c.c)}function D(c){var b=[];c=c.split(/,\s*/);for(var d=0;d<c.length;d++){var f=c[d].replace(/['"]/g,"");-1!=f.indexOf(" ")||/^\d/.test(f)?b.push("'"+f+"'"):b.push(f)}return b.join(",")}function C(c){return c.a+c.f}function F(c){var b="normal";"o"===c.a?b="oblique":"i"===c.a&&(b="italic");return b}function A(c){var b=4,d="n",f=null;c&&((f=c.match(/(normal|oblique|italic)/i))&&f[1]&&(d=f[1].substr(0,1).toLowerCase()),
(f=c.match(/([1-9]00|normal|bold)/i))&&f[1]&&(/bold/i.test(f[1])?b=7:/[1-9]00/.test(f[1])&&(b=parseInt(f[1].substr(0,1),10))));return d+b}function H(c,b){this.c=c;this.f=c.m.document.documentElement;this.h=b;this.a=new B("-");this.j=!1!==b.events;this.g=!1!==b.classes}function L(c){c.g&&f(c.f,[c.a.c("wf","loading")]);Q(c,"loading")}function J(c){if(c.g){var b=l(c.f,c.a.c("wf","active")),d=[],e=[c.a.c("wf","loading")];b||d.push(c.a.c("wf","inactive"));f(c.f,d,e)}Q(c,"inactive")}function Q(c,b,d){if(c.j&&
c.h[b])if(d)c.h[b](d.c,C(d));else c.h[b]()}function O(){this.c={}}function N(c,b,d){var f=[],e;for(e in b)if(b.hasOwnProperty(e)){var h=c.c[e];h&&f.push(h(b[e],d))}return f}function R(c,b){this.c=c;this.f=b;this.a=k(this.c,"span",{"aria-hidden":"true"},this.f)}function T(c){h(c.c,"body",c.a)}function W(c){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+
D(c.c)+";"+("font-style:"+F(c)+";font-weight:"+(c.f+"00")+";")}function ba(c,b,d,f,e,h){this.g=c;this.j=b;this.a=f;this.c=d;this.f=e||3E3;this.h=h||void 0}function qa(c,b,d,f,e,h,k){this.v=c;this.B=b;this.c=d;this.a=f;this.s=k||"BESbswy";this.f={};this.w=e||3E3;this.u=h||null;this.o=this.j=this.h=this.g=null;this.g=new R(this.c,this.s);this.h=new R(this.c,this.s);this.j=new R(this.c,this.s);this.o=new R(this.c,this.s);c=new E(this.a.c+",serif",C(this.a));c=W(c);this.g.a.style.cssText=c;c=new E(this.a.c+
",sans-serif",C(this.a));c=W(c);this.h.a.style.cssText=c;c=new E("serif",C(this.a));c=W(c);this.j.a.style.cssText=c;c=new E("sans-serif",C(this.a));c=W(c);this.o.a.style.cssText=c;T(this.g);T(this.h);T(this.j);T(this.o)}function P(){if(null===ia){var c=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);ia=!!c&&(536>parseInt(c[1],10)||536===parseInt(c[1],10)&&11>=parseInt(c[2],10))}return ia}function K(c,b,d){for(var f in za)if(za.hasOwnProperty(f)&&b===c.f[za[f]]&&d===c.f[za[f]])return!0;
return!1}function ea(c){var b=c.g.a.offsetWidth,d=c.h.a.offsetWidth,f;(f=b===c.f.serif&&d===c.f["sans-serif"])||(f=P()&&K(c,b,d));f?Fa()-c.A>=c.w?P()&&K(c,b,d)&&(null===c.u||c.u.hasOwnProperty(c.a.c))?ca(c,c.v):ca(c,c.B):M(c):ca(c,c.v)}function M(c){setTimeout(b(function(){ea(this)},c),50)}function ca(c,f){setTimeout(b(function(){d(this.g.a);d(this.h.a);d(this.j.a);d(this.o.a);f(this.a)},c),0)}function U(c,b,d){this.c=c;this.a=b;this.f=0;this.o=this.j=!1;this.s=d}function Y(c){0==--c.f&&c.j&&(c.o?
(c=c.a,c.g&&f(c.f,[c.a.c("wf","active")],[c.a.c("wf","loading"),c.a.c("wf","inactive")]),Q(c,"active")):J(c.a))}function X(c){this.j=c;this.a=new O;this.h=0;this.f=this.g=!0}function fa(c,d,e,h,k){var g=0==--c.h;(c.f||c.g)&&setTimeout(function(){var c=k||null,l=h||null||{};if(0===e.length&&g)J(d.a);else{d.f+=e.length;g&&(d.j=g);var n,p=[];for(n=0;n<e.length;n++){var q=e[n],r=l[q.c],s=d.a,u=q;s.g&&f(s.f,[s.a.c("wf",u.c,C(u).toString(),"loading")]);Q(s,"fontloading",u);s=null;null===ma&&(ma=window.FontFace?
(u=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))?42<parseInt(u[1],10):!0:!1);ma?s=new ba(b(d.g,d),b(d.h,d),d.c,q,d.s,r):s=new qa(b(d.g,d),b(d.h,d),d.c,q,d.s,c,r);p.push(s)}for(n=0;n<p.length;n++)p[n].start()}},0)}function ga(c,b,d){var f=[],e=d.timeout;L(b);var f=N(c.a,d,c.c),h=new U(c.c,b,e);c.h=f.length;b=0;for(d=f.length;b<d;b++)f[b].load(function(b,d,f){fa(c,h,b,d,f)})}function ha(c,b){this.c=c;this.a=b}function ja(c,b,d){var f=n(c.c);c=(c.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,
"");return f+"//"+c+"/"+b+".js"+(d?"?v\x3d"+d:"")}function ya(c,b){this.c=c;this.a=b}function Aa(c,b,d){c?this.c=c:this.c=b+Ca;this.a=[];this.f=[];this.g=d||""}function Ea(c,b){for(var d=b.length,f=0;f<d;f++){var e=b[f].split(":");3==e.length&&c.f.push(e.pop());var h="";2==e.length&&""!=e[1]&&(h=":");c.a.push(e.join(h))}}function sa(c){if(0==c.a.length)throw Error("No fonts to load!");if(-1!=c.c.indexOf("kit\x3d"))return c.c;for(var b=c.a.length,d=[],f=0;f<b;f++)d.push(c.a[f].replace(/ /g,"+"));b=
c.c+"?family\x3d"+d.join("%7C");0<c.f.length&&(b+="\x26subset\x3d"+c.f.join(","));0<c.g.length&&(b+="\x26text\x3d"+encodeURIComponent(c.g));return b}function aa(c){this.f=c;this.a=[];this.c={}}function t(c){for(var b=c.f.length,d=0;d<b;d++){var f=c.f[d].split(":"),e=f[0].replace(/\+/g," "),h=["n4"];if(2<=f.length){var k,g=f[1];k=[];if(g)for(var g=g.split(","),l=g.length,n=0;n<l;n++){var p;p=g[n];if(p.match(/^[\w-]+$/)){var q=cb.exec(p.toLowerCase());if(null==q)p="";else{p=q[2];p=null==p||""==p?"n":
Ja[p];q=q[1];if(null==q||""==q)q="4";else var r=oa[q],q=r?r:isNaN(q)?"4":q.substr(0,1);p=[p,q].join("")}}else p="";p&&k.push(p)}0<k.length&&(h=k);3==f.length&&(f=f[2],k=[],f=f?f.split(","):k,0<f.length&&(f=da[f[0]])&&(c.c[e]=f))}c.c[e]||(f=da[e])&&(c.c[e]=f);for(f=0;f<h.length;f+=1)c.a.push(new E(e,h[f]))}}function Ya(c,b){this.c=c;this.a=b}function Ma(c,b){this.c=c;this.a=b}function Ta(c,b){this.c=c;this.f=b;this.a=[]}var Fa=Date.now||function(){return+new Date},la=!!window.FontFace;B.prototype.c=
function(c){for(var b=[],d=0;d<arguments.length;d++)b.push(arguments[d].replace(/[\W_]+/g,"").toLowerCase());return b.join(this.a)};ba.prototype.start=function(){var c=this.c.m.document,b=this,d=Fa(),f=new Promise(function(f,e){function h(){Fa()-d>=b.f?e():c.fonts.load(u(b.a),b.h).then(function(c){1<=c.length?f():setTimeout(h,25)},function(){e()})}h()}),e=new Promise(function(c,d){setTimeout(d,b.f)});Promise.race([e,f]).then(function(){b.g(b.a)},function(){b.j(b.a)})};var za={D:"serif",C:"sans-serif"},
ia=null;qa.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f["sans-serif"]=this.o.a.offsetWidth;this.A=Fa();ea(this)};var ma=null;U.prototype.g=function(c){var b=this.a;b.g&&f(b.f,[b.a.c("wf",c.c,C(c).toString(),"active")],[b.a.c("wf",c.c,C(c).toString(),"loading"),b.a.c("wf",c.c,C(c).toString(),"inactive")]);Q(b,"fontactive",c);this.o=!0;Y(this)};U.prototype.h=function(c){var b=this.a;if(b.g){var d=l(b.f,b.a.c("wf",c.c,C(c).toString(),"active")),e=[],h=[b.a.c("wf",c.c,C(c).toString(),
"loading")];d||e.push(b.a.c("wf",c.c,C(c).toString(),"inactive"));f(b.f,e,h)}Q(b,"fontinactive",c);Y(this)};X.prototype.load=function(c){this.c=new g(this.j,c.context||this.j);this.g=!1!==c.events;this.f=!1!==c.classes;ga(this,new H(this.c,c),c)};ha.prototype.load=function(c){function b(){if(h["__mti_fntLst"+f]){var d=h["__mti_fntLst"+f](),e=[],k;if(d)for(var g=0;g<d.length;g++){var l=d[g].fontfamily;void 0!=d[g].fontStyle&&void 0!=d[g].fontWeight?(k=d[g].fontStyle+d[g].fontWeight,e.push(new E(l,
k))):e.push(new E(l))}c(e)}else setTimeout(function(){b()},50)}var d=this,f=d.a.projectId,e=d.a.version;if(f){var h=d.c.m;r(this.c,ja(d,f,e),function(e){e?c([]):(h["__MonotypeConfiguration__"+f]=function(){return d.a},b())}).id="__MonotypeAPIScript__"+f}else c([])};ya.prototype.load=function(c){var b,d,f=this.a.urls||[],e=this.a.families||[],h=this.a.testStrings||{},k=new s;b=0;for(d=f.length;b<d;b++)q(this.c,f[b],v(k));var g=[];b=0;for(d=e.length;b<d;b++)if(f=e[b].split(":"),f[1])for(var l=f[1].split(","),
n=0;n<l.length;n+=1)g.push(new E(f[0],l[n]));else g.push(new E(f[0]));z(k,function(){c(g,h)})};var Ca="//fonts.googleapis.com/css",da={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},oa={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",
r:"4",b:"7"},Ja={i:"i",italic:"i",n:"n",normal:"n"},cb=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,Oa={Arimo:!0,Cousine:!0,Tinos:!0};Ya.prototype.load=function(c){var b=new s,d=this.c,f=new Aa(this.a.api,n(d),this.a.text),e=this.a.families;Ea(f,e);var h=new aa(e);t(h);q(d,sa(f),v(b));z(b,function(){c(h.a,h.c,Oa)})};Ma.prototype.load=function(c){var b=this.a.id,d=this.c.m;b?r(this.c,(this.a.api||"https://use.typekit.net")+
"/"+b+".js",function(b){if(b)c([]);else if(d.Typekit&&d.Typekit.config&&d.Typekit.config.fn){b=d.Typekit.config.fn;for(var f=[],e=0;e<b.length;e+=2)for(var h=b[e],k=b[e+1],g=0;g<k.length;g++)f.push(new E(h,k[g]));try{d.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}c(f)}},2E3):c([])};Ta.prototype.load=function(c){var b=this.f.id,d=this.c.m,f=this;b?(d.__webfontfontdeckmodule__||(d.__webfontfontdeckmodule__={}),d.__webfontfontdeckmodule__[b]=function(b,d){for(var e=0,h=d.fonts.length;e<h;++e){var k=
d.fonts[e];f.a.push(new E(k.name,A("font-weight:"+k.weight+";font-style:"+k.style)))}c(f.a)},r(this.c,n(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+p(this.c)+"/"+b+".js",function(b){b&&c([])})):c([])};var va=new X(window);va.a.c.custom=function(c,b){return new ya(b,c)};va.a.c.fontdeck=function(c,b){return new Ta(b,c)};va.a.c.monotype=function(c,b){return new ha(b,c)};va.a.c.typekit=function(c,b){return new Ma(b,c)};va.a.c.google=function(c,b){return new Ya(b,c)};var Ua={load:b(va.load,va)};
"function"===typeof define&&define.amd?define(function(){return Ua}):"undefined"!==typeof module&&module.exports?module.exports=Ua:(window.WebFont=Ua,window.WebFontConfig&&va.load(window.WebFontConfig))})();
!function(c,e){function b(c){return function(){var b={method:c},d=Array.prototype.slice.call(arguments);/^get/.test(c)?(g.assert(0<d.length,"Get methods require a callback."),d.unshift(b)):(/^set/.test(c)&&(g.assert(0!==d.length,"Set methods require a value."),b.value=d[0]),d=[b]);this.send.apply(this,d)}}var g={DEBUG:!1,VERSION:"0.0.11",CONTEXT:"player.js"};g.POST_MESSAGE=!!c.postMessage;g.origin=function(b){return"//"===b.substr(0,2)&&(b=c.location.protocol+b),b.split("/").slice(0,3).join("/")};
g.addEvent=function(c,b,d){c&&(c.addEventListener?c.addEventListener(b,d,!1):c.attachEvent?c.attachEvent("on"+b,d):c["on"+b]=d)};g.log=function(){g.log.history=g.log.history||[];g.log.history.push(arguments);c.console&&g.DEBUG&&c.console.log(Array.prototype.slice.call(arguments))};g.isString=function(c){return"[object String]"===Object.prototype.toString.call(c)};g.isObject=function(c){return"[object Object]"===Object.prototype.toString.call(c)};g.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)};
g.isNone=function(c){return null===c||void 0===c};g.has=function(c,b){return Object.prototype.hasOwnProperty.call(c,b)};g.indexOf=function(c,b){if(null==c)return-1;var d=0,e=c.length;if(Array.prototype.IndexOf&&c.indexOf===Array.prototype.IndexOf)return c.indexOf(b);for(;e>d;d++)if(c[d]===b)return d;return-1};g.assert=function(c,b){if(!c)throw b||"Player.js Assert Failed";};g.Keeper=function(){this.init()};g.Keeper.prototype.init=function(){this.data={}};g.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,
function(c){var b=16*Math.random()|0;return("x"===c?b:3&b|8).toString(16)})};g.Keeper.prototype.has=function(c,b){if(!this.data.hasOwnProperty(c))return!1;if(g.isNone(b))return!0;for(var d=this.data[c],e=0;e<d.length;e++)if(d[e].id===b)return!0;return!1};g.Keeper.prototype.add=function(c,b,d,e,h){c={id:c,event:b,cb:d,ctx:e,one:h};this.has(b)?this.data[b].push(c):this.data[b]=[c]};g.Keeper.prototype.execute=function(c,b,d,e){if(!this.has(c,b))return!1;for(var h=[],k=[],s=0;s<this.data[c].length;s++){var v=
this.data[c][s];g.isNone(b)||!g.isNone(b)&&v.id===b?(k.push({cb:v.cb,ctx:v.ctx?v.ctx:e,data:d}),!1===v.one&&h.push(v)):h.push(v)}0===h.length?delete this.data[c]:this.data[c]=h;for(c=0;c<k.length;c++)b=k[c],b.cb.call(b.ctx,b.data)};g.Keeper.prototype.on=function(c,b,d,e){this.add(c,b,d,e,!1)};g.Keeper.prototype.one=function(c,b,d,e){this.add(c,b,d,e,!0)};g.Keeper.prototype.off=function(c,b){var d=[];if(!this.data.hasOwnProperty(c))return d;for(var e=[],h=0;h<this.data[c].length;h++){var k=this.data[c][h];
g.isNone(b)||k.cb===b?g.isNone(k.id)||d.push(k.id):e.push(k)}return 0===e.length?delete this.data[c]:this.data[c]=e,d};g.Player=function(c,b){return this instanceof g.Player?void this.init(c,b):new g.Player(c,b)};g.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"};g.EVENTS.all=function(){var c=[],b;for(b in g.EVENTS)g.has(g.EVENTS,b)&&g.isString(g.EVENTS[b])&&c.push(g.EVENTS[b]);return c};g.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",
MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"};g.METHODS.all=function(){var c=[],b;for(b in g.METHODS)g.has(g.METHODS,b)&&g.isString(g.METHODS[b])&&c.push(g.METHODS[b]);return c};g.READIED=[];g.Player.prototype.init=function(b,d){var h=this;g.isString(b)&&
(b=e.getElementById(b));this.elem=b;g.assert("IFRAME"===b.nodeName,'playerjs.Player constructor requires an Iframe, got "'+b.nodeName+'"');g.assert(b.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute.");this.origin=g.origin(b.src);this.keeper=new g.Keeper;this.isReady=!1;this.queue=[];this.events=g.EVENTS.all();this.methods=g.METHODS.all();g.POST_MESSAGE?g.addEvent(c,"message",function(c){h.receive(c)}):g.log("Post Message is not Available.");-1<g.indexOf(g.READIED,b.src)?
h.loaded=!0:this.elem.onload=function(){h.loaded=!0}};g.Player.prototype.send=function(c,b,d){if(c.context=g.CONTEXT,c.version=g.VERSION,b){var e=this.keeper.getUUID();c.listener=e;this.keeper.one(e,c.method,b,d)}return this.isReady||"ready"===c.value?(g.log("Player.send",c,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(c),this.origin),!0):(g.log("Player.queue",c),this.queue.push(c),!1)};g.Player.prototype.receive=function(c){if(g.log("Player.receive",c),c.origin!==
this.origin)return!1;var b;try{b=JSON.parse(c.data)}catch(d){return!1}return b.context!==g.CONTEXT?!1:("ready"===b.event&&b.value&&b.value.src===this.elem.src&&this.ready(b),void(this.keeper.has(b.event,b.listener)&&this.keeper.execute(b.event,b.listener,b.value,this)))};g.Player.prototype.ready=function(c){if(!0===this.isReady)return!1;c.value.events&&(this.events=c.value.events);c.value.methods&&(this.methods=c.value.methods);this.loaded=this.isReady=!0;for(var b=0;b<this.queue.length;b++){var d=
this.queue[b];g.log("Player.dequeue",d);"ready"===c.event&&this.keeper.execute(d.event,d.listener,!0,this);this.send(d)}this.queue=[]};g.Player.prototype.on=function(c,b,d){var e=this.keeper.getUUID();return"ready"===c?this.keeper.one(e,c,b,d):this.keeper.on(e,c,b,d),this.send({method:"addEventListener",value:c,listener:e}),!0};g.Player.prototype.off=function(c,b){var d=this.keeper.off(c,b);if(g.log("Player.off",d),0<d.length)for(var e in d)return this.send({method:"removeEventListener",value:c,listener:d[e]}),
!0;return!1};g.Player.prototype.supports=function(c,b){g.assert(-1<g.indexOf(["method","event"],c),'evtOrMethod needs to be either "event" or "method" got '+c);b=g.isArray(b)?b:[b];for(var d="event"===c?this.events:this.methods,e=0;e<b.length;e++)if(-1===g.indexOf(d,b[e]))return!1;return!0};for(var k=0,h=g.METHODS.all().length;h>k;k++){var d=g.METHODS.all()[k];g.Player.prototype.hasOwnProperty(d)||(g.Player.prototype[d]=b(d))}g.addEvent(c,"message",function(c){var b;try{b=JSON.parse(c.data)}catch(d){return!1}return b.context!==
g.CONTEXT?!1:void("ready"===b.event&&b.value&&b.value.src&&g.READIED.push(b.value.src))});g.Receiver=function(c,b){this.init(c,b)};g.Receiver.prototype.init=function(b,d){var h=this;this.isReady=!1;this.origin=g.origin(e.referrer);this.methods={};this.supported={events:b?b:g.EVENTS.all(),methods:d?d:g.METHODS.all()};this.eventListeners={};(this.reject=!(c.self!==c.top&&g.POST_MESSAGE))||g.addEvent(c,"message",function(c){h.receive(c)})};g.Receiver.prototype.receive=function(b){if(b.origin!==this.origin)return!1;
var d={};if(g.isObject(b.data))d=b.data;else try{d=c.JSON.parse(b.data)}catch(e){g.log("JSON Parse Error",e)}if((g.log("Receiver.receive",b,d),!d.method)||d.context!==g.CONTEXT)return!1;if(-1===g.indexOf(g.METHODS.all(),d.method))return this.emit("error",{code:2,msg:'Invalid Method "'+d.method+'"'}),!1;b=g.isNone(d.listener)?null:d.listener;"addEventListener"===d.method?(this.eventListeners.hasOwnProperty(d.value)?-1===g.indexOf(this.eventListeners[d.value],b)&&this.eventListeners[d.value].push(b):
this.eventListeners[d.value]=[b],"ready"===d.value&&this.isReady&&this.ready()):"removeEventListener"===d.method?this.eventListeners.hasOwnProperty(d.value)&&(b=g.indexOf(this.eventListeners[d.value],b),-1<b&&this.eventListeners[d.value].splice(b,1),0===this.eventListeners[d.value].length&&delete this.eventListeners[d.value]):this.get(d.method,d.value,b)};g.Receiver.prototype.get=function(c,b,d){var e=this;if(!this.methods.hasOwnProperty(c))return this.emit("error",{code:3,msg:'Method Not Supported"'+
c+'"'}),!1;var h=this.methods[c];"get"===c.substr(0,3)?h.call(this,function(b){e.send(c,b,d)}):h.call(this,b)};g.Receiver.prototype.on=function(c,b){this.methods[c]=b};g.Receiver.prototype.send=function(b,d,e){if(g.log("Receiver.send",b,d,e),this.reject)return g.log("Receiver.send.reject",b,d,e),!1;b={context:g.CONTEXT,version:g.VERSION,event:b};g.isNone(d)||(b.value=d);g.isNone(e)||(b.listener=e);d=JSON.stringify(b);c.parent.postMessage(d,""===this.origin?"*":this.origin)};g.Receiver.prototype.emit=
function(c,b){if(!this.eventListeners.hasOwnProperty(c))return!1;g.log("Instance.emit",c,b,this.eventListeners[c]);for(var d=0;d<this.eventListeners[c].length;d++)this.send(c,b,this.eventListeners[c][d]);return!0};g.Receiver.prototype.ready=function(){g.log("Receiver.ready");this.isReady=!0;var b={src:c.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",b)||this.send("ready",b)};g.HTML5Adapter=function(c){return this instanceof g.HTML5Adapter?void this.init(c):
new g.HTML5Adapter(c)};g.HTML5Adapter.prototype.init=function(c){g.assert(c,"playerjs.HTML5Adapter requires a video element");var b=this.receiver=new g.Receiver;c.addEventListener("playing",function(){b.emit("play")});c.addEventListener("pause",function(){b.emit("pause")});c.addEventListener("ended",function(){b.emit("ended")});c.addEventListener("timeupdate",function(){b.emit("timeupdate",{seconds:c.currentTime,duration:c.duration})});c.addEventListener("progress",function(){b.emit("buffered",{percent:c.buffered.length})});
b.on("play",function(){c.play()});b.on("pause",function(){c.pause()});b.on("getPaused",function(b){b(c.paused)});b.on("getCurrentTime",function(b){b(c.currentTime)});b.on("setCurrentTime",function(b){c.currentTime=b});b.on("getDuration",function(b){b(c.duration)});b.on("getVolume",function(b){b(100*c.volume)});b.on("setVolume",function(b){c.volume=b/100});b.on("mute",function(){c.muted=!0});b.on("unmute",function(){c.muted=!1});b.on("getMuted",function(b){b(c.muted)});b.on("getLoop",function(b){b(c.loop)});
b.on("setLoop",function(b){c.loop=b})};g.HTML5Adapter.prototype.ready=function(){this.receiver.ready()};g.JWPlayerAdapter=function(c){return this instanceof g.JWPlayerAdapter?void this.init(c):new g.JWPlayerAdapter(c)};g.JWPlayerAdapter.prototype.init=function(c){g.assert(c,"playerjs.JWPlayerAdapter requires a player object");var b=this.receiver=new g.Receiver;this.looped=!1;c.on("pause",function(){b.emit("pause")});c.on("play",function(){b.emit("play")});c.on("time",function(c){var d=c.position;
c=c.duration;if(!d||!c)return!1;b.emit("timeupdate",{seconds:d,duration:c})});var d=this;c.on("complete",function(){!0===d.looped?c.seek(0):b.emit("ended")});c.on("error",function(){b.emit("error")});b.on("play",function(){c.play(!0)});b.on("pause",function(){c.pause(!0)});b.on("getPaused",function(b){b("playing"!==c.getState().toLowerCase())});b.on("getCurrentTime",function(b){b(c.getPosition())});b.on("setCurrentTime",function(b){c.seek(b)});b.on("getDuration",function(b){b(c.getDuration())});b.on("getVolume",
function(b){b(c.getVolume())});b.on("setVolume",function(b){c.setVolume(b)});b.on("mute",function(){c.setMute(!0)});b.on("unmute",function(){c.setMute(!1)});b.on("getMuted",function(b){b(!0===c.getMute())});b.on("getLoop",function(c){c(this.looped)},this);b.on("setLoop",function(c){this.looped=c},this)};g.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()};g.MockAdapter=function(){return this instanceof g.MockAdapter?void this.init():new g.MockAdapter};g.MockAdapter.prototype.init=function(){var c=
{duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){c.interval=setInterval(function(){c.currentTime+=.25;c.timeupdate({seconds:c.currentTime,duration:c.duration})},250);c.playing=!0},pause:function(){clearInterval(c.interval);c.playing=!1}},b=this.receiver=new g.Receiver;b.on("play",function(){var b=this;c.play();this.emit("play");c.timeupdate=function(c){b.emit("timeupdate",c)}});b.on("pause",function(){c.pause();this.emit("pause")});
b.on("getPaused",function(b){b(!c.playing)});b.on("getCurrentTime",function(b){b(c.currentTime)});b.on("setCurrentTime",function(b){c.currentTime=b});b.on("getDuration",function(b){b(c.duration)});b.on("getVolume",function(b){b(c.volume)});b.on("setVolume",function(b){c.volume=b});b.on("mute",function(){c.mute=!0});b.on("unmute",function(){c.mute=!1});b.on("getMuted",function(b){b(c.mute)});b.on("getLoop",function(b){b(c.loop)});b.on("setLoop",function(b){c.loop=b})};g.MockAdapter.prototype.ready=
function(){this.receiver.ready()};g.VideoJSAdapter=function(c){return this instanceof g.VideoJSAdapter?void this.init(c):new g.VideoJSAdapter(c)};g.VideoJSAdapter.prototype.init=function(c){g.assert(c,"playerjs.VideoJSReceiver requires a player object");var b=this.receiver=new g.Receiver;c.on("pause",function(){b.emit("pause")});c.on("play",function(){b.emit("play")});c.on("timeupdate",function(d){d=c.currentTime();var e=c.duration();if(!d||!e)return!1;b.emit("timeupdate",{seconds:d,duration:e})});
c.on("ended",function(){b.emit("ended")});c.on("error",function(){b.emit("error")});b.on("play",function(){c.play()});b.on("pause",function(){c.pause()});b.on("getPaused",function(b){b(c.paused())});b.on("getCurrentTime",function(b){b(c.currentTime())});b.on("setCurrentTime",function(b){c.currentTime(b)});b.on("getDuration",function(b){b(c.duration())});b.on("getVolume",function(b){b(100*c.volume())});b.on("setVolume",function(b){c.volume(b/100)});b.on("mute",function(){c.volume(0)});b.on("unmute",
function(){c.volume(1)});b.on("getMuted",function(b){b(0===c.volume())});b.on("getLoop",function(b){b(c.loop())});b.on("setLoop",function(b){c.loop(b)})};g.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()};"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof module&&module.exports?module.exports=g:c.playerjs=g}(window,document);
(function(c){"function"==typeof define&&define.amd?define(["jquery"],c):c(jQuery)})(function(c){function e(d,e){var h,k,g,q=d.nodeName.toLowerCase();return"area"===q?(h=d.parentNode,k=h.name,d.href&&k&&"map"===h.nodeName.toLowerCase()?(g=c("img[usemap\x3d'#"+k+"']")[0],!!g&&b(g)):!1):(/^(input|select|textarea|button|object)$/.test(q)?!d.disabled:"a"===q?d.href||e:e)&&b(d)}function b(b){return c.expr.filters.visible(b)&&!c(b).parents().addBack().filter(function(){return"hidden"===c.css(this,"visibility")}).length}
c.ui=c.ui||{};c.extend(c.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});c.fn.extend({scrollParent:function(b){var e=this.css("position"),h="absolute"===e,k=b?/(auto|scroll|hidden)/:/(auto|scroll)/;b=this.parents().filter(function(){var b=c(this);return h&&"static"===b.css("position")?!1:k.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==
e&&b.length?b:c(this[0].ownerDocument||document)},uniqueId:function(){var c=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&c(this).removeAttr("id")})}});c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(b){return function(e){return!!c.data(e,b)}}):function(b,e,h){return!!c.data(b,h[3])},focusable:function(b){return e(b,!isNaN(c.attr(b,"tabindex")))},
tabbable:function(b){var f=c.attr(b,"tabindex"),h=isNaN(f);return(h||0<=f)&&e(b,!h)}});c("\x3ca\x3e").outerWidth(1).jquery||c.each(["Width","Height"],function(b,e){function h(b,d,e,f){return c.each(k,function(){d-=parseFloat(c.css(b,"padding"+this))||0;e&&(d-=parseFloat(c.css(b,"border"+this+"Width"))||0);f&&(d-=parseFloat(c.css(b,"margin"+this))||0)}),d}var k="Width"===e?["Left","Right"]:["Top","Bottom"],g=e.toLowerCase(),q={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,
outerHeight:c.fn.outerHeight};c.fn["inner"+e]=function(b){return void 0===b?q["inner"+e].call(this):this.each(function(){c(this).css(g,h(this,b)+"px")})};c.fn["outer"+e]=function(b,d){return"number"!=typeof b?q["outer"+e].call(this,b):this.each(function(){c(this).css(g,h(this,b,!0,d)+"px")})}});c.fn.addBack||(c.fn.addBack=function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))});c("\x3ca\x3e").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(b){return function(e){return arguments.length?
b.call(this,c.camelCase(e)):b.call(this)}}(c.fn.removeData));c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());c.fn.extend({focus:function(b){return function(e,h){return"number"==typeof e?this.each(function(){var b=this;setTimeout(function(){c(b).focus();h&&h.call(b)},e)}):b.apply(this,arguments)}}(c.fn.focus),disableSelection:function(){var c="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(c+".ui-disableSelection",function(c){c.preventDefault()})}}(),
enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length){var e,h;for(b=c(this[0]);b.length&&b[0]!==document;){if(e=b.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(h=parseInt(b.css("zIndex"),10),!isNaN(h)&&0!==h))return h;b=b.parent()}}return 0}});c.ui.plugin={add:function(b,e,h){var k;b=c.ui[b].prototype;for(k in h)b.plugins[k]=b.plugins[k]||[],b.plugins[k].push([e,h[k]])},call:function(c,
b,e,h){if((b=c.plugins[b])&&(h||c.element[0].parentNode&&11!==c.element[0].parentNode.nodeType))for(h=0;b.length>h;h++)c.options[b[h][0]]&&b[h][1].apply(c.element,e)}};var g=0,k=Array.prototype.slice;c.cleanData=function(b){return function(e){var h,k,g;for(g=0;null!=(k=e[g]);g++)try{(h=c._data(k,"events"))&&h.remove&&c(k).triggerHandler("remove")}catch(q){}b(e)}}(c.cleanData);c.widget=function(b,e,h){var k,g,q,r,s={},v=b.split(".")[0];return b=b.split(".")[1],k=v+"-"+b,h||(h=e,e=c.Widget),c.expr[":"][k.toLowerCase()]=
function(b){return!!c.data(b,k)},c[v]=c[v]||{},g=c[v][b],q=c[v][b]=function(c,b){return this._createWidget?(arguments.length&&this._createWidget(c,b),void 0):new q(c,b)},c.extend(q,g,{version:h.version,_proto:c.extend({},h),_childConstructors:[]}),r=new e,r.options=c.widget.extend({},r.options),c.each(h,function(b,d){return c.isFunction(d)?(s[b]=function(){var c=function(){return e.prototype[b].apply(this,arguments)},h=function(c){return e.prototype[b].apply(this,c)};return function(){var b,e=this._super,
f=this._superApply;return this._super=c,this._superApply=h,b=d.apply(this,arguments),this._super=e,this._superApply=f,b}}(),void 0):(s[b]=d,void 0)}),q.prototype=c.widget.extend(r,{widgetEventPrefix:g?r.widgetEventPrefix||b:b},s,{constructor:q,namespace:v,widgetName:b,widgetFullName:k}),g?(c.each(g._childConstructors,function(b,d){var e=d.prototype;c.widget(e.namespace+"."+e.widgetName,q,d._proto)}),delete g._childConstructors):e._childConstructors.push(q),c.widget.bridge(b,q),q};c.widget.extend=
function(b){for(var e,h,g=k.call(arguments,1),p=0,q=g.length;q>p;p++)for(e in g[p])h=g[p][e],g[p].hasOwnProperty(e)&&void 0!==h&&(b[e]=c.isPlainObject(h)?c.isPlainObject(b[e])?c.widget.extend({},b[e],h):c.widget.extend({},h):h);return b};c.widget.bridge=function(b,e){var h=e.prototype.widgetFullName||b;c.fn[b]=function(g){var p="string"==typeof g,q=k.call(arguments,1),r=this;return p?this.each(function(){var e,f=c.data(this,h);return"instance"===g?(r=f,!1):f?c.isFunction(f[g])&&"_"!==g.charAt(0)?
(e=f[g].apply(f,q),e!==f&&void 0!==e?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0):c.error("no such method '"+g+"' for "+b+" widget instance"):c.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+g+"'")}):(q.length&&(g=c.widget.extend.apply(null,[g].concat(q))),this.each(function(){var b=c.data(this,h);b?(b.option(g||{}),b._init&&b._init()):c.data(this,h,new e(g,this))})),r}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",
widgetEventPrefix:"",defaultElement:"\x3cdiv\x3e",options:{disabled:!1,create:null},_createWidget:function(b,e){e=c(e||this.defaultElement||this)[0];this.element=c(e);this.uuid=g++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=c();this.hoverable=c();this.focusable=c();e!==this&&(c.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(c){c.target===e&&this.destroy()}}),this.document=c(e.style?e.ownerDocument:e.document||e),this.window=c(this.document[0].defaultView||
this.document[0].parentWindow));this.options=c.widget.extend({},this.options,this._getCreateOptions(),b);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+
"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(b,e){var h,k,g,q=b;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof b)if(q={},h=b.split("."),b=h.shift(),h.length){k=q[b]=c.widget.extend({},this.options[b]);for(g=0;h.length-1>g;g++)k[h[g]]=k[h[g]]||{},k=k[h[g]];if(b=h.pop(),1===arguments.length)return void 0===
k[b]?null:k[b];k[b]=e}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];q[b]=e}return this._setOptions(q),this},_setOptions:function(c){for(var b in c)this._setOption(b,c[b]);return this},_setOption:function(c,b){return this.options[c]=b,"disabled"===c&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},
disable:function(){return this._setOptions({disabled:!0})},_on:function(b,e,h){var k,g=this;"boolean"!=typeof b&&(h=e,e=b,b=!1);h?(e=k=c(e),this.bindings=this.bindings.add(e)):(h=e,e=this.element,k=this.widget());c.each(h,function(h,l){function s(){return b||!0!==g.options.disabled&&!c(this).hasClass("ui-state-disabled")?("string"==typeof l?g[l]:l).apply(g,arguments):void 0}"string"!=typeof l&&(s.guid=l.guid=l.guid||s.guid||c.guid++);var v=h.match(/^([\w:-]*)\s*(.*)$/),z=v[1]+g.eventNamespace;(v=
v[2])?k.delegate(v,z,s):e.bind(z,s)})},_off:function(b,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.unbind(e).undelegate(e);this.bindings=c(this.bindings.not(b).get());this.focusable=c(this.focusable.not(b).get());this.hoverable=c(this.hoverable.not(b).get())},_delay:function(c,b){var e=this;return setTimeout(function(){return("string"==typeof c?e[c]:c).apply(e,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){c(b.currentTarget).addClass("ui-state-hover")},
mouseleave:function(b){c(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){c(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){c(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,e,h){var k,g=this.options[b];if(h=h||{},e=c.Event(e),e.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),e.target=this.element[0],b=e.originalEvent)for(k in b)k in e||
(e[k]=b[k]);return this.element.trigger(e,h),!(c.isFunction(g)&&!1===g.apply(this.element[0],[e].concat(h))||e.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(b,e){c.Widget.prototype["_"+b]=function(h,k,g){"string"==typeof k&&(k={effect:k});var q,r=k?!0===k||"number"==typeof k?e:k.effect||e:b;k=k||{};"number"==typeof k&&(k={duration:k});q=!c.isEmptyObject(k);k.complete=g;k.delay&&h.delay(k.delay);q&&c.effects&&c.effects.effect[r]?h[b](k):r!==b&&h[r]?h[r](k.duration,k.easing,
g):h.queue(function(e){c(this)[b]();g&&g.call(h[0]);e()})}});c.widget;var h=!1;c(document).mouseup(function(){h=!1});c.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(c){return b._mouseDown(c)}).bind("click."+this.widgetName,function(e){return!0===c.data(e.target,b.widgetName+".preventClickEvent")?(c.removeData(e.target,b.widgetName+".preventClickEvent"),
e.stopImmediatePropagation(),!1):void 0});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!h){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var e=this,k=1===b.which,g="string"==typeof this.options.cancel&&b.target.nodeName?c(b.target).closest(this.options.cancel).length:
!1;return k&&!g&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted)?(b.preventDefault(),!0):(!0===c.data(b.target,this.widgetName+".preventClickEvent")&&c.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(c){return e._mouseMove(c)},
this._mouseUpDelegate=function(c){return e._mouseUp(c)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),h=!0,!0)):!0}},_mouseMove:function(b){return this._mouseMoved&&(c.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button||!b.which)?this._mouseUp(b):((b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&
(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted))},_mouseUp:function(b){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&c.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),h=!1,!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-
c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});(function(){function b(c,d,e){return[parseFloat(c[0])*(B.test(c[0])?d/100:1),parseFloat(c[1])*(B.test(c[1])?e/100:1)]}function e(b){var d=b[0];return 9===d.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:c.isWindow(d)?{width:b.width(),height:b.height(),
offset:{top:b.scrollTop(),left:b.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}c.ui=c.ui||{};var h,k,g=Math.max,q=Math.abs,r=Math.round,s=/left|center|right/,v=/top|center|bottom/,z=/[\+\-]\d+(\.[\d]+)?%?/,w=/^\w+/,B=/%$/,E=c.fn.position;c.position={scrollbarWidth:function(){if(void 0!==h)return h;var b,d,e=c("\x3cdiv style\x3d'display:block;position:absolute;width:50px;height:50px;overflow:hidden;'\x3e\x3cdiv style\x3d'height:100px;width:auto;'\x3e\x3c/div\x3e\x3c/div\x3e"),
f=e.children()[0];return c("body").append(e),b=f.offsetWidth,e.css("overflow","scroll"),d=f.offsetWidth,b===d&&(d=e[0].clientWidth),e.remove(),h=b-d},getScrollInfo:function(b){var d=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),e=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),d="scroll"===d||"auto"===d&&b.width<b.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&b.height<b.element[0].scrollHeight?c.position.scrollbarWidth():0,height:d?c.position.scrollbarWidth():0}},
getWithinInfo:function(b){b=c(b||window);var d=c.isWindow(b[0]),e=!!b[0]&&9===b[0].nodeType;return{element:b,isWindow:d,isDocument:e,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:d||e?b.width():b.outerWidth(),height:d||e?b.height():b.outerHeight()}}};c.fn.position=function(h){if(!h||!h.of)return E.apply(this,arguments);h=c.extend({},h);var l,C,F,A,H,B,J=c(h.of),Q=c.position.getWithinInfo(h.within),O=c.position.getScrollInfo(Q),N=(h.collision||"flip").split(" "),
R={};return B=e(J),J[0].preventDefault&&(h.at="left top"),C=B.width,F=B.height,A=B.offset,H=c.extend({},A),c.each(["my","at"],function(){var c,b,d=(h[this]||"").split(" ");1===d.length&&(d=s.test(d[0])?d.concat(["center"]):v.test(d[0])?["center"].concat(d):["center","center"]);d[0]=s.test(d[0])?d[0]:"center";d[1]=v.test(d[1])?d[1]:"center";c=z.exec(d[0]);b=z.exec(d[1]);R[this]=[c?c[0]:0,b?b[0]:0];h[this]=[w.exec(d[0])[0],w.exec(d[1])[0]]}),1===N.length&&(N[1]=N[0]),"right"===h.at[0]?H.left+=C:"center"===
h.at[0]&&(H.left+=C/2),"bottom"===h.at[1]?H.top+=F:"center"===h.at[1]&&(H.top+=F/2),l=b(R.at,C,F),H.left+=l[0],H.top+=l[1],this.each(function(){var e,f,s=c(this),v=s.outerWidth(),z=s.outerHeight(),w=parseInt(c.css(this,"marginLeft"),10)||0,B=parseInt(c.css(this,"marginTop"),10)||0,E=v+w+(parseInt(c.css(this,"marginRight"),10)||0)+O.width,L=z+B+(parseInt(c.css(this,"marginBottom"),10)||0)+O.height,U=c.extend({},H),Y=b(R.my,s.outerWidth(),s.outerHeight());"right"===h.my[0]?U.left-=v:"center"===h.my[0]&&
(U.left-=v/2);"bottom"===h.my[1]?U.top-=z:"center"===h.my[1]&&(U.top-=z/2);U.left+=Y[0];U.top+=Y[1];k||(U.left=r(U.left),U.top=r(U.top));e={marginLeft:w,marginTop:B};c.each(["left","top"],function(b,d){c.ui.position[N[b]]&&c.ui.position[N[b]][d](U,{targetWidth:C,targetHeight:F,elemWidth:v,elemHeight:z,collisionPosition:e,collisionWidth:E,collisionHeight:L,offset:[l[0]+Y[0],l[1]+Y[1]],my:h.my,at:h.at,within:Q,elem:s})});h.using&&(f=function(c){var b=A.left-U.left,d=b+C-v,e=A.top-U.top,f=e+F-z,k={target:{element:J,
left:A.left,top:A.top,width:C,height:F},element:{element:s,left:U.left,top:U.top,width:v,height:z},horizontal:0>d?"left":0<b?"right":"center",vertical:0>f?"top":0<e?"bottom":"middle"};v>C&&C>q(b+d)&&(k.horizontal="center");z>F&&F>q(e+f)&&(k.vertical="middle");k.important=g(q(b),q(d))>g(q(e),q(f))?"horizontal":"vertical";h.using.call(this,c,k)});s.offset(c.extend(U,{using:f}))})};c.ui.position={fit:{left:function(c,b){var d,e=b.within,f=e.isWindow?e.scrollLeft:e.offset.left,e=e.width,h=c.left-b.collisionPosition.marginLeft,
k=f-h,l=h+b.collisionWidth-e-f;b.collisionWidth>e?0<k&&0>=l?(d=c.left+k+b.collisionWidth-e-f,c.left+=k-d):c.left=0<l&&0>=k?f:k>l?f+e-b.collisionWidth:f:0<k?c.left+=k:0<l?c.left-=l:c.left=g(c.left-h,c.left)},top:function(c,b){var d,e=b.within,e=e.isWindow?e.scrollTop:e.offset.top,f=b.within.height,h=c.top-b.collisionPosition.marginTop,k=e-h,l=h+b.collisionHeight-f-e;b.collisionHeight>f?0<k&&0>=l?(d=c.top+k+b.collisionHeight-f-e,c.top+=k-d):c.top=0<l&&0>=k?e:k>l?e+f-b.collisionHeight:e:0<k?c.top+=k:
0<l?c.top-=l:c.top=g(c.top-h,c.top)}},flip:{left:function(c,b){var d,e,f=b.within,h=f.offset.left+f.scrollLeft,k=f.width,f=f.isWindow?f.scrollLeft:f.offset.left,g=c.left-b.collisionPosition.marginLeft,l=g-f,g=g+b.collisionWidth-k-f,n="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,p="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,r=-2*b.offset[0];0>l?(d=c.left+n+p+r+b.collisionWidth-k-h,(0>d||q(l)>d)&&(c.left+=n+p+r)):0<g&&(e=c.left-b.collisionPosition.marginLeft+n+
p+r-f,(0<e||g>q(e))&&(c.left+=n+p+r))},top:function(c,b){var d,e,f=b.within,h=f.offset.top+f.scrollTop,k=f.height,f=f.isWindow?f.scrollTop:f.offset.top,g=c.top-b.collisionPosition.marginTop,l=g-f,g=g+b.collisionHeight-k-f,n="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,p="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,r=-2*b.offset[1];0>l?(e=c.top+n+p+r+b.collisionHeight-k-h,(0>e||q(l)>e)&&(c.top+=n+p+r)):0<g&&(d=c.top-b.collisionPosition.marginTop+n+p+r-f,(0<
d||g>q(d))&&(c.top+=n+p+r))}},flipfit:{left:function(){c.ui.position.flip.left.apply(this,arguments);c.ui.position.fit.left.apply(this,arguments)},top:function(){c.ui.position.flip.top.apply(this,arguments);c.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,d,e,f,h=document.getElementsByTagName("body")[0];e=document.createElement("div");b=document.createElement(h?"div":"body");d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};h&&c.extend(d,{position:"absolute",
left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(e);d=h||document.documentElement;d.insertBefore(b,d.firstChild);e.style.cssText="position: absolute; left: 10.7432222px;";e=c(e).offset().left;k=10<e&&11>e;b.innerHTML="";d.removeChild(b)})()})();c.ui.position;c.widget("ui.slider",c.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},
numPages:5,_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var b,
e;b=this.options;var h=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),k=[];e=b.values&&b.values.length||1;h.length>e&&(h.slice(e).remove(),h=h.slice(0,e));for(b=h.length;e>b;b++)k.push("\x3cspan class\x3d'ui-slider-handle ui-state-default ui-corner-all' tabindex\x3d'0'\x3e\x3c/span\x3e");this.handles=h.add(c(k.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(b){c(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=
this.options,e="";b.range?(!0===b.range&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:c.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=c("\x3cdiv\x3e\x3c/div\x3e").appendTo(this.element),e="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(e+("min"===b.range||"max"===
b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(b){var e,h,k,g,q,r,
s,v,z=this,w=this.options;return w.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:b.pageX,y:b.pageY},h=this._normValueFromMouse(e),k=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var d=Math.abs(h-z.values(b));(k>d||k===d&&(b===z._lastChangedValue||z.values(b)===w.min))&&(k=d,g=c(this),q=b)}),r=this._start(b,q),!1===r?!1:(this._mouseSliding=!0,this._handleIndex=q,g.addClass("ui-state-active").focus(),
s=g.offset(),v=!c(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=v?{left:0,top:0}:{left:b.pageX-s.left-g.width()/2,top:b.pageY-s.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,q,h),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(c){var b=this._normValueFromMouse({x:c.pageX,y:c.pageY});return this._slide(c,
this._handleIndex,b),!1},_mouseStop:function(c){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(c){var b,e,h,k,g;return"horizontal"===this.orientation?(b=this.elementSize.width,e=c.x-this.elementOffset.left-
(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,e=c.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),h=e/b,1<h&&(h=1),0>h&&(h=0),"vertical"===this.orientation&&(h=1-h),k=this._valueMax()-this._valueMin(),g=this._valueMin()+h*k,this._trimAlignValue(g)},_start:function(c,b){var e={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(e.value=this.values(b),e.values=this.values()),this._trigger("start",c,e)},
_slide:function(c,b,e){var h,k,g;this.options.values&&this.options.values.length?(h=this.values(b?0:1),2===this.options.values.length&&!0===this.options.range&&(0===b&&e>h||1===b&&h>e)&&(e=h),e!==this.values(b)&&(k=this.values(),k[b]=e,g=this._trigger("slide",c,{handle:this.handles[b],value:e,values:k}),this.values(b?0:1),!1!==g&&this.values(b,e))):e!==this.value()&&(g=this._trigger("slide",c,{handle:this.handles[b],value:e}),!1!==g&&this.value(e))},_stop:function(c,b){var e={handle:this.handles[b],
value:this.value()};this.options.values&&this.options.values.length&&(e.value=this.values(b),e.values=this.values());this._trigger("stop",c,e)},_change:function(c,b){if(!this._keySliding&&!this._mouseSliding){var e={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(e.value=this.values(b),e.values=this.values());this._lastChangedValue=b;this._trigger("change",c,e)}},value:function(c){return arguments.length?(this.options.value=this._trimAlignValue(c),this._refreshValue(),
this._change(null,0),void 0):this._value()},values:function(b,e){var h,k,g;if(1<arguments.length)return this.options.values[b]=this._trimAlignValue(e),this._refreshValue(),this._change(null,b),void 0;if(!arguments.length)return this._values();if(!c.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();h=this.options.values;k=arguments[0];for(g=0;h.length>g;g+=1)h[g]=this._trimAlignValue(k[g]),this._change(null,g);this._refreshValue()},_setOption:function(b,
e){var h,k=0;switch("range"===b&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),c.isArray(this.options.values)&&(k=this.options.values.length),"disabled"===b&&this.element.toggleClass("ui-state-disabled",!!e),this._super(b,e),b){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();this.handles.css("horizontal"===e?"bottom":"left","");break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(h=0;k>h;h+=1)this._change(null,h);this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=
!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(c){var b,e;if(arguments.length)return b=this.options.values[c],this._trimAlignValue(b);if(this.options.values&&this.options.values.length){b=this.options.values.slice();for(e=0;b.length>e;e+=1)b[e]=this._trimAlignValue(b[e]);return b}return[]},_trimAlignValue:function(c){if(this._valueMin()>=c)return this._valueMin();if(c>=this._valueMax())return this._valueMax();var b=0<this.options.step?this.options.step:1,
e=(c-this._valueMin())%b;c-=e;return 2*Math.abs(e)>=b&&(c+=0<e?b:-b),parseFloat(c.toFixed(5))},_calculateNewMax:function(){var c=this.options.max,b=this._valueMin(),e=this.options.step,c=Math.floor(+(c-b).toFixed(this._precision())/e)*e+b;this.max=parseFloat(c.toFixed(this._precision()))},_precision:function(){var c=this._precisionOf(this.options.step);return null!==this.options.min&&(c=Math.max(c,this._precisionOf(this.options.min))),c},_precisionOf:function(c){c=""+c;var b=c.indexOf(".");return-1===
b?0:c.length-b-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var b,e,h,k,g,q=this.options.range,r=this.options,s=this,v=this._animateOff?!1:r.animate,z={};this.options.values&&this.options.values.length?this.handles.each(function(h){e=100*((s.values(h)-s._valueMin())/(s._valueMax()-s._valueMin()));z["horizontal"===s.orientation?"left":"bottom"]=e+"%";c(this).stop(1,1)[v?"animate":"css"](z,r.animate);!0===s.options.range&&("horizontal"===
s.orientation?(0===h&&s.range.stop(1,1)[v?"animate":"css"]({left:e+"%"},r.animate),1===h&&s.range[v?"animate":"css"]({width:e-b+"%"},{queue:!1,duration:r.animate})):(0===h&&s.range.stop(1,1)[v?"animate":"css"]({bottom:e+"%"},r.animate),1===h&&s.range[v?"animate":"css"]({height:e-b+"%"},{queue:!1,duration:r.animate})));b=e}):(h=this.value(),k=this._valueMin(),g=this._valueMax(),e=g!==k?(h-k)/(g-k)*100:0,z["horizontal"===this.orientation?"left":"bottom"]=e+"%",this.handle.stop(1,1)[v?"animate":"css"](z,
r.animate),"min"===q&&"horizontal"===this.orientation&&this.range.stop(1,1)[v?"animate":"css"]({width:e+"%"},r.animate),"max"===q&&"horizontal"===this.orientation&&this.range[v?"animate":"css"]({width:100-e+"%"},{queue:!1,duration:r.animate}),"min"===q&&"vertical"===this.orientation&&this.range.stop(1,1)[v?"animate":"css"]({height:e+"%"},r.animate),"max"===q&&"vertical"===this.orientation&&this.range[v?"animate":"css"]({height:100-e+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(b){var e,
h,k,g=c(b.target).data("ui-slider-handle-index");switch(b.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,c(b.target).addClass("ui-state-active"),e=this._start(b,g),!1===e))return}switch(k=this.options.step,e=h=this.options.values&&this.options.values.length?this.values(g):this.value(),b.keyCode){case c.ui.keyCode.HOME:h=
this._valueMin();break;case c.ui.keyCode.END:h=this._valueMax();break;case c.ui.keyCode.PAGE_UP:h=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case c.ui.keyCode.PAGE_DOWN:h=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(e===this._valueMax())return;h=this._trimAlignValue(e+k);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(e===this._valueMin())return;h=this._trimAlignValue(e-k)}this._slide(b,
g,h)},keyup:function(b){var e=c(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,e),this._change(b,e),c(b.target).removeClass("ui-state-active"))}}})});
!function(c,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():c.Handlebars=e()}(this,function(){return function(c){function e(g){if(b[g])return b[g].exports;var k=b[g]={exports:{},id:g,loaded:!1};return c[g].call(k.exports,k,k.exports,e),k.loaded=!0,k.exports}var b={};return e.m=c,e.c=b,e.p="",e(0)}([function(c,e,b){function g(){var c=q();return c.compile=function(b,d){return n.compile(b,
d,c)},c.precompile=function(b,d){return n.precompile(b,d,c)},c.AST=f["default"],c.Compiler=n.Compiler,c.JavaScriptCompiler=p["default"],c.Parser=l.parser,c.parse=l.parse,c.parseWithoutProcessing=l.parseWithoutProcessing,c}var k=b(1)["default"];e.__esModule=!0;var h=b(2),h=k(h),d=b(45),f=k(d),l=b(46),n=b(51),d=b(52),p=k(d),d=b(49),d=k(d);b=b(44);var k=k(b),q=h["default"].create,h=g();h.create=g;k["default"](h);h.Visitor=d["default"];h["default"]=h;e["default"]=h;c.exports=e["default"]},function(c,
e){e["default"]=function(c){return c&&c.__esModule?c:{"default":c}};e.__esModule=!0},function(c,e,b){function g(){var c=new f.HandlebarsEnvironment;return p.extend(c,f),c.SafeString=l["default"],c.Exception=n["default"],c.Utils=p,c.escapeExpression=p.escapeExpression,c.VM=q,c.template=function(b){return q.template(b,c)},c}var k=b(3)["default"],h=b(1)["default"];e.__esModule=!0;var d=b(4),f=k(d),d=b(37),l=h(d),d=b(6),n=h(d),d=b(5),p=k(d),d=b(38),q=k(d);b=b(44);h=h(b);b=g();b.create=g;h["default"](b);
b["default"]=b;e["default"]=b;c.exports=e["default"]},function(c,e){e["default"]=function(c){if(c&&c.__esModule)return c;var e={};if(null!=c)for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&(e[k]=c[k]);return e["default"]=c,e};e.__esModule=!0},function(c,e,b){function g(c,b,d){this.helpers=c||{};this.partials=b||{};this.decorators=d||{};f.registerDefaultHelpers(this);l.registerDefaultDecorators(this)}c=b(1)["default"];e.__esModule=!0;e.HandlebarsEnvironment=g;var k=b(5),h=b(6),d=c(h),f=b(10),
l=b(30),h=b(32);c=c(h);var n=b(33);e.VERSION="4.7.6";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"\x3c\x3d 1.0.rc.2",2:"\x3d\x3d 1.0.0-rc.3",3:"\x3d\x3d 1.0.0-rc.4",4:"\x3d\x3d 1.x.x",5:"\x3d\x3d 2.0.0-alpha.x",6:"\x3e\x3d 2.0.0-beta.1",7:"\x3e\x3d 4.0.0 \x3c4.3.0",8:"\x3e\x3d 4.3.0"};g.prototype={constructor:g,logger:c["default"],log:c["default"].log,registerHelper:function(c,b){if("[object Object]"===k.toString.call(c)){if(b)throw new d["default"]("Arg not supported with multiple helpers");
k.extend(this.helpers,c)}else this.helpers[c]=b},unregisterHelper:function(c){delete this.helpers[c]},registerPartial:function(c,b){if("[object Object]"===k.toString.call(c))k.extend(this.partials,c);else{if("undefined"==typeof b)throw new d["default"]('Attempting to register a partial called "'+c+'" as undefined');this.partials[c]=b}},unregisterPartial:function(c){delete this.partials[c]},registerDecorator:function(c,b){if("[object Object]"===k.toString.call(c)){if(b)throw new d["default"]("Arg not supported with multiple decorators");
k.extend(this.decorators,c)}else this.decorators[c]=b},unregisterDecorator:function(c){delete this.decorators[c]},resetLoggedPropertyAccesses:function(){n.resetLoggedProperties()}};e.log=c["default"].log;e.createFrame=k.createFrame;e.logger=c["default"]},function(c,e){function b(c){return k[c]}function g(c){for(var b=1;b<arguments.length;b++)for(var d in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],d)&&(c[d]=arguments[b][d]);return c}e.__esModule=!0;e.extend=g;e.indexOf=function(c,
b){for(var d=0,e=c.length;d<e;d++)if(c[d]===b)return d;return-1};e.escapeExpression=function(c){if("string"!=typeof c){if(c&&c.toHTML)return c.toHTML();if(null==c)return"";if(!c)return c+"";c=""+c}return d.test(c)?c.replace(h,b):c};e.isEmpty=function(c){return!c&&0!==c||!(!n(c)||0!==c.length)};e.createFrame=function(c){var b=g({},c);return b._parent=c,b};e.blockParams=function(c,b){return c.path=b,c};e.appendContextPath=function(c,b){return(c?c+".":"")+b};var k={"\x26":"\x26amp;","\x3c":"\x26lt;",
"\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","`":"\x26#x60;","\x3d":"\x26#x3D;"},h=/[&<>"'`=]/g,d=/[&<>"'`=]/,f=Object.prototype.toString;e.toString=f;var l=function(c){return"function"==typeof c};l(/x/)&&(e.isFunction=l=function(c){return"function"==typeof c&&"[object Function]"===f.call(c)});e.isFunction=l;var n=Array.isArray||function(c){return!(!c||"object"!=typeof c)&&"[object Array]"===f.call(c)};e.isArray=n},function(c,e,b){function g(c,b){var e=b&&b.loc,n=void 0,p=void 0,q=void 0,r=void 0;
e&&(n=e.start.line,p=e.end.line,q=e.start.column,r=e.end.column,c+=" - "+n+":"+q);for(var s=Error.prototype.constructor.call(this,c),v=0;v<h.length;v++)this[h[v]]=s[h[v]];Error.captureStackTrace&&Error.captureStackTrace(this,g);try{e&&(this.lineNumber=n,this.endLineNumber=p,k?(Object.defineProperty(this,"column",{value:q,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:r,enumerable:!0})):(this.column=q,this.endColumn=r))}catch(z){}}var k=b(7)["default"];e.__esModule=!0;var h="description fileName lineNumber endLineNumber message name number stack".split(" ");
g.prototype=Error();e["default"]=g;c.exports=e["default"]},function(c,e,b){c.exports={"default":b(8),__esModule:!0}},function(c,e,b){var g=b(9);c.exports=function(c,b,d){return g.setDesc(c,b,d)}},function(c,e){var b=Object;c.exports={create:b.create,getProto:b.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:b.getOwnPropertyDescriptor,setDesc:b.defineProperty,setDescs:b.defineProperties,getKeys:b.keys,getNames:b.getOwnPropertyNames,getSymbols:b.getOwnPropertySymbols,each:[].forEach}},function(c,
e,b){c=b(1)["default"];e.__esModule=!0;e.registerDefaultHelpers=function(c){g["default"](c);k["default"](c);h["default"](c);d["default"](c);f["default"](c);l["default"](c);n["default"](c)};e.moveHelperToHooks=function(c,b,d){c.helpers[b]&&(c.hooks[b]=c.helpers[b],d||delete c.helpers[b])};e=b(11);var g=c(e);e=b(12);var k=c(e);e=b(25);var h=c(e);e=b(26);var d=c(e);e=b(27);var f=c(e);e=b(28);var l=c(e);b=b(29);var n=c(b)},function(c,e,b){e.__esModule=!0;var g=b(5);e["default"]=function(c){c.registerHelper("blockHelperMissing",
function(b,d){var e=d.inverse,l=d.fn;if(!0===b)return l(this);if(!1===b||null==b)return e(this);if(g.isArray(b))return 0<b.length?(d.ids&&(d.ids=[d.name]),c.helpers.each(b,d)):e(this);d.data&&d.ids&&(e=g.createFrame(d.data),e.contextPath=g.appendContextPath(d.data.contextPath,d.name),d={data:e});return l(b,d)})};c.exports=e["default"]},function(c,e,b){(function(g){var k=b(13)["default"],h=b(1)["default"];e.__esModule=!0;var d=b(5),f=b(6),l=h(f);e["default"]=function(c){c.registerHelper("each",function(c,
b){function e(b,f,k){B&&(B.key=b,B.index=f,B.first=0===f,B.last=!!k,E&&(B.contextPath=E+b));w+=h(c[b],{data:B,blockParams:d.blockParams([c[b],b],[E+b,null])})}if(!b)throw new l["default"]("Must pass iterator to #each");var h=b.fn,f=b.inverse,n=0,w="",B=void 0,E=void 0;if(b.data&&b.ids&&(E=d.appendContextPath(b.data.contextPath,b.ids[0])+"."),d.isFunction(c)&&(c=c.call(this)),b.data&&(B=d.createFrame(b.data)),c&&"object"==typeof c)if(d.isArray(c))for(var u=c.length;n<u;n++)n in c&&e(n,n,n===c.length-
1);else if(g.Symbol&&c[g.Symbol.iterator]){for(var u=[],D=c[g.Symbol.iterator](),C=D.next();!C.done;C=D.next())u.push(C.value);c=u;for(u=c.length;n<u;n++)e(n,n,n===c.length-1)}else!function(){var b=void 0;k(c).forEach(function(c){void 0!==b&&e(b,n-1);b=c;n++});void 0!==b&&e(b,n-1,!0)}();return 0===n&&(w=f(this)),w})};c.exports=e["default"]}).call(e,function(){return this}())},function(c,e,b){c.exports={"default":b(14),__esModule:!0}},function(c,e,b){b(15);c.exports=b(21).Object.keys},function(c,e,
b){var g=b(16);b(18)("keys",function(c){return function(b){return c(g(b))}})},function(c,e,b){var g=b(17);c.exports=function(c){return Object(g(c))}},function(c,e){c.exports=function(c){if(void 0==c)throw TypeError("Can't call method on  "+c);return c}},function(c,e,b){var g=b(19),k=b(21),h=b(24);c.exports=function(c,b){var e=(k.Object||{})[c]||Object[c],n={};n[c]=b(e);g(g.S+g.F*h(function(){e(1)}),"Object",n)}},function(c,e,b){var g=b(20),k=b(21),h=b(22),d=function(c,b,e){var p,q,r=c&d.F,s=c&d.G,
v=c&d.S,z=c&d.P,w=c&d.B;c&=d.W;var B=s?k:k[b]||(k[b]={}),v=s?g:v?g[b]:(g[b]||{}).prototype;s&&(e=b);for(p in e)(b=!r&&v&&p in v)&&p in B||(q=b?v[p]:e[p],B[p]=s&&"function"!=typeof v[p]?e[p]:w&&b?h(q,g):c&&v[p]==q?function(c){var b=function(b){return this instanceof c?new c(b):c(b)};return b.prototype=c.prototype,b}(q):z&&"function"==typeof q?h(Function.call,q):q,z&&((B.prototype||(B.prototype={}))[p]=q))};d.F=1;d.G=2;d.S=4;d.P=8;d.B=16;d.W=32;c.exports=d},function(c,e){var b=c.exports="undefined"!=
typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)},function(c,e){var b=c.exports={version:"1.2.6"};"number"==typeof __e&&(__e=b)},function(c,e,b){var g=b(23);c.exports=function(c,b,d){if(g(c),void 0===b)return c;switch(d){case 1:return function(d){return c.call(b,d)};case 2:return function(d,e){return c.call(b,d,e)};case 3:return function(d,e,g){return c.call(b,d,e,g)}}return function(){return c.apply(b,arguments)}}},
function(c,e){c.exports=function(c){if("function"!=typeof c)throw TypeError(c+" is not a function!");return c}},function(c,e){c.exports=function(c){try{return!!c()}catch(e){return!0}}},function(c,e,b){var g=b(1)["default"];e.__esModule=!0;b=b(6);var k=g(b);e["default"]=function(c){c.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new k["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');})};c.exports=e["default"]},function(c,e,b){var g=b(1)["default"];e.__esModule=
!0;var k=b(5);b=b(6);var h=g(b);e["default"]=function(c){c.registerHelper("if",function(c,b){if(2!=arguments.length)throw new h["default"]("#if requires exactly one argument");return k.isFunction(c)&&(c=c.call(this)),!b.hash.includeZero&&!c||k.isEmpty(c)?b.inverse(this):b.fn(this)});c.registerHelper("unless",function(b,e){if(2!=arguments.length)throw new h["default"]("#unless requires exactly one argument");return c.helpers["if"].call(this,b,{fn:e.inverse,inverse:e.fn,hash:e.hash})})};c.exports=e["default"]},
function(c,e){e.__esModule=!0;e["default"]=function(c){c.registerHelper("log",function(){for(var e=[void 0],k=arguments[arguments.length-1],h=0;h<arguments.length-1;h++)e.push(arguments[h]);h=1;null!=k.hash.level?h=k.hash.level:k.data&&null!=k.data.level&&(h=k.data.level);e[0]=h;c.log.apply(c,e)})};c.exports=e["default"]},function(c,e){e.__esModule=!0;e["default"]=function(c){c.registerHelper("lookup",function(c,b,e){return c?e.lookupProperty(c,b):c})};c.exports=e["default"]},function(c,e,b){var g=
b(1)["default"];e.__esModule=!0;var k=b(5);b=b(6);var h=g(b);e["default"]=function(c){c.registerHelper("with",function(c,b){if(2!=arguments.length)throw new h["default"]("#with requires exactly one argument");k.isFunction(c)&&(c=c.call(this));var d=b.fn;if(k.isEmpty(c))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=k.createFrame(b.data),e.contextPath=k.appendContextPath(b.data.contextPath,b.ids[0])),d(c,{data:e,blockParams:k.blockParams([c],[e&&e.contextPath])})})};c.exports=e["default"]},
function(c,e,b){c=b(1)["default"];e.__esModule=!0;e.registerDefaultDecorators=function(c){g["default"](c)};e=b(31);var g=c(e)},function(c,e,b){e.__esModule=!0;var g=b(5);e["default"]=function(c){c.registerDecorator("inline",function(c,b,e,k){var n=c;return b.partials||(b.partials={},n=function(k,l){var n=e.partials;e.partials=g.extend({},n,b.partials);var s=c(k,l);return e.partials=n,s}),b.partials[k.args[0]]=k.fn,n})};c.exports=e["default"]},function(c,e,b){e.__esModule=!0;var g=b(5),k={methodMap:["debug",
"info","warn","error"],level:"info",lookupLevel:function(c){if("string"==typeof c){var b=g.indexOf(k.methodMap,c.toLowerCase());c=0<=b?b:parseInt(c,10)}return c},log:function(c){if(c=k.lookupLevel(c),"undefined"!=typeof console&&k.lookupLevel(k.level)<=c){var b=k.methodMap[c];console[b]||(b="log");for(var e=arguments.length,g=Array(1<e?e-1:0),n=1;n<e;n++)g[n-1]=arguments[n];console[b].apply(console,g)}}};e["default"]=k;c.exports=e["default"]},function(c,e,b){function g(c,b){var d;void 0!==c.whitelist[b]?
d=!0===c.whitelist[b]:void 0!==c.defaultValue?d=c.defaultValue:(!0!==l[b]&&(l[b]=!0,f.log("error",'Handlebars: Access has been denied to resolve the property "'+b+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details')),d=!1);return d}var k=b(34)["default"],h=b(13)["default"];c=b(3)["default"];e.__esModule=!0;e.createProtoAccessControl=
function(c){var b=k(null);b.constructor=!1;b.__defineGetter__=!1;b.__defineSetter__=!1;b.__lookupGetter__=!1;var e=k(null);return e.__proto__=!1,{properties:{whitelist:d.createNewLookupObject(e,c.allowedProtoProperties),defaultValue:c.allowProtoPropertiesByDefault},methods:{whitelist:d.createNewLookupObject(b,c.allowedProtoMethods),defaultValue:c.allowProtoMethodsByDefault}}};e.resultIsAllowed=function(c,b,d){return"function"==typeof c?g(b.methods,d):g(b.properties,d)};e.resetLoggedProperties=function(){h(l).forEach(function(c){delete l[c]})};
var d=b(36);e=b(32);var f=c(e),l=k(null)},function(c,e,b){c.exports={"default":b(35),__esModule:!0}},function(c,e,b){var g=b(9);c.exports=function(c,b){return g.create(c,b)}},function(c,e,b){var g=b(34)["default"];e.__esModule=!0;e.createNewLookupObject=function(){for(var c=arguments.length,b=Array(c),e=0;e<c;e++)b[e]=arguments[e];return k.extend.apply(void 0,[g(null)].concat(b))};var k=b(5)},function(c,e){function b(c){this.string=c}e.__esModule=!0;b.prototype.toString=b.prototype.toHTML=function(){return""+
this.string};e["default"]=b;c.exports=e["default"]},function(c,e,b){function g(c,b,e,h,f,k,g){function l(b){var d=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],f=g;return!g||b==g[0]||b===c.nullContext&&null===g[0]||(f=[b].concat(g)),e(c,b,c.helpers,c.partials,d.data||h,k&&[d.blockParams].concat(k),f)}return l=d(e,l,c,g,h,k),l.program=b,l.depth=g?g.length:0,l.blockParams=f||0,l}function k(){return""}function h(c,b){return b&&"root"in b||(b=b?v.createFrame(b):{},b.root=c),b}function d(c,
b,d,e,h,f){if(c.decorator){var k={};b=c.decorator(b,k,d,e&&e[0],h,f,e);r.extend(b,k)}return b}function f(c,b){p(c).forEach(function(d){c[d]=l(c[d],b)})}function l(c,b){var d=b.lookupProperty;return w.wrapHelper(c,function(c){return r.extend({lookupProperty:d},c)})}var n=b(39)["default"],p=b(13)["default"],q=b(3)["default"];c=b(1)["default"];e.__esModule=!0;e.checkRevision=function(c){var b=c&&c[0]||1,d=v.COMPILER_REVISION;if(!(b>=v.LAST_COMPATIBLE_COMPILER_REVISION&&b<=v.COMPILER_REVISION)){if(b<
v.LAST_COMPATIBLE_COMPILER_REVISION)throw new s["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+v.REVISION_CHANGES[d]+") or downgrade your runtime to an older version ("+v.REVISION_CHANGES[b]+").");throw new s["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+c[1]+").");}};e.template=function(c,b){function e(b){function f(b){return""+
c.main(l,b,l.helpers,l.partials,g,p,n)}var k=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],g=k.data;e._setup(k);!k.partial&&c.useData&&(g=h(b,g));var n=void 0,p=c.useBlockParams?[]:void 0;return c.useDepths&&(n=k.depths?b!=k.depths[0]?[b].concat(k.depths):k.depths:[b]),(f=d(c.main,f,l,k.depths||[],g,p))(b,k)}if(!b)throw new s["default"]("No environment passed to template");if(!c||!c.main)throw new s["default"]("Unknown template object: "+typeof c);c.main.decorator=c.main_d;b.VM.checkRevision(c.compiler);
var k=c.compiler&&7===c.compiler[0],l={strict:function(c,b,d){if(!(c&&b in c))throw new s["default"]('"'+b+'" not defined in '+c,{loc:d});return c[b]},lookupProperty:function(c,b){var d=c[b];return null==d?d:Object.prototype.hasOwnProperty.call(c,b)?d:B.resultIsAllowed(d,l.protoAccessControl,b)?d:void 0},lookup:function(c,b){for(var d=c.length,e=0;e<d;e++)if(null!=(c[e]&&l.lookupProperty(c[e],b)))return c[e][b]},lambda:function(c,b){return"function"==typeof c?c.call(b):c},escapeExpression:r.escapeExpression,
invokePartial:function(d,e,h){h.hash&&(e=r.extend({},e,h.hash),h.ids&&(h.ids[0]=!0));d=b.VM.resolvePartial.call(this,d,e,h);var f=r.extend({},h,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),k=b.VM.invokePartial.call(this,d,e,f);if(null==k&&b.compile&&(h.partials[h.name]=b.compile(d,c.compilerOptions,b),k=h.partials[h.name](e,f)),null!=k){if(h.indent){d=k.split("\n");e=0;for(f=d.length;e<f&&(d[e]||e+1!==f);e++)d[e]=h.indent+d[e];k=d.join("\n")}return k}throw new s["default"]("The partial "+
h.name+" could not be compiled when running in runtime-only mode");},fn:function(b){var d=c[b];return d.decorator=c[b+"_d"],d},programs:[],program:function(c,b,d,e,h){var f=this.programs[c],k=this.fn(c);return b||h||e||d?f=g(this,c,k,b,d,e,h):f||(f=this.programs[c]=g(this,c,k)),f},data:function(c,b){for(;c&&b--;)c=c._parent;return c},mergeIfNeeded:function(c,b){var d=c||b;return c&&b&&c!==b&&(d=r.extend({},b,c)),d},nullContext:n({}),noop:b.VM.noop,compilerInfo:c.compiler};return e.isTop=!0,e._setup=
function(d){if(d.partial)l.protoAccessControl=d.protoAccessControl,l.helpers=d.helpers,l.partials=d.partials,l.decorators=d.decorators,l.hooks=d.hooks;else{var e=r.extend({},b.helpers,d.helpers);f(e,l);l.helpers=e;c.usePartial&&(l.partials=l.mergeIfNeeded(d.partials,b.partials));(c.usePartial||c.useDecorators)&&(l.decorators=r.extend({},b.decorators,d.decorators));l.hooks={};l.protoAccessControl=B.createProtoAccessControl(d);d=d.allowCallsToHelperMissing||k;z.moveHelperToHooks(l,"helperMissing",d);
z.moveHelperToHooks(l,"blockHelperMissing",d)}},e._child=function(b,d,e,h){if(c.useBlockParams&&!e)throw new s["default"]("must pass block params");if(c.useDepths&&!h)throw new s["default"]("must pass parent depths");return g(l,b,c[b],d,0,e,h)},e};e.wrapProgram=g;e.resolvePartial=function(c,b,d){return c?c.call||d.name||(d.name=c,c=d.partials[c]):c="@partial-block"===d.name?d.data["partial-block"]:d.partials[d.name],c};e.invokePartial=function(c,b,d){var e=d.data&&d.data["partial-block"];d.partial=
!0;d.ids&&(d.data.contextPath=d.ids[0]||d.data.contextPath);var h=void 0;if(d.fn&&d.fn!==k&&!function(){d.data=v.createFrame(d.data);var c=d.fn;h=d.data["partial-block"]=function(b){var d=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];return d.data=v.createFrame(d.data),d.data["partial-block"]=e,c(b,d)};c.partials&&(d.partials=r.extend({},d.partials,c.partials))}(),void 0===c&&h&&(c=h),void 0===c)throw new s["default"]("The partial "+d.name+" could not be found");if(c instanceof Function)return c(b,
d)};e.noop=k;e=b(5);var r=q(e);e=b(6);var s=c(e),v=b(4),z=b(10),w=b(43),B=b(33)},function(c,e,b){c.exports={"default":b(40),__esModule:!0}},function(c,e,b){b(41);c.exports=b(21).Object.seal},function(c,e,b){var g=b(42);b(18)("seal",function(c){return function(b){return c&&g(b)?c(b):b}})},function(c,e){c.exports=function(c){return"object"==typeof c?null!==c:"function"==typeof c}},function(c,e){e.__esModule=!0;e.wrapHelper=function(c,e){return"function"!=typeof c?c:function(){return arguments[arguments.length-
1]=e(arguments[arguments.length-1]),c.apply(this,arguments)}}},function(c,e){(function(b){e.__esModule=!0;e["default"]=function(c){var e="undefined"!=typeof b?b:window,h=e.Handlebars;c.noConflict=function(){return e.Handlebars===c&&(e.Handlebars=h),c}};c.exports=e["default"]}).call(e,function(){return this}())},function(c,e){e.__esModule=!0;var b={helpers:{helperExpression:function(c){return"SubExpression"===c.type||("MustacheStatement"===c.type||"BlockStatement"===c.type)&&!!(c.params&&c.params.length||
c.hash)},scopedId:function(c){return/^\.|this\b/.test(c.original)},simpleId:function(c){return 1===c.parts.length&&!b.helpers.scopedId(c)&&!c.depth}}};e["default"]=b;c.exports=e["default"]},function(c,e,b){function g(c,b){if("Program"===c.type)return c;d["default"].yy=l;l.locInfo=function(c){return new l.SourceLocation(b&&b.srcName,c)};return d["default"].parse(c)}var k=b(1)["default"];c=b(3)["default"];e.__esModule=!0;e.parseWithoutProcessing=g;e.parse=function(c,b){var d=g(c,b);return(new f["default"](b)).accept(d)};
var h=b(47),d=k(h),h=b(48),f=k(h),k=b(50);c=c(k);b=b(5);e.parser=d["default"];var l={};b.extend(l,c)},function(c,e){e.__esModule=!0;var b=function(){function c(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,
CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,
mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,
CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",
75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],
[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(c,b,e,h,k,g,r){c=g.length-1;switch(k){case 1:return g[c-1];case 2:this.$=h.prepareProgram(g[c]);break;case 3:this.$=g[c];break;case 4:this.$=
g[c];break;case 5:this.$=g[c];break;case 6:this.$=g[c];break;case 7:this.$=g[c];break;case 8:this.$=g[c];break;case 9:this.$={type:"CommentStatement",value:h.stripComment(g[c]),strip:h.stripFlags(g[c],g[c]),loc:h.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:g[c],value:g[c],loc:h.locInfo(this._$)};break;case 11:this.$=h.prepareRawBlock(g[c-2],g[c-1],g[c],this._$);break;case 12:this.$={path:g[c-3],params:g[c-2],hash:g[c-1]};break;case 13:this.$=h.prepareBlock(g[c-3],g[c-
2],g[c-1],g[c],!1,this._$);break;case 14:this.$=h.prepareBlock(g[c-3],g[c-2],g[c-1],g[c],!0,this._$);break;case 15:this.$={open:g[c-5],path:g[c-4],params:g[c-3],hash:g[c-2],blockParams:g[c-1],strip:h.stripFlags(g[c-5],g[c])};break;case 16:this.$={path:g[c-4],params:g[c-3],hash:g[c-2],blockParams:g[c-1],strip:h.stripFlags(g[c-5],g[c])};break;case 17:this.$={path:g[c-4],params:g[c-3],hash:g[c-2],blockParams:g[c-1],strip:h.stripFlags(g[c-5],g[c])};break;case 18:this.$={strip:h.stripFlags(g[c-1],g[c-
1]),program:g[c]};break;case 19:k=h.prepareBlock(g[c-2],g[c-1],g[c],g[c],!1,this._$);h=h.prepareProgram([k],g[c-1].loc);h.chained=!0;this.$={strip:g[c-2].strip,program:h,chain:!0};break;case 20:this.$=g[c];break;case 21:this.$={path:g[c-1],strip:h.stripFlags(g[c-2],g[c])};break;case 22:this.$=h.prepareMustache(g[c-3],g[c-2],g[c-1],g[c-4],h.stripFlags(g[c-4],g[c]),this._$);break;case 23:this.$=h.prepareMustache(g[c-3],g[c-2],g[c-1],g[c-4],h.stripFlags(g[c-4],g[c]),this._$);break;case 24:this.$={type:"PartialStatement",
name:g[c-3],params:g[c-2],hash:g[c-1],indent:"",strip:h.stripFlags(g[c-4],g[c]),loc:h.locInfo(this._$)};break;case 25:this.$=h.preparePartialBlock(g[c-2],g[c-1],g[c],this._$);break;case 26:this.$={path:g[c-3],params:g[c-2],hash:g[c-1],strip:h.stripFlags(g[c-4],g[c])};break;case 27:this.$=g[c];break;case 28:this.$=g[c];break;case 29:this.$={type:"SubExpression",path:g[c-3],params:g[c-2],hash:g[c-1],loc:h.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:g[c],loc:h.locInfo(this._$)};break;case 31:this.$=
{type:"HashPair",key:h.id(g[c-2]),value:g[c],loc:h.locInfo(this._$)};break;case 32:this.$=h.id(g[c-1]);break;case 33:this.$=g[c];break;case 34:this.$=g[c];break;case 35:this.$={type:"StringLiteral",value:g[c],original:g[c],loc:h.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(g[c]),original:Number(g[c]),loc:h.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===g[c],original:"true"===g[c],loc:h.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",
original:void 0,value:void 0,loc:h.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:h.locInfo(this._$)};break;case 40:this.$=g[c];break;case 41:this.$=g[c];break;case 42:this.$=h.preparePath(!0,g[c],this._$);break;case 43:this.$=h.preparePath(!1,g[c],this._$);break;case 44:g[c-2].push({part:h.id(g[c]),original:g[c],separator:g[c-1]});this.$=g[c-2];break;case 45:this.$=[{part:h.id(g[c]),original:g[c]}];break;case 46:this.$=[];break;case 47:g[c-1].push(g[c]);break;
case 48:this.$=[];break;case 49:g[c-1].push(g[c]);break;case 50:this.$=[];break;case 51:g[c-1].push(g[c]);break;case 58:this.$=[];break;case 59:g[c-1].push(g[c]);break;case 64:this.$=[];break;case 65:g[c-1].push(g[c]);break;case 70:this.$=[];break;case 71:g[c-1].push(g[c]);break;case 78:this.$=[];break;case 79:g[c-1].push(g[c]);break;case 82:this.$=[];break;case 83:g[c-1].push(g[c]);break;case 86:this.$=[];break;case 87:g[c-1].push(g[c]);break;case 90:this.$=[];break;case 91:g[c-1].push(g[c]);break;
case 94:this.$=[];break;case 95:g[c-1].push(g[c]);break;case 98:this.$=[g[c]];break;case 99:g[c-1].push(g[c]);break;case 100:this.$=[g[c]];break;case 101:g[c-1].push(g[c])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,
1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,
6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,
29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,
30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],
78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,
34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],
72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],
87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,
41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,
90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},
{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],
55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],
85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,
33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,
28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,
83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,
14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,
65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],
68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],
15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],
47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,
15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,
77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(c,b){throw Error(c);},parse:function(c){var b=[0],e=[null],h=[],k=this.table,g="",r=0,s=0,v=0;this.lexer.setInput(c);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});c=this.lexer.yylloc;h.push(c);var z=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var w,B,E,u,D,
C,F,A,H={};;){E=b[b.length-1];if(this.defaultActions[E])u=this.defaultActions[E];else{if(null===w||"undefined"==typeof w)u=void 0,w=(u=this.lexer.lex()||1,"number"!=typeof u&&(u=this.symbols_[u]||u),u);u=k[E]&&k[E][w]}if("undefined"==typeof u||!u.length||!u[0]){var L="";if(!v){A=[];for(C in k[E])this.terminals_[C]&&2<C&&A.push("'"+this.terminals_[C]+"'");L=this.lexer.showPosition?"Parse error on line "+(r+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[w]||
w)+"'":"Parse error on line "+(r+1)+": Unexpected "+(1==w?"end of input":"'"+(this.terminals_[w]||w)+"'");this.parseError(L,{text:this.lexer.match,token:this.terminals_[w]||w,line:this.lexer.yylineno,loc:c,expected:A})}}if(u[0]instanceof Array&&1<u.length)throw Error("Parse Error: multiple actions possible at state: "+E+", token: "+w);switch(u[0]){case 1:b.push(w);e.push(this.lexer.yytext);h.push(this.lexer.yylloc);b.push(u[1]);w=null;B?(w=B,B=null):(s=this.lexer.yyleng,g=this.lexer.yytext,r=this.lexer.yylineno,
c=this.lexer.yylloc,0<v&&v--);break;case 2:if(F=this.productions_[u[1]][1],H.$=e[e.length-F],H._$={first_line:h[h.length-(F||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(F||1)].first_column,last_column:h[h.length-1].last_column},z&&(H._$.range=[h[h.length-(F||1)].range[0],h[h.length-1].range[1]]),D=this.performAction.call(H,g,s,r,this.yy,u[1],e,h),"undefined"!=typeof D)return D;F&&(b=b.slice(0,-2*F),e=e.slice(0,-1*F),h=h.slice(0,-1*F));b.push(this.productions_[u[1]][0]);
e.push(H.$);h.push(H._$);E=k[b[b.length-2]][b[b.length-1]];b.push(E);break;case 3:return!0}}}},e=function(){var c={EOF:1,parseError:function(c,b){if(!this.yy.parser)throw Error(c);this.yy.parser.parseError(c,b)},setInput:function(c){return this._input=c,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),
this.offset=0,this},input:function(){var c=this._input[0];this.yytext+=c;this.yyleng++;this.offset++;this.match+=c;this.matched+=c;return c.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),c},unput:function(c){var b=c.length,d=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b-1);this.offset-=b;c=this.match.split(/(?:\r\n?|\n)/g);
this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);d.length-1&&(this.yylineno-=d.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===c.length?this.yylloc.first_column:0)+c[c.length-d.length].length-d[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=
!0,this},less:function(c){this.unput(this.match.slice(c))},pastInput:function(){var c=this.matched.substr(0,this.matched.length-this.match.length);return(20<c.length?"...":"")+c.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var c=this.match;return 20>c.length&&(c+=this._input.substr(0,20-c.length)),(c.substr(0,20)+(20<c.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var c=this.pastInput(),b=Array(c.length+1).join("-");return c+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var c,b,d,e,h;this._more||(this.yytext="",this.match="");for(var k=this._currentRules(),g=0;g<k.length&&(d=this._input.match(this.rules[k[g]]),!d||b&&!(d[0].length>b[0].length)||(b=d,e=g,this.options.flex));g++);return b?(h=b[0].match(/(?:\r\n?|\n).*/g),h&&(this.yylineno+=h.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:h?h[h.length-1].length-h[h.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],c=this.performAction.call(this,this.yy,this,k[e],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),c?c:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var c=this.next();return"undefined"!=typeof c?c:this.lex()},begin:function(c){this.conditionStack.push(c)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(c){this.begin(c)}};return c.options={},c.performAction=function(c,
b,d,e){function h(c,d){return b.yytext=b.yytext.substring(c,b.yyleng-d+c)}switch(d){case 0:if("\\\\"===b.yytext.slice(-2)?(h(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(h(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(h(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;
case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext);this.popState();this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 29:return this.popState(),
54;case 30:return this.popState(),33;case 31:return b.yytext=h(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=h(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},c.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,
/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,
/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],c.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,
28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},c}();return b.lexer=e,c.prototype=b,b.Parser=c,new c}();e["default"]=b;c.exports=e["default"]},function(c,e,b){function g(){this.options=0>=arguments.length||void 0===arguments[0]?{}:arguments[0]}function k(c,b,d){void 0===b&&(b=c.length);var e=c[b-1];c=c[b-2];return e?"ContentStatement"===e.type?(c||!d?
/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(e.original):void 0:d}function h(c,b,d){void 0===b&&(b=-1);var e=c[b+1];c=c[b+2];return e?"ContentStatement"===e.type?(c||!d?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(e.original):void 0:d}function d(c,b,d){!(c=c[null==b?0:b+1])||"ContentStatement"!==c.type||!d&&c.rightStripped||(b=c.value,c.value=c.value.replace(d?/^\s+/:/^[ \t]*\r?\n?/,""),c.rightStripped=c.value!==b)}function f(c,b,d){if((c=c[null==b?c.length-1:b-1])&&"ContentStatement"===c.type&&(d||!c.leftStripped))return b=
c.value,c.value=c.value.replace(d?/\s+$/:/[ \t]+$/,""),c.leftStripped=c.value!==b,c.leftStripped}var l=b(1)["default"];e.__esModule=!0;b=b(49);l=l(b);g.prototype=new l["default"];g.prototype.Program=function(c){var b=!this.options.ignoreStandalone,e=!this.isRootSeen;this.isRootSeen=!0;for(var g=c.body,l=0,v=g.length;l<v;l++){var z=g[l],w=this.accept(z);if(w){var B=k(g,l,e),E=h(g,l,e),u=w.openStandalone&&B,D=w.closeStandalone&&E,B=w.inlineStandalone&&B&&E;w.close&&d(g,l,!0);w.open&&f(g,l,!0);b&&B&&
(d(g,l),f(g,l)&&"PartialStatement"===z.type&&(z.indent=/([ \t]+$)/.exec(g[l-1].original)[1]));b&&u&&(d((z.program||z.inverse).body),f(g,l));b&&D&&(d(g,l),f((z.inverse||z.program).body))}}return c};g.prototype.BlockStatement=g.prototype.DecoratorBlock=g.prototype.PartialBlockStatement=function(c){this.accept(c.program);this.accept(c.inverse);var b=c.program||c.inverse,e=c.program&&c.inverse,g=e,l=e;if(e&&e.chained)for(g=e.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var v={open:c.openStrip.open,
close:c.closeStrip.close,openStandalone:h(b.body),closeStandalone:k((g||b).body)};(c.openStrip.close&&d(b.body,null,!0),e)?(e=c.inverseStrip,e.open&&f(b.body,null,!0),e.close&&d(g.body,null,!0),c.closeStrip.open&&f(l.body,null,!0),!this.options.ignoreStandalone&&k(b.body)&&h(g.body)&&(f(b.body),d(g.body))):c.closeStrip.open&&f(b.body,null,!0);return v};g.prototype.Decorator=g.prototype.MustacheStatement=function(c){return c.strip};g.prototype.PartialStatement=g.prototype.CommentStatement=function(c){c=
c.strip||{};return{inlineStandalone:!0,open:c.open,close:c.close}};e["default"]=g;c.exports=e["default"]},function(c,e,b){function g(){this.parents=[]}function k(c){this.acceptRequired(c,"path");this.acceptArray(c.params);this.acceptKey(c,"hash")}function h(c){k.call(this,c);this.acceptKey(c,"program");this.acceptKey(c,"inverse")}function d(c){this.acceptRequired(c,"name");this.acceptArray(c.params);this.acceptKey(c,"hash")}var f=b(1)["default"];e.__esModule=!0;b=b(6);var l=f(b);g.prototype={constructor:g,
mutating:!1,acceptKey:function(c,b){var d=this.accept(c[b]);if(this.mutating){if(d&&!g.prototype[d.type])throw new l["default"]('Unexpected node type "'+d.type+'" found when accepting '+b+" on "+c.type);c[b]=d}},acceptRequired:function(c,b){if(this.acceptKey(c,b),!c[b])throw new l["default"](c.type+" requires "+b);},acceptArray:function(c){for(var b=0,d=c.length;b<d;b++)this.acceptKey(c,b),c[b]||(c.splice(b,1),b--,d--)},accept:function(c){if(c){if(!this[c.type])throw new l["default"]("Unknown type: "+
c.type,c);this.current&&this.parents.unshift(this.current);this.current=c;var b=this[c.type](c);return this.current=this.parents.shift(),!this.mutating||b?b:!1!==b?c:void 0}},Program:function(c){this.acceptArray(c.body)},MustacheStatement:k,Decorator:k,BlockStatement:h,DecoratorBlock:h,PartialStatement:d,PartialBlockStatement:function(c){d.call(this,c);this.acceptKey(c,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:k,PathExpression:function(){},StringLiteral:function(){},
NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(c){this.acceptArray(c.pairs)},HashPair:function(c){this.acceptRequired(c,"value")}};e["default"]=g;c.exports=e["default"]},function(c,e,b){function g(c,b){if(b=b.path?b.path.original:b,c.path.original!==b)throw new k["default"](c.path.original+" doesn't match "+b,{loc:c.path.loc});}c=b(1)["default"];e.__esModule=!0;e.SourceLocation=function(c,b){this.source=c;this.start={line:b.first_line,
column:b.first_column};this.end={line:b.last_line,column:b.last_column}};e.id=function(c){return/^\[.*\]$/.test(c)?c.substring(1,c.length-1):c};e.stripFlags=function(c,b){return{open:"~"===c.charAt(2),close:"~"===b.charAt(b.length-3)}};e.stripComment=function(c){return c.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")};e.preparePath=function(c,b,e){e=this.locInfo(e);for(var g=c?"@":"",n=[],p=0,q=0,r=b.length;q<r;q++){var s=b[q].part,v=b[q].original!==s;if(g+=(b[q].separator||"")+s,v||".."!==
s&&"."!==s&&"this"!==s)n.push(s);else{if(0<n.length)throw new k["default"]("Invalid path: "+g,{loc:e});".."===s&&p++}}return{type:"PathExpression",data:c,depth:p,parts:n,original:g,loc:e}};e.prepareMustache=function(c,b,e,k,g,p){var q=k.charAt(3)||k.charAt(2),q="{"!==q&&"\x26"!==q;return{type:/\*/.test(k)?"Decorator":"MustacheStatement",path:c,params:b,hash:e,escaped:q,strip:g,loc:this.locInfo(p)}};e.prepareRawBlock=function(c,b,e,k){g(c,e);k=this.locInfo(k);return{type:"BlockStatement",path:c.path,
params:c.params,hash:c.hash,program:{type:"Program",body:b,strip:{},loc:k},openStrip:{},inverseStrip:{},closeStrip:{},loc:k}};e.prepareBlock=function(c,b,e,l,n,p){l&&l.path&&g(c,l);var q=/\*/.test(c.open);b.blockParams=c.blockParams;var r=void 0,s=void 0;if(e){if(q)throw new k["default"]("Unexpected inverse block on decorator",e);e.chain&&(e.program.body[0].closeStrip=l.strip);s=e.strip;r=e.program}return n&&(n=r,r=b,b=n),{type:q?"DecoratorBlock":"BlockStatement",path:c.path,params:c.params,hash:c.hash,
program:b,inverse:r,openStrip:c.strip,inverseStrip:s,closeStrip:l&&l.strip,loc:this.locInfo(p)}};e.prepareProgram=function(c,b){if(!b&&c.length){var e=c[0].loc,k=c[c.length-1].loc;e&&k&&(b={source:e.source,start:{line:e.start.line,column:e.start.column},end:{line:k.end.line,column:k.end.column}})}return{type:"Program",body:c,strip:{},loc:b}};e.preparePartialBlock=function(c,b,e,k){return g(c,e),{type:"PartialBlockStatement",name:c.path,params:c.params,hash:c.hash,program:b,openStrip:c.strip,closeStrip:e&&
e.strip,loc:this.locInfo(k)}};e=b(6);var k=c(e)},function(c,e,b){function g(){}function k(c,b){if(c===b)return!0;if(l.isArray(c)&&l.isArray(b)&&c.length===b.length){for(var d=0;d<c.length;d++)if(!k(c[d],b[d]))return!1;return!0}}function h(c){if(!c.path.parts){var b=c.path;c.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}var d=b(34)["default"];c=b(1)["default"];e.__esModule=!0;e.Compiler=g;e.precompile=function(c,b,d){if(null==c||"string"!=typeof c&&
"Program"!==c.type)throw new f["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+c);b=b||{};"data"in b||(b.data=!0);b.compat&&(b.useDepths=!0);c=d.parse(c,b);c=(new d.Compiler).compile(c,b);return(new d.JavaScriptCompiler).compile(c,b)};e.compile=function(c,b,d){function e(){var h=d.parse(c,b),h=(new d.Compiler).compile(h,b),h=(new d.JavaScriptCompiler).compile(h,b,void 0,!0);return d.template(h)}function h(c,b){return k||(k=e()),k.call(this,c,b)}if(void 0===
b&&(b={}),null==c||"string"!=typeof c&&"Program"!==c.type)throw new f["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+c);b=l.extend({},b);"data"in b||(b.data=!0);b.compat&&(b.useDepths=!0);var k=void 0;return h._setup=function(c){return k||(k=e()),k._setup(c)},h._child=function(c,b,d,h){return k||(k=e()),k._child(c,b,d,h)},h};e=b(6);var f=c(e),l=b(5);b=b(45);var n=c(b),p=[].slice;g.prototype={compiler:g,equals:function(c){var b=this.opcodes.length;if(c.opcodes.length!==
b)return!1;for(var d=0;d<b;d++){var e=this.opcodes[d],h=c.opcodes[d];if(e.opcode!==h.opcode||!k(e.args,h.args))return!1}b=this.children.length;for(d=0;d<b;d++)if(!this.children[d].equals(c.children[d]))return!1;return!0},guid:0,compile:function(c,b){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[],b.knownHelpers=l.extend(d(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,
unless:!0,"with":!0,log:!0,lookup:!0},b.knownHelpers),this.accept(c)},compileProgram:function(c){c=(new this.compiler).compile(c,this.options);var b=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[b]=c,this.useDepths=this.useDepths||c.useDepths,b},accept:function(c){if(!this[c.type])throw new f["default"]("Unknown type: "+c.type,c);this.sourceNode.unshift(c);c=this[c.type](c);return this.sourceNode.shift(),c},Program:function(c){this.options.blockParams.unshift(c.blockParams);
for(var b=c.body,d=b.length,e=0;e<d;e++)this.accept(b[e]);return this.options.blockParams.shift(),this.isSimple=1===d,this.blockParams=c.blockParams?c.blockParams.length:0,this},BlockStatement:function(c){h(c);var b=c.program,d=c.inverse,b=b&&this.compileProgram(b),d=d&&this.compileProgram(d),e=this.classifySexpr(c);"helper"===e?this.helperSexpr(c,b,d):"simple"===e?(this.simpleSexpr(c),this.opcode("pushProgram",b),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue",c.path.original)):
(this.ambiguousSexpr(c,b,d),this.opcode("pushProgram",b),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},DecoratorBlock:function(c){var b=c.program&&this.compileProgram(c.program),b=this.setupFullMustacheParams(c,b,void 0);c=c.path;this.useDecorators=!0;this.opcode("registerDecorator",b.length,c.original)},PartialStatement:function(c){this.usePartial=!0;var b=c.program;b&&(b=this.compileProgram(c.program));var d=c.params;if(1<d.length)throw new f["default"]("Unsupported number of partial arguments: "+
d.length,c);d.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):d.push({type:"PathExpression",parts:[],depth:0}));var d=c.name.original,e="SubExpression"===c.name.type;e&&this.accept(c.name);this.setupFullMustacheParams(c,b,void 0,!0);c=c.indent||"";this.options.preventIndent&&c&&(this.opcode("appendContent",c),c="");this.opcode("invokePartial",e,d,c);this.opcode("append")},PartialBlockStatement:function(c){this.PartialStatement(c)},MustacheStatement:function(c){this.SubExpression(c);
c.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(c){this.DecoratorBlock(c)},ContentStatement:function(c){c.value&&this.opcode("appendContent",c.value)},CommentStatement:function(){},SubExpression:function(c){h(c);var b=this.classifySexpr(c);"simple"===b?this.simpleSexpr(c):"helper"===b?this.helperSexpr(c):this.ambiguousSexpr(c)},ambiguousSexpr:function(c,b,d){c=c.path;var e=c.parts[0],h=null!=b||null!=d;this.opcode("getContext",c.depth);this.opcode("pushProgram",
b);this.opcode("pushProgram",d);c.strict=!0;this.accept(c);this.opcode("invokeAmbiguous",e,h)},simpleSexpr:function(c){c=c.path;c.strict=!0;this.accept(c);this.opcode("resolvePossibleLambda")},helperSexpr:function(c,b,d){b=this.setupFullMustacheParams(c,b,d);d=c.path;var e=d.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",b.length,e);else{if(this.options.knownHelpersOnly)throw new f["default"]("You specified knownHelpersOnly, but used the unknown helper "+e,c);d.strict=!0;
d.falsy=!0;this.accept(d);this.opcode("invokeHelper",b.length,d.original,n["default"].helpers.simpleId(d))}},PathExpression:function(c){this.addDepth(c.depth);this.opcode("getContext",c.depth);var b=c.parts[0],d=n["default"].helpers.scopedId(c),e=!c.depth&&!d&&this.blockParamIndex(b);e?this.opcode("lookupBlockParam",e,c.parts):b?c.data?(this.options.data=!0,this.opcode("lookupData",c.depth,c.parts,c.strict)):this.opcode("lookupOnContext",c.parts,c.falsy,c.strict,d):this.opcode("pushContext")},StringLiteral:function(c){this.opcode("pushString",
c.value)},NumberLiteral:function(c){this.opcode("pushLiteral",c.value)},BooleanLiteral:function(c){this.opcode("pushLiteral",c.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(c){c=c.pairs;var b=0,d=c.length;for(this.opcode("pushHash");b<d;b++)this.pushParam(c[b].value);for(;b--;)this.opcode("assignToHash",c[b].key);this.opcode("popHash")},opcode:function(c){this.opcodes.push({opcode:c,args:p.call(arguments,
1),loc:this.sourceNode[0].loc})},addDepth:function(c){c&&(this.useDepths=!0)},classifySexpr:function(c){var b=n["default"].helpers.simpleId(c.path),d=b&&!!this.blockParamIndex(c.path.parts[0]),e=!d&&n["default"].helpers.helperExpression(c);(b=!d&&(e||b))&&!e&&(d=this.options,d.knownHelpers[c.path.parts[0]]?e=!0:d.knownHelpersOnly&&(b=!1));return e?"helper":b?"ambiguous":"simple"},pushParams:function(c){for(var b=0,d=c.length;b<d;b++)this.pushParam(c[b])},pushParam:function(c){var b=null!=c.value?
c.value:c.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",b,c.type),"SubExpression"===c.type&&this.accept(c);else{if(this.trackIds){var d=void 0;(!c.parts||n["default"].helpers.scopedId(c)||c.depth||(d=this.blockParamIndex(c.parts[0])),d)?(b=c.parts.slice(1).join("."),this.opcode("pushId","BlockParam",d,b)):(b=c.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,
"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",c.type,b))}this.accept(c)}},setupFullMustacheParams:function(c,b,d,e){var h=c.params;return this.pushParams(h),this.opcode("pushProgram",b),this.opcode("pushProgram",d),c.hash?this.accept(c.hash):this.opcode("emptyHash",e),h},blockParamIndex:function(c){for(var b=0,d=this.options.blockParams.length;b<d;b++){var e=this.options.blockParams[b],h=e&&l.indexOf(e,c);if(e&&0<=h)return[b,h]}}}},function(c,e,b){function g(c){this.value=c}function k(){}
function h(c,b,d,e){var h=b.popStack(),f=0,k=d.length;for(c&&k--;f<k;f++)h=b.nameLookup(h,d[f],e);return c?[b.aliasable("container.strict"),"(",h,", ",b.quotedString(d[f]),", ",JSON.stringify(b.source.currentLocation)," )"]:h}var d=b(13)["default"],f=b(1)["default"];e.__esModule=!0;var l=b(4),n=b(6),p=f(n),q=b(5);b=b(53);var r=f(b);k.prototype={nameLookup:function(c,b){return this.internalNameLookup(c,b)},depthedLookup:function(c){return[this.aliasable("container.lookup"),'(depths, "',c,'")']},compilerInfo:function(){var c=
l.COMPILER_REVISION;return[c,l.REVISION_CHANGES[c]]},appendToBuffer:function(c,b,d){return q.isArray(c)||(c=[c]),c=this.source.wrap(c,b),this.environment.isSimple?["return ",c,";"]:d?["buffer +\x3d ",c,";"]:(c.appendToBuffer=!0,c)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(c,b){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",c,",",JSON.stringify(b),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(c,b,d,e){this.environment=c;this.options=
b;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!e;this.name=this.environment.name;this.isChild=!!d;this.context=d||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(c,b);this.useDepths=this.useDepths||c.useDepths||c.useDecorators||this.options.compat;this.useBlockParams=
this.useBlockParams||c.useBlockParams;var h=c.opcodes,f=void 0,k=void 0;d=c=void 0;c=0;for(d=h.length;c<d;c++)f=h[c],this.source.currentLocation=f.loc,k=k||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=k,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new p["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators \x3d container.decorators, ",
this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),e?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));c=this.createFunctionContext(e);if(this.isChild)return c;h={compiler:this.compilerInfo(),main:c};this.decorators&&(h.main_d=
this.decorators,h.useDecorators=!0);c=this.context;f=c.programs;k=c.decorators;c=0;for(d=f.length;c<d;c++)f[c]&&(h[c]=f[c],k[c]&&(h[c+"_d"]=k[c],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),e?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),
b.srcName?(h=h.toStringWithSourceMap({file:b.destName}),h.map=h.map&&h.map.toString()):h=h.toString()),h},preamble:function(){this.lastContext=0;this.source=new r["default"](this.options.srcName);this.decorators=new r["default"](this.options.srcName)},createFunctionContext:function(c){var b=this,e="",h=this.stackVars.concat(this.registers.list);0<h.length&&(e+=", "+h.join(", "));var f=0;d(this.aliases).forEach(function(c){var d=b.aliases[c];d.children&&1<d.referenceCount&&(e+=", alias"+ ++f+"\x3d"+
c,d.children[0]="alias"+f)});this.lookupPropertyFunctionIsUsed&&(e+=", "+this.lookupPropertyFunctionVarDeclaration());h=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&h.push("blockParams");this.useDepths&&h.push("depths");var k=this.mergeSource(e);return c?(h.push(k),Function.apply(this,h)):this.source.wrap(["function(",h.join(","),") {\n  ",k,"}"])},mergeSource:function(c){var b=this.environment.isSimple,d=!this.forceBuffer,e=void 0,h=void 0,f=void 0,k=
void 0;return this.source.each(function(c){c.appendToBuffer?(f?c.prepend("  + "):f=c,k=c):(f&&(h?f.prepend("buffer +\x3d "):e=!0,k.add(";"),f=k=void 0),h=!0,b||(d=!1))}),d?f?(f.prepend("return "),k.add(";")):h||this.source.push('return "";'):(c+=", buffer \x3d "+(e?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),k.add(";")):this.source.push("return buffer;")),c&&this.source.prepend("var "+c.substring(2)+(e?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty \x3d container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},
blockValue:function(c){var b=this.aliasable("container.hooks.blockHelperMissing"),d=[this.contextName(0)];this.setupHelperArgs(c,0,d);c=this.popStack();d.splice(1,0,c);this.push(this.source.functionCall(b,"call",d))},ambiguousBlockValue:function(){var c=this.aliasable("container.hooks.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0);this.flushInline();var d=this.topStack();b.splice(1,0,d);this.pushSource(["if (!",this.lastHelper,") { ",d," \x3d ",this.source.functionCall(c,
"call",b),"}"])},appendContent:function(c){this.pendingContent?c=this.pendingContent+c:this.pendingLocation=this.source.currentLocation;this.pendingContent=c},append:function(){if(this.isInline())this.replaceStack(function(c){return[" !\x3d null ? ",c,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var c=this.popStack();this.pushSource(["if (",c," !\x3d null) { ",this.appendToBuffer(c,void 0,!0)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",
void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(c){this.lastContext=c},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(c,b,d,e){var h=0;e||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(c[h++]));this.resolvePath("context",c,h,b,d)},lookupBlockParam:function(c,b){this.useBlockParams=
!0;this.push(["blockParams[",c[0],"][",c[1],"]"]);this.resolvePath("context",b,1)},lookupData:function(c,b,d){c?this.pushStackLiteral("container.data(data, "+c+")"):this.pushStackLiteral("data");this.resolvePath("data",b,0,!0,d)},resolvePath:function(c,b,d,e,f){var k=this;if(this.options.strict||this.options.assumeObjects)return void this.push(h(this.options.strict&&f,this,b,c));for(f=b.length;d<f;d++)this.replaceStack(function(h){var f=k.nameLookup(h,b[d],c);return e?[" \x26\x26 ",f]:[" !\x3d null ? ",
f," : ",h]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(c,b){this.pushContext();this.pushString(b);"SubExpression"!==b&&("string"==typeof c?this.pushString(c):this.pushStackLiteral(c))},emptyHash:function(c){this.trackIds&&this.push("{}");this.stringParams&&(this.push("{}"),this.push("{}"));this.pushStackLiteral(c?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash);
this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var c=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(c.ids));this.stringParams&&(this.push(this.objectLiteral(c.contexts)),this.push(this.objectLiteral(c.types)));this.push(this.objectLiteral(c.values))},pushString:function(c){this.pushStackLiteral(this.quotedString(c))},pushLiteral:function(c){this.pushStackLiteral(c)},pushProgram:function(c){null!=c?this.pushStackLiteral(this.programExpression(c)):
this.pushStackLiteral(null)},registerDecorator:function(c,b){var d=this.nameLookup("decorators",b,"decorator"),e=this.setupHelperArgs(b,c);this.decorators.push(["fn \x3d ",this.decorators.functionCall(d,"",["fn","props","container",e])," || fn;"])},invokeHelper:function(c,b,d){var e=this.popStack();c=this.setupHelper(c,b);b=[];d&&b.push(c.name);b.push(e);this.options.strict||b.push(this.aliasable("container.hooks.helperMissing"));d=["(",this.itemsSeparatedBy(b,"||"),")"];d=this.source.functionCall(d,
"call",c.callParams);this.push(d)},itemsSeparatedBy:function(c,b){var d=[];d.push(c[0]);for(var e=1;e<c.length;e++)d.push(b,c[e]);return d},invokeKnownHelper:function(c,b){var d=this.setupHelper(c,b);this.push(this.source.functionCall(d.name,"call",d.callParams))},invokeAmbiguous:function(c,b){this.useRegister("helper");var d=this.popStack();this.emptyHash();var e=this.setupHelper(0,c,b),d=["(","(helper \x3d ",this.lastHelper=this.nameLookup("helpers",c,"helper")," || ",d,")"];this.options.strict||
(d[0]="(helper \x3d ",d.push(" !\x3d null ? helper : ",this.aliasable("container.hooks.helperMissing")));this.push(["(",d,e.paramsInit?["),(",e.paramsInit]:[],"),","(typeof helper \x3d\x3d\x3d ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",e.callParams)," : helper))"])},invokePartial:function(c,b,d){var e=[],h=this.setupParams(b,1,e);c&&(b=this.popStack(),delete h.name);d&&(h.indent=JSON.stringify(d));h.helpers="helpers";h.partials="partials";h.decorators="container.decorators";
c?e.unshift(b):e.unshift(this.nameLookup("partials",b,"partial"));this.options.compat&&(h.depths="depths");h=this.objectLiteral(h);e.push(h);this.push(this.source.functionCall("container.invokePartial","",e))},assignToHash:function(c){var b=this.popStack(),d=void 0,e=void 0,h=void 0;this.trackIds&&(h=this.popStack());this.stringParams&&(e=this.popStack(),d=this.popStack());var f=this.hash;d&&(f.contexts[c]=d);e&&(f.types[c]=e);h&&(f.ids[c]=h);f.values[c]=b},pushId:function(c,b,d){"BlockParam"===c?
this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(d?" + "+JSON.stringify("."+d):"")):"PathExpression"===c?this.pushString(b):"SubExpression"===c?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:k,compileChildren:function(c,b){for(var d=c.children,e=void 0,h=void 0,f=0,k=d.length;f<k;f++){var e=d[f],h=new this.compiler,g=this.matchExistingProgram(e);null==g?(this.context.programs.push(""),g=this.context.programs.length,e.index=g,e.name="program"+g,this.context.programs[g]=
h.compile(e,b,this.context,!this.precompile),this.context.decorators[g]=h.decorators,this.context.environments[g]=e,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams,e.useDepths=this.useDepths,e.useBlockParams=this.useBlockParams):(e.index=g.index,e.name="program"+g.index,this.useDepths=this.useDepths||g.useDepths,this.useBlockParams=this.useBlockParams||g.useBlockParams)}},matchExistingProgram:function(c){for(var b=0,d=this.context.environments.length;b<
d;b++){var e=this.context.environments[b];if(e&&e.equals(c))return e}},programExpression:function(c){c=this.environment.children[c];c=[c.index,"data",c.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(c){this.registers[c]||(this.registers[c]=!0,this.registers.list.push(c))},push:function(c){return c instanceof g||(c=this.source.wrap(c)),this.inlineStack.push(c),c},pushStackLiteral:function(c){this.push(new g(c))},
pushSource:function(c){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0);c&&this.source.push(c)},replaceStack:function(c){var b=["("],d=void 0,e=void 0,h=void 0;if(!this.isInline())throw new p["default"]("replaceStack on non-inline");b=this.popStack(!0);b instanceof g?(d=[b.value],b=["(",d],h=!0):(e=!0,d=this.incrStack(),b=["((",this.push(d)," \x3d ",b,")"],d=this.topStack());c=c.call(this,d);
h||this.popStack();e&&this.stackSlot--;this.push(b.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var c=this.inlineStack;this.inlineStack=[];for(var b=0,d=c.length;b<d;b++){var e=c[b];if(e instanceof g)this.compileStack.push(e);else{var h=this.incrStack();this.pushSource([h," \x3d ",e,";"]);this.compileStack.push(h)}}},
isInline:function(){return this.inlineStack.length},popStack:function(c){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!c&&d instanceof g)return d.value;if(!b){if(!this.stackSlot)throw new p["default"]("Invalid stack pop");this.stackSlot--}return d},topStack:function(){var c=this.isInline()?this.inlineStack:this.compileStack,c=c[c.length-1];return c instanceof g?c.value:c},contextName:function(c){return this.useDepths&&c?"depths["+c+"]":"depth"+c},quotedString:function(c){return this.source.quotedString(c)},
objectLiteral:function(c){return this.source.objectLiteral(c)},aliasable:function(c){var b=this.aliases[c];return b?(b.referenceCount++,b):(b=this.aliases[c]=this.source.wrap(c),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(c,b,d){var e=[];c=this.setupHelperArgs(b,c,e,d);b=this.nameLookup("helpers",b,"helper");d=this.aliasable(this.contextName(0)+" !\x3d null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:e,paramsInit:c,name:b,callParams:[d].concat(e)}},setupParams:function(c,
b,d){var e={},h=[],f=[],k=[],g=!d,l=void 0;g&&(d=[]);e.name=this.quotedString(c);e.hash=this.popStack();this.trackIds&&(e.hashIds=this.popStack());this.stringParams&&(e.hashTypes=this.popStack(),e.hashContexts=this.popStack());l=this.popStack();for(((c=this.popStack())||l)&&(e.fn=c||"container.noop",e.inverse=l||"container.noop");b--;)l=this.popStack(),d[b]=l,this.trackIds&&(k[b]=this.popStack()),this.stringParams&&(f[b]=this.popStack(),h[b]=this.popStack());return g&&(e.args=this.source.generateArray(d)),
this.trackIds&&(e.ids=this.source.generateArray(k)),this.stringParams&&(e.types=this.source.generateArray(f),e.contexts=this.source.generateArray(h)),this.options.data&&(e.data="data"),this.useBlockParams&&(e.blockParams="blockParams"),e},setupHelperArgs:function(c,b,d,e){c=this.setupParams(c,b,d);return c.loc=JSON.stringify(this.source.currentLocation),c=this.objectLiteral(c),e?(this.useRegister("options"),d.push("options"),["options\x3d",c]):d?(d.push(c),""):c}};(function(){for(var c="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),
b=k.RESERVED_WORDS={},d=0,e=c.length;d<e;d++)b[c[d]]=!0})();k.isValidJavaScriptVariableName=function(c){return!k.RESERVED_WORDS[c]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(c)};e["default"]=k;c.exports=e["default"]},function(c,e,b){function g(c,b,e){if(d.isArray(c)){for(var h=[],f=0,k=c.length;f<k;f++)h.push(b.wrap(c[f],e));return h}return"boolean"==typeof c||"number"==typeof c?c+"":c}function k(c){this.srcFile=c;this.source=[]}var h=b(13)["default"];e.__esModule=!0;var d=b(5),f=void 0,f=function(c,b,d,
e){this.src="";e&&this.add(e)};f.prototype={add:function(c){d.isArray(c)&&(c=c.join(""));this.src+=c},prepend:function(c){d.isArray(c)&&(c=c.join(""));this.src=c+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}};k.prototype={isEmpty:function(){return!this.source.length},prepend:function(c,b){this.source.unshift(this.wrap(c,b))},push:function(c,b){this.source.push(this.wrap(c,b))},merge:function(){var c=this.empty();return this.each(function(b){c.add(["  ",
b,"\n"])}),c},each:function(c){for(var b=0,d=this.source.length;b<d;b++)c(this.source[b])},empty:function(){var c=this.currentLocation||{start:{}};return new f(c.start.line,c.start.column,this.srcFile)},wrap:function(c){var b=1>=arguments.length||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return c instanceof f?c:(c=g(c,this,b),new f(b.start.line,b.start.column,this.srcFile,c))},functionCall:function(c,b,d){return d=this.generateList(d),this.wrap([c,b?"."+b+"(":"(",d,")"])},
quotedString:function(c){return'"'+(c+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(c){var b=this,d=[];h(c).forEach(function(e){var h=g(c[e],b);"undefined"!==h&&d.push([b.quotedString(e),":",h])});var e=this.generateList(d);return e.prepend("{"),e.add("}"),e},generateList:function(c){for(var b=this.empty(),d=0,e=c.length;d<e;d++)d&&b.add(","),b.add(g(c[d],this));return b},
generateArray:function(c){c=this.generateList(c);return c.prepend("["),c.add("]"),c}};e["default"]=k;c.exports=e["default"]}])});
+function(c){function e(b){return b.is('[type\x3d"checkbox"]')?b.prop("checked"):b.is('[type\x3d"radio"]')?!!c('[name\x3d"'+b.attr("name")+'"]:checked').length:c.trim(b.val())}function b(b){return this.each(function(){var d=c(this),e=c.extend({},g.DEFAULTS,d.data(),"object"==typeof b&&b),k=d.data("bs.validator");(k||"destroy"!=b)&&(k||d.data("bs.validator",k=new g(this,e)),"string"==typeof b&&k[b]())})}var g=function(b,d){this.options=d;this.$element=c(b);this.$inputs=this.$element.find(g.INPUT_SELECTOR);
this.$btn=c('button[type\x3d"submit"], input[type\x3d"submit"]').filter('[form\x3d"'+this.$element.attr("id")+'"]').add(this.$element.find('input[type\x3d"submit"], button[type\x3d"submit"]'));d.errors=c.extend({},g.DEFAULTS.errors,d.errors);for(var f in d.custom)if(!d.errors[f])throw Error("Missing default error message for custom validator: "+f);c.extend(g.VALIDATORS,d.custom);this.$element.attr("novalidate",!0);this.toggleSubmit();this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",
g.INPUT_SELECTOR,c.proxy(this.onInput,this));this.$element.on("submit.bs.validator",c.proxy(this.onSubmit,this));this.$element.find("[data-match]").each(function(){var b=c(this),d=b.data("match");c(d).on("input.bs.validator",function(){e(b)&&b.trigger("input.bs.validator")})})};g.INPUT_SELECTOR=':input:not([type\x3d"submit"], button):enabled:visible';g.FOCUS_OFFSET=20;g.DEFAULTS={delay:500,html:!1,disable:!0,focus:!0,custom:{},errors:{match:"Does not match",minlength:"Not long enough"},feedback:{success:"glyphicon-ok",
error:"glyphicon-remove"}};g.VALIDATORS={"native":function(c){c=c[0];return c.checkValidity?c.checkValidity():!0},match:function(b){var d=b.data("match");return!b.val()||b.val()===c(d).val()},minlength:function(c){var b=c.data("minlength");return!c.val()||c.val().length>=b}};g.prototype.onInput=function(b){var d=this,e=c(b.target);this.validateInput(e,"focusout"!==b.type).done(function(){d.toggleSubmit()})};g.prototype.validateInput=function(b,d){var f=e(b),k=b.data("bs.validator.previous"),g=b.data("bs.validator.errors");
if(k===f)return c.Deferred().resolve();b.data("bs.validator.previous",f);b.is('[type\x3d"radio"]')&&(b=this.$element.find('input[name\x3d"'+b.attr("name")+'"]'));var p=c.Event("validate.bs.validator",{relatedTarget:b[0]});if(this.$element.trigger(p),!p.isDefaultPrevented()){var q=this;return this.runValidators(b).done(function(e){b.data("bs.validator.errors",e);e.length?d?q.defer(b,q.showErrors):q.showErrors(b):q.clearErrors(b);g&&e.toString()===g.toString()||(p=e.length?c.Event("invalid.bs.validator",
{relatedTarget:b[0],detail:e}):c.Event("valid.bs.validator",{relatedTarget:b[0],detail:g}),q.$element.trigger(p));q.toggleSubmit();q.$element.trigger(c.Event("validated.bs.validator",{relatedTarget:b[0]}))})}};g.prototype.runValidators=function(b){function d(c){return b.data(c+"-error")||b.data("error")||"native"==c&&b[0].validationMessage||n.errors[c]}var f=[],k=c.Deferred(),n=this.options;return b.data("bs.validator.deferred")&&b.data("bs.validator.deferred").reject(),b.data("bs.validator.deferred",
k),c.each(g.VALIDATORS,c.proxy(function(c,k){if((e(b)||b.attr("required"))&&(b.data(c)||"native"==c)&&!k.call(this,b)){var g=d(c);!~f.indexOf(g)&&f.push(g)}},this)),!f.length&&e(b)&&b.data("remote")?this.defer(b,function(){var g={};g[b.attr("name")]=e(b);c.get(b.data("remote"),g).fail(function(c,b,e){f.push(d("remote")||e)}).always(function(){k.resolve(f)})}):k.resolve(f),k.promise()};g.prototype.validate=function(){var b=this;return c.when(this.$inputs.map(function(){return b.validateInput(c(this),
!1)})).then(function(){b.toggleSubmit();b.focusError()}),this};g.prototype.focusError=function(){if(this.options.focus){var b=c(".has-error:first :input");0!==b.length&&(c(document.body).animate({scrollTop:b.offset().top-g.FOCUS_OFFSET},250),b.focus())}};g.prototype.showErrors=function(b){var d=this.options.html?"html":"text",e=b.data("bs.validator.errors");b=b.closest(".form-group");var k=b.find(".help-block.with-errors"),g=b.find(".form-control-feedback");e.length&&(e=c("\x3cul/\x3e").addClass("list-unstyled").append(c.map(e,
function(b){return c("\x3cli/\x3e")[d](b)})),void 0===k.data("bs.validator.originalContent")&&k.data("bs.validator.originalContent",k.html()),k.empty().append(e),b.addClass("has-error has-danger"),b.hasClass("has-feedback")&&g.removeClass(this.options.feedback.success)&&g.addClass(this.options.feedback.error)&&b.removeClass("has-success"))};g.prototype.clearErrors=function(c){var b=c.closest(".form-group"),f=b.find(".help-block.with-errors"),k=b.find(".form-control-feedback");f.html(f.data("bs.validator.originalContent"));
b.removeClass("has-error has-danger");b.hasClass("has-feedback")&&k.removeClass(this.options.feedback.error)&&e(c)&&k.addClass(this.options.feedback.success)&&b.addClass("has-success")};g.prototype.hasErrors=function(){return!!this.$inputs.filter(function(){return!!(c(this).data("bs.validator.errors")||[]).length}).length};g.prototype.isIncomplete=function(){return!!this.$inputs.filter("[required]").filter(function(){return!e(c(this))}).length};g.prototype.onSubmit=function(c){this.validate();(this.isIncomplete()||
this.hasErrors())&&c.preventDefault()};g.prototype.toggleSubmit=function(){this.options.disable&&this.$btn.toggleClass("disabled",this.isIncomplete()||this.hasErrors())};g.prototype.defer=function(b,d){return d=c.proxy(d,this,b),this.options.delay?(window.clearTimeout(b.data("bs.validator.timeout")),void b.data("bs.validator.timeout",window.setTimeout(d,this.options.delay))):d()};g.prototype.destroy=function(){return this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator").find(".form-control-feedback").removeClass([this.options.feedback.error,
this.options.feedback.success].join(" ")),this.$inputs.off(".bs.validator").removeData(["bs.validator.errors","bs.validator.deferred","bs.validator.previous"]).each(function(){var b=c(this),d=b.data("bs.validator.timeout");window.clearTimeout(d)&&b.removeData("bs.validator.timeout")}),this.$element.find(".help-block.with-errors").each(function(){var b=c(this),d=b.data("bs.validator.originalContent");b.removeData("bs.validator.originalContent").html(d)}),this.$element.find('input[type\x3d"submit"], button[type\x3d"submit"]').removeClass("disabled"),
this.$element.find(".has-error, .has-danger").removeClass("has-error has-danger"),this};var k=c.fn.validator;c.fn.validator=b;c.fn.validator.Constructor=g;c.fn.validator.noConflict=function(){return c.fn.validator=k,this};c(window).on("load",function(){c('form[data-toggle\x3d"validator"]').each(function(){var e=c(this);b.call(e,e.data())})})}(jQuery);if("undefined"==typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");
+function(c){c=c.fn.jquery.split(" ")[0].split(".");if(2>c[0]&&9>c[1]||1==c[0]&&9==c[1]&&1>c[2]||2<c[0])throw Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3");}(jQuery);
+function(c){function e(){var c=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},k;for(k in e)if(void 0!==c.style[k])return{end:e[k]};return!1}c.fn.emulateTransitionEnd=function(b){var e=!1,k=this;c(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||c(k).trigger(c.support.transition.end)},b),this};c(function(){c.support.transition=e();c.support.transition&&
(c.event.special.bsTransitionEnd={bindType:c.support.transition.end,delegateType:c.support.transition.end,handle:function(b){return c(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery);
+function(c){var e=function(b){c(b).on("click",'[data-dismiss\x3d"alert"]',this.close)};e.VERSION="3.3.6";e.TRANSITION_DURATION=150;e.prototype.close=function(b){function k(){f.detach().trigger("closed.bs.alert").remove()}var h=c(this),d=h.attr("data-target");d||(d=h.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));var f=c(d);b&&b.preventDefault();f.length||(f=h.closest(".alert"));f.trigger(b=c.Event("close.bs.alert"));b.isDefaultPrevented()||(f.removeClass("in"),c.support.transition&&f.hasClass("fade")?
f.one("bsTransitionEnd",k).emulateTransitionEnd(e.TRANSITION_DURATION):k())};var b=c.fn.alert;c.fn.alert=function(b){return this.each(function(){var k=c(this),h=k.data("bs.alert");h||k.data("bs.alert",h=new e(this));"string"==typeof b&&h[b].call(k)})};c.fn.alert.Constructor=e;c.fn.alert.noConflict=function(){return c.fn.alert=b,this};c(document).on("click.bs.alert.data-api",'[data-dismiss\x3d"alert"]',e.prototype.close)}(jQuery);
+function(c){function e(e){return this.each(function(){var h=c(this),d=h.data("bs.button"),f="object"==typeof e&&e;d||h.data("bs.button",d=new b(this,f));"toggle"==e?d.toggle():e&&d.setState(e)})}var b=function(e,h){this.$element=c(e);this.options=c.extend({},b.DEFAULTS,h);this.isLoading=!1};b.VERSION="3.3.6";b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(b){var e=this.$element,d=e.is("input")?"val":"html",f=e.data();b+="Text";null==f.resetText&&e.data("resetText",e[d]());setTimeout(c.proxy(function(){e[d](null==
f[b]?this.options[b]:f[b]);"loadingText"==b?(this.isLoading=!0,e.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,e.removeClass("disabled").removeAttr("disabled"))},this),0)};b.prototype.toggle=function(){var c=!0,b=this.$element.closest('[data-toggle\x3d"buttons"]');if(b.length){var d=this.$element.find("input");"radio"==d.prop("type")?(d.prop("checked")&&(c=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==d.prop("type")&&
(d.prop("checked")!==this.$element.hasClass("active")&&(c=!1),this.$element.toggleClass("active"));d.prop("checked",this.$element.hasClass("active"));c&&d.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var g=c.fn.button;c.fn.button=e;c.fn.button.Constructor=b;c.fn.button.noConflict=function(){return c.fn.button=g,this};c(document).on("click.bs.button.data-api",'[data-toggle^\x3d"button"]',function(b){var h=c(b.target);
h.hasClass("btn")||(h=h.closest(".btn"));e.call(h,"toggle");c(b.target).is('input[type\x3d"radio"]')||c(b.target).is('input[type\x3d"checkbox"]')||b.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^\x3d"button"]',function(b){c(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery);
+function(c){function e(e){return this.each(function(){var d=c(this),f=d.data("bs.carousel"),k=c.extend({},b.DEFAULTS,d.data(),"object"==typeof e&&e),g="string"==typeof e?e:k.slide;f||d.data("bs.carousel",f=new b(this,k));"number"==typeof e?f.to(e):g?f[g]():k.interval&&f.pause().cycle()})}var b=function(b,d){this.$element=c(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=d;this.$items=this.$active=this.interval=this.sliding=this.paused=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",
c.proxy(this.keydown,this));"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",c.proxy(this.pause,this)).on("mouseleave.bs.carousel",c.proxy(this.cycle,this))};b.VERSION="3.3.6";b.TRANSITION_DURATION=600;b.DEFAULTS={interval:5E3,pause:"hover",wrap:!0,keyboard:!0};b.prototype.keydown=function(c){if(!/input|textarea/i.test(c.target.tagName)){switch(c.which){case 37:this.prev();break;case 39:this.next();break;default:return}c.preventDefault()}};
b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval)),this};b.prototype.getItemIndex=function(c){return this.$items=c.parent().children(".item"),this.$items.index(c||this.$active)};b.prototype.getItemForDirection=function(c,b){var e=this.getItemIndex(b);return("prev"==c&&0===e||"next"==c&&e==this.$items.length-1)&&!this.options.wrap?b:this.$items.eq((e+
("prev"==c?-1:1))%this.$items.length)};b.prototype.to=function(c){var b=this,e=this.getItemIndex(this.$active=this.$element.find(".item.active"));return c>this.$items.length-1||0>c?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(c)}):e==c?this.pause().cycle():this.slide(c>e?"next":"prev",this.$items.eq(c))};b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&c.support.transition&&(this.$element.trigger(c.support.transition.end),
this.cycle(!0)),this.interval=clearInterval(this.interval),this};b.prototype.next=function(){return this.sliding?void 0:this.slide("next")};b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")};b.prototype.slide=function(e,d){var f=this.$element.find(".item.active"),k=d||this.getItemForDirection(e,f),g=this.interval,p="next"==e?"left":"right",q=this;if(k.hasClass("active"))return this.sliding=!1;var r=k[0],s=c.Event("slide.bs.carousel",{relatedTarget:r,direction:p});if(this.$element.trigger(s),
!s.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length)this.$indicators.find(".active").removeClass("active"),(s=c(this.$indicators.children()[this.getItemIndex(k)]))&&s.addClass("active");var v=c.Event("slid.bs.carousel",{relatedTarget:r,direction:p});return c.support.transition&&this.$element.hasClass("slide")?(k.addClass(e),k[0].offsetWidth,f.addClass(p),k.addClass(p),f.one("bsTransitionEnd",function(){k.removeClass([e,p].join(" ")).addClass("active");f.removeClass(["active",
p].join(" "));q.sliding=!1;setTimeout(function(){q.$element.trigger(v)},0)}).emulateTransitionEnd(b.TRANSITION_DURATION)):(f.removeClass("active"),k.addClass("active"),this.sliding=!1,this.$element.trigger(v)),g&&this.cycle(),this}};var g=c.fn.carousel;c.fn.carousel=e;c.fn.carousel.Constructor=b;c.fn.carousel.noConflict=function(){return c.fn.carousel=g,this};var k=function(b){var d,f=c(this),k=c(f.attr("data-target")||(d=f.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));k.hasClass("carousel")&&(d=
c.extend({},k.data(),f.data()),(f=f.attr("data-slide-to"))&&(d.interval=!1),e.call(k,d),f&&k.data("bs.carousel").to(f),b.preventDefault())};c(document).on("click.bs.carousel.data-api","[data-slide]",k).on("click.bs.carousel.data-api","[data-slide-to]",k);c(window).on("load",function(){c('[data-ride\x3d"carousel"]').each(function(){var b=c(this);e.call(b,b.data())})})}(jQuery);
+function(c){function e(b){var d;b=b.attr("data-target")||(d=b.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"");return c(b)}function b(b){return this.each(function(){var d=c(this),e=d.data("bs.collapse"),k=c.extend({},g.DEFAULTS,d.data(),"object"==typeof b&&b);!e&&k.toggle&&/show|hide/.test(b)&&(k.toggle=!1);e||d.data("bs.collapse",e=new g(this,k));"string"==typeof b&&e[b]()})}var g=function(b,d){this.$element=c(b);this.options=c.extend({},g.DEFAULTS,d);this.$trigger=c('[data-toggle\x3d"collapse"][href\x3d"#'+
b.id+'"],[data-toggle\x3d"collapse"][data-target\x3d"#'+b.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()};g.VERSION="3.3.6";g.TRANSITION_DURATION=350;g.DEFAULTS={toggle:!0};g.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};g.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,d=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");
if(!(d&&d.length&&(e=d.data("bs.collapse"),e&&e.transitioning))){var f=c.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){d&&d.length&&(b.call(d,"hide"),e||d.data("bs.collapse",null));var k=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[k](0).attr("aria-expanded",!0);this.$trigger.removeClass("collapsed").attr("aria-expanded",!0);this.transitioning=1;e=function(){this.$element.removeClass("collapsing").addClass("collapse in")[k]("");this.transitioning=
0;this.$element.trigger("shown.bs.collapse")};if(!c.support.transition)return e.call(this);d=c.camelCase(["scroll",k].join("-"));this.$element.one("bsTransitionEnd",c.proxy(e,this)).emulateTransitionEnd(g.TRANSITION_DURATION)[k](this.$element[0][d])}}}};g.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=c.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",
!1);this.$trigger.addClass("collapsed").attr("aria-expanded",!1);this.transitioning=1;var d=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return c.support.transition?void this.$element[b](0).one("bsTransitionEnd",c.proxy(d,this)).emulateTransitionEnd(g.TRANSITION_DURATION):d.call(this)}}};g.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};g.prototype.getParent=function(){return c(this.options.parent).find('[data-toggle\x3d"collapse"][data-parent\x3d"'+
this.options.parent+'"]').each(c.proxy(function(b,d){var f=c(d);this.addAriaAndCollapsedClass(e(f),f)},this)).end()};g.prototype.addAriaAndCollapsedClass=function(c,b){var e=c.hasClass("in");c.attr("aria-expanded",e);b.toggleClass("collapsed",!e).attr("aria-expanded",e)};var k=c.fn.collapse;c.fn.collapse=b;c.fn.collapse.Constructor=g;c.fn.collapse.noConflict=function(){return c.fn.collapse=k,this};c(document).on("click.bs.collapse.data-api",'[data-toggle\x3d"collapse"]',function(h){var d=c(this);
d.attr("data-target")||h.preventDefault();h=e(d);d=h.data("bs.collapse")?"toggle":d.data();b.call(h,d)})}(jQuery);
+function(c){function e(b){var d=b.attr("data-target");d||(d=b.attr("href"),d=d&&/#[A-Za-z]/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,""));return(d=d&&c(d))&&d.length?d:b.parent()}function b(b){b&&3===b.which||(c(g).remove(),c(k).each(function(){var d=c(this),h=e(d),k={relatedTarget:this};h.hasClass("open")&&(b&&"click"==b.type&&/input|textarea/i.test(b.target.tagName)&&c.contains(h[0],b.target)||(h.trigger(b=c.Event("hide.bs.dropdown",k)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),h.removeClass("open").trigger(c.Event("hidden.bs.dropdown",
k)))))}))}var g=".dropdown-backdrop",k='[data-toggle\x3d"dropdown"]',h=function(b){c(b).on("click.bs.dropdown",this.toggle)};h.VERSION="3.3.6";h.prototype.toggle=function(d){var h=c(this);if(!h.is(".disabled, :disabled")){var k=e(h),g=k.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!k.closest(".navbar-nav").length&&c(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(c(this)).on("click",b);g={relatedTarget:this};if(k.trigger(d=c.Event("show.bs.dropdown",
g)),d.isDefaultPrevented())return;h.trigger("focus").attr("aria-expanded","true");k.toggleClass("open").trigger(c.Event("shown.bs.dropdown",g))}return!1}};h.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=c(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var h=e(d),g=h.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&h.find(k).trigger("focus"),d.trigger("click");d=h.find(".dropdown-menu li:not(.disabled):visible a");
d.length&&(h=d.index(b.target),38==b.which&&0<h&&h--,40==b.which&&h<d.length-1&&h++,~h||(h=0),d.eq(h).trigger("focus"))}}};var d=c.fn.dropdown;c.fn.dropdown=function(b){return this.each(function(){var d=c(this),e=d.data("bs.dropdown");e||d.data("bs.dropdown",e=new h(this));"string"==typeof b&&e[b].call(d)})};c.fn.dropdown.Constructor=h;c.fn.dropdown.noConflict=function(){return c.fn.dropdown=d,this};c(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(c){c.stopPropagation()}).on("click.bs.dropdown.data-api",
k,h.prototype.toggle).on("keydown.bs.dropdown.data-api",k,h.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",h.prototype.keydown)}(jQuery);
+function(c){function e(e,h){return this.each(function(){var d=c(this),f=d.data("bs.modal"),g=c.extend({},b.DEFAULTS,d.data(),"object"==typeof e&&e);f||d.data("bs.modal",f=new b(this,g));"string"==typeof e?f[e](h):g.show&&f.show(h)})}var b=function(b,e){this.options=e;this.$body=c(document.body);this.$element=c(b);this.$dialog=this.$element.find(".modal-dialog");this.originalBodyPad=this.isShown=this.$backdrop=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,
c.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.VERSION="3.3.6";b.TRANSITION_DURATION=300;b.BACKDROP_TRANSITION_DURATION=150;b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};b.prototype.toggle=function(c){return this.isShown?this.hide():this.show(c)};b.prototype.show=function(e){var h=this,d=c.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(d);this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),
this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss\x3d"modal"]',c.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){h.$element.one("mouseup.dismiss.bs.modal",function(b){c(b.target).is(h.$element)&&(h.ignoreBackdropClick=!0)})}),this.backdrop(function(){var d=c.support.transition&&h.$element.hasClass("fade");h.$element.parent().length||h.$element.appendTo(h.$body);h.$element.show().scrollTop(0);h.adjustDialog();d&&h.$element[0].offsetWidth;
h.$element.addClass("in");h.enforceFocus();var g=c.Event("shown.bs.modal",{relatedTarget:e});d?h.$dialog.one("bsTransitionEnd",function(){h.$element.trigger("focus").trigger(g)}).emulateTransitionEnd(b.TRANSITION_DURATION):h.$element.trigger("focus").trigger(g)}))};b.prototype.hide=function(e){e&&e.preventDefault();e=c.Event("hide.bs.modal");this.$element.trigger(e);this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),c(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),
this.$dialog.off("mousedown.dismiss.bs.modal"),c.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",c.proxy(this.hideModal,this)).emulateTransitionEnd(b.TRANSITION_DURATION):this.hideModal())};b.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(c){this.$element[0]===c.target||this.$element.has(c.target).length||this.$element.trigger("focus")},this))};b.prototype.escape=function(){this.isShown&&this.options.keyboard?
this.$element.on("keydown.dismiss.bs.modal",c.proxy(function(c){27==c.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};b.prototype.resize=function(){this.isShown?c(window).on("resize.bs.modal",c.proxy(this.handleUpdate,this)):c(window).off("resize.bs.modal")};b.prototype.hideModal=function(){var c=this;this.$element.hide();this.backdrop(function(){c.$body.removeClass("modal-open");c.resetAdjustments();c.resetScrollbar();c.$element.trigger("hidden.bs.modal")})};
b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(e){var h=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=c.support.transition&&d;if(this.$backdrop=c(document.createElement("div")).addClass("modal-backdrop "+d).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",c.proxy(function(c){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(c.target===
c.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e)f?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),d=function(){h.removeBackdrop();e&&e()},c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",d).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):
d()):e&&e()};b.prototype.handleUpdate=function(){this.adjustDialog()};b.prototype.adjustDialog=function(){var c=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&c?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!c?this.scrollbarWidth:""})};b.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};b.prototype.checkScrollbar=function(){var c=window.innerWidth;c||(c=document.documentElement.getBoundingClientRect(),
c=c.right-Math.abs(c.left));this.bodyIsOverflowing=document.body.clientWidth<c;this.scrollbarWidth=this.measureScrollbar()};b.prototype.setScrollbar=function(){var c=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",c+this.scrollbarWidth)};b.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};b.prototype.measureScrollbar=function(){var c=document.createElement("div");
c.className="modal-scrollbar-measure";this.$body.append(c);var b=c.offsetWidth-c.clientWidth;return this.$body[0].removeChild(c),b};var g=c.fn.modal;c.fn.modal=e;c.fn.modal.Constructor=b;c.fn.modal.noConflict=function(){return c.fn.modal=g,this};c(document).on("click.bs.modal.data-api",'[data-toggle\x3d"modal"]',function(b){var h=c(this),d=h.attr("href"),f=c(h.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),d=f.data("bs.modal")?"toggle":c.extend({remote:!/#/.test(d)&&d},f.data(),h.data());
h.is("a")&&b.preventDefault();f.one("show.bs.modal",function(c){c.isDefaultPrevented()||f.one("hidden.bs.modal",function(){h.is(":visible")&&h.trigger("focus")})});e.call(f,d,this)})}(jQuery);
+function(c){var e=function(c,b){this.inState=this.$element=this.hoverState=this.timeout=this.enabled=this.options=this.type=null;this.init("tooltip",c,b)};e.VERSION="3.3.6";e.TRANSITION_DURATION=150;e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'\x3cdiv class\x3d"tooltip" role\x3d"tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip-inner"\x3e\x3c/div\x3e\x3c/div\x3e',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",
padding:0}};e.prototype.init=function(b,e,h){if(this.enabled=!0,this.type=b,this.$element=c(e),this.options=this.getOptions(h),this.$viewport=this.options.viewport&&c(c.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");
b=this.options.trigger.split(" ");for(e=b.length;e--;)if(h=b[e],"click"==h)this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this));else if("manual"!=h){var d="hover"==h?"mouseleave":"focusout";this.$element.on(("hover"==h?"mouseenter":"focusin")+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,c.proxy(this.leave,this))}this.options.selector?this._options=c.extend({},this.options,{trigger:"manual",selector:""}):
this.fixTitle()};e.prototype.getDefaults=function(){return e.DEFAULTS};e.prototype.getOptions=function(b){return b=c.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b};e.prototype.getDelegateOptions=function(){var b={},e=this.getDefaults();return this._options&&c.each(this._options,function(c,d){e[c]!=d&&(b[c]=d)}),b};e.prototype.enter=function(b){var e=b instanceof this.constructor?b:c(b.currentTarget).data("bs."+this.type);
return e||(e=new this.constructor(b.currentTarget,this.getDelegateOptions()),c(b.currentTarget).data("bs."+this.type,e)),b instanceof c.Event&&(e.inState["focusin"==b.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState?void(e.hoverState="in"):(clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())};e.prototype.isInStateTrue=function(){for(var c in this.inState)if(this.inState[c])return!0;
return!1};e.prototype.leave=function(b){var e=b instanceof this.constructor?b:c(b.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(b.currentTarget,this.getDelegateOptions()),c(b.currentTarget).data("bs."+this.type,e)),b instanceof c.Event&&(e.inState["focusout"==b.type?"focus":"hover"]=!1),e.isInStateTrue()?void 0:(clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):
e.hide())};e.prototype.show=function(){var b=c.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var k=c.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!b.isDefaultPrevented()&&k){var h=this,b=this.tip(),k=this.getUID(this.type);this.setContent();b.attr("id",k);this.$element.attr("aria-describedby",k);this.options.animation&&b.addClass("fade");var k="function"==typeof this.options.placement?this.options.placement.call(this,b[0],
this.$element[0]):this.options.placement,d=/\s?auto?\s?/i,f=d.test(k);f&&(k=k.replace(d,"")||"top");b.detach().css({top:0,left:0,display:"block"}).addClass(k).data("bs."+this.type,this);this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),l=b[0].offsetWidth,n=b[0].offsetHeight;if(f){var f=k,p=this.getPosition(this.$viewport),k="bottom"==k&&d.bottom+n>p.bottom?"top":"top"==k&&d.top-n<p.top?"bottom":
"right"==k&&d.right+l>p.width?"left":"left"==k&&d.left-l<p.left?"right":k;b.removeClass(f).addClass(k)}d=this.getCalculatedOffset(k,d,l,n);this.applyPlacement(d,k);k=function(){var c=h.hoverState;h.$element.trigger("shown.bs."+h.type);h.hoverState=null;"out"==c&&h.leave(h)};c.support.transition&&this.$tip.hasClass("fade")?b.one("bsTransitionEnd",k).emulateTransitionEnd(e.TRANSITION_DURATION):k()}}};e.prototype.applyPlacement=function(b,e){var h=this.tip(),d=h[0].offsetWidth,f=h[0].offsetHeight,l=
parseInt(h.css("margin-top"),10),n=parseInt(h.css("margin-left"),10);isNaN(l)&&(l=0);isNaN(n)&&(n=0);b.top+=l;b.left+=n;c.offset.setOffset(h[0],c.extend({using:function(c){h.css({top:Math.round(c.top),left:Math.round(c.left)})}},b),0);h.addClass("in");var n=h[0].offsetWidth,p=h[0].offsetHeight;"top"==e&&p!=f&&(b.top=b.top+f-p);var q=this.getViewportAdjustedDelta(e,b,n,p);q.left?b.left+=q.left:b.top+=q.top;d=(l=/top|bottom/.test(e))?2*q.left-d+n:2*q.top-f+p;f=l?"offsetWidth":"offsetHeight";h.offset(b);
this.replaceArrow(d,h[0][f],l)};e.prototype.replaceArrow=function(c,b,e){this.arrow().css(e?"left":"top",50*(1-c/b)+"%").css(e?"top":"left","")};e.prototype.setContent=function(){var c=this.tip(),b=this.getTitle();c.find(".tooltip-inner")[this.options.html?"html":"text"](b);c.removeClass("fade in top bottom left right")};e.prototype.hide=function(b){function k(){"in"!=h.hoverState&&d.detach();h.$element.removeAttr("aria-describedby").trigger("hidden.bs."+h.type);b&&b()}var h=this,d=c(this.$tip),f=
c.Event("hide.bs."+this.type);return this.$element.trigger(f),f.isDefaultPrevented()?void 0:(d.removeClass("in"),c.support.transition&&d.hasClass("fade")?d.one("bsTransitionEnd",k).emulateTransitionEnd(e.TRANSITION_DURATION):k(),this.hoverState=null,this)};e.prototype.fixTitle=function(){var c=this.$element;(c.attr("title")||"string"!=typeof c.attr("data-original-title"))&&c.attr("data-original-title",c.attr("title")||"").attr("title","")};e.prototype.hasContent=function(){return this.getTitle()};
e.prototype.getPosition=function(b){b=b||this.$element;var e=b[0],h="BODY"==e.tagName,e=e.getBoundingClientRect();null==e.width&&(e=c.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var d=h?{top:0,left:0}:b.offset();b={scroll:h?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()};h=h?{width:c(window).width(),height:c(window).height()}:null;return c.extend({},e,b,h,d)};e.prototype.getCalculatedOffset=function(c,b,e,d){return"bottom"==c?{top:b.top+b.height,left:b.left+
b.width/2-e/2}:"top"==c?{top:b.top-d,left:b.left+b.width/2-e/2}:"left"==c?{top:b.top+b.height/2-d/2,left:b.left-e}:{top:b.top+b.height/2-d/2,left:b.left+b.width}};e.prototype.getViewportAdjustedDelta=function(c,b,e,d){var f={top:0,left:0};if(!this.$viewport)return f;var l=this.options.viewport&&this.options.viewport.padding||0,n=this.getPosition(this.$viewport);/right|left/.test(c)?(e=b.top-l-n.scroll,b=b.top+l-n.scroll+d,e<n.top?f.top=n.top-e:b>n.top+n.height&&(f.top=n.top+n.height-b)):(d=b.left-
l,b=b.left+l+e,d<n.left?f.left=n.left-d:b>n.right&&(f.left=n.left+n.width-b));return f};e.prototype.getTitle=function(){var c=this.$element,b=this.options;return c.attr("data-original-title")||("function"==typeof b.title?b.title.call(c[0]):b.title)};e.prototype.getUID=function(c){do c+=~~(1E6*Math.random());while(document.getElementById(c));return c};e.prototype.tip=function(){if(!this.$tip&&(this.$tip=c(this.options.template),1!=this.$tip.length))throw Error(this.type+" `template` option must consist of exactly 1 top-level element!");
return this.$tip};e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};e.prototype.enable=function(){this.enabled=!0};e.prototype.disable=function(){this.enabled=!1};e.prototype.toggleEnabled=function(){this.enabled=!this.enabled};e.prototype.toggle=function(b){var e=this;b&&(e=c(b.currentTarget).data("bs."+this.type),e||(e=new this.constructor(b.currentTarget,this.getDelegateOptions()),c(b.currentTarget).data("bs."+this.type,e)));b?(e.inState.click=!e.inState.click,
e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)};e.prototype.destroy=function(){var c=this;clearTimeout(this.timeout);this.hide(function(){c.$element.off("."+c.type).removeData("bs."+c.type);c.$tip&&c.$tip.detach();c.$tip=null;c.$arrow=null;c.$viewport=null})};var b=c.fn.tooltip;c.fn.tooltip=function(b){return this.each(function(){var k=c(this),h=k.data("bs.tooltip"),d="object"==typeof b&&b;!h&&/destroy|hide/.test(b)||(h||k.data("bs.tooltip",h=new e(this,d)),
"string"!=typeof b||h[b]())})};c.fn.tooltip.Constructor=e;c.fn.tooltip.noConflict=function(){return c.fn.tooltip=b,this}}(jQuery);
+function(c){var e=function(c,b){this.init("popover",c,b)};if(!c.fn.tooltip)throw Error("Popover requires tooltip.js");e.VERSION="3.3.6";e.DEFAULTS=c.extend({},c.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'\x3cdiv class\x3d"popover" role\x3d"tooltip"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3ch3 class\x3d"popover-title"\x3e\x3c/h3\x3e\x3cdiv class\x3d"popover-content"\x3e\x3c/div\x3e\x3c/div\x3e'});e.prototype=c.extend({},c.fn.tooltip.Constructor.prototype);
e.prototype.constructor=e;e.prototype.getDefaults=function(){return e.DEFAULTS};e.prototype.setContent=function(){var c=this.tip(),b=this.getTitle(),e=this.getContent();c.find(".popover-title")[this.options.html?"html":"text"](b);c.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof e?"html":"append":"text"](e);c.removeClass("fade top bottom left right in");c.find(".popover-title").html()||c.find(".popover-title").hide()};e.prototype.hasContent=function(){return this.getTitle()||
this.getContent()};e.prototype.getContent=function(){var c=this.$element,b=this.options;return c.attr("data-content")||("function"==typeof b.content?b.content.call(c[0]):b.content)};e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var b=c.fn.popover;c.fn.popover=function(b){return this.each(function(){var k=c(this),h=k.data("bs.popover"),d="object"==typeof b&&b;!h&&/destroy|hide/.test(b)||(h||k.data("bs.popover",h=new e(this,d)),"string"!=typeof b||h[b]())})};
c.fn.popover.Constructor=e;c.fn.popover.noConflict=function(){return c.fn.popover=b,this}}(jQuery);
+function(c){function e(b,h){this.$body=c(document.body);this.$scrollElement=c(c(b).is(document.body)?window:b);this.options=c.extend({},e.DEFAULTS,h);this.selector=(this.options.target||"")+" .nav li \x3e a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",c.proxy(this.process,this));this.refresh();this.process()}function b(b){return this.each(function(){var h=c(this),d=h.data("bs.scrollspy"),f="object"==typeof b&&b;d||h.data("bs.scrollspy",
d=new e(this,f));"string"==typeof b&&d[b]()})}e.VERSION="3.3.6";e.DEFAULTS={offset:10};e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};e.prototype.refresh=function(){var b=this,e="offset",d=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();c.isWindow(this.$scrollElement[0])||(e="position",d=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var b=
c(this),b=b.data("target")||b.attr("href"),k=/^#./.test(b)&&c(b);return k&&k.length&&k.is(":visible")&&[[k[e]().top+d,b]]||null}).sort(function(c,b){return c[0]-b[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})};e.prototype.process=function(){var c,b=this.$scrollElement.scrollTop()+this.options.offset,d=this.getScrollHeight(),e=this.options.offset+d-this.$scrollElement.height(),g=this.offsets,n=this.targets,p=this.activeTarget;if(this.scrollHeight!=d&&this.refresh(),b>=e)return p!=
(c=n[n.length-1])&&this.activate(c);if(p&&b<g[0])return this.activeTarget=null,this.clear();for(c=g.length;c--;)p!=n[c]&&b>=g[c]&&(void 0===g[c+1]||b<g[c+1])&&this.activate(n[c])};e.prototype.activate=function(b){this.activeTarget=b;this.clear();b=c(this.selector+'[data-target\x3d"'+b+'"],'+this.selector+'[href\x3d"'+b+'"]').parents("li").addClass("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate.bs.scrollspy")};e.prototype.clear=function(){c(this.selector).parentsUntil(this.options.target,
".active").removeClass("active")};var g=c.fn.scrollspy;c.fn.scrollspy=b;c.fn.scrollspy.Constructor=e;c.fn.scrollspy.noConflict=function(){return c.fn.scrollspy=g,this};c(window).on("load.bs.scrollspy.data-api",function(){c('[data-spy\x3d"scroll"]').each(function(){var e=c(this);b.call(e,e.data())})})}(jQuery);
+function(c){function e(e){return this.each(function(){var d=c(this),f=d.data("bs.tab");f||d.data("bs.tab",f=new b(this));"string"==typeof e&&f[e]()})}var b=function(b){this.element=c(b)};b.VERSION="3.3.6";b.TRANSITION_DURATION=150;b.prototype.show=function(){var b=this.element,d=b.closest("ul:not(.dropdown-menu)"),e=b.data("target");if(e||(e=b.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var k=d.find(".active:last a"),g=c.Event("hide.bs.tab",{relatedTarget:b[0]}),
p=c.Event("show.bs.tab",{relatedTarget:k[0]});(k.trigger(g),b.trigger(p),p.isDefaultPrevented()||g.isDefaultPrevented())||(e=c(e),this.activate(b.closest("li"),d),this.activate(e,e.parent(),function(){k.trigger({type:"hidden.bs.tab",relatedTarget:b[0]});b.trigger({type:"shown.bs.tab",relatedTarget:k[0]})}))}};b.prototype.activate=function(e,d,f){function k(){g.removeClass("active").find("\x3e .dropdown-menu \x3e .active").removeClass("active").end().find('[data-toggle\x3d"tab"]').attr("aria-expanded",
!1);e.addClass("active").find('[data-toggle\x3d"tab"]').attr("aria-expanded",!0);p?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade");e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle\x3d"tab"]').attr("aria-expanded",!0);f&&f()}var g=d.find("\x3e .active"),p=f&&c.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("\x3e .fade").length);g.length&&p?g.one("bsTransitionEnd",k).emulateTransitionEnd(b.TRANSITION_DURATION):k();g.removeClass("in")};
var g=c.fn.tab;c.fn.tab=e;c.fn.tab.Constructor=b;c.fn.tab.noConflict=function(){return c.fn.tab=g,this};var k=function(b){b.preventDefault();e.call(c(this),"show")};c(document).on("click.bs.tab.data-api",'[data-toggle\x3d"tab"]',k).on("click.bs.tab.data-api",'[data-toggle\x3d"pill"]',k)}(jQuery);
+function(c){function e(e){return this.each(function(){var h=c(this),d=h.data("bs.affix"),f="object"==typeof e&&e;d||h.data("bs.affix",d=new b(this,f));"string"==typeof e&&d[e]()})}var b=function(e,h){this.options=c.extend({},b.DEFAULTS,h);this.$target=c(this.options.target).on("scroll.bs.affix.data-api",c.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",c.proxy(this.checkPositionWithEventLoop,this));this.$element=c(e);this.pinnedOffset=this.unpin=this.affixed=null;this.checkPosition()};
b.VERSION="3.3.6";b.RESET="affix affix-top affix-bottom";b.DEFAULTS={offset:0,target:window};b.prototype.getState=function(c,b,d,e){var g=this.$target.scrollTop(),n=this.$element.offset(),p=this.$target.height();if(null!=d&&"top"==this.affixed)return d>g?"top":!1;if("bottom"==this.affixed)return null!=d?g+this.unpin<=n.top?!1:"bottom":c-e>=g+p?!1:"bottom";var q=null==this.affixed,n=q?g:n.top;return null!=d&&d>=g?"top":null!=e&&n+(q?p:b)>=c-e?"bottom":!1};b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(b.RESET).addClass("affix");var c=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-c};b.prototype.checkPositionWithEventLoop=function(){setTimeout(c.proxy(this.checkPosition,this),1)};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),h=this.options.offset,d=h.top,f=h.bottom,g=Math.max(c(document).height(),c(document.body).height());"object"!=typeof h&&(f=d=h);"function"==typeof d&&(d=h.top(this.$element));
"function"==typeof f&&(f=h.bottom(this.$element));h=this.getState(g,e,d,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var d="affix"+(h?"-"+h:""),n=c.Event(d+".bs.affix");if(this.$element.trigger(n),n.isDefaultPrevented())return;this.affixed=h;this.unpin="bottom"==h?this.getPinnedOffset():null;this.$element.removeClass(b.RESET).addClass(d).trigger(d.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-e-f})}};var g=c.fn.affix;c.fn.affix=e;c.fn.affix.Constructor=
b;c.fn.affix.noConflict=function(){return c.fn.affix=g,this};c(window).on("load",function(){c('[data-spy\x3d"affix"]').each(function(){var b=c(this),h=b.data();h.offset=h.offset||{};null!=h.offsetBottom&&(h.offset.bottom=h.offsetBottom);null!=h.offsetTop&&(h.offset.top=h.offsetTop);e.call(b,h)})})}(jQuery);
!function(c){function e(c,b){if(!(1<c.originalEvent.touches.length)){c.preventDefault();var e=c.originalEvent.changedTouches[0],h=document.createEvent("MouseEvents");h.initMouseEvent(b,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null);c.target.dispatchEvent(h)}}if(c.support.touch="ontouchend"in document,c.support.touch){var b,g=c.ui.mouse.prototype,k=g._mouseInit,h=g._mouseDestroy;g._touchStart=function(c){!b&&this._mouseCapture(c.originalEvent.changedTouches[0])&&(b=!0,this._touchMoved=
!1,e(c,"mouseover"),e(c,"mousemove"),e(c,"mousedown"))};g._touchMove=function(c){b&&(this._touchMoved=!0,e(c,"mousemove"))};g._touchEnd=function(c){b&&(e(c,"mouseup"),e(c,"mouseout"),this._touchMoved||e(c,"click"),b=!1)};g._mouseInit=function(){this.element.bind({touchstart:c.proxy(this,"_touchStart"),touchmove:c.proxy(this,"_touchMove"),touchend:c.proxy(this,"_touchEnd")});k.call(this)};g._mouseDestroy=function(){this.element.unbind({touchstart:c.proxy(this,"_touchStart"),touchmove:c.proxy(this,
"_touchMove"),touchend:c.proxy(this,"_touchEnd")});h.call(this)}}}(jQuery);
(function(c){var e=function(b){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1};this._var={version:"3.2.1",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}};void 0!==b&&this.setOption(b);
var e=this;b=function(){setTimeout(function(){!0===e._options.checkOnLoad&&(!0===e._options.debug&&e._log("onload-\x3eeventCallback","A check loading is launched"),null===e._var.bait&&e._creatBait(),setTimeout(function(){e.check()},1))},1)};void 0!==c.addEventListener?c.addEventListener("load",b,!1):c.attachEvent("onload",b)};e.prototype._options=null;e.prototype._var=null;e.prototype._bait=null;e.prototype._log=function(c,e){console.log("[BlockAdBlock]["+c+"] "+e)};e.prototype.setOption=function(c,
e){if(void 0!==e){var k=c;c={};c[k]=e}for(var h in c)this._options[h]=c[h],!0===this._options.debug&&this._log("setOption",'The option "'+h+'" he was assigned to "'+c[h]+'"');return this};e.prototype._creatBait=function(){var b=document.createElement("div");b.setAttribute("class",this._options.baitClass);b.setAttribute("style",this._options.baitStyle);this._var.bait=c.document.body.appendChild(b);this._var.bait.offsetParent;this._var.bait.offsetHeight;this._var.bait.offsetLeft;this._var.bait.offsetTop;
this._var.bait.offsetWidth;this._var.bait.clientHeight;this._var.bait.clientWidth;!0===this._options.debug&&this._log("_creatBait","Bait has been created")};e.prototype._destroyBait=function(){c.document.body.removeChild(this._var.bait);this._var.bait=null;!0===this._options.debug&&this._log("_destroyBait","Bait has been removed")};e.prototype.check=function(c){void 0===c&&(c=!0);!0===this._options.debug&&this._log("check","An audit was requested "+(!0===c?"with a":"without")+" loop");if(!0===this._var.checking)return!0===
this._options.debug&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0;null===this._var.bait&&this._creatBait();var e=this;this._var.loopNumber=0;!0===c&&(this._var.loop=setInterval(function(){e._checkBait(c)},this._options.loopCheckTime));setTimeout(function(){e._checkBait(c)},1);!0===this._options.debug&&this._log("check","A check is in progress ...");return!0};e.prototype._checkBait=function(b){var e=!1;null===this._var.bait&&this._creatBait();
if(null!==c.document.body.getAttribute("abp")||null===this._var.bait.offsetParent||0==this._var.bait.offsetHeight||0==this._var.bait.offsetLeft||0==this._var.bait.offsetTop||0==this._var.bait.offsetWidth||0==this._var.bait.clientHeight||0==this._var.bait.clientWidth)e=!0;if(void 0!==c.getComputedStyle){var k=c.getComputedStyle(this._var.bait,null);!k||"none"!=k.getPropertyValue("display")&&"hidden"!=k.getPropertyValue("visibility")||(e=!0)}!0===this._options.debug&&this._log("_checkBait","A check ("+
(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(!0===e?"positive":"negative"));!0===b&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop());if(!0===e)this._stopLoop(),this._destroyBait(),this.emitEvent(!0),!0===b&&(this._var.checking=!1);else if(null===this._var.loop||!1===b)this._destroyBait(),this.emitEvent(!1),!0===b&&(this._var.checking=!1)};e.prototype._stopLoop=
function(c){clearInterval(this._var.loop);this._var.loop=null;this._var.loopNumber=0;!0===this._options.debug&&this._log("_stopLoop","A loop has been stopped")};e.prototype.emitEvent=function(c){!0===this._options.debug&&this._log("emitEvent","An event with a "+(!0===c?"positive":"negative")+" detection was called");c=this._var.event[!0===c?"detected":"notDetected"];for(var e in c)if(!0===this._options.debug&&this._log("emitEvent","Call function "+(parseInt(e)+1)+"/"+c.length),c.hasOwnProperty(e))c[e]();
!0===this._options.resetOnEnd&&this.clearEvent();return this};e.prototype.clearEvent=function(){this._var.event.detected=[];this._var.event.notDetected=[];!0===this._options.debug&&this._log("clearEvent","The event list has been cleared")};e.prototype.on=function(c,e){this._var.event[!0===c?"detected":"notDetected"].push(e);!0===this._options.debug&&this._log("on",'A type of event "'+(!0===c?"detected":"notDetected")+'" was added');return this};e.prototype.onDetected=function(c){return this.on(!0,
c)};e.prototype.onNotDetected=function(c){return this.on(!1,c)};c.BlockAdBlock=e;void 0===c.blockAdBlock&&(c.blockAdBlock=new e({checkOnLoad:!0,resetOnEnd:!0}))})(window);
!function(c,e){"undefined"!=typeof module&&module.exports?"undefined"!=typeof process&&"electron"in process.versions?c.BootstrapDialog=e(c.jQuery):module.exports=e(require("jquery"),require("bootstrap")):"function"==typeof define&&define.amd?define("bootstrap-dialog",["jquery","bootstrap"],function(c){return e(c)}):c.BootstrapDialog=e(c.jQuery)}(this,function(c){var e=c.fn.modal.Constructor,b=function(c,b){e.call(this,c,b)};b.getModalVersion=function(){return"undefined"==typeof c.fn.modal.Constructor.VERSION?
"v3.1":/3\.2\.\d+/.test(c.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(c.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"};b.ORIGINAL_BODY_PADDING=parseInt(c("body").css("padding-right")||0,10);b.METHODS_TO_OVERRIDE={};b.METHODS_TO_OVERRIDE["v3.1"]={};b.METHODS_TO_OVERRIDE["v3.2"]={hide:function(b){if(b&&b.preventDefault(),b=c.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented())this.isShown=!1,0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open"),
this.resetScrollbar(),this.escape(),c(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),c.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",c.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()}};b.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var c=b.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",c+this.scrollbarWidth)},resetScrollbar:function(){0===
this.getGlobalOpenedDialogs().length&&this.$body.css("padding-right",b.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide();this.backdrop(c.proxy(function(){0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open");this.resetAdjustments();this.resetScrollbar();this.$element.trigger("hidden.bs.modal")},this))}};b.METHODS_TO_OVERRIDE["v3.3.4"]=c.extend({},b.METHODS_TO_OVERRIDE["v3.3"]);b.prototype={constructor:b,getGlobalOpenedDialogs:function(){var b=[];return c.each(g.dialogs,
function(c,d){d.isRealized()&&d.isOpened()&&b.push(d)}),b}};b.prototype=c.extend(b.prototype,e.prototype,b.METHODS_TO_OVERRIDE[b.getModalVersion()]);var g=function(b){this.defaultOptions=c.extend(!0,{id:g.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},g.defaultOptions);this.indexedButtons={};this.registeredButtonHotkeys={};this.draggableData={isMouseDown:!1,mouseOffset:{}};this.opened=this.realized=!1;this.initOptions(b);this.holdThisInstance()};return g.BootstrapDialogModal=
b,g.NAMESPACE="bootstrap-dialog",g.TYPE_DEFAULT="type-default",g.TYPE_INFO="type-info",g.TYPE_PRIMARY="type-primary",g.TYPE_SUCCESS="type-success",g.TYPE_WARNING="type-warning",g.TYPE_DANGER="type-danger",g.DEFAULT_TEXTS={},g.DEFAULT_TEXTS[g.TYPE_DEFAULT]="Information",g.DEFAULT_TEXTS[g.TYPE_INFO]="Information",g.DEFAULT_TEXTS[g.TYPE_PRIMARY]="Information",g.DEFAULT_TEXTS[g.TYPE_SUCCESS]="Success",g.DEFAULT_TEXTS[g.TYPE_WARNING]="Warning",g.DEFAULT_TEXTS[g.TYPE_DANGER]="Danger",g.DEFAULT_TEXTS.OK=
"OK",g.DEFAULT_TEXTS.CANCEL="Cancel",g.DEFAULT_TEXTS.CONFIRM="Confirmation",g.SIZE_NORMAL="size-normal",g.SIZE_SMALL="size-small",g.SIZE_WIDE="size-wide",g.SIZE_LARGE="size-large",g.BUTTON_SIZES={},g.BUTTON_SIZES[g.SIZE_NORMAL]="",g.BUTTON_SIZES[g.SIZE_SMALL]="",g.BUTTON_SIZES[g.SIZE_WIDE]="",g.BUTTON_SIZES[g.SIZE_LARGE]="btn-lg",g.ICON_SPINNER="glyphicon glyphicon-asterisk",g.defaultOptions={type:g.TYPE_PRIMARY,size:g.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,
closeByKeyboard:!0,spinicon:g.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!0,description:"",tabindex:-1},g.configDefaultOptions=function(b){g.defaultOptions=c.extend(!0,g.defaultOptions,b)},g.dialogs={},g.openAll=function(){c.each(g.dialogs,function(c,b){b.open()})},g.closeAll=function(){c.each(g.dialogs,function(c,b){b.close()})},g.getDialog=function(c){var b=null;return"undefined"!=typeof g.dialogs[c]&&(b=g.dialogs[c]),b},g.setDialog=function(c){return g.dialogs[c.getId()]=c,c},g.addDialog=
function(c){return g.setDialog(c)},g.moveFocus=function(){var b=null;c.each(g.dialogs,function(c,d){b=d});null!==b&&b.isRealized()&&b.getModal().focus()},g.METHODS_TO_OVERRIDE={},g.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(c){c.target===this&&c.data.dialog.isClosable()&&c.data.dialog.canCloseByBackdrop()&&c.data.dialog.close()}),this},updateZIndex:function(){var b=0;c.each(g.dialogs,function(c,d){b++});var e=this.getModal(),
d=e.data("bs.modal").$backdrop;return e.css("z-index",1050+20*(b-1)),d.css("z-index",1040+20*(b-1)),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this.updateZIndex(),this}},g.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:g.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:g.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:g.METHODS_TO_OVERRIDE["v3.1"].open},g.METHODS_TO_OVERRIDE["v3.3"]={},g.METHODS_TO_OVERRIDE["v3.3.4"]=c.extend({},
g.METHODS_TO_OVERRIDE["v3.1"]),g.prototype={constructor:g,initOptions:function(b){return this.options=c.extend(!0,this.defaultOptions,b),this},holdThisInstance:function(){return g.addDialog(this),this},initModalStuff:function(){return this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter()),this.getModal().append(this.getModalDialog()),
this.getModalDialog().append(this.getModalContent()),this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter()),this},createModal:function(){var b=c('\x3cdiv class\x3d"modal" role\x3d"dialog" aria-hidden\x3d"true"\x3e\x3c/div\x3e');return b.prop("id",this.getId()),b.attr("aria-labelledby",this.getId()+"_title"),b},getModal:function(){return this.$modal},setModal:function(c){return this.$modal=c,this},createModalDialog:function(){return c('\x3cdiv class\x3d"modal-dialog"\x3e\x3c/div\x3e')},
getModalDialog:function(){return this.$modalDialog},setModalDialog:function(c){return this.$modalDialog=c,this},createModalContent:function(){return c('\x3cdiv class\x3d"modal-content"\x3e\x3c/div\x3e')},getModalContent:function(){return this.$modalContent},setModalContent:function(c){return this.$modalContent=c,this},createModalHeader:function(){return c('\x3cdiv class\x3d"modal-header"\x3e\x3c/div\x3e')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(c){return this.$modalHeader=
c,this},createModalBody:function(){return c('\x3cdiv class\x3d"modal-body"\x3e\x3c/div\x3e')},getModalBody:function(){return this.$modalBody},setModalBody:function(c){return this.$modalBody=c,this},createModalFooter:function(){return c('\x3cdiv class\x3d"modal-footer"\x3e\x3c/div\x3e')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(c){return this.$modalFooter=c,this},createDynamicContent:function(c){var b=null;return b="function"==typeof c?c.call(c,this):c,"string"==
typeof b&&(b=this.formatStringContent(b)),b},formatStringContent:function(c){return this.options.nl2br?c.replace(/\r\n/g,"\x3cbr /\x3e").replace(/[\r\n]/g,"\x3cbr /\x3e"):c},setData:function(c,b){return this.options.data[c]=b,this},getData:function(c){return this.options.data[c]},setId:function(c){return this.options.id=c,this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(c){return this.options.type=c,this.updateType(),this},updateType:function(){if(this.isRealized()){var c=
[g.TYPE_DEFAULT,g.TYPE_INFO,g.TYPE_PRIMARY,g.TYPE_SUCCESS,g.TYPE_WARNING,g.TYPE_DANGER];this.getModal().removeClass(c.join(" ")).addClass(this.getType())}return this},getSize:function(){return this.options.size},setSize:function(c){return this.options.size=c,this.updateSize(),this},updateSize:function(){if(this.isRealized()){var b=this;this.getModal().removeClass(g.SIZE_NORMAL).removeClass(g.SIZE_SMALL).removeClass(g.SIZE_WIDE).removeClass(g.SIZE_LARGE);this.getModal().addClass(this.getSize());this.getModalDialog().removeClass("modal-sm");
this.getSize()===g.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm");this.getModalDialog().removeClass("modal-lg");this.getSize()===g.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg");c.each(this.options.buttons,function(e,d){var f=b.getButton(d.id),g=["btn-lg","btn-sm","btn-xs"],n=!1;if("string"==typeof d.cssClass){var p=d.cssClass.split(" ");c.each(p,function(b,d){-1!==c.inArray(d,g)&&(n=!0)})}n||(f.removeClass(g.join(" ")),f.addClass(b.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},
setCssClass:function(c){return this.options.cssClass=c,this},getTitle:function(){return this.options.title},setTitle:function(c){return this.options.title=c,this.updateTitle(),this},updateTitle:function(){if(this.isRealized()){var c=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(c).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(c){return this.options.message=
c,this.updateMessage(),this},updateMessage:function(){if(this.isRealized()){var c=this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(c)}return this},isClosable:function(){return this.options.closable},setClosable:function(c){return this.options.closable=c,this.updateClosable(),this},setCloseByBackdrop:function(c){return this.options.closeByBackdrop=c,this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(c){return this.options.closeByKeyboard=
c,this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},isAnimate:function(){return this.options.animate},setAnimate:function(c){return this.options.animate=c,this},updateAnimate:function(){return this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate()),this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(c){return this.options.spinicon=c,this},addButton:function(c){return this.options.buttons.push(c),this},addButtons:function(b){var e=
this;return c.each(b,function(c,b){e.addButton(b)}),this},getButtons:function(){return this.options.buttons},setButtons:function(c){return this.options.buttons=c,this.updateButtons(),this},getButton:function(c){return"undefined"!=typeof this.indexedButtons[c]?this.indexedButtons[c]:null},getButtonSize:function(){return"undefined"!=typeof g.BUTTON_SIZES[this.getSize()]?g.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){return this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():
this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons())),this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(c){this.options.autodestroy=c},getDescription:function(){return this.options.description},setDescription:function(c){return this.options.description=c,this},setTabindex:function(c){return this.options.tabindex=c,this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){return this.isRealized()&&
this.getModal().attr("tabindex",this.getTabindex()),this},getDefaultText:function(){return g.DEFAULT_TEXTS[this.getType()]},getNamespace:function(c){return g.NAMESPACE+"-"+c},createHeaderContent:function(){var b=c("\x3cdiv\x3e\x3c/div\x3e");return b.addClass(this.getNamespace("header")),b.append(this.createTitleContent()),b.prepend(this.createCloseButton()),b},createTitleContent:function(){var b=c("\x3cdiv\x3e\x3c/div\x3e");return b.addClass(this.getNamespace("title")),b},createCloseButton:function(){var b=
c("\x3cdiv\x3e\x3c/div\x3e");b.addClass(this.getNamespace("close-button"));var e=c('\x3cbutton class\x3d"close"\x3e\x26times;\x3c/button\x3e');return b.append(e),b.on("click",{dialog:this},function(c){c.data.dialog.close()}),b},createBodyContent:function(){var b=c("\x3cdiv\x3e\x3c/div\x3e");return b.addClass(this.getNamespace("body")),b.append(this.createMessageContent()),b},createMessageContent:function(){var b=c("\x3cdiv\x3e\x3c/div\x3e");return b.addClass(this.getNamespace("message")),b},createFooterContent:function(){var b=
c("\x3cdiv\x3e\x3c/div\x3e");return b.addClass(this.getNamespace("footer")),b},createFooterButtons:function(){var b=this,e=c("\x3cdiv\x3e\x3c/div\x3e");return e.addClass(this.getNamespace("footer-buttons")),this.indexedButtons={},c.each(this.options.buttons,function(c,f){f.id||(f.id=g.newGuid());var l=b.createButton(f);b.indexedButtons[f.id]=l;e.append(l)}),e},createButton:function(b){var e=c('\x3cbutton class\x3d"btn"\x3e\x3c/button\x3e');return e.prop("id",b.id),e.data("button",b),"undefined"!=
typeof b.icon&&""!==c.trim(b.icon)&&e.append(this.createButtonIcon(b.icon)),"undefined"!=typeof b.label&&e.append(b.label),e.addClass("undefined"!=typeof b.cssClass&&""!==c.trim(b.cssClass)?b.cssClass:"btn-default"),"undefined"!=typeof b.hotkey&&(this.registeredButtonHotkeys[b.hotkey]=e),e.on("click",{dialog:this,$button:e,button:b},function(c){var b=c.data.dialog,e=c.data.$button,h=e.data("button");return h.autospin&&e.toggleSpin(!0),"function"==typeof h.action?h.action.call(e,b,c):void 0}),this.enhanceButton(e),
"undefined"!=typeof b.enabled&&e.toggleEnable(b.enabled),e},enhanceButton:function(c){return c.dialog=this,c.toggleEnable=function(c){return"undefined"!=typeof c?this.prop("disabled",!c).toggleClass("disabled",!c):this.prop("disabled",!this.prop("disabled")),this},c.enable=function(){return this.toggleEnable(!0),this},c.disable=function(){return this.toggleEnable(!1),this},c.toggleSpin=function(b){var d=this.dialog,e=this.find("."+d.getNamespace("button-icon"));return"undefined"==typeof b&&(b=!(0<
c.find(".icon-spin").length)),b?(e.hide(),c.prepend(d.createButtonIcon(d.getSpinicon()).addClass("icon-spin"))):(e.show(),c.find(".icon-spin").remove()),this},c.spin=function(){return this.toggleSpin(!0),this},c.stopSpin=function(){return this.toggleSpin(!1),this},this},createButtonIcon:function(b){var e=c("\x3cspan\x3e\x3c/span\x3e");return e.addClass(this.getNamespace("button-icon")).addClass(b),e},enableButtons:function(b){return c.each(this.indexedButtons,function(c,d){d.toggleEnable(b)}),this},
updateClosable:function(){return this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable()),this},onShow:function(c){return this.options.onshow=c,this},onShown:function(c){return this.options.onshown=c,this},onHide:function(c){return this.options.onhide=c,this},onHidden:function(c){return this.options.onhidden=c,this},isRealized:function(){return this.realized},setRealized:function(c){return this.realized=c,this},isOpened:function(){return this.opened},
setOpened:function(c){return this.opened=c,this},handleModalEvents:function(){return this.getModal().on("show.bs.modal",{dialog:this},function(c){var b=c.data.dialog;if(b.setOpened(!0),b.isModalEvent(c)&&"function"==typeof b.options.onshow)return c=b.options.onshow(b),!1===c&&b.setOpened(!1),c}),this.getModal().on("shown.bs.modal",{dialog:this},function(c){var b=c.data.dialog;b.isModalEvent(c)&&"function"==typeof b.options.onshown&&b.options.onshown(b)}),this.getModal().on("hide.bs.modal",{dialog:this},
function(c){var b=c.data.dialog;if(b.setOpened(!1),b.isModalEvent(c)&&"function"==typeof b.options.onhide)return c=b.options.onhide(b),!1===c&&b.setOpened(!0),c}),this.getModal().on("hidden.bs.modal",{dialog:this},function(b){var e=b.data.dialog;e.isModalEvent(b)&&"function"==typeof e.options.onhidden&&e.options.onhidden(e);e.isAutodestroy()&&(e.setRealized(!1),delete g.dialogs[e.getId()],c(this).remove());g.moveFocus()}),this.handleModalBackdropEvent(),this.getModal().on("keyup",{dialog:this},function(c){27===
c.which&&c.data.dialog.isClosable()&&c.data.dialog.canCloseByKeyboard()&&c.data.dialog.close()}),this.getModal().on("keyup",{dialog:this},function(b){var e=b.data.dialog;"undefined"!=typeof e.registeredButtonHotkeys[b.which]&&(b=c(e.registeredButtonHotkeys[b.which]),!b.prop("disabled")&&b.focus().trigger("click"))}),this},handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(b){c(b.target).hasClass("modal-backdrop")&&b.data.dialog.isClosable()&&b.data.dialog.canCloseByBackdrop()&&
b.data.dialog.close()}),this},isModalEvent:function(c){return"undefined"!=typeof c.namespace&&"bs.modal"===c.namespace},makeModalDraggable:function(){return this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",{dialog:this},function(c){var b=c.data.dialog;b.draggableData.isMouseDown=!0;var d=b.getModalDialog().offset();b.draggableData.mouseOffset={top:c.clientY-d.top,left:c.clientX-d.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(c){c.data.dialog.draggableData.isMouseDown=
!1}),c("body").on("mousemove",{dialog:this},function(c){var b=c.data.dialog;b.draggableData.isMouseDown&&b.getModalDialog().offset({top:c.clientY-b.draggableData.mouseOffset.top,left:c.clientX-b.draggableData.mouseOffset.left})})),this},realize:function(){return this.initModalStuff(),this.getModal().addClass(g.NAMESPACE).addClass(this.getCssClass()),this.updateSize(),this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription()),this.getModalFooter().append(this.createFooterContent()),
this.getModalHeader().append(this.createHeaderContent()),this.getModalBody().append(this.createBodyContent()),this.getModal().data("bs.modal",new b(this.getModal(),{backdrop:"static",keyboard:!1,show:!1})),this.makeModalDraggable(),this.handleModalEvents(),this.setRealized(!0),this.updateButtons(),this.updateType(),this.updateTitle(),this.updateMessage(),this.updateClosable(),this.updateAnimate(),this.updateSize(),this.updateTabindex(),this},open:function(){return!this.isRealized()&&this.realize(),
this.getModal().modal("show"),this},close:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("hide"),this}},g.prototype=c.extend(g.prototype,g.METHODS_TO_OVERRIDE[b.getModalVersion()]),g.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var b=16*Math.random()|0;return("x"===c?b:3&b|8).toString(16)})},g.show=function(c){return(new g(c)).open()},g.alert=function(b,e){var d={},f={type:g.TYPE_PRIMARY,title:null,message:null,closable:!1,
draggable:!1,buttonLabel:g.DEFAULT_TEXTS.OK,callback:null};return d="object"==typeof b&&b.constructor==={}.constructor?c.extend(!0,f,b):c.extend(!0,f,{message:b,callback:"undefined"!=typeof e?e:null}),(new g({type:d.type,title:d.title,message:d.message,closable:d.closable,draggable:d.draggable,data:{callback:d.callback},onhide:function(c){!c.getData("btnClicked")&&c.isClosable()&&"function"==typeof c.getData("callback")&&c.getData("callback")(!1)},buttons:[{label:d.buttonLabel,action:function(c){return c.setData("btnClicked",
!0),"function"==typeof c.getData("callback")&&!1===c.getData("callback").call(this,!0)?!1:c.close()}}]})).open()},g.confirm=function(b,e){var d={},f={type:g.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,btnCancelLabel:g.DEFAULT_TEXTS.CANCEL,btnOKLabel:g.DEFAULT_TEXTS.OK,btnOKClass:null,callback:null};return d="object"==typeof b&&b.constructor==={}.constructor?c.extend(!0,f,b):c.extend(!0,f,{message:b,closable:!1,buttonLabel:g.DEFAULT_TEXTS.OK,callback:"undefined"!=typeof e?e:null}),
null===d.btnOKClass&&(d.btnOKClass=["btn",d.type.split("-")[1]].join("-")),(new g({type:d.type,title:d.title,message:d.message,closable:d.closable,draggable:d.draggable,data:{callback:d.callback},buttons:[{label:d.btnCancelLabel,action:function(c){return"function"==typeof c.getData("callback")&&!1===c.getData("callback").call(this,!1)?!1:c.close()}},{label:d.btnOKLabel,cssClass:d.btnOKClass,action:function(c){return"function"==typeof c.getData("callback")&&!1===c.getData("callback").call(this,!0)?
!1:c.close()}}]})).open()},g.warning=function(c,b){return(new g({type:g.TYPE_WARNING,message:c})).open()},g.danger=function(c,b){return(new g({type:g.TYPE_DANGER,message:c})).open()},g.success=function(c,b){return(new g({type:g.TYPE_SUCCESS,message:c})).open()},g});var animationTimelines=[],subtitlesAnimationTls=[];function controlbarIdleStateEvent(){}function controlbarActiveStateEvent(){}
function controllerEventFired(){isNull(animationTimelines)||animationTimelines.forEach(function(c){popcorn.paused()?c.tl.pause():c.tl.play()});isNull(subtitlesAnimationTls)||subtitlesAnimationTls.forEach(function(c){popcorn.paused()?c.tl.pause():c.tl.play()})}function sliderSlideEventFiredForSubtitles(c){subtitlesAnimationTls.forEach(function(e){e.tl.time(c)})}
function sliderSlideEventFired(c){if(!isNull(animationTimelines))for(var e=animationTimelines.length;e--;){var b=animationTimelines[e];if(!isNull(b))if(b.tl.pause(),c>b.start&&c<b.end)"SVG_PATH"==b.animationType?b.animationEnd<=c?b.tl.progress(1,!0):(_prog=1-(b.animationEnd-c)/(b.animationEnd-b.start),b.tl.progress(_prog,!0)):(_prog=1-(b.end-c)/(b.end-b.start),b.tl.progress(_prog,!0));else if(isNull(b.animationType)||!b.animationType.endsWith("IN"))b.tl.progress(-1,!0),animationTimelines.splice(e,
1),$("#overlay-area").find("#anim-obj-"+b.id).remove()}}function Animator(){return this}
Animator.prototype.animate=function(c,e,b){this.element=$("."+b+"-"+c.id);if(null!=c8VR)this.element.css("opacity",1);else switch(e){case "FADE_IN":this.fadeIn(c,e);break;case "FADE_OUT":this.fadeOut(c,e);break;case "ZOOM_IN":this.zoomIn(c,e);break;case "ZOOM_OUT":this.zoomOut(c,e);break;case "PINWHELL_IN":this.pinwheelIn(c,e);break;case "PINWHELL_OUT":this.pinwheelOut(c,e);break;case "SWIVEL_IN":this.swivelIn(c,e);break;case "SWIVEL_OUT":this.swivelOut(c,e);break;case "SLIDE_UP_IN":this.slideUpIn(c,
e);break;case "SLIDE_UP_OUT":this.slideUpOut(c,e);break;case "SLIDE_RIGHT_IN":this.slideRightIn(c,e);break;case "SLIDE_RIGHT_OUT":this.slideRightOut(c,e);break;case "SLIDE_DOWN_IN":this.slideDownIn(c,e);break;case "SLIDE_DOWN_OUT":this.slideDownOut(c,e);break;case "SLIDE_LEFT_IN":this.slideLeftIn(c,e);break;case "SLIDE_LEFT_OUT":this.slideLeftOut(c,e);break;case "SPLASH_IN":this.splashIn(c,e);break;case "SPLASH_OUT":this.splashOut(c,e);break;case "TYPEWRITER1_IN":this.typeWriterIn(c,e,1);break;case "TYPEWRITER1_OUT":this.typeWriterOut(c,
e,1);break;case "TYPEWRITER2_IN":this.typeWriterIn(c,e,2);break;case "TYPEWRITER2_OUT":this.typeWriterOut(c,e,2);break;case "TYPEWRITER3_IN":this.typeWriterIn(c,e,3);break;case "TYPEWRITER3_OUT":this.typeWriterOut(c,e,3);break;case "TYPEWRITER4_IN":this.typeWriterIn(c,e,4);break;case "TYPEWRITER4_OUT":this.typeWriterOut(c,e,4);break;case "TYPEWRITER5_IN":this.typeWriterIn(c,e,5);break;case "TYPEWRITER5_OUT":this.typeWriterOut(c,e,5)}};
Animator.prototype.getNewTimeline=function(c,e){var b=null;null==b&&(b=gsap.timeline({paused:!0,onStart:tlOnStart,onComplete:outTlComplete,onCompleteParams:[c.id,e,c]}),b._rnd=c.rnd);return b};Animator.prototype.defaultIn=function(c){c=this.getNewTimeline(c);c.to(this.element,1,{opacity:1,ease:Power4.easeOut});c.play()};
Animator.prototype.fadeIn=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{opacity:0});b.to(this.element,1.5,{opacity:1,ease:Power0.easeNone});b.play();addToAnimationTimelines({tl:b,animationType:c.inEffect,id:c.id,start:c.start,end:c.end})};Animator.prototype.fadeOut=function(c,e){var b=this.getNewTimeline(c,e);b.to(this.element,1.5,{opacity:0,ease:Power0.easeNone});b.play();addToAnimationTimelines({tl:b,animationType:c.outEffect,id:c.id,start:c.end,end:c.end+1.5})};
Animator.prototype.zoomIn=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{opacity:1,scale:0});b.to(this.element,2,{scale:1});b.play();addToAnimationTimelines({tl:b,animationType:c.inEffect,id:c.id,start:c.start,end:c.end})};Animator.prototype.zoomOut=function(c,e){var b=this.getNewTimeline(c,e);b.to(this.element,2,{scale:0});b.play();addToAnimationTimelines({tl:b,animationType:c.outEffect,id:c.id,start:c.end,end:c.end+2})};
Animator.prototype.pinwheelIn=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{scale:0,rotation:720});b.to(this.element,.5,{opacity:1});b.to(this.element,1,{scale:1,rotation:0});b.play();addToAnimationTimelines({tl:b,animationType:c.inEffect,id:c.id,start:c.start,end:c.end})};
Animator.prototype.pinwheelOut=function(c,e){var b=this.getNewTimeline(c,e);b.to(this.element,1,{scale:0,rotation:720});b.play();addToAnimationTimelines({tl:b,animationType:c.outEffect,id:c.id,start:c.end,end:c.end+1.5})};
Animator.prototype.swivelIn=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{scale:0,rotationY:720});b.to(this.element,.5,{opacity:.5});b.to(this.element,2,{scale:1,opacity:1,rotationY:0});b.play();addToAnimationTimelines({tl:b,animationType:c.inEffect,id:c.id,start:c.start,end:c.end})};
Animator.prototype.swivelOut=function(c,e){var b=this.getNewTimeline(c,e);b.to(this.element,2,{scale:0,rotationY:720});b.play();addToAnimationTimelines({tl:b,animationType:c.outEffect,id:c.id,start:c.end,end:c.end+2})};Animator.prototype.slideUpIn=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{opacity:1});b.from(this.element,1,{y:-$(window).height(),ease:Back.easeOut.config(1.7)});b.play();addToAnimationTimelines({tl:b,animationType:c.inEffect,id:c.id,start:c.start,end:c.end})};
Animator.prototype.slideUpOut=function(c,e){var b=this.getNewTimeline(c,e);b.to(this.element,1,{y:-$(window).height(),ease:Back.easeIn.config(1.7)});b.play();addToAnimationTimelines({tl:b,animationType:c.outEffect,id:c.id,start:c.end,end:c.end+1})};
Animator.prototype.slideRightIn=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{opacity:1});b.from(this.element,1,{x:$(window).width(),ease:Back.easeOut.config(1.7)});b.play();addToAnimationTimelines({tl:b,animationType:c.inEffect,id:c.id,start:c.start,end:c.end})};
Animator.prototype.slideRightOut=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{opacity:1});b.to(this.element,1,{x:$(window).width(),ease:Back.easeIn.config(1.7)});b.play();addToAnimationTimelines({tl:b,animationType:c.outEffect,id:c.id,start:c.end,end:c.end+1})};
Animator.prototype.slideDownIn=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{opacity:1});b.from(this.element,1,{y:$(window).height(),ease:Back.easeOut.config(1.7)});b.play();addToAnimationTimelines({tl:b,animationType:c.inEffect,id:c.id,start:c.start,end:c.end})};
Animator.prototype.slideDownOut=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{opacity:1});b.to(this.element,1,{y:$(window).height(),ease:Back.easeIn.config(1.7)});b.play();addToAnimationTimelines({tl:b,animationType:c.outEffect,id:c.id,start:c.end,end:c.end+1})};
Animator.prototype.slideLeftIn=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{opacity:1});b.from(this.element,1,{x:-$(window).width(),ease:Back.easeOut.config(1.7)});b.play();addToAnimationTimelines({tl:b,animationType:c.inEffect,id:c.id,start:c.start,end:c.end})};
Animator.prototype.slideLeftOut=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{opacity:1});b.to(this.element,1,{x:-$(window).width(),ease:Back.easeIn.config(1.7)});b.play();addToAnimationTimelines({tl:b,animationType:c.outEffect,id:c.id,start:c.end,end:c.end+1})};
Animator.prototype.splashIn=function(c,e){var b=this.getNewTimeline(c,e);b.set(this.element,{opacity:0,scale:5});b.to(this.element,1,{opacity:1,scale:1,ease:Bounce.easeOut},0);b.play();addToAnimationTimelines({tl:b,animationType:c.inEffect,id:c.id,start:c.start,end:c.end})};
Animator.prototype.splashOut=function(c,e){var b=this.getNewTimeline(c,e);b.to(this.element,1,{opacity:0,scale:5,ease:Elastic.easeIn.config(2,1)});b.play();addToAnimationTimelines({tl:b,animationType:c.outEffect,id:c.id,start:c.end,end:c.end+1})};
Animator.prototype.typeWriterIn=function(c,e,b){e=this.getNewTimeline(c,e);var g=new SplitText(this.element,{type:"words,chars,lines"});switch(b){case 1:g=g.chars;e.set(this.element,{perspective:400,opacity:1});e.staggerFrom(g,.8,{opacity:0,scale:0,y:80,rotationX:180,transformOrigin:"0% 50% -50",ease:Back.easeOut},.01,"+\x3d0");break;case 2:g=g.chars;e.set(this.element,{opacity:1});e.staggerFrom(g,.6,{scale:4,autoAlpha:0,rotationX:-180,transformOrigin:"100% 50%",ease:Back.easeOut},.02);break;case 3:b=
g.chars.length;e.set(this.element,{opacity:1});for(var k=0;k<b;k++)e.from(g.chars[k],2,{opacity:0},2*Math.random());break;case 4:e.set(this.element,{opacity:1});e.staggerFrom(g.words,.6,{y:-200,opacity:0,autoAlpha:0,ease:Power4.easeOut},.05);break;case 5:e.set(this.element,{opacity:1}),e.staggerFrom(g.lines,.5,{opacity:0,rotationX:-120,force3D:!0,transformOrigin:"top center -150"},.1)}e.play();addToAnimationTimelines({tl:e,animationType:c.inEffect,id:c.id,start:c.start,end:c.end})};
Animator.prototype.typeWriterOut=function(c,e,b){e=this.getNewTimeline(c,e);var g=new SplitText(this.element,{type:"words,chars,lines"});switch(b){case 1:g=g.chars;e.set(this.element,{perspective:400,opacity:1});e.staggerTo(g,.8,{opacity:0,scale:0,y:80,rotationX:180,transformOrigin:"0% 50% -50",ease:Back.easeOut},.01,"+\x3d0");break;case 2:g=g.chars;e.set(this.element,{opacity:1});e.staggerTo(g,.6,{scale:4,autoAlpha:0,rotationX:-180,transformOrigin:"100% 50%",ease:Back.easeOut},.02);break;case 3:b=
g.chars.length;e.set(this.element,{opacity:1});for(var k=0;k<b;k++)e.to(g.chars[k],2,{opacity:0},2*Math.random());break;case 4:e.set(this.element,{opacity:1});e.staggerTo(g.words,.6,{y:-200,opacity:0,autoAlpha:0,ease:Power4.easeOut},.02);break;case 5:e.staggerTo(g.lines,.5,{y:-300,opacity:0,rotationX:-80,force3D:!0,transformOrigin:"top center -150"},.1)}e.play();addToAnimationTimelines({tl:e,animationType:c.outEffect,id:c.id,start:c.end,end:c.end+2})};
function outTlComplete(c,e,b){if(null!=e&&e.endsWith("OUT"))for($("#overlay-area").find("#anim-obj-"+c+'[data-rnd\x3d"'+this._rnd+'"]').remove(),c=animationTimelines.length;c--;)b.id==animationTimelines[c].id&&animationTimelines.splice(c,1)}function tlOnStart(){}function addToAnimationTimelines(c){for(var e=!1,b=0;b<animationTimelines.length;b++)if(c.id==animationTimelines[b].id&&c.animationType==animationTimelines[b].animationType){e=!0;break}e||animationTimelines.push(c)}
function animatedSubtitlesRunner(c,e,b){null==b&&(b={});c=gsap.timeline({paused:!0});var g="\x3cstyle\x3e.gplayer-subtitle-content span{opacity: 0;}";if(!b.animation||0>=b.animation||9<b.animation)g="\x3cstyle\x3e.gplayer-subtitle-content span{opacity: 1;}";null!=b.bg&&(g+=".gplayer-subtitle-content span{ background: "+b.bg+"; }");g+="\x3c/style\x3e";subtitlesAnimationTls.push({tl:c});switch(b.animation){case "1":subtitlesWordsGen(g,e);subAnimation1(c);break;case "2":subtitlesWordsGen(g+"\x3cstyle\x3e.gplayer-subtitle-content span{display: block; opacity: 0;transform: scaleX(1.25) scale(1.5);}\x3c/style\x3e",
e);subAnimation2(c);break;case "3":g+="\x3cstyle\x3e.gplayer-subtitle-content span{opacity: 0.4;}\x3c/style\x3e";subtitlesWordsGen(g,e);subAnimation3(c);break;case "4":g+="\x3cstyle\x3e.gplayer-subtitle-content span{ display: flex; align-items:center; padding-left: inherit !important; background: transparent !important; opacity: 1 !important; border-radius: 0.2rem;}.gplayer-subtitle-content span:first-of-type{ padding-left:0} .gplayer-subtitle-content span:last-of-type{padding-right:0}\x3c/style\x3e";
subtitlesWordsGen(g,e,!0);subAnimation4(c,b);break;case "5":g+="\x3cstyle\x3e.gplayer-subtitle-content span{opacity: 0; transform: translateY(-1rem);}\x3c/style\x3e";subtitlesWordsGen(g,e);subAnimation5(c,b);break;case "6":g+="\x3cstyle\x3e.gplayer-subtitle-wrapper{perspective: 35rem;}.gplayer-subtitle-content{transform: rotateX(90deg); opacity: 0;} .gplayer-subtitle-content span{opacity: 1;}\x3c/style\x3e";subtitlesWordsGen(g,e,!1);subAnimation6(c,b);break;case "7":g+="\x3cstyle\x3e.gplayer-subtitle-content{opacity: 0; transform: translateY(1rem);} .gplayer-subtitle-content span{opacity: 1;}\x3c/style\x3e";
subtitlesWordsGen(g,e,!1);subAnimation7(c,b);break;case "8":g+="\x3cstyle\x3e.gplayer-subtitle-content{opacity: 0; transform: translateY(-1rem);} .gplayer-subtitle-content span{opacity: 1;}\x3c/style\x3e";subtitlesWordsGen(g,e,!1);subAnimation8(c,b);break;case "9":g+="\x3cstyle\x3e.gplayer-subtitle-content{opacity: 0; transform: scale(0.5);} .gplayer-subtitle-content span{opacity: 1;}\x3c/style\x3e";subtitlesWordsGen(g,e,!1);subAnimation9(c,b);break;default:subtitlesWordsGen(g,e)}c.time(popcorn.currentTime());
popcorn.paused()||("6"==b.animation||"7"==b.animation||"8"==b.animation||"9"==b.animation?c.restart():c.play())}
function subtitlesWordsGen(c,e,b,g){if(g)c+="\x3cspan\x3e"+e+"\x3c/span\x3e";else{var k=[],h=[];e.forEach(function(c,b){c.word.includes("\n")&&(k.push(h),h=[]);h.push(c);b==e.length-1&&k.push(h)});k.forEach(function(d,e){c+='\x3cdiv class\x3d"sub-line"\x3e';d.forEach(function(e,h){c+='\x3cspan data-stagger\x3d"'+e.start+'" data-stagger-end\x3d"'+e.end+'"\x3e';b&&(c+='\x3cdiv class\x3d"highlight-word-ref"\x3e\x3c/div\x3e');c+=e.word.replace(/\n/g,"");h<d.length-1&&(c+=" ");c+="\x3c/span\x3e"});c+=
"\x3c/div\x3e"})}g=document.querySelector(".gplayer-subtitle-content");null!=g&&(g.innerHTML=c);fixWrapPadding()}function fixWrapPadding(){for(var c=0,e=[],b=document.querySelectorAll(".gplayer-subtitle-content span"),g=0;g<b.length;g++){var k=b[g],h=k.getBoundingClientRect();h.left<c&&(e.push(k),c=0);c=h.left}null!=e&&0<e.length&&e.forEach(function(c){c.style.paddingLeft="0.5rem"})}
function subAnimation1(c){document.querySelectorAll(".gplayer-subtitle-content span").forEach(function(e){c.to(e,{opacity:1,duration:.05},e.dataset.stagger)})}function subAnimation2(c){document.querySelectorAll(".gplayer-subtitle-content span").forEach(function(e){c.to(e,{opacity:1,scale:1,scaleX:1,duration:.15,ease:"none"},e.dataset.stagger)})}
function subAnimation3(c){document.querySelectorAll(".gplayer-subtitle-content span").forEach(function(e){c.to(e,{opacity:1,duration:.1,ease:"power3.out"},e.dataset.stagger)})}
function subAnimation4(c,e){null==e.bg&&(e.bg="rgba(0, 0, 0, 0.67)");document.querySelectorAll(".gplayer-subtitle-content span").forEach(function(b){var g=b.dataset.stagger;c.to(b.querySelector(".highlight-word-ref"),{background:e.bg,ease:"none",duration:.01,onStart:function(){$(".highlight-word").removeClass("highlight-word");$(this.targets()).addClass("highlight-word")}},g)})}
function subAnimation5(c,e){document.querySelectorAll(".gplayer-subtitle-content span").forEach(function(b){c.to(b,{opacity:1,y:0,duration:.2,ease:"power3.out"},b.dataset.stagger)})}function subAnimation6(c,e){c.to(".gplayer-subtitle-content",{duration:.3,opacity:1,rotationX:0,ease:"power3.out"})}function subAnimation7(c,e){c.to(".gplayer-subtitle-content",{duration:.5,opacity:1,y:0,ease:"power3.out"})}
function subAnimation8(c,e){c.to(".gplayer-subtitle-content",{duration:.5,opacity:1,y:0,ease:"power3.out"})}function subAnimation9(c,e){c.to(".gplayer-subtitle-content",{duration:.35,opacity:1,scale:1,ease:"power3.out"})}var motionTrackers={};function MotionTracker(){this.listeners={};return this}
MotionTracker.prototype.track=function(c){var e=getTrackPropsById(c);if(null!=e&&null!=e.motionData){var b=null;try{b=JSON.parse(e.motionData)}catch(g){console.log(g)}if(null!=b.output){null==b.reqData&&(b.reqData={expFrame:1});var k=b.output;this.trackOpt=e;this.video=document.getElementById("xvideo");this.elem=document.getElementById(e.id);gsap.ticker.lagSmoothing(0);var h=gsap.timeline({paused:this.video.paused,onStart:function(){$("[data-c8-element-template\x3d'c8-elem-tmpl-"+c+"']").css("opacity",
1)}});this.tl=h;h.set(this.elem,{x:"+\x3d0%",y:"+\x3d0%"});for(var b=parseFloat((b.reqData.expFrame/b.videoInfo.fps).toFixed(3)),d=0;d<k.length;d++)h.to(this.elem,{left:k[d].x+"%",top:k[d].y+"%",width:k[d].w+"%",height:k[d].h+"%",duration:b});motionTrackers[e.id]=this;this.addListener("pause");this.addListener("play");this.addListener("ratechange");this.addListener("seeking");this.addListener("seeked");this.addListener("waiting");this.addListener("canplay");this.tl.timeScale(popcorn.playbackRate());
var f=this;setTimeout(function(){f.tl.time(f.video.currentTime-f.trackOpt.start)},100)}}};
MotionTracker.prototype.addListener=function(c){var e=this;switch(c){case "pause":c=function(c){e.tl.pause()};e.video.addEventListener("pause",c,!1);e.listeners.pause=c;break;case "play":c=function(c){e.tl.play()};e.video.addEventListener("play",c,!1);e.listeners.play=c;break;case "ratechange":c=function(c){e.tl.timeScale(c.currentTarget.playbackRate)};e.video.addEventListener("ratechange",c,!1);e.listeners.ratechange=c;break;case "seeking":c=function(c){$(e.elem).css("transition","none")};e.video.addEventListener("seeking",
c,!1);e.listeners.seeking=c;break;case "seeked":c=function(c){$(e.elem).css("transition","none");e.tl.time(e.video.currentTime-e.trackOpt.start);setTimeout(function(){$(e.elem).css("transition","height 0.5s, width 0.5s, left 0.1s, top 0.1s")},100)};e.video.addEventListener("seeked",c,!1);e.listeners.seeked=c;break;case "waiting":c=function(c){e.video.paused||e.tl.pause()};e.video.addEventListener("waiting",c,!1);e.listeners.waiting=c;break;case "canplay":c=function(c){e.video.paused||e.tl.play()},
e.video.addEventListener("canplay",c,!1),e.listeners.canplay=c}};MotionTracker.prototype.removeListeners=function(c){if(null!=this.listeners)for(var e in this.listeners)this.listeners.hasOwnProperty(e)&&this.video.removeEventListener(e,this.listeners[e])};
document.addEventListener("visibilitychange",function(c){try{if(null!=motionTrackers&&0<Object.keys(motionTrackers).length&&!document.hidden)for(var e in motionTrackers)motionTrackers.hasOwnProperty(e)&&setTimeout(function(){var c=motionTrackers[e];c.tl.time(c.video.currentTime-c.trackOpt.start)},100)}catch(b){}});function Storyboard(c){this.data=c;this.currentOperator=null}
Storyboard.prototype.init=function(){if(null==this||null==this.data||null==this.data.operators)return null;var c=this;Object.keys(this.data.operators).forEach(function(e,b){"INIT"==c.data.operators[e].type&&(c.currentOperator=c.getOperator(e))});this.walk()};Storyboard.prototype.getOperator=function(c){if(null==this||null==this.data)return null;this.data.operators[c];this.data.operators[c]._key=c;return this.data.operators[c]};
Storyboard.prototype.getConnectedOperator=function(c,e){if(null==this||null==this.data||null==this.data.links||0>=this.data.links.length)return null;var b=null,g=this;Object.keys(this.data.links).forEach(function(k,h){e?c==g.data.links[k].fromOperator&&e==g.data.links[k].fromConnector&&(b=g.getOperator(g.data.links[k].toOperator)):c==g.data.links[k].fromOperator&&(b=g.getOperator(g.data.links[k].toOperator))});return b};
Storyboard.prototype.walk=function(c){if(null==this.currentOperator)return $("#ivid-thumbnail-overlay-image").css("display","block"),$("#ivid-start-box").css("display","block"),$("#replay-btn").css("display","block"),null;var e=this.currentOperator;this.currentOperator=this.getConnectedOperator(this.currentOperator._key,c);if(null==this.currentOperator)return null!=e&&"SCENE"==e.type&&($("#ivid-thumbnail-overlay-image").css("display","block"),$("#ivid-start-box").css("display","block"),$("#replay-btn").css("display",
"block")),null;if("INIT"!=e.type){_hashId=this.currentOperator.hashId;var b=window.location.href,b=removeParam("storyboard",b),b=replaceUrlParam(b,"iv",_hashId),b=b+("\x26storyboardId\x3d"+this.data.hashId)}if("SCENE"==this.currentOperator.type){canplayCalled=!1;playFunc(this.currentOperator.hashId,!0);for(c=e=0;heatMap.hlist.length>=c;c++)void 0!=heatMap.hlist[c]&&e++;scormStoryboardPreElapsed+=e;heatMap={tmpSec:null,hlist:[]};$.when($.ajax({type:"GET",url:b})).then(function(c){var b=/currentHeatMapUuid="\s*(.*?)\s*";/g,
d=/sessionId="\s*(.*?)\s*";/g;if(!isNull(c)){for(;m=b.exec(c);){currentHeatMapUuid=m[1];break}for(;m=d.exec(c);){sessionId=m[1];break}}})}else if("SINGLE_SELECT_QUESTION"==this.currentOperator.type){$(".ext-video-controls").css("display","none");$("#overlay-area").css("display","block");$("#loading-box").fadeOut(300,function(){$(this).css("display","none")});c=Handlebars.getTemplate("ivid-single-select-question");b=Handlebars.compile(c);e={};e.id=this.currentOperator.properties.inputs.in_1.id;e.questionText=
this.currentOperator.properties.inputs.in_1.label;e.submitOnSelect=this.currentOperator.submitOnSelect;e.confirmButtonText=this.currentOperator.confirmButtonText;e.opKey=this.currentOperator._key;e.options=[];for(c=0;c<Object.keys(this.currentOperator.properties.outputs).length;c++){var g={};g.id=this.currentOperator.properties.outputs["out_"+(c+1)].id;g.text=this.currentOperator.properties.outputs["out_"+(c+1)].label;g.outId="out_"+(c+1);e.options.push(g)}c=b(e);$("#overlay-area").css("background",
"rgba(0,0,0,0.50) 0%");$("#overlay-area").append(c)}setTimeout(function(){updateWindowSize()},100);setTimeout(function(){endedCalled=!1},250)};
var isFullscreen=!1,controlbar=!0,wrapperTouchStatus=!1,swipeStatus=!1,isLandscapeMode=window.innerWidth>=window.innerHeight,height=$("body").height(),width=$(window).width(),xVideoRatio,videoRatio,baseWidth=800,baseFontSize=16,vWidth,widthRatio,intervalDelayedAudio,suggestedScenePage=1,suggestedSceneCount=0,keyDownTimer,heatMap={tmpSec:null,hlist:[]},parentPlayerUrl=null,currentFormDesignData=null,requiredFieldsErrorTimer=null,minDurForScormCompletion=null,scormStoryboardPreElapsed=0,prevScormProgMeasure=
null,prevScormWatchTime=0,scormTotalWatchTime=0,mMoveTimer=null,mMoveX,mMoveY=0,watchTime=0,watchedProjects={},fullscreenEnabled=!1,xvideo,latestPostedHeatMap=null,browserState=null,visibilityChangeEventExist=!1,pendingWebhookCallbackActions=[],activeQuestionTrackId=null,dndMatches={},rewinding=!1,lastAnswer=null,windowSizeUpdating=!1;function _c8PlayerApi(){}_c8PlayerApi.prototype.play=function(){playIt(null,!0)};_c8PlayerApi.prototype.pause=function(){pauseIt(!0)};
_c8PlayerApi.prototype.paused=function(){return!playing};_c8PlayerApi.prototype.currentTime=function(c){if(isNull(c))return popcorn.currentTime();popcorn.currentTime(c)};_c8PlayerApi.prototype.hideControls=function(){hidePlayerControls()};_c8PlayerApi.prototype.showControls=function(){showPlayerControls()};
_c8PlayerApi.prototype.postData=function(c,e){return new Promise(function(b,g){$.ajax({type:"POST",url:applicationWsPath+"/element-template-store/"+c+";jsessionid\x3d"+sessionId,data:JSON.stringify(cleanEmptyKeys(e)),dataType:"json",headers:{"Content-Type":"application/json"},complete:function(k,h){200==k.status?(trackExpose(c,"I"),b({status:k.status})):(g({status:k.status}),console.log("Unable to post element template store trackId: ",c,", data: "+e))}})})};
_c8PlayerApi.prototype.getData=function(c){return $.ajax({type:"GET",beforeSend:function(c){null!=getParameterByName("token")&&c.setRequestHeader("Authorization","Grant "+btoa(getParameterByName("token")))},url:applicationWsPath+"/element-template-store/"+c+";jsessionid\x3d"+sessionId,dataType:"json",headers:{"Content-Type":"application/json"}})};_c8PlayerApi.prototype.setVariable=function(c,e,b){setVariable(c,e,!1,!1,b)};_c8PlayerApi.prototype.getVariable=function(c){return getVariable(c)};
_c8PlayerApi.prototype.getVariables=function(){return getVariables()};_c8PlayerApi.prototype.getAuthenticatedUser=function(){return getAuthenticatedUser()};_c8PlayerApi.prototype.volume=function(c){if(null!=c)popcorn.volume(c);else return popcorn.volume()};_c8PlayerApi.prototype.subtitle=function(c){if(null!=c)changeSubtitles(c);else return selectedSubtitles};
_c8PlayerApi.prototype.subtitles=function(){var c=[];if(null!=sceneData&&null!=sceneData.subtitles&&0<sceneData.subtitles.length)for(var e=0;e<sceneData.subtitles.length;e++)c.push({value:sceneData.subtitles[e].code,label:sceneData.subtitles[e].name});return c};_c8PlayerApi.prototype.launchFullscreen=function(){launchFullscreen()};_c8PlayerApi.prototype.exitFullscreen=function(){exitFullscreen()};
_c8PlayerApi.prototype.audioTrack=function(c){if(null!=c)_changeAudioTrack(c);else return c=_getCurrentAudioTrack(!0),null!=c?c:null};_c8PlayerApi.prototype.audioTracks=function(){return _getAudioTracks(!0)};_c8PlayerApi.prototype.playbackRate=function(c){if(null!=c)changePlaybackRate(c);else return popcorn.playbackRate()};_c8PlayerApi.prototype.qualityLevels=function(){return getQualityLevels()};_c8PlayerApi.prototype.qualityLevel=function(c){if(null!=c)qualityLevel(c);else return qualityLevel(c)};
_c8PlayerApi.prototype.submitQuestionForm=function(c){answerCustomQuestionForm(c)};_c8PlayerApi.prototype.skipQuestionForm=function(c){closeQuestionForm()};_c8PlayerApi.prototype.getDndAnswer=function(){var c=[];null!=dndMatches&&Object.keys(dndMatches).forEach(function(e){c.push({id:e,value:dndMatches[e]})});return c};_c8PlayerApi.prototype.setVisible=function(c){setVisible(c)};_c8PlayerApi.prototype.setInvisible=function(c){setInvisible(c)};
_c8PlayerApi.prototype.jumpToAnotherProject=function(c,e){null==e&&(e=0);jumpTo(e,null,null,null,c)};_c8PlayerApi.prototype.jumpTo=function(c){jumpTo(c,null,null,null,null)};
_c8PlayerApi.prototype.executeWidgetPropActions=function(c,e){if(null!=c&&""!=c&&null!=e&&""!=e){var b=null;if(null!=sceneData&&null!=sceneData.tracks&&0<sceneData.tracks.length)for(var g=0;g<sceneData.tracks.length;g++)if(c==sceneData.tracks[g].id){null!=sceneData.tracks[g].props&&(g=sceneData.tracks[g].props[e],null!=g&&(b=g.acts));break}if(null!=b&&0<b.length)for(g=0;g<b.length;g++)trackOnActionFn({id:c,trackType:"TEMPLATED"},{id:"widget-prop-action-"+c+"-"+e,trackTriggerType:"ONCLICK",trackActionType:b[g].at,
value:b[g].av,triggeredTrack:{id:b[g].ttid}})}};_c8PlayerApi.prototype.getRuntime=function(c){return"PLAYER"};_c8PlayerApi.prototype.getWidgetProps=function(c,e){try{var b=eval("widgetProps_c8w_"+c);return isNull(e)?b:b[e]}catch(g){return console.log(g),null}};_c8PlayerApi.prototype.getWidgetProp=function(c,e){return this.getWidgetProps(c,e)};
_c8PlayerApi.prototype.getTrackProps=function(c,e,b){try{var g=getTrackPropsById(c),k={duration:parseFloat((g.end-g.start).toFixed(3)),visible:g.visible,start:g.start,end:g.end};if(!isNull(e)){var h=k[e];return isNull(h)?b:h}return k}catch(d){return console.log(d),null}};_c8PlayerApi.prototype.getTrackProp=function(c,e,b){return this.getTrackProps(c,e,b)};
_c8PlayerApi.prototype.on=function(c,e,b){isNull(this._events)&&(this._events={});isNull(this._events[e])&&(this._events[e]={});this._events[e][c]=b};
_c8PlayerApi.prototype.executeEvent=function(c,e,b,g,k){if(!isNull(this._events)&&!isNull(this._events[e])){for(var h in this._events[e])if((null==c||h==c)&&this._events[e].hasOwnProperty(h))if(null!=c)this._events[e][c](b);else this._events[e][h](b,g,k);if("widgetDestroy"==e)for(h in this._events)for(var d in this._events[h])d==c&&this._events[h].hasOwnProperty(d)&&delete this._events[h][c]}};_c8PlayerApi.prototype.loop=function(c){if(null==c)return popcorn.loop();popcorn.loop(c)};
_c8PlayerApi.prototype.webSocket=function(c,e){this.options=e;null!=this.options&&(this.datastore=this.options.datastore);this.clientId=c;this.host=widgetWebSocketHost;this.eb=new EventBus(this.host+"/eventbus/c8-socket?client-id\x3dc8.sc."+this.clientId,{vertxbus_ping_interval:6E4,vertxbus_reconnect_attempts_max:10});this.eb.enableReconnect(!0);var b=this;this.onOpen=function(){};this.onClose=function(){};this.onError=function(){};this.onMessage=function(){};this.onActiveConnectionsChange=function(){};
this.close=function(){1==b.eb.state&&b.eb.close()};this.authenticatedUser=getAuthenticatedUser();this.eb.onopen=function(){b.onOpen();var c={};b.datastore&&b.datastore.options&&b.datastore.options.bucketKey&&(c["X-DATA-BUCKET-KEY"]=b.datastore.options.bucketKey);null!=getParameterByName("token")&&(c["X-AUTH-TOKEN"]=getParameterByName("token"));null!=b.authenticatedUser&&(c["X-AUTH-USERNAME"]=b.authenticatedUser.username);b.eb.registerHandler("c8.sc."+b.clientId,c,function(c,e){var d=e.body;if(d)if("message"==
d.type)b.onMessage(d,c);else d.type="active_connections",b.onActiveConnectionsChange(d,c)})};this.publish=function(c){b.eb.publish("c8.ss",{type:"message",data:c})};this.eb.onerror=function(c){b.onError(c)};this.eb.onclose=function(){b.onClose()};return this};_c8PlayerApi.prototype.getAutoGenDatastore=function(c){return isNull(c)?null:new this.datastore({bucketKey:c})};_c8PlayerApi.prototype.getDatastore=function(c,e){var b=this.getWidgetProps(c,e);return isNull(b)?null:new this.datastore({bucketKey:b})};
_c8PlayerApi.prototype.datastore=function(c){this.host=dataSourceHost;this.options=c;this.authenticatedUser=getAuthenticatedUser();var e=this;this.search=function(c){if(c)return this.search.queryFilter=c,this.search.queryFilter.bucketKey=e.options.bucketKey,new Promise(function(c,b){$.ajax({type:"POST",url:e.host+"/api/datastore/search",data:JSON.stringify(e.search.queryFilter),dataType:"json",headers:{"Content-Type":"application/json"},success:function(b){c(b)},error:function(c){var d="An error occured";
c&&c.responseJSON&&(d=c.responseJSON);b(d)}})})};this.save=function(c){if(c){var g={bucketKey:e.options.bucketKey,data:c};null!=getParameterByName("token")&&(g.token=getParameterByName("token"));null!=e.authenticatedUser&&(g.username=e.authenticatedUser.username);return new Promise(function(c,b){$.ajax({type:"POST",url:e.host+"/api/datastore/save",data:JSON.stringify(g),dataType:"json",headers:{"Content-Type":"application/json"},success:function(b){c(b)},error:function(c){var e="An error occured";
c&&c.responseJSON&&(e=c.responseJSON);b(e)}})})}};return this};function _onPauseEvent_(){}function _onPlayEvent_(){}function _onFullscreenChangeEvent_(){}function _onPlaybackRateChangeEvent_(){}function _onQualityLevelChangeEvent_(){}function _onQuestionTemplateFeedbackEvent_(){}function _onVisibilityChangeEvent_(){}function _onWidgetDestroyEvent_(){}function _onVariableChangeEvent_(){}var c8PlayerApi=new _c8PlayerApi;
function getQualityLevels(){var c=!0;null!=hls&&(c=hls.autoLevelEnabled);var e=[];if(null!=sceneData&&null!=sceneData.quality&&0<sceneData.quality.length)for(var b=0;b<sceneData.quality.length;b++)e.push({level:sceneData.quality[b].level,height:sceneData.quality[b].height,label:sceneData.quality[b].height+"p"});return{auto:c,levels:e}}function qualityLevel(c){if(null!=c)changeQualityLevel(c);else if(null!=hls)return getCurrentQualityLevel()}
function cleanEmptyKeys(c){for(var e in c)null!==c[e]&&void 0!==c[e]&&""!==c[e].trim()||delete c[e];return c}function _AudioElements(){this.audio={};this.currentAudio=-1}
_AudioElements.prototype.getNext=function(c,e,b,g,k){var h=null;if(null!=k&&(h=this.getByTrackId(k),null!=h)){h.pause();try{h.currentTime=0}catch(d){}return h}tmpAudiosLength<=this.currentAudio+1&&(this.currentAudio=0);h=this.audio[++this.currentAudio];$(h).off();h.keepOnTrackExit=c;h.repeat=e;h.pauseWhenVideoIsPaused=b;h.syncWithTimeline=g;isNull(k)||(h.trackId=k);return h};_AudioElements.prototype.getByTrackId=function(c){for(var e=0;e<tmpAudiosLength;e++)if(c==this.audio[e].trackId)return this.audio[e]};
_AudioElements.prototype.get=function(){return this.audio[this.currentAudio]};_AudioElements.prototype.changeVolume=function(){for(var c=0;c<tmpAudiosLength;c++)this.audio[c].volume=popcorn.volume()};_AudioElements.prototype.changeVolumeVal=function(c){for(var e=0;e<tmpAudiosLength;e++)this.audio[e].volume=c};
_AudioElements.prototype.stopAll=function(c){for(c=0;c<tmpAudiosLength;c++){this.audio[c].pause();try{this.audio[c].currentTime=0}catch(e){}this.audio[c].keepOnTrackExit=null;this.audio[c].repeat=null;this.audio[c].pauseWhenVideoIsPaused=null;this.audio[c].trackId=null;this.audio[c].syncWithTimeline=null;this.audio[c].removeAttribute("src")}};
_AudioElements.prototype.pauseWhenVideoIsPaused=function(c){if("bg"==browserState)for(c=0;c<tmpAudiosLength;c++)void 0!=this.audio[c]._playing&&null!=this.audio[c]._playing&&this.audio[c]._playing&&(this.audio[c].pausedByMobileBackground=!0,this.audio[c].pause());for(c=0;c<tmpAudiosLength;c++)void 0!=this.audio[c].pauseWhenVideoIsPaused&&null!=this.audio[c].pauseWhenVideoIsPaused&&this.audio[c].pauseWhenVideoIsPaused&&this.audio[c].pause()};
_AudioElements.prototype.playWhenVideoIsPlayed=function(c){if("fg"==browserState)for(c=0;c<tmpAudiosLength;c++)console.log(this.audio[c].pausedByMobileBackground),void 0!=this.audio[c].pausedByMobileBackground&&null!=this.audio[c].pausedByMobileBackground&&this.audio[c].pausedByMobileBackground&&!this.audio[c].ended&&(this.audio[c].pausedByMobileBackground=null,this.audio[c].play());for(c=0;c<tmpAudiosLength;c++)void 0!=this.audio[c].pauseWhenVideoIsPaused&&null!=this.audio[c].pauseWhenVideoIsPaused&&
this.audio[c].pauseWhenVideoIsPaused&&!this.audio[c].ended&&this.audio[c]._playing&&playing&&this.audio[c].play()};_AudioElements.prototype.changePlaybackRate=function(c){for(var e=0;e<tmpAudiosLength;e++)this.audio[e].playbackRate=c};_AudioElements.prototype.playCurrent=function(){null!=this.get()&&null!=this.get().src&&""!=this.get().src&&this.get().play()};
_AudioElements.prototype.trackExit=function(){for(var c=0;c<tmpAudiosLength;c++)if(void 0!=this.audio[c].keepOnTrackExit&&null!=this.audio[c].keepOnTrackExit&&!this.audio[c].keepOnTrackExit){try{this.audio[c].currentTime=0}catch(e){}this.audio[c].pause()}};
_AudioElements.prototype.syncWithTimeline=function(c){null==c&&(c=(1E3*popcorn.currentTime()).toFixed(2));for(var e=0;e<tmpAudiosLength;e++)if(this.audio[e].syncWithTimeline&&!this.audio[e].pausedByAudioStopAction&&this.audio[e]._playing){var b=popcorn.getTrackEvent(this.audio[e].trackId);if(null!=b){var g=c-1E3*b.start,g=Math.floor(g/1E3);0>g&&b.mediaContent.duration>g&&(g=0,this.audio[e].pause(),this.audio[e]._playing=!1);this.audio[e].currentTime=g}}};
var audioElements=null,cloneableAudio=null,tmpAudiosLength=20,audioElements=new _AudioElements,cloneableAudio=document.createElement("AUDIO");document.body.appendChild(cloneableAudio);for(var i=0;i<tmpAudiosLength;i++)window["_ta_"+i]=cloneableAudio.cloneNode(!0),audioElements.audio[i]=window["_ta_"+i],audioElements.audio[i].setAttribute("webkit-playsinline",""),audioElements.audio[i].setAttribute("playsinline",""),audioElements.audio[i].playsInline=!0;
function _VideoElements(){this.video={};this.currentVideo=-1}_VideoElements.prototype.getNext=function(c,e){tmpVideosLength<=this.currentVideo+1&&(this.currentVideo=0);var b=this.video[++this.currentVideo];$(b).off();b.keepOnTrackExit=c;isNull(e)||(b.trackId=e);return b};_VideoElements.prototype.getByTrackId=function(c){for(var e=0;e<tmpVideosLength;e++)if(c==this.video[e].trackId)return this.video[e]};_VideoElements.prototype.get=function(){return this.video[this.currentVideo]};
_VideoElements.prototype.changeVolume=function(){for(var c=0;c<tmpVideosLength;c++)this.video[c].volume=popcorn.volume()};_VideoElements.prototype.changeVolumeVal=function(c){for(var e=0;e<tmpVideosLength;e++)this.video[e].volume=c};_VideoElements.prototype.stopAll=function(c){for(c=0;c<tmpVideosLength;c++)this.video[c].pause()};_VideoElements.prototype.changePlaybackRate=function(c){for(var e=0;e<tmpVideosLength;e++)this.video[e].playbackRate=c};
_VideoElements.prototype.playCurrent=function(){null!=this.get()&&null!=this.get().src&&""!=this.get().src&&this.get().play()};_VideoElements.prototype.trackExit=function(){for(var c=0;c<tmpVideosLength;c++)if(void 0!=this.video[c].keepOnTrackExit&&null!=this.video[c].keepOnTrackExit&&!this.video[c].keepOnTrackExit){try{this.video[c].currentTime=0}catch(e){}this.video[c].pause()}};var videoElements=null,cloneableVideo=null,tmpVideosLength=20,videoElements=new _VideoElements,cloneableVideo=document.createElement("VIDEO");
cloneableVideo.setAttribute("style","display:none;");document.body.appendChild(cloneableVideo);for(i=0;i<tmpVideosLength;i++)window["_ta_"+i]=cloneableVideo.cloneNode(!0),videoElements.video[i]=window["_ta_"+i];
function create360FitToScreenStyle(){if(null==document.getElementById("land_port_360_style")){var c=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.id="land_port_360_style";c.appendChild(e);e.type="text/css";e.styleSheet?e.styleSheet.cssText=".vr-player-container, .vr-player-container canvas {width: 100% !important; height: 100% !important; object-fit: cover; display: block;}":e.appendChild(document.createTextNode(".vr-player-container, .vr-player-container canvas {width: 100% !important; height: 100% !important; object-fit: cover; display: block;}"))}}
fakeHeightIE=100;
function updateWindowSize(c,e){if(!windowSizeUpdating){windowSizeUpdating=!0;height=$("body").height();width=$(window).width();xvideo=document.getElementById("xvideo");isIE()&&(100==fakeHeightIE?(fakeHeightIE=99,$(xvideo).css("height","99.99%")):(fakeHeightIE=100,$(xvideo).css("height","100%")));fitToScreenOnPortrait&&!isLandscapeMode||fitToScreenOnLandscape&&isLandscapeMode?($(xvideo).css("object-fit","cover"),create360FitToScreenStyle()):($(xvideo).css("object-fit","contain"),null!=document.getElementById("land_port_360_style")&&
document.getElementById("land_port_360_style").remove());null==xvideo&&(xvideo={videoWidth:16,videoHeight:9});$(".ext-video-controls").hasClass("fullscreen-controls")||c||"block"==$("#intro-box").css("display")?$("#pop-container").css("top",(height-$("#pop-container").height())/2):($("#pop-container").height(height),null!=xvideo?(xVideoRatio=xvideo.videoWidth/xvideo.videoHeight,null!=hls&&null!=hls.levels&&0<hls.levels.length&&(xVideoRatio=hls.levels[0].width/hls.levels[0].height),_vidHeight=$(window).height(),
videoRatio=$(window).width()/_vidHeight,isNaN(xVideoRatio)&&(xVideoRatio=1.7777777777777777),xVideoRatio<videoRatio?($("#overlay-area").css("width",xvideo.videoWidth/xvideo.videoHeight*_vidHeight+2),$("#overlay-area").css("height",_vidHeight),$("#overlay-area").css("left",(width-$("#overlay-area").width())/2),$("#pop-container").css("top",0),$(".ext-video-controls").css("width",xvideo.videoWidth/xvideo.videoHeight*_vidHeight+4)):($("#overlay-area").css("height",xvideo.videoHeight/xvideo.videoWidth*
width),$("#overlay-area").css("width",width),$("#overlay-area").css("top",(height-$("#overlay-area").height())/2),$("#overlay-area").css("left",0),$(".ext-video-controls").css("width","100%")),$("#overlay-area").css("top",0),$(".vr-player-container").css("width",$("#overlay-area").width()),$(".vr-player-container").css("height",$("#overlay-area").height()),null!=c8VR&&(c8VR.cardboard_active?($(".vr-player-container canvas").css("width","100vw"),$(".vr-player-container canvas").css("height","100vh")):
($(".vr-player-container canvas").css("width",$("#overlay-area").width()),$(".vr-player-container canvas").css("height",$("#overlay-area").height())),c8VR.onWindowResize())):($("#overlay-area").css("width","100%"),$("#overlay-area").css("height","100%")));null!=currentAd&&currentAd.resize();isFullscreen||($("#pop-container").height($("#overlay-area").height()),$("#pop-container").css("top",(height-$("#pop-container").height())/2));("block"==$("#intro-box").css("display")||"ios"==getMobileOS()&&isFullscreen)&&
$("#pop-container").height(height);e&&$("#pop-container").css("top",0);$(".chapter-menu").css("right",parseFloat($("#overlay-area").css("left"))+22);var b=parseFloat($("#overlay-area").css("left")),b=0<chapters.length?b+72:b+22;$(".ivid-share-icon").css("right",b);vWidth=$("#overlay-area").width();window.ua&&"mobile"===window.ua.getDevice().type&&(baseFontSize=21);widthRatio=vWidth/baseWidth;$("html").css({"font-size":Math.max(0,widthRatio*baseFontSize)+"px"});kjWrapperResize();$("#ivid-share-panel").css("width",
$("#overlay-area").width()).css("height",$("#overlay-area").height()).css("left",$("#overlay-area").position().left);if(fitToScreenOnPortrait&&!isLandscapeMode||fitToScreenOnLandscape&&isLandscapeMode)$("#overlay-area").css("height","100%"),$("#overlay-area").css("width","100%"),$("#overlay-area").css("left",0),$("#overlay-area").css("top",0),$(".ext-video-controls").css("width","100%");scaleDiv("#ivid-start-box");scaleDiv("#ivid-start-box-mobile");scaleDiv("#ivid-thumbnail-overlay-image");scaleDiv("#ivid-suggested-scenes");
"block"==$("#ivid-suggested-scenes")[0].style.display&&(suggestedSceneCount=$("#ivid-suggested-scene-table")[0].children.length/2,420<=$("#overlay-area").height()&&12!=suggestedSceneCount?(createSuggestedSceneItem(0,12),$("#ivid-suggested-scene-previous-button").css("display","none"),$("#ivid-suggested-scene-next-button").css("display","none")):420>$("#overlay-area").height()&&312<$("#overlay-area").height()&&6!=suggestedSceneCount?(createSuggestedSceneItem(0,6),$("#ivid-suggested-scene-previous-button").css("display",
"block"),$("#ivid-suggested-scene-next-button").css("display","block")):312>=$("#overlay-area").height()&&2!=suggestedSceneCount&&(createSuggestedSceneItem(0,2),$("#ivid-suggested-scene-previous-button").css("display","block"),$("#ivid-suggested-scene-next-button").css("display","block")));340>$("#overlay-area").width()?$(".time-controls").css("display","none"):void 0==scenePlayer||scenePlayer.hideTimer||liveStream||$(".time-controls").css("display","inline-block");if(fitToScreenOnPortrait&&!isLandscapeMode||
fitToScreenOnLandscape&&isLandscapeMode)$("#pop-container").height("100%"),$("#pop-container").css("top",0);isFullscreen&&calcOverlayArea();windowSizeUpdating=!1}}
function calcOverlayArea(){null==sceneData||sceneData._360||(fitToScreenOnPortrait&&!isLandscapeMode||fitToScreenOnLandscape&&isLandscapeMode?($("#overlay-area").css("height","100%"),$("#overlay-area").css("width","100%"),$("#overlay-area").css("left",0),$("#overlay-area").css("top",0),$(".ext-video-controls").css("width","100%")):($(".ext-video-controls").css("width",$("#overlay-area").width()),$("#overlay-area").css("height",xvideo.videoHeight/xvideo.videoWidth*width),$("#overlay-area").css("width",
xvideo.videoWidth/xvideo.videoHeight*height+1),1.7777777777777777>window.width/window.height?($("#overlay-area").css("top",($(window).height()-$("#overlay-area").height())/2),$("#overlay-area").css("width","100%"),$("#overlay-area").css("left","0px")):($("#overlay-area").css("left",($(window).width()-$("#overlay-area").width())/2),$("#overlay-area").css("top","0px"),$("#overlay-area").css("height","100%"))))}
function scaleDiv(c){fitToScreenOnPortrait&&!isLandscapeMode||fitToScreenOnLandscape&&isLandscapeMode?($(c).css("width","100%"),$(c).css("height","100%"),$(c).css("left",0)):($(c).css("width",$("#overlay-area").width()),$(c).css("left",(width-$("#overlay-area").width())/2),"#ivid-suggested-scenes"==c?$(c).css("height",$("#overlay-area").height()-60):$(c).css("height",$("#overlay-area").height()))}
function getPreviousSuggestedScenes(){suggestedSceneCount=$("#ivid-suggested-scene-table")[0].children.length/2;6==suggestedSceneCount?1==suggestedScenePage?(createSuggestedSceneItem(6,12),suggestedScenePage=2):(createSuggestedSceneItem(0,6),suggestedScenePage=1):1==suggestedScenePage?(createSuggestedSceneItem(10,12),suggestedScenePage=6):2==suggestedScenePage?(createSuggestedSceneItem(0,2),suggestedScenePage=1):3==suggestedScenePage?(createSuggestedSceneItem(2,4),suggestedScenePage=2):4==suggestedScenePage?
(createSuggestedSceneItem(4,6),suggestedScenePage=3):5==suggestedScenePage?(createSuggestedSceneItem(6,8),suggestedScenePage=4):6==suggestedScenePage&&(createSuggestedSceneItem(8,10),suggestedScenePage=5)}
function getNextSuggestedScenes(){suggestedSceneCount=$("#ivid-suggested-scene-table")[0].children.length/2;6==suggestedSceneCount?1==suggestedScenePage?(createSuggestedSceneItem(6,12),suggestedScenePage=2):(createSuggestedSceneItem(0,6),suggestedScenePage=1):1==suggestedScenePage?(createSuggestedSceneItem(2,4),suggestedScenePage=2):2==suggestedScenePage?(createSuggestedSceneItem(4,6),suggestedScenePage=3):3==suggestedScenePage?(createSuggestedSceneItem(6,8),suggestedScenePage=4):4==suggestedScenePage?
(createSuggestedSceneItem(8,10),suggestedScenePage=5):5==suggestedScenePage?(createSuggestedSceneItem(10,12),suggestedScenePage=6):6==suggestedScenePage&&(createSuggestedSceneItem(0,2),suggestedScenePage=1)}
function createSuggestedSceneItem(c,e){$("#ivid-suggested-scene-table").empty();for(var b=c;b<e;b++){var g=Handlebars.getTemplate("ivid-suggested-scene"),g=Handlebars.compile(g),k={};ssData=suggestedScenesData[b];null==ssData&&(ssData=suggestedScenesData[suggestedScenesData.length-1]);if(ssData){k.id=ssData.id;k.name=ssData.name;var h=window.location.pathname.replace(getHashId(),ssData.hashId);k.redirectUrl=window.location.origin+h;k.duration=toHHMMSS(ssData.mediaContent.duration);k.imageUrl=ssData.image.url;
0==c&&12==e?(k.colVal=3,k.heightVal=33.3):0==c&&6==e||6==c&&12==e?(k.colVal=4,k.heightVal=50):(k.colVal=6,k.heightVal=100);g=g(k);$("#ivid-suggested-scene-table").append(g)}}}
$(document).ready(function(){minDurForScormCompletion=getParameterByName("minDur");if(scormApi&&null!=minDurForScormCompletion){var c=!1;(c="1.2"==scormApi.SCORM.version?"completed"==scormApi.SCORM.get("cmi.core.lesson_status"):"completed"==scormApi.SCORM.get("cmi.completion_status"))||(completionStatusInterval=setInterval(function(){var c=0;for(i=0;heatMap.hlist.length>=i;i++)void 0!=heatMap.hlist[i]&&c++;prevScormWatchTime+c+scormStoryboardPreElapsed>=parseInt(minDurForScormCompletion)&&(scormSetSuccessStatus("passed"),
scormSetProgressMeasure(1),scormSetCompleted(),clearInterval(completionStatusInterval))},2E3))}scormApi&&(scormSetScoreMin(0),scormSetScoreMax(0),prevScormProgMeasure=scormApi.SCORM.get("cmi.progress_measure"),c=scormGetSuspendDataJSON(),null!=c&&null!=c.watchTime&&(prevScormWatchTime=c.watchTime),isNull(minDurForScormCompletion),setInterval(function(){var c=0;for(i=0;heatMap.hlist.length>=i;i++)void 0!=heatMap.hlist[i]&&c++;scormTotalWatchTime=prevScormWatchTime+c+scormStoryboardPreElapsed;scormApi&&
void 0!=popcorn&&null!=popcorn&&!popcorn.paused()&&(scormAddSuspendData("watchTime",Math.round(scormTotalWatchTime)),scormSetLocation(popcorn.currentTime()),null!=minDurForScormCompletion&&(c=(scormTotalWatchTime/parseInt(minDurForScormCompletion)).toFixed(2),0>c&&(c=0),1<c&&(c=1),null!=prevScormProgMeasure?c>prevScormProgMeasure&&(scormSetProgressMeasure(c),scormSetScoreScaled(c),scormSetScoreRaw(100*c)):(scormSetProgressMeasure(c),scormSetScoreScaled(c),scormSetScoreRaw(100*c))))},1500))});
$(window).resize(function(){setTimeout(function(){updateWindowSize();setTimeout(function(){updateWindowSize()},10)},100)});
window.addEventListener("orientationchange",function(){if("ios"==getMobileOS())switch(window.orientation){case 0:exitFullscreen();case 180:exitFullscreen()}0==screen.orientation.type.indexOf("portrait")?(exitFullscreen(),isLandscapeMode=!1,$("#ivid-suggested-scene-previous-button").css("height","106%"),$("#ivid-suggested-scene-next-button").css("height","106%")):(isLandscapeMode=!0,$("#ivid-suggested-scene-previous-button").css("height","100%"),$("#ivid-suggested-scene-next-button").css("height",
"100%"),isFullscreen&&$(".ext-video-controls").css("width","100%"));$(window).resize()},!1);window.addEventListener("resize",function(){isLandscapeMode=window.innerWidth>=window.innerHeight},!1);
function launchFullscreen(c){if(!isFullscreen){isLandscapeMode=window.innerWidth>=window.innerHeight;var e=document.getElementById("xvideo");"ios"==getMobileOS()&&null!=playerSettings&&playerSettings.allowFullscreenOnIOS&&(e.removeAttribute("webkit-playsinline"),e.removeAttribute("playsinline"));height=$("body").height();width=$(window).width();"ios"!=getMobileOS()||null!=playerSettings&&(null==playerSettings||playerSettings.allowFullscreenOnIOS)?(fullscreenEnabled=!0,$(".enter-full").css("display",
"none"),"ios"!=getMobileOS()&&$(".exit-full").css("display","block"),1.7666>e.videoWidth/e.videoHeight?($("#pop-container").css("width","75%"),$("#overlay-area").css("width","75%"),$("#overlay-area").css("left","12.5%")):($("#pop-container").css("width","100%"),$("#overlay-area").css("width","100%"),$("#overlay-area").css("left",0)),$("#video").css("height","auto"),$("#container").css("width","100%"),$("#container").css("height","100%"),$("#container").addClass("fs-container"),$("#container").css("cursor",
"auto"),$("#loading-box").css("height","100%"),$("#pop-container").css("width","100%"),$("#pop-container").css("height","100%"),$("#pop-container").css("top",0),$("#pop-container").css("height","100%"),$("#overlay-area").css("top",0),$("#overlay-area").css("height","100%"),$(".ext-video-controls").addClass("fullscreen-controls"),controlbar&&($(".ext-video-controls").css("display","block"),$(".ext-video-controls").fadeIn(300,function(){$(this).css("display","block")})),"android"==getMobileOS()&&$(".ext-video-controls").css("display",
"none"),c=document.getElementById("container"),c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen(),e.webkitEnterFullScreen&&e.webkitEnterFullScreen()):($(".ext-video-controls").css("display","none"),$("#pop-container").height($("body").height()),isLandscapeMode?($("#pop-container").css("width","100%"),$("#pop-container").css("height","100%"),$("#pop-container").css("top",
0),$("#overlay-area").css("width","100%"),$("#overlay-area").css("height","100%"),$("#overlay-area").css("left",0),$("#overlay-area").css("top",0)):($("#pop-container").css("width","100%"),$("#pop-container").css("height",e.videoHeight/e.videoWidth*width),$("#overlay-area").css("height",e.videoHeight/e.videoWidth*width),$("#overlay-area").css("width",width),$("#overlay-area").css("left",0)),isFullscreen=!0,hideChapterMenu(),hideShareIcon());calcOverlayArea();setTimeout(function(){$(".ext-video-controls").css("width",
$("#overlay-area").width());$(".ext-video-controls").css("margin","");setTimeout(function(){$(".ext-video-controls").css("width",$("#overlay-area").width());$(".ext-video-controls").css("margin","");setTimeout(function(){$(".ext-video-controls").css("width",$("#overlay-area").width());$(".ext-video-controls").css("margin","")},300)},200);calcOverlayArea()},100);null!=currentAd&&currentAd.resize()}}
function exitFullscreen(){if(isFullscreen)try{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),exitFullDom(),showChapterMenu(),showShareIcon()}catch(c){}}
function exitFullDom(){$("#container").css("width","");$("#video").css("height","");$(".vid-parent").css("height","100%");$("#container").css("height","87%");$("#loading-box").css("height","100%");$(".ext-video-controls").removeClass("fullscreen-controls");"ios"!=getMobileOS()&&$(".enter-full").css("display","block");$(".exit-full").css("display","none");$("#container").removeClass("fs-container");$("#pop-container").css("width","100%");$("#pop-container").css("height","100%");$(".vid-parent").css("width",
"100%");$("#overlay-area").css("width","100%");$("#overlay-area").css("height","100%");$(".ext-video-controls").css("margin","0 auto");isFullscreen=!1;updateWindowSize()}
function xJump(c,e){try{null!=trackTimeRangeList&&0<trackTimeRangeList.length&&trackTimeRangeList.forEach(function(c){("QUESTION"==c.trackType||"FORM_DESIGNER"==c.trackType)&&e>=c.start&&c.end>=e&&1>=c.end-c.start&&(e=(parseFloat(c.start)+.5).toFixed(2))})}catch(b){console.log(b)}c?setTimeout(function(){if(popcorn.paused)popcorn.currentTime(e),playIt(null,!0);else{var c,b=document.getElementById("xvideo");c=function(){popcorn.currentTime(e);b.removeEventListener("timeupdate",c,!1)};b.addEventListener("timeupdate",
c)}},100):popcorn.currentTime(e)}var userAnswers=[];
$("body").delegate(".q-feedback-btn","click",function(c){var e,b=null;"null"!=$(this).attr("data-jump")&&"undefined"!=$(this).attr("data-jump")&&void 0!=$(this).attr("data-jump")&&(e=$(this).attr("data-jump"));var g=$(this).data("sb-op-key"),k=$(this).data("out");null==g||""==g||"null"==g||"undefined"==g||isNull(k)||(b={opKey:g,out:k});g=c.currentTarget.__actionData__;null!=c&&null!=c.currentTarget&&null!=c.currentTarget.__actionData__&&(g=c.currentTarget.__actionData__);questionFeedbackAction(null,
e,g,b)});
function questionFeedbackAction(c,e,b,g){null==c&&null!=lastAnswer&&null!=lastAnswer.questionTrackId&&(c=lastAnswer.questionTrackId);activeQuestionTrackId=null;var k=!1;if(null!=b&&null!=b.acts)for(e=0;e<b.acts.length;e++)k||"PAUSE"!=b.acts[e].at&&"INSTANT_PLAY"!=b.acts[e].at||(k=!0),"CONTEXT_DATA"!=b.acts[e].at&&trackOnActionFn({id:c},{id:"qstn-opt-on-action-"+c+"-"+e,trackTriggerType:"ONCLICK",trackActionType:b.acts[e].at,value:b.acts[e].av,triggeredTrack:{id:b.acts[e].ttid}});else isNull(e)||(e=
(e/1E3).toFixed(2),xJump(!1,e));$(".ivid-quest-wrapper").css("display","none");hasVisibleQuestion()||(wBackgroundIsOpen=!1,fixBackground());isNull(g)?k||hasVisibleQuestion()||playIt(null,!0):g.walk(sbDataOut);null==getVariable("_forceQuestionFeedbackActions")&&(c=getTrackPropsById(c),executeCorrectIncorrectActions(lastAnswer,c))}
function createInstantPlay(c,e,b,g){audioElements.stopAll();$(".slider-buffer").css("width","0%");null!=e&&(instantPlayStartTime=e);scormAddSuspendData("hashId",c);for(i=e=0;heatMap.hlist.length>=i;i++)void 0!=heatMap.hlist[i]&&e++;e=window.location.href;b=e.split("/video/");e=1<b.length?b[0]+"/video/"+c:replaceUrlParam(e,"iv",c);b=[];null!=watchedProjects[c]&&null!=watchedProjects[c].hlist&&(b=watchedProjects[c].hlist);heatMap={tmpSec:null,hlist:b};$.when($.ajax({type:"GET",url:e})).then(function(b){var e=
/currentHeatMapUuid="\s*(.*?)\s*";/g,d=/sessionId="\s*(.*?)\s*";/g;if(!isNull(b)){for(var f=null;f=e.exec(b);){currentHeatMapUuid=f[1];break}for(;f=d.exec(b);){sessionId=f[1];break}sceneData&&(prevProjectId=sceneData.hashId);canplayCalled=!1;$("#video").fadeIn(10,function(){$(this).css("display","block")});playFunc(c,!0,!1,!0)}})}$(document).delegate(".gplayer-form-designer-form","submit",function(c){answerFormDesignQ(this,c);questionIsOpen=!1});
$("body").delegate(".btn-fd-confirm","click",function(c){answerFormDesign(this,c)});var userFormDesignAnswers={};
function answerFormDesign(c,e){var b=$(c).closest(".gplayer-form-designer-form"),g={};null!=currentFormDesignData&&currentFormDesignData.forEach(function(c){isNull(c.required)||(g[c.name]=c)});clearInterval(requiredFieldsErrorTimer);var k=!0;if(!isNull(g))for(var h in g)if(g.hasOwnProperty(h)){var d=g[h].type,f=g[h].name;if("text"==d||"textarea"==d||"number"==d||"date"==d){if(isNull($("#"+f).val())||""==$("#"+f).val()){k=!1;break}}else if("checkbox-group"==d){if(1>$("input[name\x3d'"+f+"[]']:checked").length){k=
!1;break}}else if("radio-group"==d){if(1>$("input[name\x3d'"+f+"']:checked").length){k=!1;break}}else if("select"==d){var d=$("select[name\x3d"+f+"]").val(),l=[];$("#"+f+" option").each(function(){l.push($(this).val())});if(d==l[0]){k=!1;break}}else if("autocomplete"==d&&(isNull($("#"+f+"-input").val())||""==$("#"+f+"-input").val())){k=!1;break}}if(k){wBackgroundIsOpen=!1;$(c).attr("disabled",!0);$(c).prepend('\x3ci class\x3d"fa fa-circle-o-notch fa-spin"\x3e\x3c/i\x3e');k=$(b).data("id");h=applicationPath+
"/answerFormDesign";null!=sessionId&&(h+=";jsessionid\x3d"+sessionId);if(void 0==applicationPath||null==applicationPath||""==applicationPath)h="/answerFormDesign";trackExpose(k,"AFD");f=$(".gplayer-form-designer-form-block").serialize();f=f+("\x26formDesignerTrackId\x3d"+k)+("\x26iv\x3d"+getHashId());f+="\x26currentHeatMapUuid\x3d"+currentHeatMapUuid;userFormDesignAnswers[k]=$(".gplayer-form-designer-form-block").serializeArray();$.when($.ajax({type:"POST",async:!1,url:h,data:f,dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},
complete:function(c,d){200==c.status?($(b).closest(".form-designer-wrapper").parent().fadeOut(300,function(){$(b).parent().remove()}),fixBackground(),playIt(null,!0),e&&e.preventDefault()):console.log("Error-09")}})).then(function(){e&&e.preventDefault()});e&&e.preventDefault();var n={};$.each($(".gplayer-form-designer-form-block").serializeArray(),function(){var c=this.name,c=c.replace("[]",""),b=$("[class$\x3d'"+c+"'] label:first");null!=b&&0<b.length&&(c=$(b).text());b=this.value;if(null!=this.name&&
this.name.startsWith("select-"))b=$("[class$\x3d'"+this.name+"']"),b=$(b).find("select option:selected").text();else if(null!=this.name&&this.name.startsWith("radio-group-"))b=$("[class$\x3d'"+this.name+"']"),b=$(b).find("input[type\x3d'radio']:checked").parent().text();else if(null!=this.name&&this.name.startsWith("checkbox-group-")){var b=$("[class$\x3d'"+this.name.replace("[]","")+"']"),d=[];$(b).find("input[type\x3d'checkbox']:checked").each(function(){d.push($(this).parent().text())});b=d}n[c]=
b});updateUserInteractionContext({id:k,answer:n,trackType:"FORM_DESIGNER"},"answer")}else $("#overlay-area").animate({scrollTop:0}),$("#fd-req-error").fadeIn(300,function(){$(this).css("display","block")}),requiredFieldsErrorTimer=setTimeout(function(){$("#fd-req-error").fadeOut(700,function(){$(this).css("display","none")})},4E3),e.preventDefault()}$(document).delegate(".question-form","submit",function(c){answerQ(this,c);questionIsOpen=!1});
$("body").delegate(".btn-ans","click",function(c){answerQ(this,c);questionIsOpen=!1});
function answerQ(c,e,b,g,k){var h=!1,d={},f=null;e&&c&&($(c).attr("disabled",!0),$(c).prepend('\x3ci class\x3d"fa fa-circle-o-notch fa-spin"\x3e\x3c/i\x3e'));clearInterval(intervalDelayedAudio);audioElements.trackExit();var l={};if(g)d.questionTrackId=k.id;else{var n=$(c).closest(".question-form"),l=n;d.questionTrackId=$(n).data("id")}var p=null;if(null!=sceneData&&null!=sceneData.tracks&&0<sceneData.tracks.length)for(c=0;c<sceneData.tracks.length;c++)if(sceneData.tracks[c].id==d.questionTrackId){p=
sceneData.tracks[c];break}null!=p&&(h=p.async,f=p.questionType);if("SINGLE_SELECT"==f)d.optionId=g?k.answer:$(n).find("input:checked").attr("id"),null!=b&&void 0==d.optionId&&(d.optionId=b),userAnswers.push({questionTrackId:d.questionTrackId,questionType:"single-selection",selectedOptionId:d.optionId});else if("MULTI_SELECT"==f){if(g)d.optionId=k.answer;else{var q=[];$(n).find("input:checked").each(function(){q.push(this.id)});d.optionId=q}userAnswers.push({questionTrackId:d.questionTrackId,questionType:"multi-selection",
selectedOptionIds:d.optionId})}else"FREE_TEXT"==f?(d.answer=g?k.answer:$(n).find("input[type\x3dtext], textarea").val(),userAnswers.push({questionTrackId:d.questionTrackId,questionType:"free-text",answer:d.answer})):"FILL_IN_THE_BLANK"==f?(d.answers=[],g?d.answers=k.answer:$(n).find("input[id^\x3dblank]").each(function(){d.answers.push({id:this.id,value:this.value})}),userAnswers.push({questionTrackId:d.questionTrackId,questionType:"fib-question",answers:d.answers})):"DRAG_N_DROP"==f&&(d.answers=
[],g?d.answers=k.answer:null!=dndMatches&&Object.keys(dndMatches).forEach(function(c){d.answers.push({id:c,value:dndMatches[c]})}),userAnswers.push({questionTrackId:d.questionTrackId,questionType:"dnd-question",answers:d.answers}));b=applicationPath+"/answerQuestion";null!=sessionId&&(b+=";jsessionid\x3d"+sessionId);if(void 0==applicationPath||null==applicationPath||""==applicationPath)b="/answerQuestion";d.iv=getHashId();d.currentHeatMapUuid=currentHeatMapUuid;if(h){h=null;if("SINGLE_SELECT"==f&&
null!=p&&null!=p.options)for(c=0;c<p.options.length;c++)if(p.options[c].id==d.optionId){h=p.options[c];break}null==h&&(h={});answerQDispatcher(l,f,d,g,p,h);$.when($.ajax({type:"POST",async:!0,url:b,data:d,dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"}})).then(function(){e&&e.preventDefault()})}else $.when($.ajax({type:"POST",async:!1,url:b,data:d,dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},complete:function(c,b){if(200==c.status){var h=
c.responseJSON;null!=h&&""!=h&&answerQDispatcher(l,f,d,g,p,h);e&&e.preventDefault()}else console.log("Error-09")}})).then(function(){e&&e.preventDefault()});trackExpose(d.questionTrackId,"AQ");e&&e.preventDefault()}function answerCustomQuestionForm(c){answerQ(null,null,null,!0,c)}function feedbackSubmitCallback(){isNull(this.response)||questionFeedbackAction(this.response.trackId,this.response.jumpTo,this.response.actionData,null)}
function hasVisibleQuestion(){for(var c=!1,e=0;e<$(document.getElementsByClassName("ivid-quest-wrapper")).length;e++)if("block"==$(document.getElementsByClassName("ivid-quest-wrapper")[e]).css("display")){c=!0;break}return c}
function executeCorrectIncorrectActions(c,e){if(null!=e){var b=[],g=[];void 0!=e.trackActions&&null!=e.trackActions&&0<e.trackActions.length&&e.trackActions.forEach(function(k){c.correct?null!=k.trackTriggerType&&"ONCORRECT"==k.trackTriggerType&&("CONTEXT_DATA"==k.trackActionType?b.push(k):trackOnAction(e,k)):null!=k.trackTriggerType&&"ONWRONG"==k.trackTriggerType&&("CONTEXT_DATA"==k.trackActionType?g.push(k):trackOnAction(e,k))});updateContextDataForQuestion(c,b,g)}}
function answerQDispatcher(c,e,b,g,k,h){null!=h&&null!=h.correct&&(b.correct=h.correct);updateScormInteractions(k,b);var d=h.feedback,f=h.actionData,l=h.jumpLocation,n=null;null!=k&&null!=k.id&&(n=k.id);var p={optionId:h.id,trackId:n,actionData:f,feedback:d,jumpTo:h.jumpLocation,correct:h.correct},q=$("#"+b.questionTrackId+".question-wrapper"),r=$(c).attr("data-feedback-btn-text");isNull(r)&&(r="Continue");var n=null,n=$(c).data("sb-op-key"),s=null,s=$(c).find("input:checked").attr("data-out"),v=
!1;if(null!=d&&""!=d)v=!0,g?(f=new CustomEvent("onQuestionTemplateFeedback",{detail:{response:p,questionTrack:k,feedbackSubmitCallback:feedbackSubmitCallback}}),document.getElementById("overlay-area").dispatchEvent(f)):($(".panel-body",c).html('\x3cdiv class\x3d"info-icon"\x3e\x3c/div\x3e'+d),$(".panel-footer :input",c).replaceWith(""),l='\x3cinput type\x3d"button" class\x3d"btn btn-success q-feedback-btn" data-sb-op-key\x3d"'+n+'" data-out\x3d"'+s+'" value\x3d"'+r+'"',null!=h&&"SINGLE_SELECT"!=e&&
(l+='data-jump\x3d"'+h.jumpLocation+'"'),l+="\x3e\x3c/input\x3e",$(".panel-footer",c).append(l),document.querySelector(".q-feedback-btn").__actionData__=f);else if("SINGLE_SELECT"!=e&&null!=l)activeQuestionTrackId=null,xJump(!1,(l/1E3).toFixed(2)),q.closest(".question-wrapper").css("visibility","hidden"),q.parent().css("display","none"),$(".ivid-quest-wrapper .fa-circle-o-notch").remove(),playIt(null,!0);else{if(null!=f&&null!=f.acts)for(c=0;c<f.acts.length;c++)v||"PAUSE"!=f.acts[c].at&&"INSTANT_PLAY"!=
f.acts[c].at||(v=!0),"CONTEXT_DATA"!=f.acts[c].at&&trackOnActionFn(k,{id:"qstn-opt-on-action-"+c,trackTriggerType:"ONCLICK",trackActionType:f.acts[c].at,value:f.acts[c].av,triggeredTrack:{id:f.acts[c].ttid}});activeQuestionTrackId=null;q.closest(".question-wrapper").css("visibility","hidden");q.parent().css("display","none");$(".ivid-quest-wrapper .fa-circle-o-notch").remove()}null!=n&&""!=n?storyboard.walk(s):v||hasVisibleQuestion()&&!g||playIt(null,!0);if("SINGLE_SELECT"==e||"MULTI_SELECT"==e)b.answer=
b.optionId;else if("FILL_IN_THE_BLANK"==e||"DRAG_N_DROP"==e)b.answer=b.answers;hasVisibleQuestion()||(wBackgroundIsOpen=!1);updateUserInteractionContext({id:b.questionTrackId,answer:b.answer,trackType:"QUESTION",questionType:e},"answer");0!=getIEVersion()&&(triggerResizeEvent(),setTimeout(function(){triggerResizeEvent()},300));lastAnswer=b;e=getVariable("_forceQuestionFeedbackActions");null!=d&&null==e||executeCorrectIncorrectActions(b,k)}
function triggerResizeEvent(){if(-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")){var c=document.createEvent("UIEvents");c.initUIEvent("resize",!0,!1,window,0);window.dispatchEvent(c)}else window.dispatchEvent(new Event("resize"))}
$("#overlay-area").on("click",".close-quest-box",function(){$(this).parent().hasClass("ivid-quest-wrapper")&&$(this).parent().css("display","none");hasVisibleQuestion()||(wBackgroundIsOpen=!1,playIt(null,!0),showChapterMenu(),showShareIcon(),fixBackground())});
function closeQuestionForm(){null!=activeQuestionTrackId&&($(".question-wrapper#"+activeQuestionTrackId+"").closest(".ivid-quest-wrapper").css("display","none"),wBackgroundIsOpen=!1,playIt(null,!0),showChapterMenu(),showShareIcon(),fixBackground(),activeQuestionTrackId=null)}function getUserAnswers(c){userAnswers.forEach(function(e){e.questionTrackId==c.id&&(c.userAnswer=e)});return c}
function updateContextDataForQuestion(c,e,b){var g=null,k=[],h=[],d=findElement(_tracks,"id",c.questionTrackId);if(null!=d&&null!=d.options&&null!=d&&null!=d.options)if(Array.isArray(c.optionId))for(var f=0;f<c.optionId.length;f++){var l=findElement(d.options,"id",c.optionId[f]);null!=l&&null!=l.variables&&(null==g&&(g=[]),g=g.concat(l.variables))}else l=findElement(d.options,"id",c.optionId),null!=l&&(g=l.variables);null!=e&&0<e.length&&e.forEach(function(c){if("CONTEXT_DATA"==c.trackActionType&&
null!=c.value){var b=null,d=null;c=c.value.split(";");null!=c&&0<c.length&&(b=c[0],d=c[1]);k.push({key:b,value:d})}});null!=b&&0<b.length&&b.forEach(function(c){if("CONTEXT_DATA"==c.trackActionType&&null!=c.value){var b=null,d=null;c=c.value.split(";");null!=c&&0<c.length&&(b=c[0],d=c[1]);h.push({key:b,value:d})}});if(null!=__IVIDEO_CONTEXT__&&null!=__IVIDEO_CONTEXT__.projects&&!$.isEmptyObject(__IVIDEO_CONTEXT__.projects)){if(null!=c.optionId){e=__IVIDEO_CONTEXT__.projects[sceneData.hashId].consumedQuestionOptions[c.questionTrackId];
if(null!=e){if(Array.isArray(c.optionId)){if(e.questionOptionId==c.optionId)return}else if(e.questionOptionId==parseInt(c.optionId))return;null!=e.optionVariables&&0<e.optionVariables.length&&rollbackContextDataForQuestionAnswer(c,e.optionVariables)}e=null;e=Array.isArray(c.optionId)?c.optionId:parseInt(c.optionId);__IVIDEO_CONTEXT__.projects[sceneData.hashId].consumedQuestionOptions[c.questionTrackId]={questionTrackId:c.questionTrackId,questionOptionId:e,optionVariables:g};updateContextDataForQuestionExecutor(g)}e=
__IVIDEO_CONTEXT__.projects[sceneData.hashId].consumedQuestionCorrectnessActions[c.questionTrackId];null!=e&&(null!=e.correctVariables&&0<e.correctVariables.length&&rollbackContextDataForQuestionAnswer(c,e.correctVariables),null!=e.incorrectVariables&&0<e.incorrectVariables.length&&rollbackContextDataForQuestionAnswer(c,e.incorrectVariables));__IVIDEO_CONTEXT__.projects[sceneData.hashId].consumedQuestionCorrectnessActions[c.questionTrackId]={questionTrackId:c.questionTrackId,correctVariables:k,incorrectVariables:h};
null!=k&&0<k.length?updateContextDataForQuestionExecutor(k):null!=h&&0<h.length&&updateContextDataForQuestionExecutor(h)}}
function rollbackContextDataForQuestionAnswer(c,e){for(var b=0;b<e.length;b++){var g=e[b].key,k=e[b].value;-1<k.indexOf("+")?k=k.replace("+","-"):-1<k.indexOf("-")&&(k=k.replace("-","+"));for(var h=/\${([^}]+)\}/g,d,f=k;d=h.exec(k);){oldValue=__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[g];if(void 0==oldValue||null==oldValue)oldValue="";f=f.replace(d[0],oldValue)}k=null;try{if(null!=f.match(/[*/+-\\${}]/g)){k=eval(f);try{k=Number(k.toFixed(2))}catch(l){}}else k=f}catch(n){k=f}__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[g]=
k;evaluateHtmlContext(g,k,!1)}}
function updateContextDataForQuestionExecutor(c){if(null!=c&&0<c.length)for(var e=0;e<c.length;e++){for(var b=c[e].key,g=c[e].value,k=/\${([^}]+)\}/g,h,d=g;h=k.exec(g);){oldValue=__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[b];if(void 0==oldValue||null==oldValue)oldValue="";d=d.replace(h[0],oldValue)}g=null;try{if(null!=d.match(/[*/+-\\${}]/g)){g=eval(d);try{g=Number(g.toFixed(2))}catch(f){}}else g=d}catch(l){g=d}k=getVariable(b);__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[b]=g;
d=$(".project-context[data-project-context-ref\x3d'"+b+"']");"boolean"===typeof g&&(g+="");$(d).html(g);apiEvent("contextChanged");d=getVariable(b);c8PlayerApi.executeEvent(null,"variableChange",b,k,d)}}
function addIOSfullscreenEvents(){"ios"==getMobileOS()&&(xvideo=document.getElementById("xvideo"),xvideo.addEventListener("webkitendfullscreen",function(c){null!=playerSettings&&playerSettings.allowFullscreenOnIOS&&($(".enter-full").css("display","block"),xvideo.setAttribute("webkit-playsinline",""),xvideo.setAttribute("playsinline",""))}))}
$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){(fullscreenEnabled=!fullscreenEnabled)?(isFullscreen=!1,exitFullDom()):(isFullscreen=!0,setTimeout(function(){$(".ext-video-controls").css("width",$("#overlay-area").width());$(".ext-video-controls").css("margin","")},100),mMove(0,0,1,1));$("#container").css("cursor","auto");void 0!=playing&&playing&&(controlbar&&$(".ext-video-controls").fadeIn(300,function(){$(this).css("display","block")}),
showChapterMenu(),showShareIcon());var c=document.querySelectorAll("[data-c8-element-template]");if(c&&0<c.length)for(var e=new CustomEvent("onFullscreenChange",{detail:{fullscreen:isFullscreen}}),b=0;b<c.length;b++)c[b].dispatchEvent(e);c8PlayerApi.executeEvent(null,"fullscreenChange",isFullscreen)});
function mMove(c,e,b,g){setTimeout(function(){"undefined"!==typeof playing&&playing&&!wBackgroundIsOpen?(clearInterval(mMoveTimer),mMoveTimer=setTimeout(function(){-1!=getInternetExplorerVersion()||$(".dl-menu").hasClass("dl-menuopen")||($("#overlay-area").height(),playing&&(controlbarIdleStateEvent(),$(".ext-video-controls").fadeOut(300,function(){$(this).css("display","none")}),$("#container").hasClass("fs-container")&&$("#container").css("cursor","none"),hideChapterMenu(),hideShareIcon()))},2E3),
b!=c&&g!=e&&(controlbar&&"block"!=$(".ext-video-controls").css("display")&&($(".ext-video-controls").css("display","block"),controlbarActiveStateEvent()),$("#container").css("cursor","auto"),showChapterMenu(),showShareIcon()),c=b,e=g):($("#container").css("cursor","auto"),0>=$("#overlay-area").find(".question-wrapper").length&&0>=$("#overlay-area").find(".adhvid-wrapper").length&&"undefined"!==typeof wBackgroundIsOpen&&!wBackgroundIsOpen&&(controlbar&&$(".ext-video-controls").css("display","block"),
showChapterMenu(),showShareIcon()))},400)}$("#container").on("mousemove",function(c){mMove(mMoveX,mMoveY,c.clientX,c.clientY)});
$(document).on({mouseenter:function(){0>=$("#overlay-area").find(".question-wrapper").length&&0>=$("#overlay-area").find(".adhvid-wrapper").length&&!wBackgroundIsOpen&&(controlbar&&"block"!=$(".ext-video-controls").css("display")&&($(".ext-video-controls").css("display","block"),controlbarActiveStateEvent()),showChapterMenu(),showShareIcon())},mouseleave:function(){},mousemove:function(){0>=$("#overlay-area").find(".question-wrapper").length&&0>=$("#overlay-area").find(".adhvid-wrapper").length&&
!wBackgroundIsOpen&&(controlbar&&"block"!=$(".ext-video-controls").css("display")&&($(".ext-video-controls").css("display","block"),controlbarActiveStateEvent()),showChapterMenu(),showShareIcon())}},"#overlay-area, .ext-video-controls, .chapter-menu, .ivid-share-icon");function hidePlayerControls(){$(".ext-video-controls").css("display","none");wBackgroundIsOpen=!0;controlbar=!1}function showPlayerControls(){$(".ext-video-controls").css("display","block");wBackgroundIsOpen=!1;controlbar=!0}
function fixBackground(){$(".ivid-quest-wrapper").css("display","none");$(".question-wrapper").css("visibility","hidden")}function formatSeconds(c,e){var b=new Date(1970,0,1);b.setSeconds(c);b=b.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1");return 3600>e?b.substr(3):b}
function getParameterByName(c,e){e||(e=window.location.href);c=c.replace(/[\[\]]/g,"\\$\x26");var b=(new RegExp("[?\x26]"+c+"(\x3d([^\x26#]*)|\x26|#|$)")).exec(e);return b?b[2]?decodeURIComponent(b[2].replace(/\+/g," ")):"":null}function replaceUrlParam(c,e,b){null==b&&(b="");var g=new RegExp("\\b("+e+"\x3d).*?(\x26|$)");return 0<=c.search(g)?c.replace(g,"$1"+b+"$2"):c+(0<c.indexOf("?")?"\x26":"?")+e+"\x3d"+b}
function isRawVideoUrlFormat(){for(var c=!1,e=window.location.href.split("/"),b=0;b<e.length;b++){var g=e[b].replace("#","").split("?")[0];if("watchv"==g||"raw-video"==g){c=!0;break}}return c}
function getVideoUrl(c,e){var b=window.location.href;isNull(parentPlayerUrl)||"embed"==e||(b=parentPlayerUrl);null!=getParameterByName("shareUrl")&&""!=getParameterByName("shareUrl")&&(b=getParameterByName("shareUrl"));b=removeParam("t",b);b=removeParam("token",b);b=removeParam("utm_source",b);endsWith(b,"#")&&(b=b.substring(0,b.length-1));tStr=0<b.indexOf("?")?"\x26t\x3d":"?t\x3d";if(c){var g=secondsTohhmmss(popcorn.currentTime()),g=g.split("-");0<parseInt(g[0])&&(tStr+="h"+parseInt(g[0]));0<parseInt(g[1])&&
(tStr+="m"+parseInt(g[1]));0<parseInt(g[2])&&(tStr+="s"+parseInt(g[2]));"\x26t\x3d"==tStr&&(tStr="");b+=tStr}return b}
function getEmbedCode(){return'\x3cdiv style\x3d"position: relative; overflow: hidden;padding-top: 56.25%;"\x3e\x3ciframe style\x3d"position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%; border: 0;" src\x3d"'+getVideoUrl(!1,"embed")+'" gesture\x3d"media" frameborder\x3d"0" webkitallowfullscreen mozallowfullscreen allowfullscreen allow\x3d"autoplay; fullscreen; microphone; camera"\x3e\x3c/iframe\x3e\x3c/div\x3e'}
function secondsTohhmmss(c){var e=Math.floor(c/3600),b=Math.floor((c-3600*e)/60);c=Math.round(100*(c-3600*e-60*b))/100;e=(10>e?"0"+e:e)+("-"+(10>b?"0"+b:b));return e+="-"+(10>c?"0"+c:c)}function isRawPlay(){var c=getParameterByName("raw");return"true"==c||1==c?!0:!1}function isStoryboard(){var c=!1;if(getParameterByName("storyboard")||getParameterByName("storyflow"))c=!0;if(!c)for(var e=window.location.href.split("/"),b=0;b<e.length;b++)if("storyflow"==e[b]){c=!0;break}return c}
function getHashId(){if(!isNull(_hashId))return _hashId;var c=getParameterByName("iv");if(null==c)for(var e=window.location.href.split("/"),b=0;b<e.length;b++)if("video"==e[b]||"raw-video"==e[b]||"storyflow"==e[b]){c=e[b+1];null!=c&&(c=c.split(/&|\?/)[0]);break}return c}function isAutoplay(){return"1"==getParameterByName("autoplay")||"true"==getParameterByName("autoplay")?!0:!1}function getExternalVideo(){var c=getParameterByName("externalVideoUrl");return isNull(c)?null:c}
var isPrevStatusPlaying=null;
function pauseWhenTabIsInactiveFunc(){visibilityChangeEventExist||(jQuery(window).focus(function(){}).blur(function(){isPrevStatusPlaying=playing}),$(document).on("visibilitychange",function(){visibilityChangeEventExist=!0;"hidden"==document.visibilityState?(browserState="bg",pauseIt()):(browserState="fg","ios"==getMobileOS()&&isPrevStatusPlaying&&$("#ivid-start-box, #ivid-start-btn").css("display","block"),!isPrevStatusPlaying||wBackgroundIsOpen||introductionFormIsOpen||1==adPlaying||"ios"==getMobileOS()?
audioElements.playWhenVideoIsPlayed():playIt())}))}document.onkeydown=function(c){adPlaying&&$(".ext-video-controls").css("display","none");c=c||window.event;c=c.keyCode;if(!(wBackgroundIsOpen||introductionFormIsOpen||void 0==document.activeElement||"INPUT"==document.activeElement.tagName||"TEXTAREA"==document.activeElement.tagName||32!=c&&37!=c&&38!=c&&39!=c&&40!=c))return!1};
$("body").keyup(function(c){if(!(0<$(".ivid-block-player").length))if(null!=sceneData&&null==sceneData.scenePlayer&&(sceneData.scenePlayer={}),32!=c.keyCode||isNull(sceneData)||isNull(sceneData.scenePlayer)||sceneData.scenePlayer.hidePlayPauseButton||shareIconShowStatus||wBackgroundIsOpen||introductionFormIsOpen||void 0==document.activeElement||"INPUT"==document.activeElement.tagName||"TEXTAREA"==document.activeElement.tagName)27==c.keyCode?($(".sidebar").hasClass("visible")&&($(".ui.sidebar").not(".styled").sidebar("toggle"),
isPlayingPreChapter&&playIt()),shareIconShowStatus&&(shareIconShowStatus=!1,$("#ivid-share-panel").fadeOut(300,function(){$(this).css("display","none")}))):37!=c.keyCode||sceneData.scenePlayer.hideSeekBar&&sceneData.scenePlayer.hideBackward||sceneData.scenePlayer.hidePlayPauseButton&&sceneData.scenePlayer.hideBackward||wBackgroundIsOpen||introductionFormIsOpen?39!=c.keyCode||sceneData.scenePlayer.hideSeekBar&&sceneData.scenePlayer.hideForward||sceneData.scenePlayer.hidePlayPauseButton&&sceneData.scenePlayer.hideForward||
wBackgroundIsOpen||introductionFormIsOpen||skipForward(5):skipBackward(5);else if(playing||!$(".play-video").hasClass("ctrl-item-disabled"))if(!playing||!$(".pause-video").hasClass("ctrl-item-disabled"))if(null==currentAd||null==currentAd.ad||!currentAd.ad.isLinear()){if(endedCalled)return!1;void 0!=playing&&1!=adPlaying&&!wBackgroundIsOpen&&controlbar&&($(".ext-video-controls").css("display","block"),$(".ext-video-controls").fadeIn(300,function(){$(this).css("display","block")}),showChapterMenu(),
showShareIcon(),playing?pauseIt():(playIt(),fixBackground(),mMove(0,0,1,1)));"block"==$("#ivid-start-box").css("display")&&($("#ivid-start-box").css("display","none"),$("#ivid-start-btn").css("display","none"),$("#ivid-thumbnail-overlay-image").css("display","none"),$("#ivid-suggested-scenes").css("display","none"),$("#ivid-suggested-scene-previous-button").css("display","none"),$("#ivid-suggested-scene-next-button").css("display","none"))}});
function skipForward(c){!playing&&$(".play-video").hasClass("ctrl-item-disabled")&&sceneData.scenePlayer.hideForward||playing&&$(".pause-video").hasClass("ctrl-item-disabled")&&sceneData.scenePlayer.hideForward||$(".ivid-seekbar").hasClass("ctrl-item-disabled")&&sceneData.scenePlayer.hideForward||liveStream||(popcorn.currentTime(popcorn.currentTime()+c),createIvideoAction("forward5"),extControlsKeydownTimer())}
function skipBackward(c){!playing&&$(".play-video").hasClass("ctrl-item-disabled")&&sceneData.scenePlayer.hideBackward||playing&&$(".pause-video").hasClass("ctrl-item-disabled")&&sceneData.scenePlayer.hideBackward||$(".ivid-seekbar").hasClass("ctrl-item-disabled")&&sceneData.scenePlayer.hideBackward||liveStream||(popcorn.currentTime(popcorn.currentTime()-c),createIvideoAction("backward5"),extControlsKeydownTimer())}
function extControlsKeydownTimer(){clearInterval(keyDownTimer);keyDownTimer=setTimeout(function(){mMove(0,0,1,1)},2E3);controlbar&&$(".ext-video-controls").css("display","block")}
$("body").keydown(function(c){38!=c.keyCode||wBackgroundIsOpen?40!=c.keyCode||wBackgroundIsOpen||(c=popcorn.volume()-.05,0>c&&(c=0),popcorn.volume(c),$("#vol-slider").slider("value",100*c),0>=c?createIvideoAction("mute"):createIvideoAction("volDown")):(c=popcorn.volume()+.05,1<c&&(c=1),popcorn.volume(c),$("#vol-slider").slider("value",100*c),createIvideoAction("volUp"));wBackgroundIsOpen||extControlsKeydownTimer()});$(".vol-ico").mouseenter(function(){$("#vol-slider").addClass("vol-slider-active")});
$("#ext-video-controls-elements").mouseleave(function(){$("#vol-slider").removeClass("vol-slider-active")});$("body").delegate(".skip-ad-btn","click",function(c){$(this).css("display","none");$(this).removeClass("skip-ad-btn");c=$(this).parent().attr("id");$('.gplayer-vid-form[data-id\x3d"'+c+'"] video')[0].removeEventListener("ended",_adEnd);c=findElement(_tracks,"id",c);adEndHandler(c)});
window.mobileAndTabletcheck=function(){var c=!1,e=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,
4)))c=!0;return c};$("body").delegate(".free-text-answer-input, .fib-question input","keyup",function(c){0!=$(this).val().length?$(this).closest(".ivid-quest-wrapper").find(".btn-ans").attr("disabled",!1):$(this).closest(".ivid-quest-wrapper").find(".btn-ans").attr("disabled",!0)});$("body").delegate("input:radio[name\x3doptionsTrueFalse]","click",function(c){$(this).val()&&$(this).closest(".ivid-quest-wrapper").find(".btn-ans").attr("disabled",!1)});
$("body").delegate("input:radio[name\x3doptionsRadio]","click",function(c){$(this).val()&&$(this).closest(".ivid-quest-wrapper").find(".btn-ans").attr("disabled",!1);$(this).data("submitonselect")&&answerQ($(".question-form"))});$("body").delegate(".gplayer-ss-opt-img-item","click",function(c){$(this).data("submitonselect")&&(answerQ($(".question-form"),null,$(this).data("opt-id")),$("#overlay-area").css("background","rgba(0, 0, 0, 0)"))});
$("body").delegate("input:checkbox[name\x3doptionsCheckbox]","click",function(c){0<$('[name\x3d"optionsCheckbox"]:checked').length?$(this).closest(".ivid-quest-wrapper").find(".btn-ans").attr("disabled",!1):$(this).closest(".ivid-quest-wrapper").find(".btn-ans").attr("disabled",!0)});
Handlebars.registerHelper("ifCond",function(c,e,b,g){switch(e){case "\x3d\x3d":return c==b?g.fn(this):g.inverse(this);case "\x3d\x3d\x3d":return c===b?g.fn(this):g.inverse(this);case "!\x3d":return c!=b?g.fn(this):g.inverse(this);case "\x3c":return c<b?g.fn(this):g.inverse(this);case "\x3c\x3d":return c<=b?g.fn(this):g.inverse(this);case "\x3e":return c>b?g.fn(this):g.inverse(this);case "\x3e\x3d":return c>=b?g.fn(this):g.inverse(this);case "\x26\x26":return c&&b?g.fn(this):g.inverse(this);case "||":return c||
b?g.fn(this):g.inverse(this);default:return g.inverse(this)}});Handlebars.registerHelper("eachWithKeys",function(c,e,b){c||(c=[]);e=e.split(",");for(var g="",k=0;k<c.length;k++)g+=b.fn({key:e[k]?e[k]:"",id:c[k].id,text:c[k].text});return g});Handlebars.registerHelper("contains",function(c,e,b){e=e instanceof Array?e:[e];return-1<e.map(function(c){return parseInt(c,10)}).indexOf(c)?b.fn(this):""});
Handlebars.registerHelper("strcontains",function(c,e,b){e=e instanceof Array?e:[e];return-1<e.indexOf(c)?b.fn(this):""});Handlebars.registerHelper("getobj",function(c,e){c.items.forEach(function(c){if(c.key==e)return e})});Handlebars.registerHelper("formatduration",function(c){return toHHMMSS(c)});
Handlebars.registerHelper("ssoimgstyle",function(c,e){var b=e+1,g="54%";1==b%2&&(g="10%");var b=Math.ceil(b/2),b=15+43*parseInt(b-1),k="background-image: url('"+c.imageUrl+"');";return k+="left: "+g+";top: "+(b+"%")+";height: 36%;bottom: auto;z-index: 1000;width: 38%;opacity: 1;"});Handlebars.registerHelper("setVariable",function(c,e,b){b.data.root[c]=e});Handlebars.registerHelper("nvl",function(c,e){return new Handlebars.SafeString(c||e)});
function evalTemplatedHandlebars(c){try{if(null!=c){var e=c.match(/(\<\#Handlebars\>\s*)([\S\s]*?)(\s\<\/Handlebars\>\s*)/g);if(e)for(var b=0;b<e.length;b++){var g=e[b];c=c.replaceAll(g,"");g=g.replace("\x3c#Handlebars\x3e","");g=g.replace("\x3c/Handlebars\x3e","");eval(g)}}}catch(k){console.log(k)}return c}
function getMobileOS(){var c=navigator.userAgent||navigator.vendor||window.opera;return c.match(/iPad/i)||c.match(/iPhone/i)||c.match(/iPod/i)?(c.match(/iPad/i),"ios"):c.match(/Android/i)?"android":"unknown"}function sliderTouchEnd(){$(".player-slider .ui-slider .ui-slider-handle").blur()}function showChapterMenu(){"undefined"!==typeof chapters&&void 0!=chapters&&0<chapters.length&&$(".chapter-menu").css("display","block")}function hideChapterMenu(){$(".chapter-menu").css("display","none")}
function showShareIcon(){$(".ivid-share-icon").css("display","block")}function hideShareIcon(){$(".ivid-share-icon").css("display","none")}
function toggleMobileLayout(c){"ios"==getMobileOS()&&!wrapperTouchStatus&&!swipeStatus&&!wBackgroundIsOpen&&"none"==$(".ext-video-controls").css("display")&&0>=$("#overlay-area").find(".question-wrapper").length&&0>=$("#overlay-area").find(".adhvid-wrapper").length&&(controlbar&&$(".ext-video-controls").css("display","block"),isLandscapeMode&&$("#pop-container").height($("body").height()),showChapterMenu(),showShareIcon(),isFullscreen=!1,exitFullDom());swipeStatus=wrapperTouchStatus=!1}
function touchMove(c){swipeStatus=!0}function setWrapperTouchStatus(c){wrapperTouchStatus=!0}function adBlockNotDetected(){adBlockEnabled=!1}function adBlockDetected(){adBlockEnabled=!0}"undefined"===typeof blockAdBlock?adBlockDetected():(blockAdBlock.onDetected(adBlockDetected),blockAdBlock.onNotDetected(adBlockNotDetected));"undefined"!==typeof blockAdBlock&&(blockAdBlock.setOption("checkOnLoad",!1),blockAdBlock.setOption({debug:!1,checkOnLoad:!1,resetOnEnd:!1}));
function checkAdBlock(){"undefined"===typeof blockAdBlock?adBlockDetected():blockAdBlock.check()}function assetPreInitialize(c){void 0!=c&&null!=c&&0<c.length&&c.forEach(function(c){_assetPreInitialize(c)})}
function _assetPreInitialize(c){var e=new XMLHttpRequest;c=window.location.protocol+c.replace(/^https?:\/\//,"//");e.open("GET",c,!0);e.responseType="arraybuffer";e.onload=function(c){e.getAllResponseHeaders().match(/^Content-Type\:\s*(.*?)$/mi)};e.onprogress=function(c){};e.onloadstart=function(){};e.onloadend=function(){};e.send()}function getPipwerksApi(c){try{for(var e=0;!c.pipwerks&&c.parent&&c.parent!=c&&500>=e;)e++,c=c.parent;return c.pipwerks}catch(b){}}
function endsWith(c,e){return-1!==c.indexOf(e,c.length-e.length)}function isNull(c){return void 0==c||null==c?!0:!1}function getMetaContentByName(c,e){e=null==e?"content":e;return document.querySelector("meta[name\x3d'"+c+"']").getAttribute(e)}
function rewindTo(c){rewinding=!0;100>c&&(c=100);popcorn.pause();var e=popcorn.currentTime()-parseInt(c)/1E3,b=1*(popcorn.currentTime()-parseInt(c)/1E3),g=audioElements.getNext(!1);g.setAttribute("src",applicationPath+"/player/ext/rewind.mp3");g.volume=.8;var k=function(){try{rewinding=!1,this.currentTime=0}catch(c){}this.play()};g.addEventListener("ended",k);g.play();var h=setInterval(function(){parseInt(c)/1E3-2<popcorn.currentTime()&&parseInt(c)/1E3+2>popcorn.currentTime()?(rewinding=!1,$(".gplayer-drawing-form").remove(),
popcorn.currentTime(parseInt(c)/1E3),clearInterval(h),g.pause(),popcorn.volume(1),popcorn.play(),g.removeEventListener("ended",k,!1)):(popcorn.currentTime(popcorn.currentTime()-2*e/100),b+=100)},b)}
function calcTTime(){try{var c="",e="",b="",g=getParameterByName("t");if(isNull(g)&&isNull(lastPosition))return null;if(null!=g)return isNaN(g)?(c=3600*getTValue(g,"h"),e=60*getTValue(g,"m"),b=1*getTValue(g,"s"),Number(c+e+b)):Number(g);if(!isNull(lastPosition)&&!resumeLastPositionActionCalled)return Math.floor(popcorn.duration())<=lastPosition?null:Number(lastPosition)}catch(k){console.log(k)}}
function getTValue(c,e){for(var b=!1,g=c.split(""),k="",h=0;h<g.length&&!b;h++)if(xChar=c[h],xChar==e)for(var d=h+1;h<g.length;d++)if(vChar=g[d],0<=vChar)k=""+k+vChar;else{b=!0;break}return parseInt(k)||0}function removeParam(c,e){var b=e.split("?")[0],g,k=[];g=-1!==e.indexOf("?")?e.split("?")[1]:"";if(""!==g){for(var k=g.split("\x26"),h=k.length-1;0<=h;h-=1)g=k[h].split("\x3d")[0],g===c&&k.splice(h,1);b=b+"?"+k.join("\x26")}return b}Handlebars.getTemplate=function(c){return $("#"+c).html()};
var overlayAreaClicks=0,dblClickTimer=null;
$("#overlay-area").on("click",function(c){if(!(!controlbar||c.target!=this||mobileAndTabletcheck()||wBackgroundIsOpen||null!=sceneData&&null!=c8VR))if(overlayAreaClicks++,1===overlayAreaClicks)dblClickTimer=setTimeout(function(){overlayAreaClicks=0;if(isNull(sceneData)||isNull(sceneData.scenePlayer)||!sceneData.scenePlayer.hidePlayPauseButton)if(playing||!$(".play-video").hasClass("ctrl-item-disabled"))playing&&$(".pause-video").hasClass("ctrl-item-disabled")||pausePlayToggle()},300);else if(overlayAreaClicks=
0,clearTimeout(dblClickTimer),isNull(sceneData)||isNull(sceneData.scenePlayer)||!sceneData.scenePlayer.hideFullScreen)isFullscreen?exitFullscreen():launchFullscreen()});$("#overlay-area").on("dblclick",function(c){c.preventDefault()});
function createIvideoAction(c){var e="";"waiting"!=c&&"blockLoader"!=c&&(e='\x3cdiv class\x3d"ivid-action"\x3e');switch(c){case "forward5":e+='\x3csvg height\x3d"100%" version\x3d"1.1" fill\x3d"#FFF" viewBox\x3d"0 0 36 36" width\x3d"100%"\x3e\x3cuse class\x3d"ytp-svg-shadow" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"#ytp-svg-121"\x3e\x3c/use\x3e\x3cpath class\x3d"ytp-svg-fill" d\x3d"m 10,19 c 0,4.4 3.6,8 8,8 4.4,0 8,-3.6 8,-8 h -2 c 0,3.3 -2.7,6 -6,6 -3.3,0 -6,-2.7 -6,-6 0,-3.3 2.7,-6 6,-6 v 4 l 5,-5 -5,-5 v 4 c -4.4,0 -8,3.6 -8,8 z m 6.7,.9 .2,-2.2 h 2.4 v .7 h -1.7 l -0.1,.9 c 0,0 .1,0 .1,-0.1 0,-0.1 .1,0 .1,-0.1 0,-0.1 .1,0 .2,0 h .2 c .2,0 .4,0 .5,.1 .1,.1 .3,.2 .4,.3 .1,.1 .2,.3 .3,.5 .1,.2 .1,.4 .1,.6 0,.2 0,.4 -0.1,.5 -0.1,.1 -0.1,.3 -0.3,.5 -0.2,.2 -0.3,.2 -0.5,.3 C 18.3,22 18.1,22 17.9,22 17.7,22 17.5,22 17.4,21.9 17.3,21.8 17.1,21.8 16.9,21.7 16.7,21.6 16.7,21.5 16.6,21.3 16.5,21.1 16.5,21 16.5,20.8 h .8 c 0,.2 .1,.3 .2,.4 .1,.1 .2,.1 .4,.1 .1,0 .2,0 .3,-0.1 L 18.4,21 c 0,0 .1,-0.2 .1,-0.3 v -0.6 l -0.1,-0.2 -0.2,-0.2 c 0,0 -0.2,-0.1 -0.3,-0.1 h -0.2 c 0,0 -0.1,0 -0.2,.1 -0.1,.1 -0.1,0 -0.1,.1 0,.1 -0.1,.1 -0.1,.1 h -0.6 z" id\x3d"ytp-svg-121"\x3e\x3c/path\x3e\x3c/svg\x3e';break;
case "backward5":e+='\x3csvg height\x3d"100%" version\x3d"1.1" fill\x3d"#FFF" viewBox\x3d"0 0 36 36" width\x3d"100%"\x3e\x3cuse class\x3d"ytp-svg-shadow" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"#ytp-svg-127"\x3e\x3c/use\x3e\x3cpath class\x3d"ytp-svg-fill" d\x3d"M 18,11 V 7 l -5,5 5,5 v -4 c 3.3,0 6,2.7 6,6 0,3.3 -2.7,6 -6,6 -3.3,0 -6,-2.7 -6,-6 h -2 c 0,4.4 3.6,8 8,8 4.4,0 8,-3.6 8,-8 0,-4.4 -3.6,-8 -8,-8 z m -1.3,8.9 .2,-2.2 h 2.4 v .7 h -1.7 l -0.1,.9 c 0,0 .1,0 .1,-0.1 0,-0.1 .1,0 .1,-0.1 0,-0.1 .1,0 .2,0 h .2 c .2,0 .4,0 .5,.1 .1,.1 .3,.2 .4,.3 .1,.1 .2,.3 .3,.5 .1,.2 .1,.4 .1,.6 0,.2 0,.4 -0.1,.5 -0.1,.1 -0.1,.3 -0.3,.5 -0.2,.2 -0.3,.2 -0.4,.3 C 18.5,22 18.2,22 18,22 17.8,22 17.6,22 17.5,21.9 17.4,21.8 17.2,21.8 17,21.7 16.8,21.6 16.8,21.5 16.7,21.3 16.6,21.1 16.6,21 16.6,20.8 h .8 c 0,.2 .1,.3 .2,.4 .1,.1 .2,.1 .4,.1 .1,0 .2,0 .3,-0.1 L 18.5,21 c 0,0 .1,-0.2 .1,-0.3 v -0.6 l -0.1,-0.2 -0.2,-0.2 c 0,0 -0.2,-0.1 -0.3,-0.1 h -0.2 c 0,0 -0.1,0 -0.2,.1 -0.1,.1 -0.1,0 -0.1,.1 0,.1 -0.1,.1 -0.1,.1 h -0.7 z" id\x3d"ytp-svg-127"\x3e\x3c/path\x3e\x3c/svg\x3e';
break;case "play":if(!isNull(sceneData)&&!isNull(sceneData.scenePlayer)&&sceneData.scenePlayer.hidePlayPauseButton)return;e+='\x3csvg height\x3d"100%" version\x3d"1.1" fill\x3d"#FFF" viewBox\x3d"0 0 36 36" width\x3d"100%"\x3e\x3cuse class\x3d"ytp-svg-shadow" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"#ytp-svg-60"\x3e\x3c/use\x3e\x3cpath class\x3d"ytp-svg-fill" d\x3d"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z" id\x3d"ytp-svg-60"\x3e\x3c/path\x3e\x3c/svg\x3e';
break;case "pause":if(!isNull(sceneData)&&!isNull(sceneData.scenePlayer)&&sceneData.scenePlayer.hidePlayPauseButton)return;e+='\x3csvg height\x3d"100%" version\x3d"1.1" fill\x3d"#FFF" viewBox\x3d"0 0 36 36" width\x3d"100%"\x3e\x3cuse class\x3d"ytp-svg-shadow" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"#ytp-svg-58"\x3e\x3c/use\x3e\x3cpath class\x3d"ytp-svg-fill" d\x3d"M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z" id\x3d"ytp-svg-58"\x3e\x3c/path\x3e\x3c/svg\x3e';break;case "curl":e+=
'\x3csvg height\x3d"100%" viewBox\x3d"0 0 36 36" width\x3d"100%"\x3e\x3cpath d\x3d"M5.85 18.0c0.0-2.56 2.08-4.65 4.65-4.65h6.0V10.5H10.5c-4.14 .0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5h6.0v-2.85H10.5c-2.56 .0-4.65-2.08-4.65-4.65zM12.0 19.5h12.0v-3.0H12.0v3.0zm13.5-9.0h-6.0v2.85h6.0c2.56 .0 4.65 2.08 4.65 4.65s-2.08 4.65-4.65 4.65h-6.0V25.5h6.0c4.14 .0 7.5-3.36 7.5-7.5s-3.36-7.5-7.5-7.5z" fill\x3d"#fff"\x3e\x3c/path\x3e\x3c/svg\x3e';break;case "cec":e+='\x3csvg height\x3d"100%" viewBox\x3d"0 0 36 36" width\x3d"100%"\x3e\x3cpath d\x3d"M14.1 24.9L7.2 18.0l6.9-6.9L12.0 9.0l-9.0 9.0 9.0 9.0 2.1-2.1zm7.8 .0l6.9-6.9-6.9-6.9L24.0 9.0l9.0 9.0-9.0 9.0-2.1-2.1z" fill\x3d"#fff"\x3e\x3c/path\x3e\x3c/svg\x3e';
break;case "volUp":e+='\x3csvg height\x3d"100%" version\x3d"1.1" viewBox\x3d"0 0 36 36" width\x3d"100%"\x3e\x3cuse class\x3d"ytp-svg-shadow" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"#ytp-svg-35"\x3e\x3c/use\x3e\x3cpath d\x3d"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 Z M19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z" fill\x3d"#fff" id\x3d"ytp-svg-35"\x3e\x3c/path\x3e\x3c/svg\x3e';
break;case "volDown":e+='\x3csvg height\x3d"100%" version\x3d"1.1" viewBox\x3d"0 0 36 36" width\x3d"100%"\x3e\x3cuse class\x3d"ytp-svg-shadow" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"#ytp-svg-51"\x3e\x3c/use\x3e\x3cpath d\x3d"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 Z" fill\x3d"#fff" id\x3d"ytp-svg-51"\x3e\x3c/path\x3e\x3c/svg\x3e';break;case "mute":e+='\x3csvg height\x3d"100%" version\x3d"1.1" fill\x3d"#FFF" viewBox\x3d"0 0 36 36" width\x3d"100%"\x3e\x3cuse class\x3d"ytp-svg-shadow" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"#ytp-svg-89"\x3e\x3c/use\x3e\x3cpath class\x3d"ytp-svg-fill" d\x3d"m 21.48,17.98 c 0,-1.77 -1.02,-3.29 -2.5,-4.03 v 2.21 l 2.45,2.45 c .03,-0.2 .05,-0.41 .05,-0.63 z m 2.5,0 c 0,.94 -0.2,1.82 -0.54,2.64 l 1.51,1.51 c .66,-1.24 1.03,-2.65 1.03,-4.15 0,-4.28 -2.99,-7.86 -7,-8.76 v 2.05 c 2.89,.86 5,3.54 5,6.71 z M 9.25,8.98 l -1.27,1.26 4.72,4.73 H 7.98 v 6 H 11.98 l 5,5 v -6.73 l 4.25,4.25 c -0.67,.52 -1.42,.93 -2.25,1.18 v 2.06 c 1.38,-0.31 2.63,-0.95 3.69,-1.81 l 2.04,2.05 1.27,-1.27 -9,-9 -7.72,-7.72 z m 7.72,.99 -2.09,2.08 2.09,2.09 V 9.98 z" id\x3d"ytp-svg-89"\x3e\x3c/path\x3e\x3c/svg\x3e';
break;case "waiting":if(isIE())return;e+='\x3cdiv class\x3d"ivid-v-loader"\x3eLoading...\x3c/div\x3e';break;case "blockLoader":if(isIE())return;e+='\x3cdiv class\x3d"ivid-v-block-loader"\x3eLoading...\x3c/div\x3e';$("#pop-container").prepend('\x3cdiv class\x3d"ivid-block-player"\x3e\x3c/div\x3e')}"waiting"!=c&&"blockLoader"!=c&&(e+="\x3c/div\x3e");$("#ivid-center-action-box").html(e)}function removeWaitingLoader(){$("#ivid-center-action-box .ivid-v-loader").remove()}
function removeBlockLoader(){$("#ivid-center-action-box .ivid-v-block-loader").remove();$("#pop-container .ivid-block-player").remove()}function isIE(c){c=c||navigator.userAgent;return-1<c.indexOf("MSIE ")||-1<c.indexOf("Trident/")||-1<c.indexOf("Edge/")}
$(".ivid-share-linkedin").click(function(){window.open("http://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+encodeURIComponent(getVideoUrl())+"\x26title\x3d"+encodeURIComponent(document.title)+"\x26summary\x3d"+encodeURIComponent(getMetaContentByName("description")),"","height\x3d480,width\x3d600");return!1});$(".ivid-share-mailto").click(function(){window.open("mailto:?subject\x3d"+encodeURIComponent(document.title)+"\x26body\x3d"+encodeURIComponent(getVideoUrl()));return!1});
$(".ivid-share-gplus").click(function(){window.open("https://plus.google.com/share?url\x3d"+encodeURIComponent(getVideoUrl()),"","height\x3d480,width\x3d600");return!1});$(".ivid-share-tw").click(function(){window.open("https://twitter.com/intent/tweet?text\x3d"+encodeURIComponent(document.title)+":%20"+encodeURIComponent(getVideoUrl()),"","height\x3d480,width\x3d600");return!1});
$(".ivid-share-fb").click(function(){window.open("https://www.facebook.com/dialog/share?app_id\x3d1507054442644973\x26display\x3dpopup\x26href\x3d"+encodeURIComponent(getVideoUrl()),"","height\x3d480,width\x3d600");return!1});function hitBeanMapHandler(c){heatMap.tmpSec!=parseInt(c)&&(heatMap.tmpSec=parseInt(c),heatMap.hlist[parseInt(c)]=void 0==heatMap.hlist[parseInt(c)]?1:heatMap.hlist[parseInt(c)]+1)}var isHeatMapCalculating=!1;
function sendHeatMap(){if(("1"!=getParameterByName("prev")&&!isHeatMapCalculating||"undefined"===typeof forceCHM||forceCHM)&&!introductionFormEnabled){isHeatMapCalculating=!0;for(var c="",e=0;e<heatMap.hlist.length;e++)_prevWcount=heatMap.hlist[e-1],_wcount=heatMap.hlist[e],_nextWCount=heatMap.hlist[e+1],_nextNextWCount=heatMap.hlist[e+2],0==e&&void 0==getParameterByName("t")&&null==lastPosition&&_wcount==_nextWCount&&(c+="0-"),null!=videoDuration&&e>videoDuration||(void 0!=_wcount&&_wcount!=_nextWCount?
c=endsWith(c,","+e)?1<_wcount?c+(":"+_wcount+","):c+",":1<_wcount?c+(e+":"+_wcount+","):c+(e+","):void 0==_wcount&&void 0!=_nextWCount?c=void 0==_nextNextWCount||_nextWCount!=_nextNextWCount?c+(e+1):c+(e+1+"-"):void 0!=_prevWcount&&void 0!=_nextWCount&&_prevWcount!=_wcount&&(c+=e+"-"));var c=c.substring(0,c.length-1),b="";if(void 0!=popcorn&&null!=popcorn){var g=parseInt(Math.ceil(popcorn.duration())),c=c.split(",");void 0!=c&&null!=c&&""!=c&&c.forEach(function(c){c=c.split("-");var d=c[0].split(":")[0];
if(!isNull(d)&&parseInt(d)>g){var e=d.substring(0,d.length/2),d=d.substring(d.length/2,d.length);b=e==d?""==b?b+e:b+("-"+e):""==b?b+parseInt(popcorn.duration()):b+("-"+parseInt(popcorn.duration()))}else b+=c[0];isNull(c[1])||(-1<c[1].indexOf(":")?(d=c[1].split(":")[0],!isNull(d)&&parseInt(d)>g?(e=d.substring(0,d.length/2),d=d.substring(d.length/2,d.length),b=e==d?b+("-"+e):b+("-"+parseInt(popcorn.duration()))):b+="-"+c[1],isNull(c[2])||(b+=":"+c[2])):(d=c[1].split(":")[0],!isNull(d)&&parseInt(d)>
g?(e=d.substring(0,d.length/2),d=d.substring(d.length/2,d.length),b=e==d?b+("-"+e):b+("-"+parseInt(popcorn.duration()))):isNull(c[1])||(b+="-"+c[1])));b+=","});c=b=b.substring(0,b.length-1);if(currentHeatMapUuid&&prevHeatMap!=c&&void 0!=c&&null!=c&&""!=c){e=applicationWsPath+"/uvisitor/visit/"+currentHeatMapUuid;null!=sessionId&&(e+=";jsessionid\x3d"+sessionId);var k=0;popcorn&&(k=Math.floor(popcorn.currentTime()),c+="|"+k);try{if("undefined"!==typeof Storage){var h=new Date,h=h.addHours(6),d={leftPos:k,
exp:h.getTime()},f=localStorage.getItem("latest_projects"),f=void 0==f||null==f?{}:JSON.parse(f);f[getHashId()]=d;localStorage.setItem("latest_projects",JSON.stringify(f))}}catch(l){}prevHeatMap=c;var n=JSON.stringify({hm:c});if("0|0"==c&&liveStream){isHeatMapCalculating=!1;return}n!=latestPostedHeatMap&&$.when($.ajax({type:"POST",async:!0,url:e,data:n,dataType:"json",headers:{"Content-Type":"application/json"},complete:function(c,b){latestPostedHeatMap=n;200!=c.status&&console.log("Error-10")}})).then(function(){})}isHeatMapCalculating=
!1}}}function trackExpose(c,e){if("1"!=getParameterByName("prev")&&!introductionFormEnabled){var b={trackId:c};null!=e&&(b.interactionType=e,b.interacted=!0);var g=applicationWsPath+"/uvisitor/exposure/"+currentHeatMapUuid;null!=sessionId&&(g+=";jsessionid\x3d"+sessionId);$.when($.ajax({type:"POST",async:!0,url:g,data:JSON.stringify(b),dataType:"json",headers:{"Content-Type":"application/json"},complete:function(c,b){200!=c.status&&console.log("Error-11")}})).then(function(){})}}
var prevHeatMap,intervalHeatMap=setInterval(function(){sendHeatMap()},1E4);function findElement(c,e,b){for(var g=0;g<c.length;g++)if(c[g][e]==b)return c[g]}
function externalUserTracker(c){var e={};null!=c&&(isNull(c.name)||(e.name=c.name),isNull(c.surname)||(e.surname=c.surname),isNull(c.email)||(e.email=c.email),isNull(c.reference)||(e.reference=c.reference),isNull(getParameterByName("tracking-token"))||(e.trackingToken=getParameterByName("tracking-token")),c=applicationWsPath+"/uvisitor/external-user-tracker/"+getHashId(),null!=sessionId&&(c+=";jsessionid\x3d"+sessionId),$.ajax({type:"POST",async:!1,url:c,data:JSON.stringify(e),dataType:"json",headers:{"Content-Type":"application/json"},
complete:function(c,e){200!=c.status&&console.log("Error-externalUserTracker")}}))}
function scormUserTracker(c,e){var b={learnerId:c,learnerName:e};isNull(getParameterByName("tracking-token"))||(b.trackingToken=getParameterByName("tracking-token"));var g=applicationWsPath+"/uvisitor/scorm-user-tracker/"+getHashId();null!=sessionId&&(g+=";jsessionid\x3d"+sessionId);$.ajax({type:"POST",async:!1,url:g,data:JSON.stringify(b),dataType:"json",headers:{"Content-Type":"application/json"},complete:function(c,b){200!=c.status&&console.log("Error-scormUserTracker")}})}
function kbToP(c){return 288E3>=c?240:288E3<c&&448E3>=c?360:448E3<c&&1152E3>=c?480:1152E3<c&&2048E3>=c?720:2048E3<c&&4096E3>=c?1080:360}function getInternetExplorerVersion(){var c=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(c=parseFloat(RegExp.$1));return c}String.prototype.endsWith||(String.prototype.endsWith=function(c){return-1!==this.indexOf(c,this.length-c.length)});
String.prototype.startsWith||(String.prototype.startsWith=function(c,e){e=e||0;return this.indexOf(c,e)===e});String.prototype.replaceAll||(String.prototype.replaceAll=function(c,e){return this.split(c).join(e)});Date.prototype.addHours=function(c){this.setTime(this.getTime()+36E5*c);return this};Date.prototype.addMinutes=function(c){this.setTime(this.getTime()+6E4*c);return this};window.onbeforeunload=function(){apiEvent("onbeforeunload")};window.onunload=function(){apiEvent("onunload")};
setInterval(function(){watchTime=0;watchTime=Object.keys(heatMap.hlist).length;null!=sceneData&&null!=sceneData.hashId&&(watchedProjects[sceneData.hashId]={hlist:heatMap.hlist});isNull(watchTime)||(apiEvent("watchTime"),apiEvent("totalWatchTime"))},3E3);
function stopVideoTrack(c){removeWaitingLoader();var e=$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] video')[0];if(null!=e){e.pause();try{e.currentTime=0}catch(b){}adPlaying=void 0;$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').css("display","none");$("#video").fadeIn(10,function(){$(this).css("display","block")});showChapterMenu();showShareIcon();0>=$("#overlay-area").find(".question-form").length&&controlbar&&$(".ext-video-controls").fadeIn(10,function(){$(this).css("display","block")});$("#overlay-area").css("overflow-y",
"auto")}}function _adEnd(c,e){adEndHandler(c);this.removeEventListener("ended",_adEnd)}
function playVideoTrack(c){if(!(0>=$(".gplayer-vid-div").length)){$("#overlay-area").animate({scrollTop:0},"fast");$("#overlay-area").css("overflow-y","hidden");setTimeout(function(){pauseIt(!0)},100);$("#ivid-center-action-box").css("z-index",2);$(".gplayer-vid-div video").remove();$('.gplayer-vid-form[data-id!\x3d"'+c.id+'"]').css("visibility","hidden");var e=videoElements.getNext(!1);e.setAttribute("src",c.mediaContent.url);!c.mediaContent.url&&c.mediaContent.hlsUrl&&e.setAttribute("src",c.mediaContent.hlsUrl);
c.showControls&&e.setAttribute("controls","controls");e.setAttribute("controlsList","nodownload");e.setAttribute("disablePictureInPicture","");e.setAttribute("class","ivid-video-track-player");e.setAttribute("autobuffer","");e.setAttribute("webkit-playsinline","");e.setAttribute("playsinline","");e.setAttribute("style","width:100%; height:100%; cursor: auto;");$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .gplayer-vid-div').append(e);window.makeVideoPlayableInline(e,!e.hasAttribute("muted"),!0);if(Hls.isSupported()&&
!c.mediaContent.url&&c.mediaContent.hlsUrl){var b=new Hls;b.loadSource(c.mediaContent.hlsUrl);b.attachMedia(e);b.on(Hls.Events.MANIFEST_PARSED,function(){})}else e.play();$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] video')[0].addEventListener("canplay",function k(){adPlayingHandler(c);$("#ivid-center-action-box").css("z-index","auto");this.removeEventListener("play",k)},!1);e.play();$(".ext-video-controls").fadeOut(300,function(){$(this).css("display","none")});$('.gplayer-vid-form[data-id\x3d"'+
c.id+'"] video')[0].addEventListener("ended",_adEnd.bind(null,c),!1);$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').css("display","none");mobileAndTabletcheck()||$("#gvid-play").css("display","none")}}
function adPlayingHandler(c){var e=popcorn.media;$(".ext-video-controls").fadeOut(10,function(){$(this).css("display","none")});$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').css("display","none");mobileAndTabletcheck()||$("#gvid-play").css("display","none");hideChapterMenu();hideShareIcon();$("#gvid-play").css("display","none");adPlaying=!0;pauseIt(!0);e.dispatchEvent("pause");$("#video").css("display","none");$(".ext-video-controls").css("display","none");var b=c.skipAfterSec,g=c.skipText,
k=c.preSkipText,h=$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-time'),d=parseInt(this.currentTime,10);if(null!=b&&""!=b)$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] video').on("timeupdate",function(e){d=parseInt(this.currentTime,10);0<b-d&&$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').css("display","block");null!=k&&""!=k?0<b-d&&($('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').css("display","block"),h.text(k.replace("${seconds}",b-d))):$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').css("display",
"none");d>=b&&($('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').addClass("skip-ad-btn"),null!=g&&""!=g&&adPlaying?($('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').css("display","block"),h.text(g)):$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').css("display","none"))});if(null==b||d>=b)$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').addClass("skip-ad-btn"),null!=g&&""!=g&&adPlaying?($('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').css("display","block"),h.text(g)):
$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').css("display","none")}
function adEndHandler(c){if(!(0>=$('.gplayer-vid-form[data-id\x3d"'+c.id+'"]').length)){var e=popcorn.media;$("#overlay-area").css("overflow-y","auto");adPlaying=void 0;$("#ivid-center-action-box").css("z-index","auto");$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] video').fadeOut(10,function(){$(this).remove()});$('.gplayer-vid-form[data-id\x3d"'+c.id+'"] .skip-ad').css("display","none");$("#video").fadeIn(10,function(){$(this).css("display","block")});showChapterMenu();showShareIcon();0>=$("#overlay-area").find(".question-form").length&&
controlbar&&$(".ext-video-controls").fadeIn(10,function(){$(this).css("display","block")});$('.gplayer-vid-form[data-id\x3d"'+c.id+'"]').css("visibility","hidden");var b=!1;void 0!=c.trackActions&&null!=c.trackActions&&0<c.trackActions.length&&c.trackActions.forEach(function(e){trackOnAction(c,e);"ONEND"==e.trackTriggerType&&"PAUSE"==e.trackActionType&&(b=!0)});b||(playIt(null,!0),e.dispatchEvent("play"))}}
function getIEVersion(){var c=window.navigator.userAgent,e=c.indexOf("MSIE");return 0<e?parseInt(c.substring(e+5,c.indexOf(".",e))):navigator.userAgent.match(/Trident\/7\./)?11:0}function __isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}
function updateSkinProperty(c){var e=c.name;c=c.value;if("timeSliderProgress"==e)$(".gplayer-controls .ui-widget-header").css("background",c);else if("timeSliderRail"==e)$(".gplayer-controls .ui-widget-content").css("background",c);else if("controlbarIcons"==e)$(".ivid-ctrl-svg-fill").css("fill",c);else if("playIconImageUrl"==e){null!=document.getElementById("play-icon-image-url-block")&&document.getElementById("play-icon-image-url-block").remove();e=document.createElement("div");e.setAttribute("id",
"play-icon-image-url-block");var b=document.createElement("style");b.innerHTML=" #ivid-start-btn, #ivid-start-btn-mobile {  background-image: url('"+c+"') !important;}";e.appendChild(b);document.body.appendChild(e)}else"playIconHoverImageUrl"==e&&(null!=document.getElementById("play-icon-hover-image-url-block")&&document.getElementById("play-icon-hover-image-url-block").remove(),e=document.createElement("div"),e.setAttribute("id","play-icon-hover-image-url-block"),b=document.createElement("style"),
b.innerHTML=" #ivid-start-box:hover #ivid-start-btn {  background-image: url('"+c+"') !important;background-repeat: no-repeat !important;","}",e.appendChild(b),document.body.appendChild(e))}function getCurrentProjectContext(){return __IVIDEO_CONTEXT__.projects[sceneData.hashId]}
function updateUserInteractionContext(c,e){try{if(null!=__IVIDEO_CONTEXT__&&null!=__IVIDEO_CONTEXT__.projects&&!$.isEmptyObject(__IVIDEO_CONTEXT__.projects)){var b=getCurrentProjectContext().userInteractions,g=findByProperty(b,"id",c.id),k=null,h=!0;null==g?k={id:c.id,name:c.name,type:c.trackType}:(h=!1,k=g);if("QUESTION"==c.trackType)if(null==k.questionText&&(k.questionText=c.questionText),null==k.questionType&&(k.questionType=c.questionType),"FREE_TEXT"==c.questionType)"answer"==e?k.answer=c.answer:
h&&(k.answer=null),"answer"==e&&null!=k.name&&""!=k.name.trim()&&setVariable(k.name,k.answer,!0);else{if("SINGLE_SELECT"==c.questionType||"MULTI_SELECT"==c.questionType||"FILL_IN_THE_BLANK"==c.questionType||"DRAG_N_DROP"==c.questionType){if(null!=c.answer){var d=c.answer;if("SINGLE_SELECT"==c.questionType){if(isNaN(d)||(d=parseInt(d)),k.answer={id:d},null!=k.name&&""!=k.name.trim()&&k.questionOptions&&0<k.questionOptions.length)for(var f=0;f<k.questionOptions.length;f++)if(null!=k.answer&&k.answer.id&&
k.questionOptions[f].id==k.answer.id){setVariable(k.name,k.questionOptions[f].text,!0);break}}else if("MULTI_SELECT"==c.questionType){var l="";if(null!=k.name&&""!=k.name.trim()&&k.questionOptions&&0<k.questionOptions.length)for(f=0;f<k.questionOptions.length;f++)d.includes(k.questionOptions[f].id.toString())&&(l+=k.questionOptions[f].text+";");""!=l&&(l=l.substring(0,l.length-1),setVariable(k.name,l,!0));if(Array.isArray(d)){l=[];for(f=0;f<d.length;f++){var n=parseInt(d[f]);l.push({id:n})}d=l}k.answer=
d}else if("FILL_IN_THE_BLANK"==c.questionType){if(k.answer=d,null!=k.name&&""!=k.name.trim()&&null!=k.answer&&0<k.answer.length)for(f=0;f<k.answer.length;f++)setVariable(k.name+"."+k.answer[f].id,k.answer[f].value,!0)}else if("DRAG_N_DROP"==c.questionType&&(k.answer=d,null!=k.name&&""!=k.name.trim()&&null!=k.answer&&0<k.answer.length))for(l=getTrackPropsById(k.id),f=0;f<k.answer.length;f++){d=null;if(l&&l.dndItems&&0<l.dndItems.length)for(n=0;n<l.dndItems.length;n++)if(k.answer[f].value==l.dndItems[n].id){d=
l.dndItems[n].text;break}d&&setVariable(k.name+"."+k.answer[f].id,d,!0)}}void 0==k.answer&&(k.answer=null);if(null==k.questionOptions&&null!=c.options){d=[];if(null!=c.options)for(f=0;f<c.options.length;f++)d.push({id:c.options[f].id,text:c.options[f].text});k.questionOptions=d}}}else"FORM_DESIGNER"==c.trackType&&(void 0==k.answer&&(k.answer=null),null!=c.answer&&(k.answer=c.answer));addOrUpdateUserInteractionContext(b,k,e,h)}}catch(p){console.log(p)}}
function addOrUpdateUserInteractionContext(c,e,b,g){"expose"!=b&&"click"==b&&(e.interacted=!0);g&&c.push(e);apiEvent("contextChanged")}function findByProperty(c,e,b){if(void 0==c||null==c)return null;e=null;for(var g=0;g<c.length;g++)if(c[g].id==b){e=c[g];break}return e}function getTrackPropsById(c){var e=null;if(null!=sceneData&&null!=sceneData.tracks)for(var b=0;b<sceneData.tracks.length;b++)if(sceneData.tracks[b].id==c){e=sceneData.tracks[b];break}return e}
(function(c){c.getStylesheet=function(e){var b=c.Deferred();e=c("\x3clink/\x3e",{rel:"stylesheet",type:"text/css",href:e}).appendTo("head");b.resolve(e);return b.promise()}})(jQuery);function escapeHtml(c){return c.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#039;")}
function executeWebhook(c,e,b,g,k){var h=!1;e&&(playing&&(h=!0,pauseIt()),createIvideoAction("blockLoader"));var d={projectId:sceneData.hashId,variables:getVariables()},f=[];if(b&&null!=g&&0<g.length){b=getCurrentProjectContext().userInteractions;if(null!=b&&0<b.length)for(var l=0;l<b.length;l++)g.includes(b[l].type)&&f.push(b[l]);null!=f&&0<f.length&&(d.userInteractions=f)}null!=introductionFormData&&(d.introductionForm=introductionFormData);g=applicationWsPath+"/uwebhook/"+c;null!=k&&("WIDGET"==
k?g=applicationWsPath+"/uwebhook/widget-custom-prop/"+c:"QUESTION_OPTION"==k&&(g=applicationWsPath+"/uwebhook/question-option/"+c));$.when($.ajax({type:"POST",beforeSend:function(c){null!=getParameterByName("token")&&c.setRequestHeader("Authorization","Grant "+btoa(getParameterByName("token")))},async:!0,url:g,data:JSON.stringify(d),dataType:"json",contentType:"application/json",complete:function(c,b){if(200<=c.status&&299>=c.status){var d=c.responseJSON;if(null!=d)for(var f in d)d.hasOwnProperty(f)&&
(null!==d[f]&&"object"===typeof d[f]&&null!==getVariable(f)&&"object"===typeof getVariable(f)?JSON.stringify(getVariable(f))!=JSON.stringify(d[f])&&setVariable(f,d[f],!1,!0):getVariable(f)!=d[f]&&setVariable(f,d[f],!1,!0));if(e&&(!playing&&h&&playIt(null,!0),null!=pendingWebhookCallbackActions&&0<pendingWebhookCallbackActions.length))for(f=pendingWebhookCallbackActions.length;f--;){var g=pendingWebhookCallbackActions[f];pendingWebhookCallbackActions.splice(f,1);trackOnActionFn(g.trackEvent,g)}apiEvent("webhookresponse",
d)}else console.log("Error-09"),contextPath=document.querySelector('meta[name\x3d"contextPath"]').content,d=document.createElement("img"),d.className="req-error-icon",d.src=contextPath+"/player/img/req_error.png",d.style="position: absolute; right: 24px; top: 24px; width: 4em; height: 4em; z-index: 999999999;",document.getElementById("overlay-area").append(d),setTimeout(function(){$(".req-error-icon").fadeOut(700,function(){$(this).remove()})},3E3);removeBlockLoader()}})).then(function(){})}
function getAuthenticatedUser(){return null==__IVIDEO_CONTEXT__.authenticatedUser||$.isEmptyObject(__IVIDEO_CONTEXT__.authenticatedUser)?null:__IVIDEO_CONTEXT__.authenticatedUser}function getVariable(c){return null!=__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[c]?__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[c]:null}function getVariables(){return __IVIDEO_CONTEXT__.projects[sceneData.hashId].context}
function setVariable(c,e,b,g,k){var h=getVariable(c);__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[c]=e;b||evaluateHtmlContext(c,e,g);k&&-1===persistentVariables.indexOf(c)&&persistentVariables.push(c);apiEvent("contextChanged");e=getVariable(c);c8PlayerApi.executeEvent(null,"variableChange",c,h,e);apiEvent("variableChange",{name:c,prevValue:h,newValue:e})}
function evaluateHtmlContext(c,e,b){for(var g=/\${([^}]+)\}/g,k,h=e;k=g.exec(e);){oldValue=__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[c];if(void 0==oldValue||null==oldValue)oldValue="";h=h.replace(k[0],oldValue)}e=null;try{e=eval(h);try{e=Number(e.toFixed(2))}catch(d){}}catch(f){e=h}__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[c]=e;if("user"!=c){h=$(".project-context[data-project-context-ref\x3d'"+c+"']");"boolean"===typeof e&&(e+="");updateContextRefElement(h,e);if("object"===
typeof e&&(h={},h[c]=e,c=objectToDotNotation(h),null!=c))for(var l in c)c.hasOwnProperty(l)&&(h=$(".project-context[data-project-context-ref\x3d'"+l+"']"),updateContextRefElement(h,c[l]));if(!b&&null!=activeConditionalTrackIds&&0<Object.keys(activeConditionalTrackIds).length)for(l in activeConditionalTrackIds)activeConditionalTrackIds.hasOwnProperty(l)&&(trackOpt=popcorn.getTrackEvent(l),null!=trackOpt&&null!=trackOpt.trackActions&&0<trackOpt.trackActions.length&&trackOpt.trackActions.forEach(function(c){trackOnActionFn(trackOpt,
c)}))}}function updateContextRefElement(c,e){null!=c&&0<c.length&&($(c).is("img")?$(c).attr("src",e):$(c).html(e))}function objectToDotNotation(c){var e={};(function g(c,h){for(var d in c){var f=c[d],l=h?h+"."+d:d;f&&"object"===typeof f?g(f,l):e[l]=f}})(c);return e}
function getReplacedVariableData(c){if(null==c||""==c)return c;var e=c.match(/\$\{(.*?)\}/g);if(null!=e&&0<e.length)for(var b=0;b<e.length;b++)for(var g=e[b].match(/\$\{(.*?)\}/g),k=0;k<g.length;k++){var h=g[k],d=h.match(/\$\{(.*?)\}/g)[0].replace(/\$\{/g,""),d=d.replace(/\}/g,""),f=d.split("!"),d=f[0].trim(),l="";void 0!=f[1]&&(l=f[1].trim());f="";null!=__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[d]&&(f=__IVIDEO_CONTEXT__.projects[sceneData.hashId].context[d]);""==f&&void 0!=l&&null!=l&&
""!=l&&(f=l);c=c.replace(h,f);try{null!=c.match(/[*/+-\\${}]/g)&&(c=eval(c))}catch(n){}}return c}
$("body").delegate('[data-animation\x3d"ripple"]',"click",function(c){if(!$(c.target).hasClass("ripple")){var e=$("#overlay-area").offset(),b=c.pageX-this.offsetLeft-e.left;c=c.pageY-this.offsetTop-e.top;e=this.offsetWidth;sceneData._360&&(b=$(this).width()/2,c=$(this).height()/2);var g=50;480>window.innerWidth?g=30:480<window.innerWidth&&768>window.innerWidth&&(g=40);var k=document.createElement("span");k.className="ripple";k.style.left=b-g+"px";k.style.top=c-g+"px";k.style.setProperty("--scale",
e);this.appendChild(k);setTimeout(function(){k.parentNode.removeChild(k)},1E3)}});$("body").delegate(".gplayer-templated-form","click",function(c){});
function getQuestionTemplateById(c,e){var b={};null!=sceneData&&null!=sceneData.questionTemplate&&null!=sceneData.questionTemplate.supportedQuestionTypes&&sceneData.questionTemplate.supportedQuestionTypes.includes(e)&&(b=sceneData.questionTemplate);if(null!=sceneData&&null!=sceneData.questionTemplates&&0<sceneData.questionTemplates.length)for(var g=0;g<sceneData.questionTemplates.length;g++)if(c==sceneData.questionTemplates[g].id&&null!=sceneData.questionTemplates[g].supportedQuestionTypes&&sceneData.questionTemplates[g].supportedQuestionTypes.includes(e)){b=
sceneData.questionTemplates[g];break}return b}
function templatedTrackRenderer(c,e,b,g,k){null==c.props&&(c.props={});var h="c8w_"+c.id;"QUESTION"==c.trackType&&(c.props={question:{id:c.id,options:c.options,text:c.questionText,type:c.questionType,submitOnSelect:c.submitOnSelect,showOptionsAsImage:c.showOptionsAsImage,imageUrl:c.imageUrl,submitButtonText:c.confirmButtonText,feedbackButtonText:c.feedbackButtonText,skippable:c.skippable,hideQuestionText:c.hideQuestionText,dndItems:c.dndItems}});try{if(null==c.props.uniqueSelector||null==c.props.uid){null==
c.propsAction&&(c.propsAction={});for(var d in c.props)if(c.props.hasOwnProperty(d)&&!["id","uniqueSelector","uid","_trackProperty_"].includes(d)){var f=[];if("[object Array]"===Object.prototype.toString.call(c.props[d])){for(var l=[],n=0;n<c.props[d].length;n++)l.push(c.props[d][n].v),null!=c.props[d][n].acts&&(f[n]=c.props[d][n].acts);c.props[d]=l}else if("object"===typeof c.props[d]&&null!==c.props[d]&&(null!=c.props[d].acts&&(f=c.props[d].acts),"QUESTION"!=c.trackType&&(null==c.props[d].type||
"ACTION"!=c.props[d].type))){c.props[d]=c.props[d].v;try{null!=c.props[d]&&(c.props[d]=c.props[d].replaceAll("{{uid}}",h))}catch(p){console.log(p)}}null!=f&&0<f.length&&(c.propsAction[d]=f)}}}catch(q){console.log(q)}if(void 0!=c.props&&null!=c.props)for(var r in c.props)c.props.hasOwnProperty(r)&&("false"===c.props[r]?c.props[r]=!1:"true"===c.props[r]&&(c.props[r]=!0));n={duration:c.end-c.start,visible:c.visible,start:c.start,end:c.end};null==c.props&&(c.props=[]);f={};try{Object.assign(f,c.props)}catch(s){console.log(s)}g=
evalTemplatedHandlebars(g);b=evalTemplatedHandlebars(b);c.props.uniqueSelector=h;c.props.uid=h;c.props._trackProperty_=n;c.props.id=c.id;delete f.uniqueSelector;delete f.uid;delete f._trackProperty_;delete f.id;null!=e&&(e=e.replaceAll("{{uniqueSelector}}",c.props.uniqueSelector),e=e.replaceAll("{{uid}}",c.props.uniqueSelector),e=Handlebars.compile(e)(c.props));null!=b&&(b=b.replaceAll("{{uniqueSelector}}",c.props.uniqueSelector),b=b.replaceAll("{{uid}}",c.props.uniqueSelector),b=Handlebars.compile(b)(c.props));
null!=g&&(g=g.replaceAll("{{uniqueSelector}}",c.props.uniqueSelector),g=g.replaceAll("{{uid}}",c.props.uniqueSelector),g="var widgetProps_"+c.props.uniqueSelector+" \x3d "+JSON.stringify(f)+";\n\n"+g,g=g.replaceAll("c8PlayerApi.postData(","c8PlayerApi.postData("+c.id+", "),g=g.replaceAll("c8PlayerApi.getData(","c8PlayerApi.getData("+c.id),g=g.replaceAll("c8PlayerApi.setVisible(","c8PlayerApi.setVisible("+c.id),g=g.replaceAll("c8PlayerApi.setInvisible(","c8PlayerApi.setInvisible("+c.id),g=g.replaceAll("c8PlayerApi.executeWidgetPropActions(",
"c8PlayerApi.executeWidgetPropActions("+c.id+", "),g=g.replaceAll("c8PlayerApi.getWidgetProps(","c8PlayerApi.getWidgetProps("+c.id),g=g.replaceAll("c8PlayerApi.getWidgetProp(","c8PlayerApi.getWidgetProp("+c.id+", "),g=g.replaceAll("c8PlayerApi.getTrackProps(","c8PlayerApi.getTrackProps("+c.id),g=g.replaceAll("c8PlayerApi.getTrackProp(","c8PlayerApi.getTrackProp("+c.id+", "),g=g.replaceAll("c8PlayerApi.on(","c8PlayerApi.on("+c.id+", "),g=g.replaceAll("c8PlayerApi.webSocket(",'c8PlayerApi.webSocket("'+
c.socketClientId+'", '),g=g.replaceAll("c8PlayerApi.getDatastore(","c8PlayerApi.getDatastore("+c.id+", "),isNull(c.bucketKey)||(g=g.replaceAll("c8PlayerApi.getAutoGenDatastore(",'c8PlayerApi.getAutoGenDatastore("'+c.bucketKey+'"')),g=Handlebars.compile(g)(c.props));if(null!=c.propsAction)for(d in c.propsAction)if(c.propsAction.hasOwnProperty(d))for(n=0;n<c.propsAction[d].length;n++)if(null!=c.propsAction[d]&&"[object Array]"===Object.prototype.toString.call(c.propsAction[d][c.propsAction[d].length-
1])){if(h=c.props.uniqueSelector+"-"+d+"-"+n,f=c.props.uniqueSelector+"-"+d+"-"+n,e=e.replace('data-onclick-ref\x3d"'+d+'"','data-id\x3d"'+h+'" data-w-onclick-ref\x3d"'+d+'"'),null!=c.propsAction[d][n])for(l=0;l<c.propsAction[d][n].length;l++)trackOnAction({id:h},{id:f+l,trackTriggerType:"ONCLICK",trackActionType:c.propsAction[d][n][l].at,value:c.propsAction[d][n][l].av,triggeredTrack:{id:c.propsAction[d][n][l].ttid}})}else{h=c.props.uniqueSelector+"-"+d+"-0";f=c.props.uniqueSelector+"-"+d+"-"+n;
e=e.replace('data-onclick-ref\x3d"'+d+'"','data-id\x3d"'+h+'" data-w-onclick-ref\x3d"'+d+'"');l=null;null!=c.propsAction[d]&&null!=c.propsAction[d][n]&&null!=c.propsAction[d][n].at&&(l=c.propsAction[d][n].at);r=null;null!=c.propsAction[d]&&null!=c.propsAction[d][n]&&null!=c.propsAction[d][n].av&&(r=c.propsAction[d][n].av);var v=null;null!=c.propsAction[d]&&null!=c.propsAction[d][n]&&null!=c.propsAction[d][n].ttid&&(v=c.propsAction[d][n].ttid);trackOnAction({id:h},{id:f,trackTriggerType:"ONCLICK",
trackActionType:l,value:r,triggeredTrack:{id:v}})}addCssJsBlock(c.id,b,g,c.trackType);c.processedHtml=renderVariables(e);return Handlebars.getTemplate(k)}function htmlToStr(c){var e=document.createElement("span");e.innerHTML=c;return e.textContent||e.innerText}
function updateDndQuestionPosition(){dndQuestionResizeTimer=setTimeout(function(){null!=dndMatches&&Object.keys(dndMatches).forEach(function(c){var e=document.querySelector(".dnd-drop-wrapper input[data-dnd-drop-id\x3d'"+c+"'], .c8-dnd-drop-wrapper input[data-dnd-drop-id\x3d'"+c+"']"),b=document.querySelector("[data-dnd-drag-id\x3d'"+dndMatches[c]+"']"),g=null,k=null;null!=e&&(g=e.getBoundingClientRect());null!=b&&(k=b.getBoundingClientRect());null!=g&&null!=k&&gsap.to(document.querySelector("[data-dnd-drag-id\x3d'"+
dndMatches[c]+"']"),.1,{x:"+\x3d"+(g.x-k.x-2),y:"+\x3d"+(g.y-k.y-(k.height-g.height)/2)})})},150)}
function setScormInteraction(c){if("AUDIO_VIDEO_INPUT"!=c.questionType&&scormApi){var e=c.questionText,e=e.replace(/<(\/*)input[^>]*>/g,"______"),e=htmlToStr(e),b=parseInt(scormApi.SCORM.get("cmi.interactions._count")),g=getScormInteractionId("q_"+c.id);null==g?(scormApi.SCORM.set("cmi.interactions."+b+".id","q_"+c.id),scormApi.SCORM.set("cmi.interactions."+b+".type",getScormInteractionType(c.questionType)),"1.2"!=scormApi.SCORM.version&&scormApi.SCORM.set("cmi.interactions."+b+".description",e)):
"1.2"!=scormApi.SCORM.version&&scormApi.SCORM.set("cmi.interactions."+g.index+".description",e)}}
function generateUserAnswersForScorm(){try{if(scormApi&&"1.2"!=scormApi.SCORM.version){var c=parseInt(scormApi.SCORM.get("cmi.interactions._count"));if(0<c)for(var e=0;e<c;e++){var b=null,b="1.2"==scormApi.SCORM.version?scormApi.SCORM.get("cmi.interactions."+e+".student_response"):scormApi.SCORM.get("cmi.interactions."+e+".learner_response"),g=scormApi.SCORM.get("cmi.interactions."+e+".id"),g=parseInt(g.replace("q_","")),k=getTrackPropsById(g);if("QUESTION"==k.trackType&&null!=b&&""!=b)switch(k.questionType){case "FREE_TEXT":userAnswers.push({questionType:"free-text",
questionTrackId:k.id,answer:b});break;case "SINGLE_SELECT":for(var h=null,d=0;d<k.options.length;d++)if(b==k.options[d].text){h=k.options[d].id.toString();break}null!=h&&userAnswers.push({questionType:"single-selection",questionTrackId:k.id,selectedOptionId:h});break;case "MULTI_SELECT":for(var h=[],f=b.split("[,]"),d=0;d<k.options.length;d++)f.includes(k.options[d].text)&&h.push(k.options[d].id.toString());0<h.length&&userAnswers.push({questionType:"multi-selection",questionTrackId:k.id,selectedOptionIds:h});
break;case "FILL_IN_THE_BLANK":var l=[],f=b.split("[,]"),n=(new DOMParser).parseFromString(k.questionText,"text/html"),p=n.getElementsByTagName("input");if(null!=p&&0<p.length)for(d=0;d<p.length;d++)null==f[d]&&(f[d]=""),l.push({id:p[d].id,value:f[d]});userAnswers.push({questionType:"single-selection",questionTrackId:k.id,answers:l});break;case "DRAG_N_DROP":l=[];f=b.split("[,]");n=(new DOMParser).parseFromString(k.questionText,"text/html");p=n.querySelectorAll("input[data-dnd-drop-id]");if(null!=
p&&0<p.length)for(b=[],null!=k&&null!=k.dndItems&&(b=k.dndItems),d=0;d<p.length;d++){null==f[d]&&(f[d]="");var q=p[d].getAttribute("data-dnd-drop-id");null!=q&&b.forEach(function(c){f[d]==c.text&&l.push({id:q,value:c.id})})}userAnswers.push({questionType:"dnd-question",questionTrackId:k.id,answers:l})}}}}catch(r){console.log(r)}}
function getScormInteractionId(c){var e=null;if(scormApi){var b=parseInt(scormApi.SCORM.get("cmi.interactions._count"));if(0<b)for(var g=0;g<b;g++){var k=scormApi.SCORM.get("cmi.interactions."+g+".id");if(null!=k&&k==c){e={index:g,id:k};break}}null==e&&"1.2"==scormApi.SCORM.version&&(e={index:b})}return e}
function getScormInteractionType(c){if("1.2"==scormApi.SCORM.version)return"performance";switch(c){case "SINGLE_SELECT":case "MULTI_SELECT":return"other";case "FILL_IN_THE_BLANK":return"fill-in";default:return"other"}}
function updateScormInteractions(c,e){try{if(scormApi){var b="";switch(c.questionType){case "FREE_TEXT":b=e.answer;break;case "SINGLE_SELECT":c.options.forEach(function(c){c.id==e.optionId&&(b=c.text)});break;case "MULTI_SELECT":var g=[];c.options.forEach(function(c){e.optionId.includes(c.id.toString())&&g.push(c.text)});0<g.length&&(b=g.join("[,]"));break;case "FILL_IN_THE_BLANK":g=[];e.answers.forEach(function(c){g.push(c.value)});0<g.length&&(b=g.join("[,]"));break;case "DRAG_N_DROP":var k=getTrackPropsById(c.id),
h=[];null!=k&&null!=k.dndItems&&(h=k.dndItems);g=[];e.answers.forEach(function(c){for(var b=0;b<h.length;b++)if(c.value==h[b].id){g.push(h[b].text);break}});0<g.length&&(b=g.join("[,]"))}k=null;null!=e.correct&&(k=1==e.correct?"correct":"1.2"==scormApi.SCORM.version?"wrong":"incorrect");var d=getScormInteractionId("q_"+c.id);if(null!=d&&null!=d.index){if("1.2"==scormApi.SCORM.version){var f="q_"+c.id;c.name&&(f=c.name);scormApi.SCORM.set("cmi.interactions."+d.index+".id",f);scormApi.SCORM.set("cmi.interactions."+
d.index+".type",getScormInteractionType(c.questionType));scormApi.SCORM.set("cmi.interactions."+d.index+".student_response",b);try{scormApi.SCORM.set("cmi.interactions."+d.index+".time",formatTime(new Date))}catch(l){}}else{scormApi.SCORM.set("cmi.interactions."+d.index+".learner_response",b);try{scormApi.SCORM.set("cmi.interactions."+d.index+".timestamp",(new Date).toISOString())}catch(n){}}null!=k&&scormApi.SCORM.set("cmi.interactions."+d.index+".result",k)}}}catch(p){console.log(p)}}
function formatTime(c){var e=c.getUTCHours().toString().padStart(2,"0"),b=c.getUTCMinutes().toString().padStart(2,"0"),g=c.getUTCSeconds().toString().padStart(2,"0");c=(c.getUTCMilliseconds()/1E3).toFixed(2).toString().slice(2);return e+":"+b+":"+g+"."+c}function setLocalStorageData(c,e){var b=JSON.stringify(e);localStorage.setItem(c,b)}function getLocalStorageData(c){c=localStorage.getItem(c);return JSON.parse(c)}
var Latinise={latin_map:{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D",
"":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"ET","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I",
"":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"O","":"O","":"O","":"O",
"":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"E","":"O","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"C","":"E","":"S",
"":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"A","":"L","":"M","":"V","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W",
"":"W","":"W","":"W","":"W","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"IJ","":"OE","":"A","":"AE","":"B","":"B","":"C","":"D","":"E","":"F","":"G","":"G","":"H","":"I","":"R","":"J","":"K","":"L","":"L","":"M","":"N","":"O","":"OE","":"O","":"OU","":"P","":"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V",
"":"W","":"Y","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"o","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c",
"":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"i","":"j","":"j","":"j","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"et","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g",
"":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l",
"":"l","":"l","":"l","":"l","":"l","":"lj","":"s","":"s","":"s","":"s","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o",
"":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"oo","":"e","":"e","":"o","":"o","":"ou","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"c","":"c","":"e","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"g",
"":"o","":"o","":"u","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"th","":"a","":"ae","":"e","":"g","":"h","":"h","":"h","":"i","":"k","":"l","":"m","":"m","":"oe","":"r","":"r","":"r","":"r","":"t","":"v","":"w","":"y","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u",
"":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"ue","":"um","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"ff","":"ffi","":"ffl","":"fi","":"fl",
"":"ij","":"oe","":"st","":"a","":"e","":"i","i":"i","":"j","":"o","":"r","":"u","":"v","":"x"}};String.prototype.latinise=function(){try{return this.replace(/[^A-Za-z0-9\[\] ]/g,function(c){return Latinise.latin_map[c]||c})}catch(c){return this}};String.prototype.latinize=String.prototype.latinise;String.prototype.isLatin=function(){return this==this.latinise()};
var playing=void 0,adPlaying=void 0,popcorn,videoDuration,videoCurrentTime,originalVid,canplayVar,trackTicks=[],sceneData={},video_muted=null,video_loop=null,persistentVariables=[],prevProjectId=null,mobileStartFired=!1,chapters=[],endedCalled=!1,introductionFormEnabled=!1,introductionFormIsOpen=!1,canplayCalled=!1,_tracks=[],adBlockEnabled=!1,originalPlay=!1,volumeValue,selectedSubtitles=getParameterByName("sub"),availableSubtitles={},isPlayingPreChapter=!0,storyboard=null,sliderFunc=null,playFunc=
null,_currentVol=1,scormApi=void 0,shareIconShowStatus=!1,_hashId=null,suggestedScenesData,pauseWhenTabIsInactive=!1,externalVideoUrl=null,loadStartMobileOk=!1,tooltipCurrTime=0,wBackgroundIsOpen=!1,videoNotFound=!1,sessionId=null,hls=null,rawWithHls=!1,sliderFuncCalled=!1,_cmiLocation=null,hlsUrl=null,liveStream=!1,liveStreamStarted=!1,scenePlayer=null,tTime=null,mobileUserGestureInitiated=!1,trackTimeRangeList=[],instantPlayStartTime=null,c8VR=null,forcePause=!1,forcePauseConsumed=!1,$sliderBuffer=
null,waitingEventTimer=null,sliderBufferInterval=null,hasQuestionIntro=!1,__IVIDEO_CONTEXT__={projects:{}},introductionFormData=null,fitToScreenOnPortrait=!1,fitToScreenOnLandscape=!1,imaScriptLoaded=!1,currentAd=null,resumeLastPosition=!1,lastPosition=null,resumeLastPositionActionCalled=!1,_360_=!1,playerJsAdapter;if(scormApi=getPipwerksApi(window))scormApi.debug.isActive=!1;var playerSettings=null;checkAdBlock();
function playIt(c,e){if(adPlaying)$(".ext-video-controls").css("display","none"),setTimeout(function(){$(".ext-video-controls").css("display","none")},300);else{videoNotFound||$("#ivid-start-box, #ivid-start-box-mobile, #ivid-start-btn, #ivid-start-btn-mobile, #ivid-thumbnail-overlay-image, #ss-continue-box").css("display","none");if(null!=hls&&void 0==hls.media){var b=document.getElementById("xvideo");hls.attachMedia(b)}liveStream&&null!=hls&&hls.liveStreamStopped&&(hls.liveStreamStopped=!1,showWaitingLoader(),
b=document.getElementById("xvideo"),hls.loadSource(hlsUrl),hls.attachMedia(b));liveStream&&videoNotFound&&setTimeout(function(){removeWaitingLoader();$("#ivid-thumbnail-overlay-image").css("display","block");$("#ivid-start-box").css("display","block")});null!=instantPlayStartTime&&0!=instantPlayStartTime&&(c=instantPlayStartTime,instantPlayStartTime=null);void 0!=popcorn&&(b=popcorn.video.play(),void 0!==b&&b.then(function(b){null!=c&&(popcorn.currentTime(parseInt(c)),tTime=null);forcePause&&(forcePause=
!1,forcePauseConsumed=!0,pauseIt())}).catch(function(c){void 0==c||null==c||"NotAllowedError"!=c.name&&0!=c.code||($(".play-video").css("display","block"),$(".pause-video").css("display","none"),$("#ivid-start-box").css("display","block"),$("#ivid-start-btn").css("display","block"),$("#ivid-thumbnail-overlay-image").css("display","block"))}));0<chapters.length&&showChapterMenu();sceneData.showShareIcon&&showShareIcon();0>=$("#overlay-area").find(".question-form").length&&(!wBackgroundIsOpen&&controlbar&&
$(".ext-video-controls").fadeIn(500,function(){$(this).css("display","block")}),$("#video").css("height","100%"),$(".play-video").css("display","none"));liveStream?$(".stop-video").css("display","block"):$(".pause-video").css("display","block");$("#intro-box").css("display","none");e||createIvideoAction("play");removeBlockLoader();playing=!0;liveStream||setTimeout(function(){updateWindowSize(!1)},300);audioElements.playWhenVideoIsPlayed();mMove(0,0,1,1)}}
function pauseIt(c){popcorn.pause();$(".play-video").css("display","block");liveStream?$(".stop-video").css("display","none"):$(".pause-video").css("display","none");c||createIvideoAction("pause");playing=!1;audioElements.pauseWhenVideoIsPaused()}function showWaitingLoader(){clearTimeout(waitingEventTimer);waitingEventTimer=setTimeout(function(){createIvideoAction("waiting")},1500)}function pausePlayToggle(){popcorn.paused()?playIt():liveStream||pauseIt()}
"ios"!=getMobileOS()&&"android"!=getMobileOS()||$("#vol-slider").css("display","none");"ios"==getMobileOS()||getMobileOS();
function videoNotFoundFunc(){videoNotFound=!0;$("#ivideo-player-err-msg").css("display","flex");liveStream?($("#ivideo-err-msg-txt").html("Live stream offline"),$("#ivideo-live-ico").css("display","block"),$("#live-stream-ico").css("background","#a7a7a7"),$("#ivid-thumbnail-overlay-image").css("display","block")):($("#ivideo-err-msg-txt").html("Video not found or access denied"),$("#ivid-thumbnail-overlay-image").css("display","block"),popcorn.pause());$("#ivid-start-box").css("display","block").css("cursor",
"auto");$("#ivid-share-icon").remove();$("#ivid-start-box").off();$(".time-controls, #ivid-start-box-mobile, .pause-video").css("display","none");$(".play-video").css("display","block");$("#container").css("background","rgb(109, 109, 109)","important");$(".ext-video-controls").css("z-index",999);setTimeout(function(){$("#loading-box").fadeOut(300,function(){$(this).css("display","none")})},500);null!=hls&&hls.detachMedia();if(liveStream)var c=setInterval(function(){$.ajax({type:"GET",url:applicationWsPath+
"/uscene/hearbeat/"+_hashId,dataType:"json",complete:function(e,b){"ONLINE"==e.responseJSON.status&&playing&&(videoNotFound=!1,$("#ivideo-player-err-msg").css("display","none"),hls.liveStreamStopped=!0,clearInterval(c),$("#live-stream-ico").css("background","#f12b24"),playIt())}})},5E3)}
function generateAudioTrackMenu(){var c="",e=_getAudioTracks();if(null!=e&&1<e.length){var b=_getCurrentAudioTrack(),g=null,k="";if(null!=b){for(k=0;k<e.length;k++)if(e[k].id==b.id){g=k;break}k=b.label}c+='\x3cli class\x3d"audio-track-li"\x3e\x3ca href\x3d"javascript:void(0)"\x3eAudio\x3cspan class\x3d"sval"\x3e'+k+'\x3c/span\x3e\x3c/a\x3e\x3cul class\x3d"dl-submenu audio-track-select"\x3e';e.forEach(function(b,d){c+='\x3cli data-aid\x3d"'+d+'" \x3e\x3ca href\x3d"javascript:void(0)"\x3e'+b.label;
c=d==g?c+'\x3ci class\x3d"fa fa-check pull-right"\x3e\x3c/i\x3e':c+'\x3ci class\x3d"pull-right"\x3e\x3c/i\x3e';c+="\x3c/a\x3e\x3c/li\x3e"});c+="\x3c/ul\x3e\x3c/li\x3e"}$("#dl-menu .dl-menu").append(c);setTimeout(function(){$(".audio-track-select li[data-aid]").on("click",function(){if(null!=hls){hls.audioTrack=$(this).data("aid");var c=_getCurrentAudioTrack();null!=c&&$(".audio-track-li span.sval").html(c.label)}else if(c=null,null!=popcorn&&null!=popcorn.video&&null!=popcorn.video.audioTracks&&(c=
popcorn.video.audioTracks),null!=c&&0<c.length)for(var b=0;b<c.length;b++)$(this).data("aid")==b?(c[b].enabled=!0,$(".audio-track-li span.sval").html(c[b].label)):c[b].enabled=!1;setTimeout(function(){$(".audio-track-select .dl-back").click()},300)})},100)}
function generateSettingsMenu(){if(null==scenePlayer||!scenePlayer.hideSettings){var c='\x3cul class\x3d"dl-menu"\x3e';liveStream||(c+='\x3cli class\x3d"speed-li"\x3e\x3ca href\x3d"javascript:void(0)"\x3eSpeed\x3cspan class\x3d"sval"\x3eNormal\x3c/span\x3e\x3c/a\x3e\x3cul class\x3d"dl-submenu speed-select"\x3e',c+='\x3cli data-s\x3d"0.25" \x3e\x3ca href\x3d"javascript:void(0)"\x3e0.25\x3ci class\x3d"pull-right"\x3e\x3c/i\x3e \x3c/a\x3e\x3c/li\x3e\x3cli data-s\x3d"0.5" \x3e\x3ca href\x3d"javascript:void(0)"\x3e0.5\x3ci class\x3d"pull-right"\x3e\x3c/i\x3e \x3c/a\x3e\x3c/li\x3e\x3cli data-s\x3d"0.75" \x3e\x3ca href\x3d"javascript:void(0)"\x3e0.75\x3ci class\x3d"pull-right"\x3e\x3c/i\x3e \x3c/a\x3e\x3c/li\x3e\x3cli data-s\x3d"1" \x3e\x3ca href\x3d"javascript:void(0)"\x3eNormal\x3ci class\x3d"fa fa-check pull-right"\x3e\x3c/i\x3e \x3c/a\x3e\x3c/li\x3e\x3cli data-s\x3d"1.25" \x3e\x3ca href\x3d"javascript:void(0)"\x3e1.25\x3ci class\x3d"pull-right"\x3e\x3c/i\x3e \x3c/a\x3e\x3c/li\x3e\x3cli data-s\x3d"1.5" \x3e\x3ca href\x3d"javascript:void(0)"\x3e1.5\x3ci class\x3d"pull-right"\x3e\x3c/i\x3e \x3c/a\x3e\x3c/li\x3e\x3cli data-s\x3d"1.75" \x3e\x3ca href\x3d"javascript:void(0)"\x3e1.75\x3ci class\x3d"pull-right"\x3e\x3c/i\x3e \x3c/a\x3e\x3c/li\x3e\x3cli data-s\x3d"2" \x3e\x3ca href\x3d"javascript:void(0)"\x3e2\x3ci class\x3d"pull-right"\x3e\x3c/i\x3e \x3c/a\x3e\x3c/li\x3e',
c+="\x3c/ul\x3e\x3c/li\x3e");c+='\x3cli class\x3d"subs-li"\x3e\x3ca href\x3d"javascript:void(0)"\x3eSubtitles\x3cspan class\x3d"sval"\x3e';if(void 0!=sceneData.subtitles&&null!=sceneData.subtitles){var e="Off",b=sceneData.subtitles.slice(0);b.forEach(function(c,b){selectedSubtitles==c.code&&(e=c.name)})}c+=e;c+='\x3c/span\x3e\x3c/a\x3e\x3cul class\x3d"dl-submenu"\x3e';c=!getParameterByName("sub")&&isNull(selectedSubtitles)?c+'\x3cli class\x3d"subs-select" \x3e\x3ca href\x3d"javascript:void(0)"\x3eOff \x3ci class\x3d"fa fa-check pull-right"\x3e\x3c/i\x3e \x3c/a\x3e\x3c/li\x3e':
c+'\x3cli class\x3d"subs-select" \x3e\x3ca href\x3d"javascript:void(0)"\x3eOff\x3c/a\x3e\x3c/li\x3e';void 0!=sceneData.subtitles&&null!=sceneData.subtitles&&(b=sceneData.subtitles.slice(0),b.forEach(function(b,e){c+='\x3cli class\x3d"subs-select" id \x3d"'+b.code+'" data-lang\x3d"'+b.name+'"\x3e\x3ca href\x3d"javascript:void(0)"\x3e'+b.name;selectedSubtitles==b.code&&(c+='\x3ci class\x3d"fa fa-check pull-right"\x3e\x3c/i\x3e',$(".subs-li").find("a span.sval").html(b.name));c+="\x3c/a\x3e \x3c/li\x3e"}));
c+="\x3c/ul\x3e\x3c/li\x3e";c+="\x3c/ul\x3e";null!=document.getElementById("dl-menu")&&null!=$.data(document.getElementById("dl-menu"),"dlmenu")&&($(".dl-menu").remove(),$("#dl-menu").dlmenu("destroy"));$(".ivid-settings").after(c);isNull(selectedSubtitles)||changeSubtitles(selectedSubtitles);setTimeout(function(){void 0==sceneData.subtitles&&null==sceneData.subtitles&&$(".subs-li").remove();$(".subs-select").on("click",function(){changeSubtitles($(this).attr("id"))});$(".dl-trigger").click(function(){$("#dl-menu ul").css("max-height",
$("#pop-container").height()-58+"px")});$(".speed-select li[data-s]").on("click",function(c){c=$(this).data("s");changePlaybackRate(c)})},100)}}
function changePlaybackRate(c){$(".speed-select li[data-s]");$(".speed-select").find("i.fa.fa-check").remove();$('.dl-menu .speed-select li[data-s\x3d"'+c+'"]').find("a").append('\x3ci class\x3d"fa fa-check  pull-right"\x3e\x3c/i\x3e');popcorn.playbackRate(c);audioElements.changePlaybackRate(c);$(".speed-li").find("a span.sval").html(c);"1"==c&&$(".speed-li").find("a span.sval").html("Normal");var e=document.querySelectorAll("[data-c8-element-template]");if(e&&0<e.length)for(var b=new CustomEvent("onPlaybackRateChange",
{detail:{playbackRate:c}}),g=0;g<e.length;g++)e[g].dispatchEvent(b);c8PlayerApi.executeEvent(null,"playbackRateChange",c);apiEvent("playbackRate");setTimeout(function(){$(".speed-select .dl-back").click()},100)}
function generateQualitySettings(){var c="";null!=sceneData.quality&&0<sceneData.quality.length&&(c+='\x3cli class\x3d"ivid-quality-li"\x3e\x3ca href\x3d"javascript:void(0)"\x3eQuality\x3cspan class\x3d"sval"\x3eAuto\x3c/span\x3e\x3c/a\x3e\x3cul class\x3d"dl-submenu ivid-quality-select"\x3e',sceneData.quality.forEach(function(e){c+='\x3cli data-q\x3d"'+e.level+'" \x3e\x3ca href\x3d"javascript:void(0)"\x3e'+e.height+'p\x3ci class\x3d"pull-right"\x3e\x3c/i\x3e';null!=getHdLevelText(e.height)&&(c+='\x3cspan class\x3d"c8-hd-level-txt"\x3e'+
getHdLevelText(e.height)+"\x3c/span\x3e");c+="\x3c/a\x3e\x3c/li\x3e"}),c+='\x3cli data-q\x3d"-1" \x3e\x3ca href\x3d"javascript:void(0)"\x3eAuto\x3ci class\x3d"fa fa-check pull-right"\x3e\x3c/i\x3e \x3c/a\x3e\x3c/li\x3e',c+="\x3c/ul\x3e\x3c/li\x3e");$("#dl-menu .dl-menu").append(c);setTimeout(function(){$(".ivid-quality-select li[data-q]").on("click",function(c){c=parseInt($(this).data("q"));changeQualityLevel(c)})},100)}
function changeQualityLevel(c){if("auto"==c||-1==c)localStorage.removeItem("c8-player-quality"),c=-1;if(null!=hls&&null!=c&&!isNaN(c)){showWaitingLoader();hls.currentLevel=c;try{setLocalStorageData("c8-player-quality",{quality:hls.levels[c].height})}catch(e){}var b=$(".ivid-quality-select").find("i.fa.fa-check").parent().text(),b=b.replace("HD","").replace("4K","").replace("8K","");$(".ivid-quality-select").find("i.fa.fa-check").remove();"-1"!=c&&void 0!=c?($(".ivid-quality-select li[data-q\x3d'"+
c+"']").find("a").append('\x3ci class\x3d"fa fa-check  pull-right"\x3e\x3c/i\x3e'),$(".ivid-quality-li").find("a span.sval").html(hls.levels[c].height+"p")):($(".ivid-quality-select li[data-q\x3d'"+c+"']").find("a").append('\x3ci class\x3d"fa fa-check  pull-right"\x3e\x3c/i\x3e'),$(".ivid-quality-li").find("a span.sval").html("Auto "+b));setTimeout(function(){$(".ivid-quality-select .dl-back").click();$("#dl-menu").dlmenu("closeMenu")},200)}}
function getHdLevelText(c){var e=null;null!=c&&1080<=c&&2160>c?e="HD":null!=c&&2160<=c&&4E3>c?e="4K":null!=c&&4E3<=c&&(e="8K");return e}
function generateContextMenu(){null!=scenePlayer&&scenePlayer.hidePlayerContextMenu||(mobileAndTabletcheck()||setTimeout(function(){var c="About Cinema8";isNull(scenePlayer)||isNull(scenePlayer.contextMenu)||isNull(scenePlayer.contextMenu.about)||isNull(scenePlayer.contextMenu.about.text)||""==scenePlayer.contextMenu.about.text||(c=scenePlayer.contextMenu.about.text);var e={};if(isNull(scenePlayer)||isNull(scenePlayer.contextMenu)||isNull(scenePlayer.contextMenu.c_url)||!scenePlayer.contextMenu.c_url.hidden)e.curl=
{name:"Copy video URL",clazz:"ivid-cm-copy-url"};isStoryboard()||!(isNull(scenePlayer)||isNull(scenePlayer.contextMenu)||isNull(scenePlayer.contextMenu.c_url_ct))&&scenePlayer.contextMenu.c_url_ct.hidden||(e.curlt={name:"Copy video URL at current time",clazz:"ivid-cm-copy-url-t"});if(isNull(scenePlayer)||isNull(scenePlayer.contextMenu)||isNull(scenePlayer.contextMenu.c_embed)||!scenePlayer.contextMenu.c_embed.hidden)e.cec={name:"Copy embed code",clazz:"ivid-cm-copy-embed"};if(isNull(scenePlayer)||
isNull(scenePlayer.contextMenu)||isNull(scenePlayer.contextMenu.about)||!scenePlayer.contextMenu.about.hidden)e.about={name:c,clazz:"ivid-cm-about"};0<Object.keys(e).length&&$.contextMenu({selector:"#pop-container",callback:function(c,e){"about"==c?isNull(scenePlayer)||isNull(scenePlayer.contextMenu)||isNull(scenePlayer.contextMenu.about)||isNull(scenePlayer.contextMenu.about.url)||""==scenePlayer.contextMenu.about.url?window.open("http://www.cinema8.com","_blank"):window.open(scenePlayer.contextMenu.about.url,
"_blank"):"curl"==c||"curlt"==c?createIvideoAction("curl"):"cec"==c&&createIvideoAction("cec")},items:e})},100),setTimeout(function(){new Clipboard(".ivid-cm-copy-url",{text:function(c){return getVideoUrl()}});new Clipboard(".ivid-cm-copy-url-t",{text:function(c){return getVideoUrl(!0)}});new Clipboard(".ivid-cm-copy-embed",{text:function(c){return getEmbedCode()}})},300))}
playFunc=function(c,e,b,g){availableSubtitles={};_hashId=c;liveStream=!1;c=applicationWsPath+"/uscene/"+_hashId;c+=";jsessionid\x3d"+sessionId;var k="?";getParameterByName("sub")&&(c+=k+"sub\x3d"+getParameterByName("sub"),k="\x26");if(1==getParameterByName("resumeLastPosition")||"true"==getParameterByName("resumeLastPosition"))c+=k+"resumeLastPosition\x3d"+getParameterByName("resumeLastPosition");if(1==getParameterByName("nC")||"true"==getParameterByName("nC"))c+=k+"nC\x3dtrue";isNull(getParameterByName("player"))||
(c+=k+"player\x3d"+getParameterByName("player"));isNull(externalVideoUrl)?$.ajax({type:"GET",url:c,beforeSend:function(c){null==getParameterByName("token")||1!=getParameterByName("resumeLastPosition")&&"true"!=getParameterByName("resumeLastPosition")||c.setRequestHeader("Authorization","Grant "+btoa(getParameterByName("token")))},dataType:"json",complete:function(c,d){if(200==c.status){var f=jQuery.parseJSON(c.responseText);null!=f.introduction&&(e=!1,b=!0,intro(f),f.autoplay=!1);null==e&&(e=f.autoplay);
$("#ivid-start-box, #ivid-start-box-mobile, #ivid-start-btn, #ivid-start-btn-mobile, #ivid-thumbnail-overlay-image").css("display","none");_hashId=f.hashId;sceneData=f;playerSettings=f.playerSettings;try{if("undefined"!==typeof Storage&&null==lastPosition&&(1==getParameterByName("resumeLastPosition")||"true"==getParameterByName("resumeLastPosition"))){var k=localStorage.getItem("latest_projects");if(void 0!=k&&null!=k){var k=JSON.parse(k),n=k[getHashId()];void 0!=n&&null!=n&&null!=n.leftPos&&(lastPosition=
n.leftPos)}}}catch(p){}null==lastPosition&&(lastPosition=f.lastPosition);void 0!=e&&null!=e&&(sceneData.autoplay=e);g&&(sceneData.fromInstantPlay=!0);sceneData.image.url&&$("#ivid-thumbnail-overlay-image").css("background-image","url("+sceneData.image.url+")");Hls.isSupported()||isNull(f.mediaContent.hlsUrl)||11==getIEVersion()||10==getIEVersion()||9==getIEVersion()||("ios"==getMobileOS()&&f._360?f.mediaContent.hlsUrl=null:f.mediaContent.url=f.mediaContent.hlsUrl);__isSafari()&&(null==f.mediaContent.url&&
(f.mediaContent.url=f.mediaContent.hlsUrl),f.mediaContent.hlsUrl=null);"LIVE_STREAM"==f.mediaContent.mediaType&&(liveStream=!0);liveStream&&($(".time-controls").css("display","none"),$("#live-stream-info").css("display","block"));scenePlayer=f.scenePlayer;try{var q=checkQueryParam("ctrl-seekbar"),r=checkQueryParam("ctrl-timer"),s=checkQueryParam("ctrl-play"),v=checkQueryParam("ctrl-volume"),z=checkQueryParam("ctrl-fullscreen"),w=checkQueryParam("ctrl-settings"),B=checkQueryParam("ctrl-backward"),
E=checkQueryParam("ctrl-forward");isNull(q)||(scenePlayer.hideSeekBar=!q);isNull(r)||(scenePlayer.hideTimer=!r);isNull(s)||(scenePlayer.hidePlayPauseButton=!s);isNull(v)||(scenePlayer.hideVolume=!v);isNull(z)||(scenePlayer.hideFullScreen=!z);isNull(w)||(scenePlayer.hideSettings=!w);isNull(B)||(scenePlayer.hideBackward=!B);isNull(E)||(scenePlayer.hideForward=!E)}catch(u){console.log(u)}f._360?$("#pop-container").addClass("c8-360"):(c8VR=null,_360_=!1,$("#pop-container").removeClass("c8-360"));null==
video_muted&&1==getParameterByName("muted")&&(video_muted=!0);null==video_loop&&1==getParameterByName("loop")&&(video_loop=!0);videoInit(f.tracks,"#video",f.mediaContent.mediaPlatform,f.mediaContent.url,e,f.showTrackMark,b,f.scenePlayer,f.showShareIcon);generateContextMenu();apiEvent("subtitle");apiEvent("subtitles")}else console.log("Error-01"),document.getElementById("container").innerHTML='\x3cdiv class\x3d"wrap col-md-12" style\x3d"text-align: center;"\x3e\x3cdiv class\x3d"main"\x3e\x3cdiv id\x3d"errorField"\x3e\x3cdiv style\x3d"color: #fff; font-size: 1.8em; margin-top: 2em;"\x3eProject not found\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"footer"\x3e\x3c/div\x3e\x3c/div\x3e'}}):
(null==video_muted&&1==getParameterByName("muted")&&(video_muted=!0),null==video_loop&&1==getParameterByName("loop")&&(video_loop=!0),videoInit(null,"#video","NA",externalVideoUrl,e,null,null,null,null),generateContextMenu(),apiEvent("subtitle"),apiEvent("subtitles"))};function checkQueryParam(c){c=getParameterByName(c);if(!isNull(c)){if("1"==c||"true"==c)return!0;if("0"==c||"false"==c)return!1}return null}
function changeSubtitles(c){"off"==c&&(c=void 0);$(".gplayer-subtitle-form .gplayer-subtitle-content").html("");selectedSubtitles=c;$(".subs-li").find("i.fa.fa-check").remove();var e=$(".subs-li .subs-select#"+c);0<e.length?e.find("a").append('\x3ci class\x3d"fa fa-check  pull-right"\x3e\x3c/i\x3e'):$($(".subs-li .subs-select")[0]).find("a").append('\x3ci class\x3d"fa fa-check  pull-right"\x3e\x3c/i\x3e');var b=c;c=applicationWsPath+"/uscene/subtitle/"+_hashId+"/"+b;b?($(".subs-li").find("a span.sval").html($(e).data("lang")),
void 0!=availableSubtitles[b]&&null!=availableSubtitles[b]?(sceneData.subtitle=availableSubtitles[b],changeSubtitlesTrack()):$.ajax({type:"GET",url:c,dataType:"json",complete:function(c,e){200==c.status&&null!=c.responseJSON&&c.responseJSON&&(sceneData.subtitle=c.responseJSON,availableSubtitles[b]=sceneData.subtitle,changeSubtitlesTrack())}})):($(".subs-li").find("a span.sval").html("Off"),selectedSubtitles=null,popcorn.getTrackEvents().forEach(function(c,b){"SUBTITLE"==c.trackType&&popcorn.removeTrackEvent(c.id)}));
setTimeout(function(){$(".subs-li .dl-back").click()},100);apiEvent("subtitle")}function getMultipleScripts(c,e){var b=0;c.forEach(function(g){$.getScript(g,function(){++b==c.length&&e()})})}function loadScripts(c){c.forEach(function(c,b){$.getScript(c)});return $.when.apply($,c)}
getCustomFontNames=function(c){if(null==c)return[];var e=[];if(null!=c.googleFontUrl)try{getParameterByName("family",c.googleFontUrl).split("|").forEach(function(c){e.push(c.split(":")[0])});var b=getFontFamiliesFromCustomFonts(c.customFonts);null!=b&&0<b.length&&(e=e.concat(b))}catch(g){}return e};
getFontFamiliesFromCustomFonts=function(c){var e=/font-family:\s*['"]?([^'"]+)['"]?/i;c=c.replace(/\/\*[\s\S]*?\*\//g,"").split("}");for(var b=[],g=0;g<c.length;g++){var k=c[g].trim();0<k.length&&k.startsWith("@font-face")&&(k=k.match(e))&&2<=k.length&&(b.includes(k[1])||b.push(k[1]))}return b};
function getOrderedTrack(c){var e=[];if(null!=c&&0<c.length)for(var b=0;b<c.length;b++)"CONDITIONAL"==c[b].trackType?e.push(c[b]):e.unshift(c[b]);return e=e.sort(function(c,b){return"CHAPTER"==c.trackType&&"CHAPTER"==b.trackType&&c.start>b.start?1:-1})}function isExternalVideoHlsUrl(){if(isNull(externalVideoUrl))return!1;if(externalVideoUrl.endsWith(".m3u8"))return!0}
function initSettingsMenu(){$("#dl-menu").dlmenu({});$(".speed-select .dl-back a").html("Speed");$(".subs-li .dl-back a").html("Subtitles");$(".audio-track-select .dl-back a").html("Audio");$(".ivid-quality-select .dl-back a").html("Quality")}
function updateLevelInfo(){var c=hls.autoLevelEnabled,e=hls.loadLevel;0<=hls.currentLevel&&(e=hls.currentLevel);var b=void 0;void 0==b&null!=hls.levels&&null!=hls.levels[e]&&(b=hls.levels[e].height,void 0==b&&(b=kbToP(hls.levels[e].bitrate)));var g=getHdLevelText(b);null==g&&(g="");hdLevelClassname="";"HD"==g?hdLevelClassname="c8-fmenu-quality-level":"4K"==g?hdLevelClassname="c8-fmenu-quality-level":"8K"==g&&(hdLevelClassname="c8-fmenu-quality-level");c?(hls.autoLevelEnabled=!0,$(".ivid-quality-li").find("a span.sval").html("Auto "+
b+'p\x3cspan class\x3d"'+hdLevelClassname+'"\x3e'+g+"\x3c/span\x3e"),$(".ivid-quality-select").find("i.fa.fa-check").remove(),$('.ivid-quality-select li[data-q\x3d"-1"]').find("a").append('\x3ci class\x3d"fa fa-check  pull-right"\x3e\x3c/i\x3e')):("-1"!=hls.currentLevel&&$(".ivid-quality-li").find("a span.sval").html(b+'p\x3cspan class\x3d"'+hdLevelClassname+'"\x3e'+g+"\x3c/span\x3e"),$(".ivid-quality-select").find("i.fa.fa-check").remove(),$('.ivid-quality-select li[data-q\x3d"'+e+'"]').find("a").append('\x3ci class\x3d"fa fa-check  pull-right"\x3e\x3c/i\x3e'))}
function canplayTimer(){0<videoDuration?canplayStopFunction():(videoDuration=popcorn.duration(),isNaN(videoDuration)&&(videoDuration=isRawVideoUrlFormat()?sceneData.duration:sceneData.mediaContent.duration),void 0==videoDuration||null==videoDuration||isNaN(videoDuration)||(sliderFunc(1E3*videoDuration),volumeSliderFunc(100*popcorn.volume()),video_muted?($("#vol-slider").slider("value",0),showVolumeMuteIcon()):$("#vol-slider").slider("value",100*popcorn.volume()),$("#total-time").html(formatSeconds(videoDuration,
videoDuration)),""==$("#current-time").html()?$("#current-time").html(formatSeconds(0,videoDuration)):null,createSliderMarks(),"ios"!=getMobileOS()&&"android"!=getMobileOS()||$("#volume-up").css("display","none")))}function canplayStopFunction(){clearInterval(canplayVar)}
function canPlayFunc(){if(!canplayCalled){canplayCalled=!0;addIOSfullscreenEvents();apiEvent("loop");apiEvent("authenticatedUser");apiEvent("qualityLevels");apiEvent("qualityLevel");hasQuestionIntro||null!=getParameterByName("controls")&&""!=getParameterByName("controls")&&1!=getParameterByName("controls")&&1!=getParameterByName("controls")||isNull(scenePlayer)||scenePlayer.hideSeekBar&&scenePlayer.hideTimer&&scenePlayer.hidePlayPauseButton&&scenePlayer.hideVolume&&scenePlayer.hideFullScreen&&scenePlayer.hideSettings&&
scenePlayer.hideBackward&&scenePlayer.hideForward||$(".ext-video-controls").fadeIn(100,function(){$(".cntrl-item").css("display","block");$(this).css("display","block")});$("#overlay-area").css("display","block");$("#loading-box").fadeOut(300,function(){$(this).css("display","none")});if(!isNull(externalVideoUrl)){var c=parseInt(Math.ceil(popcorn.duration()));null==sceneData.mediaContent&&(sceneData.mediaContent={duration:c})}updateWindowSize(!1);canplayVar=setInterval(function(){canplayTimer()},
100);setTimeout(function(){$(window).resize();mMove(0,0,1,1);mobileAndTabletcheck()&&($("#vol-slider, .vol-ico, .ivid-ctrl-item, .ivid-seekbar").css("pointer-events","all"),$(".ext-video-controls").css("pointer-events","none"))});apiEvent("canplay")}$(window).resize()}
function videoInit(c,e,b,g,k,h,d,f,l){b=document.getElementById("xvideo");null!=b&&b.removeEventListener("loadeddata",loadeddataHandler,!0);c=getOrderedTrack(c);mobileAndTabletcheck()&&(fitToScreenOnPortrait=sceneData.fitToScreenOnPortrait,fitToScreenOnLandscape=sceneData.fitToScreenOnLandscape);sceneData._360&&(fitToScreenOnPortrait||fitToScreenOnLandscape)&&create360FitToScreenStyle();if(null!=playerSettings&&(null!=playerSettings.googleFontUrl&&WebFont.load({custom:{urls:[playerSettings.googleFontUrl]}}),
b=getCustomFontNames(playerSettings),null!=b&&0<b.length)){for(var n="",p=0;p<b.length;p++)n+="\x3cspan style\x3d\"font-family: '"+b[p]+"';\"\x3e.\x3c/span\x3e";document.getElementById("hidden-fonts-loader").innerHTML=n}if(null!=sceneData){var q={};prevProjectId&&__IVIDEO_CONTEXT__.projects[prevProjectId]&&__IVIDEO_CONTEXT__.projects[prevProjectId].context&&persistentVariables.forEach(function(c){__IVIDEO_CONTEXT__.projects[prevProjectId].context[c]&&(q[c]=__IVIDEO_CONTEXT__.projects[prevProjectId].context[c])});
__IVIDEO_CONTEXT__.projects[sceneData.hashId]={hashId:sceneData.hashId,consumedActions:{},consumedQuestionOptions:{},consumedQuestionCorrectnessActions:{},context:q,userInteractions:[]};__IVIDEO_CONTEXT__.authenticatedUser="undefined"!==typeof _loggedInUser_&&null!=_loggedInUser_?_loggedInUser_:{}}hlsUrl=null;_tracks=c;isRawPlay()&&(_tracks=c=null);if(11==getIEVersion()||10==getIEVersion()||9==getIEVersion())sceneData.mediaContent.hlsUrl=null;videoDuration=void 0;$(".chapter-menu").css("display",
"none");$(".sidebar.menu \x3e .item:not(:eq(0))").remove();chapters=[];$("#video").html("");$("#overlay-area").html("");"ios"==getMobileOS()&&(null==playerSettings&&$(".enter-full").css("display","none"),(null!=playerSettings&&!playerSettings.allowFullscreenOnIOS||"undefined"!==typeof sceneData._360&&sceneData._360)&&$(".enter-full").css("display","none"));var r=null;"ios"!=getMobileOS()&&Hls.isSupported()&&!isNull(sceneData.mediaContent)&&!isNull(sceneData.mediaContent.hlsUrl)||rawWithHls||isExternalVideoHlsUrl()?
r=Popcorn.HTMLVideoElement(e):(r=Popcorn.HTMLVideoElement(e),r.src=g);!rawWithHls||void 0!=r.src&&null!=r.src&&""!==r.src||(r.src=g);originalVid={};originalVid.src=r.src;r.setAttribute("id","xvideo");null!=sceneData&&null!=sceneData.image&&null!=sceneData.image.url&&r.setAttribute("poster",sceneData.image.url);r.setAttribute("webkit-playsinline","");r.setAttribute("playsinline","");b=document.getElementById("xvideo");"undefined"!==typeof sceneData._360&&sceneData._360?r.setAttribute("crossorigin",
"anonymous"):r.removeAttribute("crossorigin");video_loop&&r.setAttribute("loop","");video_muted&&r.setAttribute("muted","");window.makeVideoPlayableInline(b,!b.hasAttribute("muted"),!0);enableButtons(b);debugEvents(b);popcorn&&popcorn.getTrackEvents().forEach(function(c,b){popcorn.removeTrackEvent(c.id)});popcorn=Popcorn(r);video_muted&&popcorn.muted(!0);tTime=calcTTime();mobileAndTabletcheck()||null==tTime||sceneData.fromInstantPlay||(e=null,null!=sceneData&&null!=sceneData.mediaContent&&sceneData.mediaContent.duration&&
sceneData.mediaContent.duration&&(e=sceneData.mediaContent.duration),(null==e||e>tTime&&e>tTime+1)&&popcorn.currentTime(tTime));null!=lastPosition&&null!=sceneData&&null!=sceneData.mediaContent&&null!=!sceneData.mediaContent.duration&&lastPosition<Math.floor(sceneData.mediaContent.duration-1)&&(resumeLastPositionActionCalled=!0,null!=popcorn&&Math.floor(popcorn.duration())!=lastPosition&&Math.ceil(popcorn.duration())!=lastPosition&&popcorn.currentTime(lastPosition));mobileAndTabletcheck()&&!mobileUserGestureInitiated?
popcorn.autoplay(!1):popcorn.autoplay(k);try{if(!video_muted){var s=getLocalStorageData("c8-player-volume");null!=s&&null!=s.volume&&popcorn.volume(s.volume/100)}}catch(v){}s=null;null!=instantPlayStartTime&&0!=instantPlayStartTime&&(s=instantPlayStartTime,popcorn.currentTime(s));sceneData._360?($("#xvideo").css("display","none"),"function"!=typeof Cinema8VR?"localhost"===location.hostname||"127.0.0.1"===location.hostname?$.getScript("../player/js/360/three.r147.min.js").done(function(c,b){$.getScript("../player/js/360/VRControl.js").done(function(c,
b){$.getScript("../player/js/360/ShadowedLight.js").done(function(c,b){$.getScript("../player/js/360/BoxLineGeometry.js").done(function(c,b){$.getScript("../player/js/360/three-mesh-ui.min.js").done(function(c,b){$.getScript("../player/js/360/VRButton.js").done(function(c,b){$.getScript("../player/js/360/libs/motion-controllers.module.js").done(function(c,b){$.getScript("../player/js/360/loaders/GLTFLoader.js").done(function(c,b){$.getScript("../player/js/360/loaders/FontLoader.js").done(function(c,
b){$.getScript("../player/js/360/XRControllerModelFactory.js").done(function(c,b){$.getScript("../player/js/360/DeviceOrientationControls.js").done(function(c,b){$.getScript("../player/js/360/CSS3DRenderer2.js").done(function(c,b){$.getScript("../player/js/360/cinema8VR.js").done(function(c,b){$.getStylesheet("../player/css/360.css").done(function(c,b){c8VR=new Cinema8VR(".vr-player-container",{autoDeviceOrientation:sceneData.autoDeviceOrientation})})})})})})})})})})})})})})}):$.getScript("https://static-01.cinema8.com/player/compiled/ivideo.360.min.js?v\x3d"+
(new Date).getTime()).done(function(c,b){_360_=!0;c8VR=new Cinema8VR(".vr-player-container",{autoDeviceOrientation:sceneData.autoDeviceOrientation})}):(_360_=!0,null==c8VR?c8VR=new Cinema8VR(".vr-player-container",{autoDeviceOrientation:sceneData.autoDeviceOrientation}):(c8VR.autoDeviceOrientation=sceneData.autoDeviceOrientation,c8VR.init()))):sceneData._360?$("#xvideo").css("display"," none"):$("#xvideo").css("display","block");$(".ui-slider-tick").remove();trackTicks=[];var z=[],w=!1;isNull(c)||
c.forEach(function(c){"ios"==getMobileOS()&&"ACTION"==c.trackType&&"MUTE"==c.actionType&&r.setAttribute("muted","");"DFP"!=c.trackType||w||(w=!0,"undefined"==typeof google&&$.getScript("//imasdk.googleapis.com/js/sdkloader/ima3.js",function(){imaScriptLoaded=!0}));try{if("QUESTION"==c.trackType){if(c.persistent&&null!=c.name&&""!=c.name.trim()&&-1===persistentVariables.indexOf(c.name.trim()))if("DRAG_N_DROP"==c.questionType){var b=(new DOMParser).parseFromString(c.questionText,"text/html"),d=b.querySelectorAll("input[data-dnd-drop-id]");
null!=d&&0<d.length&&d.forEach(function(b){b.dataset&&b.dataset.dndDropId&&(b=c.name.trim()+"."+b.dataset.dndDropId.trim())&&-1===persistentVariables.indexOf(b)&&persistentVariables.push(b)})}else if("FILL_IN_THE_BLANK"==c.questionType)b=(new DOMParser).parseFromString(c.questionText,"text/html"),d=b.querySelectorAll("input"),null!=d&&0<d.length&&d.forEach(function(b){b.dataset&&b.id&&(b=c.name.trim()+"."+b.id)&&-1===persistentVariables.indexOf(b)&&persistentVariables.push(b)});else{var e=c.name.trim();
e&&-1===persistentVariables.indexOf(e)&&persistentVariables.push(e)}null!=c.options&&0<c.options.length&&c.options.forEach(function(c){null==c.variables&&(c.variables=[]);null!=c&&null!=c.actionData&&null!=c.actionData.acts&&0<c.actionData.acts.length&&c.actionData.acts.forEach(function(b){if("CONTEXT_DATA"==b.at){var d=null,e=null;b=b.av.split(";");null!=b&&0<b.length&&(d=b[0],e=b[1]);c.variables.push({key:d,value:e});b&&4<=b.length&&"1"==b[3]&&-1===persistentVariables.indexOf(d)&&persistentVariables.push(d)}})})}}catch(f){console.log(f)}try{"QUESTION"==
c.trackType&&setScormInteraction(c)}catch(g){console.log(g)}if("DFP"!=c.trackType||!adBlockEnabled)if("IMAGE"==c.trackType&&z.push(c.image.url),"CHAPTER"==c.trackType)chapters.push({name:c.name,jump:c.start}),e=escapeHtml(c.name),$('\x3ca data-jump\x3d"'+c.start+'"class\x3d"item"\x3e'+e+"\x3c/a\x3e").appendTo(".sidebar.menu");else{h&&"CLICKABLE_AREA"!=c.trackType&&"CONDITIONAL"!=c.trackType&&c.visible&&trackTicks.push(c.start);null==c.end?c.end=c.start+1E3:c.closeEnding=!0;"VIDEO"==c.trackType&&50>
c.start&&(c.start=50,k=!1,sceneData.autoplay=!1,popcorn.autoplay(!1));"AUDIO"==c.trackType&&(50>c.start&&(c.start=50),c.syncWithTimeline&&null!=c.mediaContent&null!=c.mediaContent.duration&&(c.end=c.start+1E3*c.mediaContent.duration),c.mediaContent&&c.mediaContent.url&&!c.mediaContent.url.startsWith("http")&&(c.mediaContent.url="https://cdn1.cinema8.com/mp4/"+c.mediaContent.url));0==c.start&&"QUESTION"==c.trackType&&c.pauseVideoOnEnter&&c.visible&&(hasQuestionIntro=!0,k=!1,popcorn.autoplay(!1),$(".ext-video-controls").css("display",
"none"));1>c.start&&sceneData._360&&(c.start=.5);0==c.start&&"DFP"==c.trackType&&(c.start=.01,c.pauseWhenAdLoading=!0);c.trackActions&&0<c.trackActions.length&&c.trackActions.forEach(function(c){"CONTEXT_DATA"==c.trackActionType&&c.value&&(c=c.value.split(";"))&&4<=c.length&&"1"==c[3]&&-1===persistentVariables.indexOf(c[0])&&persistentVariables.push(c[0])});try{if("TEMPLATED"==c.trackType&&c.props)for(e in c.props)if(c.props.hasOwnProperty(e))if("[object Array]"===Object.prototype.toString.call(c.props[e]))for(b=
[],d=0;d<c.props[e].length;d++){if(b.push(c.props[e][d].v),null!=c.props[e][d].acts){var l=c.props[e][d].acts;l&&l.forEach(function(c){"CONTEXT_DATA"==c.at&&c.av&&(c=c.av.split(";"))&&4<=c.length&&"1"==c[3]&&-1===persistentVariables.indexOf(c[0])&&persistentVariables.push(c[0])})}}else"object"===typeof c.props[e]&&null!==c.props[e]&&(l=c.props[e].acts)&&l.forEach(function(c){"CONTEXT_DATA"==c.at&&c.av&&(c=c.av.split(";"))&&4<=c.length&&"1"==c[3]&&-1===persistentVariables.indexOf(c[0])&&persistentVariables.push(c[0])})}catch(n){console.log(n)}c.start/=
1E3;c.end/=1E3;c.target="overlay-area";trackTimeRangeList.push({trackType:c.trackType,start:c.start,end:c.end});popcorn.gplayer(c)}});try{generateUserAnswersForScorm()}catch(B){console.log(B)}l||$("#ivid-share-icon").remove();assetPreInitialize(z);null!=sceneData.subtitles&&$("#settingsDropup").css("display","block");null!=sceneData.subtitle&&(void 0!=getParameterByName("sub")&&null!=getParameterByName("sub")&&(availableSubtitles[getParameterByName("sub")]=sceneData.subtitle),updateSubtitleTracks());
$(".gplayer-subtitle-content").css("color","yellow");popcorn.on("canplay",function(){canPlayFunc()});popcorn.on("ended",function(){endedFunc();scormSetLocation()});popcorn.on("waiting",function(){showWaitingLoader()});popcorn.on("seeking",function(){});popcorn.on("volumechange",function(){apiEvent("volumechange");0<popcorn.volume()&&(popcorn.muted(!1),video_muted=!1);$("#vol-slider").slider("value",100*popcorn.volume());setLocalStorageData("c8-player-volume",{volume:parseInt(100*popcorn.volume())})});
popcorn.on("trackstart",function(c){setTimeout(function(){"SCENE_SELECTION"==c.trackType&&$(".select-scene").click(function(){_hashId=$(this).attr("data-hash-id");var c=window.location.href,c=replaceUrlParam(c,"iv",_hashId);heatMap={tmpSec:null,hlist:[]};$.when($.ajax({type:"GET",url:c})).then(function(c){var b=/currentHeatMapUuid="\s*(.*?)\s*";/g,d=/sessionId="\s*(.*?)\s*";/g;if(!isNull(c)){for(;m=b.exec(c);){currentHeatMapUuid=m[1];break}for(;m=d.exec(c);){sessionId=m[1];break}}canplayCalled=!1;
$("#loading-box").fadeIn(300,function(){$(this).css("display","block")});playFunc(_hashId);mobileAndTabletcheck()&&$("#ss-continue-box").css("display","block")})})},100)});popcorn.on("pause",function(){$(".play-video").css("display","block");$(".pause-video").css("display","none");controllerEventFired();apiEvent("pause");sendHeatMap();playing=!1;var c=document.querySelectorAll("[data-c8-element-template]");if(c&&0<c.length)for(var b=new Event("onPause"),d=0;d<c.length;d++)c[d].dispatchEvent(b);c8PlayerApi.executeEvent(null,
"pause");pauseLottie()});popcorn.on("play",function(){$(".play-video").css("display","none");liveStream?$(".pause-video").css("display","none"):$(".pause-video").css("display","block");mMove(0,0,1,1);controllerEventFired();apiEvent("play");playing=!0;$("#ivid-suggested-scenes").css("display","none");$("#ivid-suggested-scene-previous-button").css("display","none");$("#ivid-suggested-scene-next-button").css("display","none");$("#gplayer-player-icon").removeClass("replay-icon").addClass("play-icon");
0>=$("#overlay-area").find(".question-form").length&&$("#overlay-area").css("background","transparent");var c=document.querySelectorAll("[data-c8-element-template]");if(c&&0<c.length)for(var b=new Event("onPlay"),d=0;d<c.length;d++)c[d].dispatchEvent(b);c8PlayerApi.executeEvent(null,"play");playLottie()});setInterval(function(){popcorn.paused()||popcorn.timeUpdate()},50);popcorn.on("timeupdate",function(){hitBeanMapHandler(popcorn.currentTime());apiEvent("timeupdate");if(videoCurrentTime!=popcorn.currentTime()){if(sliderFuncCalled&&
!liveStream)try{$("#slider").slider("option","value",1E3*popcorn.currentTime())}catch(c){console.log(c)}videoCurrentTime=popcorn.currentTime();null!=videoDuration&&$("#current-time").html(formatSeconds(videoCurrentTime,videoDuration))}});$(".play-video").click(function(){playIt();$(".play-video").css("display","none");liveStream||$(".pause-video").css("display","block");$(".question-wrapper").fadeOut(300,function(){$(this).css("display","none")})});$(".pause-video").click(function(){pauseIt();$(".play-video").css("display",
"block");$(".pause-video").css("display","none")});$(".volume-up-video").click(function(){volumeValue=parseInt(100*popcorn.volume());popcorn.volume(0);volumeSliderFunc(0);$("#vol-slider").slider("value",0);showVolumeMuteIcon()});$(".mute-video").click(function(){if(null==volumeValue||0==volumeValue)volumeValue=50;popcorn.volume(volumeValue/100);volumeSliderFunc(volumeValue);$("#vol-slider").slider("value",volumeValue);showVolumeUpIcon()});$("#vol-slider").slider({change:function(c,b){0<100*popcorn.volume()?
showVolumeUpIcon():showVolumeMuteIcon()}});$(".backward5").click(function(){skipBackward(5)});$(".forward5").click(function(){skipForward(5)});$(".stop-video").click(function(){popcorn.pause();$(".stop-video").css("display","none");isNull(hls)||(hls.liveStreamStopped=!0)});introductionFormEnabled&&popcorn.autoplay(!1);null==getParameterByName("controls")||"false"!=getParameterByName("controls")&&0!=getParameterByName("controls")||hidePlayerControls();isNull(f)||(f.hideSeekBar&&f.hideTimer&&f.hidePlayPauseButton&&
f.hideVolume&&f.hideFullScreen&&f.hideSettings&&f.hideBackward&&f.hideForward&&hidePlayerControls(),f.hideSeekBar&&$("#slider").remove(),f.hideBackward&&$(".backward5").remove(),f.hideForward&&$(".forward5").remove(),f.hideTimer&&$(".time-controls").remove(),f.hidePlayPauseButton&&$(".play-video, .pause-video").remove(),f.hideVolume&&$("#vol-slider, #volume-up, #mute-video").remove(),f.hideFullScreen&&$(".enter-full, .exit-full").remove(),f.hideSettings&&$("#dl-menu").remove());mobileAndTabletcheck()&&
$("#slider").addClass("mobile");if("ios"!=getMobileOS()&&Hls.isSupported()&&!isNull(sceneData.mediaContent)&&!isNull(sceneData.mediaContent.hlsUrl)||rawWithHls||isExternalVideoHlsUrl()){f=document.getElementById("xvideo");c={};if(null!=sceneData&&null!=sceneData.mediaContent&&"CINEMA8"==sceneData.mediaContent.mediaPlatform||isExternalVideoHlsUrl())c.startLevel=4,c.minAutoBitrate=1E6,c.maxMaxBufferLength=30,c.manifestLoadingTimeOut=2E4;hls=new Hls(c);null!=sceneData&&null!=sceneData.mediaContent&&
null!=sceneData.mediaContent.hlsUrl&&(hlsUrl=sceneData.mediaContent.hlsUrl);isNull(hlsUrl)&&isExternalVideoHlsUrl()&&(hlsUrl=externalVideoUrl);hls.loadSource(hlsUrl);hls.attachMedia(f);hls.on(Hls.Events.MANIFEST_PARSED,function(c,b){null!=sceneData&&null!=sceneData.mediaContent&&null!=hls.levels&&("CINEMA8"==sceneData.mediaContent.mediaPlatform?(6<hls.levels.length&&(hls.startLevel=6),null!=c8VR&&(hls.currentLevel=6<hls.levels.length?hls.levels.length-2:hls.levels.length-1)):"CINEMA8_V2"==sceneData.mediaContent.mediaPlatform&&
(hls.startLevel=4));sceneData.autoplay||($("#ivid-start-box").css("display","block"),$("#ivid-start-btn").css("display","block"),$("#ivid-thumbnail-overlay-image").css("display","block"),setTimeout(function(){},1E3));sceneData.quality=[];var d=hls.levels[0].height;void 0==d&&(d=kbToP(hls.levels[0].bitrate));sceneData.quality.push({level:0,height:d});for(var e=getLocalStorageData("c8-player-quality"),f=null,h=hls.levels.sort(function(c,b){return c.height-b.height}),g=0;g<h.length;g++){for(var k=sceneData.quality.length;k--;){var l=
sceneData.quality[k],d=h[g].height;void 0==d&&(d=kbToP(h[g].bitrate));l.height==d&&sceneData.quality.splice(k,1)}sceneData.quality.unshift({level:g,height:d});null==e||isNaN(e.quality)||d!=e.quality||(f=g)}liveStream&&!liveStreamStarted&&(liveStreamStarted=!0);try{null!=f&&(hls.currentLevel=f)}catch(n){}updateLevelInfo()});hls.on(Hls.Events.LEVEL_SWITCH,function(c,b){updateLevelInfo();removeWaitingLoader()});hls.on(Hls.Events.FRAG_CHANGED,function(c,b){updateLevelInfo();removeWaitingLoader()});hls.on(Hls.Events.LEVEL_SWITCHED,
function(c,b){try{if(null!=b&&null!=b.level&&null!=hls.levels[b.level]){var d=getHdLevelText(hls.levels[b.level].height);$(".ivid-settings").removeClass("c8-qlevel-hd c8-qlevel-4k c8-qlevel-8k");$(".ivid-quality-li .sval").removeClass("c8-hq-sval");"HD"==d?$(".ivid-settings").addClass("c8-qlevel-hd"):"4K"==d?$(".ivid-settings").addClass("c8-qlevel-4k"):"8K"==d&&$(".ivid-settings").addClass("c8-qlevel-8k");null!=d&&$(".ivid-quality-li .sval").addClass("c8-hq-sval")}}catch(e){console.log(e)}try{var f=
document.querySelectorAll("[data-c8-element-template]");if(f&&0<f.length)for(var h=new CustomEvent("onQualityLevelChange",{detail:{level:getCurrentQualityLevel()}}),d=0;d<f.length;d++)f[d].dispatchEvent(h)}catch(g){console.log(g)}c8PlayerApi.executeEvent(null,"qualityLevelChange",getCurrentQualityLevel())});hls.on(Hls.Events.FRAG_BUFFERED,function(c,b){removeWaitingLoader()});hls.on(Hls.Events.AUDIO_TRACK_LOADED,function(c,b){});hls.on(Hls.Events.AUDIO_TRACKS_UPDATED,function(c,b){var d=getParameterByName("audio-track");
isNull(d)||_changeAudioTrack(d);apiEvent("audioTrack",{lang:hls.audioTrack.lang,name:hls.audioTrack.name});apiEvent("audioTracks")});hls.on(Hls.Events.AUDIO_TRACK_SWITCHING,function(c,b){});hls.on(Hls.Events.AUDIO_TRACK_SWITCHED,function(c,b){var d=_getAudioTracks();if(null!=d&&0<d.length)for(var e=0;e<d.length;e++)if(d[e].id==b.id){audioTrackChangeEvent(e);break}});hls.on(Hls.Events.AUDIO_TRACK_LOADING,function(c,b){});hls.on(Hls.Events.ERROR,function(c,b){"networkError"==b.type&&!videoNotFound&&
liveStream&&(videoNotFoundFunc(),playIt())})}setTimeout(function(){canplayCalled||videoNotFound||canPlayFunc()},1E3);c=!1;f=getParameterByName("externalUser");if(void 0!=f&&null!=f&&""!=f)try{var E=JSON.parse(JSON.parse(JSON.stringify(decodeURIComponent(f))));externalUserTracker(E);var u=E.reference;null==u&&(u=E.email);"undefined"!==typeof _loggedInUser_&&null==_loggedInUser_&&(__IVIDEO_CONTEXT__.authenticatedUser={name:E.name,surname:E.surname,username:u})}catch(D){console.log(D)}if(scormApi&&($.when($.ajax({type:"GET",
url:applicationPath+"/video/"+_hashId+"?utm_source\x3dscorm"})).then(function(c){var b=/currentHeatMapUuid="\s*(.*?)\s*";/g,d=/sessionId="\s*(.*?)\s*";/g;if(!isNull(c)){for(;m=b.exec(c);){currentHeatMapUuid=m[1];break}for(;m=d.exec(c);){sessionId=m[1];break}b=c="";"1.2"==scormApi.SCORM.version?(c=scormApi.SCORM.get("cmi.core.student_id"),b=scormApi.SCORM.get("cmi.core.student_name")):(c=scormApi.SCORM.get("cmi.learner_id"),b=scormApi.SCORM.get("cmi.learner_name"));scormUserTracker(c,b)}}),null==storyboard&&
(_cmiLocation=null,_cmiLocation="1.2"==scormApi.SCORM.version?scormApi.SCORM.get("cmi.core.lesson_location"):scormApi.SCORM.get("cmi.location"),E=sceneData.fromInstantPlay?!0:!1,void 0!=_cmiLocation&&null!=_cmiLocation&&""!=_cmiLocation&&"null"!=_cmiLocation&&!E))){E="Would you like to resume from where you previously left off?";u="Info";f="OK";l="Cancel";try{var C=window.navigator.userLanguage||window.navigator.language;void 0!=C&&null!=C&&""!=C&&(C=C.substring(0,2));null!=sceneData&&null!=sceneData.locale&&
null!=sceneData.locale.code&&(C=sceneData.locale.code);void 0!=C&&null!=C&&""!=C&&"tr"==C&&(E="Kaldnz yerden devam etmek ister misiniz?",u="Bilgi",f="Evet",l="Hayr")}catch(F){console.log(F)}pauseIt();c=!0;new BootstrapDialog.confirm({title:u,btnOKLabel:f,btnCancelLabel:l,message:E,callback:function(c){c?(c=scormGetSuspendDataJSON(),null!=c&&null!=c.hashId&&getHashId()!=c.hashId?createInstantPlay(c.hashId,parseFloat(_cmiLocation)):(scormAddSuspendData("hashId",getHashId()),popcorn.currentTime(parseFloat(_cmiLocation)),
playIt())):(scormAddSuspendData("hashId",getHashId()),playIt())}})}0<getIEVersion()&&setTimeout(function(){$("#loading-box").css("display","none")},1E3);(sceneData.pauseWhenTabIsInactive||mobileAndTabletcheck())&&pauseWhenTabIsInactiveFunc();f=document.getElementById("xvideo");playerJsAdapter=playerjs.HTML5Adapter(f);playerJsAdapter.ready();setTimeout(function(){endedCalled=!1;updateWindowSize()},500);0<chapters.length&&"none"==$("#intro-box").css("display")&&"none"==$("#ivid-start-box").css("display")&&
showChapterMenu();if(!(!video_muted&&mobileAndTabletcheck()&&!mobileStartFired&&null==instantPlayStartTime||d||c||hasQuestionIntro))if(k){var A=setInterval(function(){if(canplayCalled){clearInterval(A);var c=null;null!=instantPlayStartTime&&0!=instantPlayStartTime&&(c=instantPlayStartTime);playIt(c)}},100);$(".play-video").css("display","none");$(".pause-video").css("display","block")}else k=!1,pauseIt(),$(".play-video").css("display","block"),$(".pause-video").css("display","none"),$("#ivid-start-box").css("display",
"block"),$("#ivid-start-btn").css("display","block"),$("#ivid-thumbnail-overlay-image").css("display","block")}function showVolumeUpIcon(){"ios"!=getMobileOS()&&($(".volume-up-video").css("display","block"),$(".mute-video").css("display","none"))}function showVolumeMuteIcon(){"ios"!=getMobileOS()&&($(".volume-up-video").css("display","none"),$(".mute-video").css("display","block"))}
function getCurrentQualityLevel(){var c=0;if(null!=hls){var e=hls.levels[hls.currentLevel];if(null!=e&&null!=sceneData&&null!=sceneData.quality&&0<sceneData.quality.length)for(var b=0;b<sceneData.quality.length;b++)e.height==sceneData.quality[b].height&&(c=sceneData.quality[b].level)}return c}
function audioTrackChangeEvent(c){var e=_getCurrentAudioTrack();null!=e&&($(".audio-track-li .sval").html(e.label),$(".audio-track-select").find("i.fa.fa-check").remove(),$(".audio-track-select").find("li[data-aid\x3d'"+c+"'] a").append('\x3ci class\x3d"fa fa-check  pull-right"\x3e\x3c/i\x3e'),apiEvent("audioTrack",{label:e.label,value:e.value}))}
function _getCurrentAudioTrack(c){var e=null;if(null!=hls&&null!=hls.audioTrack&&null!=hls.audioTracks&&0<hls.audioTracks.length)for(var b=0;b<hls.audioTracks.length;b++){if(hls.audioTrack==hls.audioTracks[b].id){e={};c||(e.id=hls.audioTracks[b].id);e.label=hls.audioTracks[b].name;e.value=hls.audioTracks[b].lang;break}}else{var g=null;null!=popcorn&&null!=popcorn.video&&null!=popcorn.video.audioTracks&&(g=popcorn.video.audioTracks);if(null!=g&&0<g.length)for(b=0;b<g.length;b++)if(g[b].enabled){e=
{};c||(e.id=g[b].id);e.label=g[b].label;e.value=g[b].language;break}}return e}
function _getAudioTracks(c){var e=[];if(null!=hls&&null!=hls.audioTracks&&0<hls.audioTracks.length)hls.audioTracks.forEach(function(b,d){var f={};c||(f.id=b.id);f.label=b.name;f.value=b.lang;e.push(f)});else{var b=null;null!=popcorn&&null!=popcorn.video&&null!=popcorn.video.audioTracks&&(b=popcorn.video.audioTracks);if(null!=b&&0<b.length)for(var g=0;g<b.length;g++){var k={};c||(k.id=b[g].id);k.label=b[g].label;k.value=b[g].language;e.push(k)}}return e}
function _changeAudioTrack(c){if(null!=hls&&null!=hls.audioTracks&&0<hls.audioTracks.length)hls.audioTrack=c;else{var e=null;null!=popcorn&&null!=popcorn.video&&null!=popcorn.video.audioTracks&&(e=popcorn.video.audioTracks);if(null!=e&&e.length>=c)for(var b=0;b<e.length;b++)e[b].enabled=c==b?!0:!1}}function changeSubtitlesTrack(){popcorn.getTrackEvents().forEach(function(c,e){"SUBTITLE"==c.trackType&&popcorn.removeTrackEvent(c.id)});null!=sceneData.subtitle&&updateSubtitleTracks()}
function updateSubtitleTracks(){sceneData.subtitle.forEach(function(c,e){var b="";null!=c.words&&0<c.words.length&&(c.words.forEach(function(c,e){b+=c.word+" "}),b=b.substring(0,b.length-1));var g={trackType:"SUBTITLE"};g.start=c.start;g.end=c.end;g.text=b;g.closeEnding=!0;g.id="sub_"+e;g.words=c.words;g.target="overlay-area";popcorn.gplayer(g)})}
function endedFunc(){!endedCalled&&0<videoDuration&&(apiEvent("ended"),sendHeatMap(),endedCalled=!0,null!=storyboard&&storyboard.walk(),-1==getInternetExplorerVersion()&&$(".ext-video-controls").css("display","none"),null==storyboard&&(sceneData.suggestedScenes?$.ajax({type:"GET",url:applicationWsPath+"/uscene/suggestedScenes/"+getHashId(),dataType:"json",complete:function(c,e){$("#ivid-suggested-scene-table").empty();200==c.status||204==c.status?""!=c.responseText&&(suggestedScenesData=jQuery.parseJSON(c.responseText),
$("#ivid-thumbnail-overlay-image").css("display","none"),$("#ivid-start-box").css("display","none"),$(".ext-video-controls").css("display","block"),$("#ivid-suggested-scenes").css("display","block"),$("#ivid-suggested-scenes").css("opacity","0"),$("#ivid-suggested-scene-previous-button").css("display","block"),$("#ivid-suggested-scene-next-button").css("display","block"),$("#gplayer-player-icon").removeClass("play-icon").addClass("replay-icon"),$("#overlay-area").css("background","#000000"),updateWindowSize(),
endedCalled=!1,$("#ivid-suggested-scenes").css("opacity","1"),TweenMax.staggerFromTo(".ivid-suggested-scene-wrapper",.75,{opacity:0,scale:0,display:"block"},{opacity:1,scale:1,ease:Expo.easeOut},.05)):console.log("Error-03")}}):($("#ivid-thumbnail-overlay-image").css("display","block"),$("#ivid-start-box").css("display","block"),$("#ivid-start-btn").css("display","block"),sceneData.retakeable||isNull(externalVideoUrl))),$(".ui.sidebar").sidebar("hide"),hideChapterMenu(),hideShareIcon(),audioElements.stopAll(),
playing=void 0)}function scormSetCompleted(c){minDurForScormCompletion=getParameterByName("minDur");if(scormApi&&null==minDurForScormCompletion||scormApi&&c)"1.2"==scormApi.SCORM.version?scormApi.SCORM.set("cmi.core.lesson_status","completed"):scormApi.SCORM.set("cmi.completion_status","completed"),scormApi.SCORM.save()}function scormSetLocation(c){null==c&&(c="");scormApi&&("1.2"==scormApi.SCORM.version?scormApi.SCORM.set("cmi.core.lesson_location",c):scormApi.SCORM.set("cmi.location",c))}
function scormSetSuccessStatus(c){scormApi&&scormApi.SCORM.set("cmi.success_status",c);scormSetCompleted(!0)}function scormSetProgressMeasure(c){scormApi&&scormApi.SCORM.set("cmi.progress_measure",c)}function scormSetScoreMin(c){scormApi&&("1.2"==scormApi.SCORM.version?scormApi.SCORM.set("cmi.core.score.min",c):scormApi.SCORM.set("cmi.score.min",c))}
function scormSetScoreMax(c){scormApi&&("1.2"==scormApi.SCORM.version?scormApi.SCORM.set("cmi.core.score.min",c):scormApi.SCORM.set("cmi.score.min",c))}function scormSetScoreRaw(c){scormApi&&("1.2"==scormApi.SCORM.version?scormApi.SCORM.set("cmi.core.score.raw",c):scormApi.SCORM.set("cmi.score.raw",c))}function scormSetScoreScaled(c){scormApi&&scormApi.SCORM.set("cmi.score.scaled",c)}function scormSetSuspendData(c){scormApi&&scormApi.SCORM.set("cmi.suspend_data",c)}
function scormAddSuspendData(c,e){var b=scormGetSuspendDataJSON();null!=b&&(b[c]=e,scormSetSuspendData(JSON.stringify(b)))}function scormGetSuspendDataJSON(){if(scormApi){var c=scormApi.SCORM.get("cmi.suspend_data");return null!=c&&""!=c?JSON.parse(c):JSON.parse("{}")}}function scormSetValue(c,e){scormApi&&(isNaN(Number(e)),scormApi.SCORM.set(c,e))}
function toHHMMSS(c){var e=parseInt(c,10);c=Math.floor(e/3600);var b=Math.floor((e-3600*c)/60),e=e-3600*c-60*b;10>c&&(c="0"+c);10>b&&(b="0"+b);10>e&&(e="0"+e);return 0<c?c+":"+b+":"+e:b+":"+e}function createSliderMarks(){for(var c=$("#slider").slider("option"),e=$("#slider").css("border-color"),b,g=0;g<trackTicks.length;)b=(trackTicks[g]/c.max*100).toFixed(2)+"%",$("\x3cdiv/\x3e").addClass("ui-slider-tick").appendTo($("#slider")).css({left:b,background:e}),g++}
function setTimeRanges(c){for(var e={},b=0;b<c.length;b++)e[c.start(b)]=c.end(b);c=null;c=popcorn.currentTime();for(var g in e)if("function"!==typeof e[g]&&c>g&&c<e[g]){c=e[g];e=1E3*c/videoDuration*100;$(".slider-buffer").css("width",e+"%");break}}
function showValue(c,e){sliderSlideEventFiredForSubtitles(e.value/1E3);if(!liveStream&&(setTimeout(function(){}),$("#val").html(e.value),popcorn.currentTime(e.value/1E3),playing?($(".play-video").css("display","none"),$(".pause-video").css("display","block")):($(".play-video").css("display","block"),$(".pause-video").css("display","none")),null!=hls)){var b=$(".slider-buffer").width()/$(".slider-buffer").parent().width()*100;popcorn.currentTime()/popcorn.duration()*100>b&&$(".slider-buffer").css("width",
"0%")}}
sliderFunc=function(c){clearInterval(sliderBufferInterval);void 0!=$("#slider").slider("instance")&&($("#slider").slider("destroy"),$(".slider-buffer").css("width","0%"));$("#slider").slider({min:0,max:c,step:1,range:"min",slide:showValue,start:function(c,b){liveStream||mobileAndTabletcheck()||(originalPlay=playing,pauseIt(!0),popcorn.media.dispatchEvent("pause"))},stop:function(c,b){liveStream||mobileAndTabletcheck()||(originalPlay?playIt(null,!0):pauseIt(!0),popcorn.media.dispatchEvent("play"),setTimeout(function(){$(".player-slider .ui-slider .ui-slider-handle").blur()},
10))},create:function(c,b){liveStream&&($("#slider .ui-slider-handle").css("display","none"),$("#slider").css("cursor","default"),$("#slider .ui-slider-range").css("display","none"));if(!liveStream){if(null==$sliderBuffer||void 0==$sliderBuffer)$sliderBuffer=$("#slider .ui-slider-range").clone(),$sliderBuffer.addClass("slider-buffer"),$sliderBuffer.appendTo("#slider");var g=document.getElementById("xvideo");sliderBufferInterval=setInterval(function(){setTimeRanges(g.buffered)},500)}}}).mousemove(function(e){if(!liveStream&&
"slider-padding"==e.target.id){$(".ivid-tooltip").css("display","block");var b=Math.round(e.offsetX*c/$("#slider").width()/1E3);tooltipCurrTime!=b&&(tooltipCurrTime=b,$(".ivid-tooltip-text").text(toHHMMSS(tooltipCurrTime)));$(".ivid-tooltip-text-wrapper").css("left",e.offsetX-12)}}).mouseout(function(c){tooltipCurrTime=0;$(".ivid-tooltip").css("display","none")});$("#update").click(function(){$("#slider").slider("option","value",1E3*$("#seekTo").val())});sliderFuncCalled=!0};
function volumeSliderFunc(){$("#vol-slider").slider({min:0,max:100,step:1,range:"min",slide:function(c,e){popcorn.volume(e.value/100)},start:function(c,e){},stop:function(c,e){}})}function handlePlayerSeek(c){audioElements.syncWithTimeline(c)}
function intro(c){getHashId();void 0!=applicationPath&&null!=applicationPath&&""!=applicationPath||getHashId();introductionFormIsOpen=introductionFormEnabled=!0;var e=$("body").height();$(".fit-screen").height(e);$("#loading-box").css("display","none");$("#intro-box").css("display","block");var e=e=Handlebars.getTemplate("ivid-introduction"),e=Handlebars.compile(e),b=c.introduction;null!=c&&null!=c.introduction&&c.introduction.params&&(b.name=c.introduction.params.name,b.surname=c.introduction.params.surname,
b.email=c.introduction.params.email);b.strItems=[];c.introduction.items.forEach(function(c){b.strItems.push(c.key);"tac"==c.key&&$(".tac-value").html(c.value)});c=e(b);$("#intro-box").append(c);setTimeout(function(){$("#intr-strt").click(function(){$("#introduction-form").validator("validate");$("#introduction-form").find(".has-error")});$("#introduction-form").validator()},100)}
function enableButtons(c){var e=document.getElementById("xplay"),b=c.parentNode.querySelector(".fullscreen");e&&e.addEventListener("click",function(){c.paused?c.play():c.pause()});b&&b.addEventListener("click",function(){c.webkitEnterFullScreen()})}
function debugEvents(c){"loadstart progress suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended timeupdate play pause webkitbeginfullscreen webkitendfullscreen".split(" ").forEach(function(e){"loadeddata"==e?c.addEventListener(e,loadeddataHandler):c.addEventListener(e,debugEventsHandler)})}
function debugEventsHandler(c){c=c.type;var e=document.getElementById("xvideo");if("seeked"==c){var b=(1E3*popcorn.currentTime()).toFixed(2);handlePlayerSeek(b)}"playing"!=c&&"canplay"!=c||clearTimeout(waitingEventTimer);"waiting"==c&&showWaitingLoader();"timeupdate"==c&&(popcorn.paused()||removeWaitingLoader());"error"==c&&(console.log(c),apiEvent("error",{message:"VIDEO_NOT_FOUND"}));"loadstart"!=c&&"loadedmetadata"!=c||!mobileAndTabletcheck()||mobileStartFired||loadStartMobileOk||(loadStartMobileOk=
!0,updateWindowSize(!1),$("#ivid-start-box").css("display","none"),$("#ivid-start-btn").css("display","none"),$("#ss-continue-box").css("display","block"),$("#ivid-start-box-mobile").css("display","block"),$("#ivid-start-btn-mobile").css("display","block"),$("#ivid-thumbnail-overlay-image").css("display","block"));"ended"==c&&console.log("endeddddd...");null!=e&&e.currentTime==videoDuration&&"ended"==c&&endedFunc();"ios"==getMobileOS()&&"loadedmetadata"==c&&(updateWindowSize(),$("#loading-box").fadeOut(300,
function(){$(this).css("display","none")}));"timeupdate"==c&&"ios"==getMobileOS()&&(e.currentTime==videoDuration||e.currentTime+.3>videoDuration)&&endedFunc()}
function loadeddataHandler(){generateSettingsMenu();generateAudioTrackMenu();generateQualitySettings();initSettingsMenu();var c=popcorn.video.audioTracks;null!=c&&c.addEventListener("change",function(c){var b=null;c=c.currentTarget;if(null!=c&&0<c.length)for(var g=0;g<c.length;g++)if(c[g].enabled){b=g;break}audioTrackChangeEvent(b)});c=getParameterByName("audio-track");isNull(c)||_changeAudioTrack(c);c=_getCurrentAudioTrack(!0);apiEvent("audioTrack",c);apiEvent("audioTracks",_getAudioTracks(!0))}
function initScene(){_hashId=getHashId();externalVideoUrl=getExternalVideo();isNull(externalVideoUrl)?(mobileAndTabletcheck()&&($("#ivid-start-box").css("display","block"),$("#ivid-start-btn").css("display","block"),$("#ivid-thumbnail-overlay-image").css("display","block")),"true"==getParameterByName("autoplay")||1==getParameterByName("autoplay")?playFunc(getHashId(),!0):"false"==getParameterByName("autoplay")||0==getParameterByName("autoplay")?playFunc(getHashId(),!1):playFunc(getHashId())):playFunc(null,
isAutoplay())}function initStoryboard(){$.ajax({type:"GET",url:applicationWsPath+"/ustoryboard/"+getHashId(),dataType:"json",complete:function(c,e){if(200==c.status||204==c.status){var b=null;""!=c.responseText&&(b=jQuery.parseJSON(c.responseText));if(void 0!=b||null!=b)mobileAndTabletcheck()&&($("#ivid-start-box").css("display","block"),$("#ivid-start-btn").css("display","block")),storyboard=new Storyboard(b),storyboard.init()}else console.log("Error-06")}})}function sidebarHide(){}
function removeExpiredLatestProjects(){try{if("undefined"!==typeof Storage){var c=localStorage.getItem("latest_projects");if(void 0!=c&&null!=c)try{var c=JSON.parse(c),e;for(e in c)c.hasOwnProperty(e)&&null!=c[e].exp&&0>c[e].exp-(new Date).getTime()&&delete c[e];localStorage.setItem("latest_projects",JSON.stringify(c))}catch(b){localStorage.removeItem("latest_projects")}}}catch(g){}}
document.addEventListener("DOMContentLoaded",function(){function c(){if(!mobileUserGestureInitiated){if(void 0==document.ivideoMediaList){document.ivideoMediaList=[];var c=document.createElement("video");c.style.width="100%";c.style.height="100%";c.className="js-video";c.style.display="block";c.setAttribute("disablePictureInPicture","");var b=c.play();void 0!==b&&b.then(function(){c.pause()}).catch(function(c){});c.pause();document.ivideoMediaList.push(c)}if(null!=audioElements&&-1<audioElements.currentAudio)return;
b=cloneableAudio.play();void 0!==b&&b.then(function(){cloneableAudio.pause()}).catch(function(c){});for(b=0;b<tmpAudiosLength;b++){var e=audioElements.audio[b].play();void 0!==e&&e.then(function(){if(null!=audioElements)for(var c=0;c<tmpAudiosLength;c++);}).catch(function(c){})}b=cloneableVideo.play();void 0!==b&&b.then(function(){cloneableVideo.pause()}).catch(function(c){});for(b=0;b<tmpVideosLength;b++)e=videoElements.video[b].play(),void 0!==e&&e.then(function(){if(null!=videoElements)for(var c=
0;c<tmpVideosLength;c++);}).catch(function(c){})}mobileUserGestureInitiated=!0}removeExpiredLatestProjects();$("body").delegate("#gvid-play","click",function(c){$('.gplayer-vid-form[data-id\x3d"'+options.id+'"] video')[0].play()});$("body").delegate(".gplayer-scene-item-form","click",function(c){c=$(c.currentTarget).attr("data-hash-id");window.location="localhost"===location.hostname||"127.0.0.1"===location.hostname?applicationPath+"/video/"+c:"/video/"+c});$(".ui.sidebar").sidebar({transition:"overlay",
dimPage:!0,closable:!1,onHide:sidebarHide});$(".chapter-menu").click(function(){isPlayingPreChapter=playing;$("#container").append($(".xsidebar"));$(".ui.sidebar").sidebar("toggle");pauseIt()});$(".close-sidebar").click(function(){$(".ui.sidebar").sidebar("toggle");isPlayingPreChapter&&playIt()});$("#ivid-share-icon").click(function(){shareIconShowStatus=!0;var c=document.getElementById("ivid-share-panel-link"),b=window.location.toString();null!=getParameterByName("shareUrl")&&""!=getParameterByName("shareUrl")&&
(b=getParameterByName("shareUrl"));b=removeParam("token",b);b=removeParam("utm_source",b);c.value='\x3cdiv style\x3d"position: relative; overflow: hidden;padding-top: 56.25%;"\x3e\x3ciframe style\x3d"position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%; border: 0;" src\x3d"'+b+'" gesture\x3d"media" frameborder\x3d"0" webkitallowfullscreen mozallowfullscreen allowfullscreen allow\x3d"autoplay; fullscreen; microphone; camera"\x3e\x3c/iframe\x3e\x3c/div\x3e';$("#ivid-share-panel").fadeIn(300,
function(){$(this).css("display","block")})});$("#ivid-share-panel-close").click(function(){shareIconShowStatus=!1;$("#ivid-share-panel").fadeOut(300,function(){$(this).css("display","none")})});$("body").delegate(".sidebar.menu \x3e .item:not(:eq(0))","click",function(c){$(".ui.sidebar").sidebar("toggle");playIt(parseInt($(this).attr("data-jump"))/1E3)});$("#ivid-start-btn-mobile").click(function(b){c();$(this).css("display","none");playIt(tTime);if(mobileAndTabletcheck()){var e=document.getElementById("yvideo");
b=e.play();void 0!==b&&b.then(function(){e.pause()}).catch(function(c){console.log(c)})}});$("#ivid-start-btn, #ivid-start-box").click(function(b){introductionFormEnabled?location.reload():(c(),window.scrollTo(0,100),endedCalled=!1,mobileStartFired=!0,videoCurrentTime=0,void 0==videoDuration||isNaN(videoDuration)||($("#slider").slider("value",0),$("#current-time").html(formatSeconds(0,videoDuration))),$(".play-video").css("display","none"),$(".pause-video").css("display","block"),$("#ivid-start-box, #ss-continue-box, #ivid-start-btn, #ivid-thumbnail-overlay-image").css("display",
"none"),null!=hls&&void 0==hls.media&&(b=document.getElementById("xvideo"),hls.attachMedia(b)),showChapterMenu(),showShareIcon(),"ivid-start-box"==this.id||"ivid-start-box-mobile"==this.id||"ivid-start-btn"==this.id||"ivid-start-btn-mobile"==this.id?hasQuestionIntro||playIt():(playFunc(getHashId(),!0),mobileAndTabletcheck()&&($("#ss-continue-box").css("display","block"),$("#ivid-start-box-mobile").css("display","block"),$("#ivid-start-btn-mobile").css("display","block"),$("#ivid-thumbnail-overlay-image").css("display",
"block"),$("#ivid-start-box").css("display","none"))),updateWindowSize(!1))});$(document).ready(function(){FastClick.attach(document.body);$(".slider-padding").hover(function(){$(".ivid-seekbar").addClass("ivid-seekbar-hover")},function(){$(".ivid-seekbar").removeClass("ivid-seekbar-hover")});$("body").delegate("#introduction-form","submit",function(c){if("1"==getParameterByName("prev"))c.preventDefault();else if(!c.isDefaultPrevented()){c.preventDefault();var b={};$.each($("#introduction-form").serializeArray(),
function(c,d){b[d.name]=d.value});b.iv=getHashId();c=applicationPath+"/sittingRegister";if(void 0==applicationPath||null==applicationPath||""==applicationPath)c="/sittingRegister";null!=sessionId&&(c+=";jsessionid\x3d"+sessionId);$.when($.ajax({type:"POST",async:!1,url:c,data:b,dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},complete:function(c,d){if(200==c.status&&void 0!=c.responseJSON&&c.responseJSON.success){introductionFormData={name:b.name,surname:b.surname,username:b.email};
"undefined"!==typeof _loggedInUser_&&null==_loggedInUser_&&(__IVIDEO_CONTEXT__.authenticatedUser=introductionFormData);if(null!=hls&&void 0==hls.media){var e=document.getElementById("xvideo");hls.attachMedia(e)}introductionFormIsOpen=!1;playIt();setTimeout(function(){updateWindowSize()},100);introductionFormEnabled=!1;$("#intro-box").css("display","none");mobileStartFired=!0}else console.log("Error-07"),location.reload()}})).then(function(){})}});document.addEventListener("contextmenu",function(c){c.preventDefault()})});
if(isStoryboard())initStoryboard();else if(isRawVideoUrlFormat()){_hashId=getHashId();var e=applicationWsPath+"/uscene/rawvideo/flavor/"+_hashId,b="?";isNull(getParameterByName("player"))||(e+=b+"player\x3d"+getParameterByName("player"),b="\x26");$.ajax({type:"GET",url:e,dataType:"json",complete:function(c,b){if(200==c.status||204==c.status){var e=null;""!=c.responseText&&(sceneData=e=jQuery.parseJSON(c.responseText),playerSettings=e.playerSettings);null!=e.hlsUrl&&(rawWithHls=!0,sceneData.mediaContent=
{hlsUrl:sceneData.hlsUrl});var d=!0;if("false"==getParameterByName("autoplay")||0==getParameterByName("autoplay"))d=!1;sceneData.autoplay=d;null==video_muted&&1==getParameterByName("muted")&&(video_muted=!0);null==video_loop&&1==getParameterByName("loop")&&(video_loop=!0);"ios"==getMobileOS()&&null==e.url&&(e.url=e.hlsUrl);videoInit(null,"#video",e.mediaPlatform,e.url,d,!1,!1,null,!1);$("#ivid-start-box").css("display","block");$("#ivid-start-btn").css("display","block")}else console.log("Error-08")}})}else initScene()},
!1);
(function(){this.Ad=function(c){this.trackOptions=c;this.adsManager=void 0;this.ad=null;this.contentEndedListener=this.adsLoader=this.adDisplayContainer=this.adContent=this.videoContent=void 0;$("body").delegate(".ivid-ima-svg-icon-pause","click",this._pauseAd.bind(this));$("body").delegate(".ivid-ima-svg-icon-play","click",this._resumeAd.bind(this));$("body").delegate(".ivid-ima-vol","click",this._muteVolume.bind(this));$("body").delegate(".ivid-ima-muted","click",this._setVolume.bind(this));this.init()};
this.Ad.prototype.getImaContent=function(){this.videoContent=document.getElementById("yvideo");this.adContent=document.getElementById("adContainer");if("undefined"!=typeof google&&!isNull(google)){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContent,this.videoContent);this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer);this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1);this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,
this.onAdError.bind(this),!1);var c=this;this.contentEndedListener=function(){c.adsLoader.contentComplete();c.mobileAdVideo=document.getElementById("yvideo");setTimeout(function(){c.mobileAdVideo.pause();$("#yvideo").css("display","none")},100)};null!=c.videoContent&&(c.videoContent.onended=c.contentEndedListener)}};this.Ad.prototype.init=function(){this.getImaContent();if(imaScriptLoaded&&(this.adDisplayContainer.initialize(),this.trackOptions.pauseWhenAdLoading&&(pauseIt(),createIvideoAction("waiting")),
void 0!=this.trackOptions.tagUrl&&null!=this.trackOptions.tagUrl)){var c=new google.ima.AdsRequest;c.adTagUrl=this.trackOptions.tagUrl;c.linearAdSlotWidth=$("#overlay-area").width();c.linearAdSlotHeight=$("#overlay-area").height();c.nonLinearAdSlotWidth=$("#overlay-area").width();c.nonLinearAdSlotHeight=$("#overlay-area").height();this.adsLoader.requestAds(c);$(".ivid-ima-svg-icon-pause").css("display","inline");$(".ivid-ima-svg-icon-play").css("display","none");$("#adContainer").css("display","block")}};
this.Ad.prototype.onAdsManagerLoaded=function(c){var e=new google.ima.AdsRenderingSettings;e.useStyledNonLinearAds=!0;this.adsManager=c.getAdsManager(this.videoContent,e);this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1);this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this),!1);this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this),
!1);this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this),!1);this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onSkipped.bind(this),!1);this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,this.onAdProgress.bind(this),!1);this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdCompleted.bind(this),!1);this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this),!1);this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,
this.onAdResumed.bind(this),!1);this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this),!1);try{this.adsManager.init($(window).width(),$("body").height(),google.ima.ViewMode.NORMAL),this.adsManager.start(),mobileAndTabletcheck()}catch(b){}};this.Ad.prototype.onAdError=function(c){console.log(c.getError());this.destroyAd(!0)};this.Ad.prototype.onAdLoaded=function(c){this.ad=c.getAd();this.adsManager.resize(window.innerWidth,window.innerHeight,google.ima.ViewMode.NORMAL);
this.ad.isLinear()?$("#adContainer").css({"z-index":"9",top:"0"}):($("#adContainer").css({"z-index":"9",top:window.innerHeight-132+"px"}),$("#adContainer iframe:first").height(this.ad.getHeight()),$("#adContainer iframe:first").width("100%"),removeWaitingLoader(),playIt(null,!0))};this.Ad.prototype.onContentPauseRequested=function(){null!=this.ad&&"application/javascript"!=this.ad.getContentType()&&$(".ima-controls-div").css("display","block");this.videoContent.removeEventListener("ended",this.contentEndedListener);
this.videoContent.pause();this._pauseMainVideo()};this.Ad.prototype.onContentResumeRequested=function(){mobileAndTabletcheck()&&(this.videoContent.addEventListener("ended",this.contentEndedListener.bind(this),!1),this.videoContent.play());this._playMainVideo()};this.Ad.prototype.onAdCompleted=function(){this.destroyAd()};this.Ad.prototype.onAdPaused=function(){$(".ivid-ima-svg-icon-pause").css("display","none");$(".ivid-ima-svg-icon-play").css("display","inline")};this.Ad.prototype.onAdResumed=function(){$(".ivid-ima-svg-icon-pause").css("display",
"inline");$(".ivid-ima-svg-icon-play").css("display","none")};this.Ad.prototype.onAdStarted=function(){null!=this.ad&&this.ad.isLinear()&&$("#yvideo").css("display","block")};this.Ad.prototype.onSkipped=function(){this.destroyAd()};this.Ad.prototype.destroyAd=function(c){null!=this.adsManager&&this.adsManager.destroy();this.videoContent.src="";$("#yvideo").css("display","none");currentAd=null;this._playMainVideo();this.ad=null;$(".ivid-ima-text").empty().html("Loading ad");$(".ivid-ima-progress").css("width",
0);$(".ima-controls-div").css("display","none");this._setVolume();if(!c){var e=this;void 0!=this.trackOptions.trackActions&&null!=this.trackOptions.trackActions&&0<this.trackOptions.trackActions.length&&this.trackOptions.trackActions.forEach(function(c){trackOnAction(e.trackOptions.trackActions,c)})}setTimeout(function(){$("#adContainer").find("div:first").not("#yvideo, .ima-controls-div").remove()},100)};this.Ad.prototype.onAdProgress=function(){if(null!=this.adsManager&&null!=this.ad){$(".ivid-ima-progress").css("width",
(100-this.adsManager.getRemainingTime()/this.ad.getDuration()*100).toFixed(2)+"%");var c=Math.round(this.adsManager.getRemainingTime());0==c&&(c=1);$(".ivid-ima-text").empty().html("This ad will end in "+c)}};this.Ad.prototype.resize=function(){var c=this;setTimeout(function(){if(c.adsManager){if(null!=c.ad&&c.ad.isLinear())var e=window.innerWidth,b=window.innerHeight;else $("#adContainer").css({top:window.innerHeight-132+"px"}),e=window.innerWidth,b=window.innerHeight;c.adsManager.resize(e,b,google.ima.ViewMode.NORMAL)}},
10)};this.Ad.prototype._pauseMainVideo=function(){createIvideoAction("waiting");$("#video").fadeIn(300,function(){$(this).css("display","none")});$("#pop-container").fadeIn(300,function(){$(this).css("display","none")});$("#overlay-area").fadeIn(300,function(){$(this).css("display","none")});$(".ext-video-controls").fadeIn(300,function(){$(this).css("display","none")});hideChapterMenu();hideShareIcon();pauseIt()};this.Ad.prototype._playMainVideo=function(){$("#video").fadeIn(300,function(){$(this).css("display",
"block")});$("#pop-container").fadeIn(300,function(){$(this).css("display","block")});$("#overlay-area").fadeIn(300,function(){$(this).css("display","block")});$(".ext-video-controls").fadeIn(300,function(){$(this).css("display","block")});showChapterMenu();showShareIcon();playIt(null,!0);$("#adContainer").css("display","none")};this.Ad.prototype._setVolume=function(){this.adsManager&&this.adsManager.setVolume(1);$(".ivid-ima-muted").css("display","none");$(".ivid-ima-vol").css("display","inline")};
this.Ad.prototype._muteVolume=function(){this.adsManager&&this.adsManager.setVolume(0);$(".ivid-ima-muted").css("display","inline");$(".ivid-ima-vol").css("display","none")};this.Ad.prototype._pauseAd=function(){this.adsManager&&this.adsManager.pause();$(".ivid-ima-svg-icon-pause").css("display","none");$(".ivid-ima-svg-icon-play").css("display","inline")};this.Ad.prototype._resumeAd=function(){this.adsManager&&this.adsManager.resume();$(".ivid-ima-svg-icon-pause").css("display","inline");$(".ivid-ima-svg-icon-play").css("display",
"none")};return Ad})();
!function t$$7(e){var b,g;b=this;g=function(){function b(d,e){var f=Object.keys(d);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(d);e&&(h=h.filter(function(b){return Object.getOwnPropertyDescriptor(d,b).enumerable}));f.push.apply(f,h)}return f}function h(d){for(var e=1;e<arguments.length;e++){var f=null!=arguments[e]?arguments[e]:{};e%2?b(Object(f),!0).forEach(function(b){var e=b;b=f[b];(e=B(e))in d?Object.defineProperty(d,e,{value:b,enumerable:!0,configurable:!0,writable:!0}):
d[e]=b}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(f)):b(Object(f)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(f,b))})}return d}function d(b,d){for(var e=0;e<d.length;e++){var f=d[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,B(f.key),f)}}function f(b,e,f){return e&&d(b.prototype,e),f&&d(b,f),Object.defineProperty(b,"prototype",{writable:!1}),b}function g(){return g=
Object.assign?Object.assign.bind():function(b){for(var d=1;d<arguments.length;d++){var e=arguments[d],f;for(f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=e[f])}return b},g.apply(this,arguments)}function n(b,d){b.prototype=Object.create(d.prototype);b.prototype.constructor=b;q(b,d)}function p(b){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},p(b)}function q(b,d){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():
function(b,d){return b.__proto__=d,b},q(b,d)}function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(b){return!1}}function s(b,d,e){return s=r()?Reflect.construct.bind():function(b,d,e){var f=[null];f.push.apply(f,d);b=new (Function.bind.apply(b,f));return e&&q(b,e.prototype),b},s.apply(null,arguments)}function v(b){var d="function"==
typeof Map?new Map:void 0;return v=function(b){function e(){return s(b,arguments,p(this).constructor)}if(null===b||(f=b,-1===Function.toString.call(f).indexOf("[native code]")))return b;var f;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==d){if(d.has(b))return d.get(b);d.set(b,e)}return e.prototype=Object.create(b.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),q(e,b)},v(b)}function z(b,d){(null==d||d>b.length)&&
(d=b.length);for(var e=0,f=Array(d);e<d;e++)f[e]=b[e];return f}function w(b,d){var e="undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(e)return(e=e.call(b)).next.bind(e);if(Array.isArray(b)||(e=function(b,d){if(b){if("string"==typeof b)return z(b,d);var e=Object.prototype.toString.call(b).slice(8,-1);return"Object"===e&&b.constructor&&(e=b.constructor.name),"Map"===e||"Set"===e?Array.from(b):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?z(b,d):void 0}}(b))||
d&&b&&"number"==typeof b.length){e&&(b=e);var f=0;return function(){return f>=b.length?{done:!0}:{done:!1,value:b[f++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function B(b){a:if("object"==typeof b&&null!==b){var d=b[Symbol.toPrimitive];if(void 0!==d){b=d.call(b,"string");if("object"!=typeof b)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"==
typeof b?b:String(b)}function E(b,d){if(self.console&&!0===b||"object"==typeof b){!function(b){for(var d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];e.forEach(function(d){var e=wb,f;f=b[d]?b[d].bind(b):(f=self.console[d])?f.bind(self.console,"["+d+"] \x3e"):Mb;e[d]=f})}(b,"debug","log","info","warn","error");try{wb.log('Debug logs enabled for "'+d+'" in hls.js version 1.4.0')}catch(e){wb=Yc}}else wb=Yc}function u(b){return Uint8Array.from(atob(b),function(b){return b.charCodeAt(0)})}
function D(b){var d,e,f=b.split(":");b=null;if("data"===f[0]&&2===f.length){var f=f[1].split(";"),h=f[f.length-1].split(",");if(2===h.length){var g=h[1];"base64"===h[0]?(f.splice(-1,1),b=u(g)):(d=C(g).subarray(0,16),(e=new Uint8Array(16)).set(d,16-d.length),b=e)}}return b}function C(b){return Uint8Array.from(unescape(encodeURIComponent(b)),function(b){return b.charCodeAt(0)})}function F(b){switch(b){case "com.apple.streamingkeydelivery":return Ga.FAIRPLAY;case "com.microsoft.playready":return Ga.PLAYREADY;
case "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":return Ga.WIDEVINE;case "org.w3.clearkey":return Ga.CLEARKEY}}function A(b){switch(b){case Ga.FAIRPLAY:return"com.apple.streamingkeydelivery";case Ga.PLAYREADY:return"com.microsoft.playready";case Ga.WIDEVINE:return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";case Ga.CLEARKEY:return"org.w3.clearkey"}}function H(b){var d=b.drmSystems;b=b.widevineLicenseUrl;var e=d?[Ga.FAIRPLAY,Ga.WIDEVINE,Ga.PLAYREADY,Ga.CLEARKEY].filter(function(b){return!!d[b]}):
[];return!e[Ga.WIDEVINE]&&b&&e.push(Ga.WIDEVINE),e}function L(b,d,e){return Uint8Array.prototype.slice?b.slice(d,e):new Uint8Array(Array.prototype.slice.call(b,d,e))}function J(b){return String.fromCharCode.apply(null,b)}function Q(b,d){var e=b[d]<<8|b[d+1];return 0>e?65536+e:e}function O(b,d){var e=b[d]<<24|b[d+1]<<16|b[d+2]<<8|b[d+3];return 0>e?4294967296+e:e}function N(b,d,e){b[d]=e>>24;b[d+1]=e>>16&255;b[d+2]=e>>8&255;b[d+3]=255&e}function R(b,d){var e=[];if(!d.length)return e;for(var f=b.byteLength,
h=0;h<f;){var g=O(b,h),g=1<g?h+g:f;J(b.subarray(h+4,h+8))===d[0]&&(1===d.length?e.push(b.subarray(h+8,g)):(h=R(b.subarray(h+8,g),d.slice(1)),h.length&&mc.apply(e,h)));h=g}return e}function T(b){for(var d=[],e=b[0],f=8,h=O(b,f),f=f+4+(0===e?8:16),f=f+2,g=b.length+0,k=Q(b,f),f=f+2,l=0;l<k;l++){var n=O(b,f),f=f+4,p=2147483647&n;if(1==(2147483648&n)>>>31)return S.warn("SIDX has hierarchical references (not supported)"),null;n=O(b,f);f+=4;d.push({referenceSize:p,subsegmentDuration:n,info:{duration:n/h,
start:g,end:g+p-1}});g+=p;f+=4}return{earliestPresentationTime:0,timescale:h,version:e,referencesCount:k,references:d}}function W(b){for(var d=[],e=R(b,["moov","trak"]),f=0;f<e.length;f++){var h=e[f],g=R(h,["tkhd"])[0];if(g){var k=g[0],k=0===k?12:20,g=O(g,k),l=R(h,["mdia","mdhd"])[0];if(l&&(l=O(l,k=0===(k=l[0])?12:20),k=R(h,["mdia","hdlr"])[0])&&(k={soun:"audio",vide:"video"}[J(k.subarray(8,12))])){var h=R(h,["mdia","minf","stbl","stsd"])[0],n=void 0;h&&(n=J(h.subarray(12,16)));d[g]={timescale:l,
type:k};d[k]={timescale:l,id:g,codec:n}}}}return R(b,["moov","mvex","trex"]).forEach(function(b){var e=O(b,4);(e=d[e])&&(e.default={duration:O(b,12),flags:O(b,20)})}),d}function ba(b){var d=R(b,["schm"])[0];return d&&(d=J(d.subarray(4,8)),"cbcs"===d||"cenc"===d)?R(b,["schi","tenc"])[0]:(S.error("[eme] missing 'schm' box"),null)}function qa(b){var d=O(b,0),e=8;1&d&&(e+=4);4&d&&(e+=4);for(var f=0,h=O(b,4),g=0;g<h;g++)256&d&&(f+=O(b,e),e+=4),512&d&&(e+=4),1024&d&&(e+=4),2048&d&&(e+=4);return f}function P(b,
d){var e=new Uint8Array(b.length+d.length);return e.set(b),e.set(d,b.length),e}function K(b,d){var e=[],f=d.samples,h=d.timescale,g=d.id,k=!1;return R(f,["moof"]).map(function(l){var n=l.byteOffset-8;R(l,["traf"]).map(function(l){var p=R(l,["tfdt"]).map(function(b){var d=b[0],e=O(b,4);return 1===d&&(e*=Math.pow(2,32),e+=O(b,8)),e/h})[0];return void 0!==p&&(b=p),R(l,["tfhd"]).map(function(p){var q=O(p,4),$b=16777215&O(p,0),r=0,s=0!=(16&$b),u=0,v=0!=(32&$b),A=8;q===g&&(0!=(1&$b)&&(A+=8),0!=(2&$b)&&
(A+=4),0!=(8&$b)&&(r=O(p,A),A+=4),s&&(u=O(p,A),A+=4),v&&(A+=4),"video"===d.type&&(k=function(b){if(!b)return!1;var d=b.indexOf(".");b=0>d?b:b.substring(0,d);return"hvc1"===b||"hev1"===b||"dvh1"===b||"dvhe"===b}(d.codec)),R(l,["trun"]).map(function(g){var l=g[0],vc=16777215&O(g,0),p=0!=(1&vc),q=0,$b=0!=(4&vc),s=0!=(256&vc),A=0,v=0!=(512&vc),D=0,F=0!=(1024&vc),vc=0!=(2048&vc),z=0,C=O(g,4),Db=8;p&&(q=O(g,Db),Db+=4);$b&&(Db+=4);p=q+n;for(q=0;q<C;q++){if(s?(A=O(g,Db),Db+=4):A=r,v?(D=O(g,Db),Db+=4):D=u,
F&&(Db+=4),vc&&(z=0===l?O(g,Db):g[Db]<<24|g[Db+1]<<16|g[Db+2]<<8|g[Db+3],Db+=4),"video"===d.type)for($b=0;$b<D;){var H=O(f,p),t;t=f[p+=4];k?(t=t>>1&63,t=39===t||40===t):t=6==(31&t);t&&ea(f.subarray(p,p+H),k?2:1,b+z/h,e);p+=H;$b+=H+4}b+=A/h}}))})})}),e}function ea(b,d,e,f){b=M(b);d=0+d;for(var h=0,g=0,k=!1,l=0;d<b.length;){h=0;do{if(d>=b.length)break;h+=l=b[d++]}while(255===l);g=0;do{if(d>=b.length)break;g+=l=b[d++]}while(255===l);l=b.length-d;if(!k&&4===h&&d<b.length){if(k=!0,181===b[d++])if(l=Q(b,
d),d+=2,49===l)if(l=O(b,d),d+=4,1195456820===l)if(l=b[d++],3===l){var n=b[d++],p=64&n,g=p?2+3*(31&n):0,q=new Uint8Array(g);if(p)for(q[0]=n,n=1;n<g;n++)q[n]=b[d++];f.push({type:l,payloadType:h,pts:e,bytes:q})}}else if(5===h&&g<l){if(k=!0,16<g){l=[];for(q=0;16>q;q++)n=b[d++].toString(16),l.push(1==n.length?"0"+n:n),3!==q&&5!==q&&7!==q&&9!==q||l.push("-");g-=16;q=new Uint8Array(g);for(n=0;n<g;n++)q[n]=b[d++];f.push({payloadType:h,pts:e,uuid:l.join(""),userData:sb(q),userDataBytes:q})}}else if(g<l)d+=
g;else if(g>l)break}}function M(b){for(var d=b.byteLength,e=[],f=1;f<d-2;)0===b[f]&&0===b[f+1]&&3===b[f+2]?(e.push(f+2),f+=2):f++;if(0===e.length)return b;for(var d=d-e.length,h=new Uint8Array(d),g=0,f=0;f<d;g++,f++)g===e[0]&&(g++,e.shift()),h[f]=b[g];return h}function ca(b,d,e){if(16!==b.byteLength)throw new RangeError("Invalid system id");var f,h,g;if(d){f=1;h=new Uint8Array(16*d.length);for(var k=0;k<d.length;k++){var l=d[k];if(16!==l.byteLength)throw new RangeError("Invalid key");h.set(l,16*k)}}else f=
0,h=new Uint8Array;0<f?(g=new Uint8Array(4),0<d.length&&(new DataView(g.buffer)).setUint32(0,d.length,!1)):g=new Uint8Array;d=new Uint8Array(4);return e&&0<e.byteLength&&(new DataView(d.buffer)).setUint32(0,e.byteLength,!1),function(b){for(var d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];for(var d=e.length,f=8,h=d;h--;)f+=e[h].byteLength;var g=new Uint8Array(f);g[0]=f>>24&255;g[1]=f>>16&255;g[2]=f>>8&255;g[3]=255&f;g.set(b,4);h=0;for(f=8;h<d;h++)g.set(e[h],f),f+=e[h].byteLength;
return g}([112,115,115,104],new Uint8Array([f,0,0,0]),b,g,h,d,e||new Uint8Array)}function U(b,d,e){if(null!==b.variableList||b.hasVariableRefs)for(var f=e.length;f--;){var h=e[f],g=d[h];g&&(d[h]=Y(b,g))}}function Y(b,d){if(null!==b.variableList||b.hasVariableRefs){var e=b.variableList;return d.replace(La,function(d){var f=d.substring(2,d.length-1),h=null==e?void 0:e[f];return void 0===h?(b.playlistParsingError||(b.playlistParsingError=Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'+
f+'"')),d):h})}return d}function X(b,d,e){var f,h,g=b.variableList;if(g||(b.variableList=g={}),"QUERYPARAM"in d){f=d.QUERYPARAM;try{var k=(new self.URL(e)).searchParams;if(!k.has(f))throw Error('"'+f+'" does not match any query parameter in URI: "'+e+'"');h=k.get(f)}catch(l){b.playlistParsingError||(b.playlistParsingError=Error("EXT-X-DEFINE QUERYPARAM: "+l.message))}}else f=d.NAME,h=d.VALUE;f in g?b.playlistParsingError||(b.playlistParsingError=Error('EXT-X-DEFINE duplicate Variable Name declarations: "'+
f+'"')):g[f]=h||""}function fa(b,d){return MediaSource.isTypeSupported((d||"video")+'/mp4;codecs\x3d"'+b+'"')}function ga(b,d,e){var f,h;b=new pa(b);U(e,b,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);e=null!=(f=b.METHOD)?f:"";var g=b.URI;f=b.hexadecimalInteger("IV");var k=b.KEYFORMATVERSIONS,l=null!=(h=b.KEYFORMAT)?h:"identity";g&&b.IV&&!f&&S.error("Invalid IV: "+b.IV);d=g?Ka.resolve(g,d):"";h=(k||"1").split("/").map(Number).filter(Number.isFinite);return new Fb(e,d,l,h,f)}function ha(b){b=
(new pa(b)).decimalFloatingPoint("TIME-OFFSET");return ka(b)?b:null}function ja(b,d){["video","audio","text"].forEach(function(e){var f=b.filter(function(b){var d=wc[e];return!!d&&!0===d[b.slice(0,4)]});if(f.length){var h=f.filter(function(b){return 0===b.lastIndexOf("avc1",0)||0===b.lastIndexOf("mp4a",0)});d[e+"Codec"]=0<h.length?h[0]:f[0];b=b.filter(function(b){return-1===f.indexOf(b)})}});d.unknownCodecs=b}function ya(b,d,e){(d=d[e])&&(b[e]=d)}function Aa(b,d){b.rawProgramDateTime?b.programDateTime=
Date.parse(b.rawProgramDateTime):null!=d&&d.programDateTime&&(b.programDateTime=d.endProgramDateTime);ka(b.programDateTime)||(b.programDateTime=null,b.rawProgramDateTime=null)}function Ea(b,d,e,f){b.relurl=d.URI;d.BYTERANGE&&b.setByteRange(d.BYTERANGE);b.level=e;b.sn="initSegment";f&&(b.levelkeys=f);b.initSegment=null}function sa(b,d,e){b.levelkeys=d;e=e.encryptedFragments;e.length&&e[e.length-1].levelkeys===d||!Object.keys(d).some(function(b){return d[b].isCommonEncryption})||e.push(b)}function aa(b){switch(b.type){case "audioTrack":return"audio";
case "subtitleTrack":return"subtitle";default:return"main"}}function t(b,d){var e=b.url;return void 0!==e&&0!==e.indexOf("data:")||(e=d.url),e}function Ya(b,d){var e;try{e=new Event("addtrack")}catch(f){(e=document.createEvent("Event")).initEvent("addtrack",!1,!1)}e.track=b;d.dispatchEvent(e)}function Ma(b,d){var e=b.mode;if("disabled"===e&&(b.mode="hidden"),b.cues&&!b.cues.getCueById(d.id))try{if(b.addCue(d),!b.cues.getCueById(d.id))throw Error("addCue is failed for: "+d);}catch(f){S.debug("[texttrack-utils]: "+
f);var h=new self.TextTrackCue(d.startTime,d.endTime,d.text);h.id=d.id;b.addCue(h)}"disabled"===e&&(b.mode=e)}function Ta(b){var d=b.mode;if("disabled"===d&&(b.mode="hidden"),b.cues)for(var e=b.cues.length;e--;)b.removeCue(b.cues[e]);"disabled"===d&&(b.mode=d)}function Fa(b,d,e,f){var h=b.mode;if("disabled"===h&&(b.mode="hidden"),b.cues&&0<b.cues.length)for(d=function(b,d,e){var f=[],h=function(b,d){if(d<b[0].startTime)return 0;var e=b.length-1;if(d>b[e].endTime)return-1;for(var f=0,h=e;f<=h;){var g=
Math.floor((h+f)/2);if(d<b[g].startTime)h=g-1;else{if(!(d>b[g].startTime&&f<e))return g;f=g+1}}return b[f].startTime-d<d-b[h].startTime?f:h}(b,d);if(-1<h)for(var g=b.length;h<g;h++){var k=b[h];if(k.startTime>=d&&k.endTime<=e)f.push(k);else if(k.startTime>e)break}return f}(b.cues,d,e),e=0;e<d.length;e++)f&&!f(d[e])||b.removeCue(d[e]);"disabled"===h&&(b.mode=h)}function la(){if("undefined"!=typeof self)return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}function za(b,d){return b.getTime()/1E3-
d}function ia(b,d){var e=d.startPTS;if(ka(e)){var f,h=0;d.sn>b.sn?(h=e-b.start,f=b):(h=b.start-e,f=d);f.duration!==h&&(f.duration=h)}else d.sn>b.sn?b.cc===d.cc&&b.minEndPTS?d.start=b.start+(b.minEndPTS-b.start):d.start=b.start+b.duration:d.start=Math.max(b.start-d.duration,0)}function ma(b,d,e,f,h,g){0>=f-e&&(S.warn("Fragment should have a positive duration",d),f=e+d.duration,g=h+d.duration);var k=e,l=f,n=d.startPTS,p=d.endPTS;ka(n)&&(k=Math.abs(n-e),ka(d.deltaPTS)?d.deltaPTS=Math.max(k,d.deltaPTS):
d.deltaPTS=k,k=Math.max(e,n),e=Math.min(e,n),h=Math.min(h,d.startDTS),l=Math.min(f,p),f=Math.max(f,p),g=Math.max(g,d.endDTS));n=e-d.start;0!==d.start&&(d.start=e);d.duration=f-d.start;d.startPTS=e;d.maxStartPTS=k;d.startDTS=h;d.endPTS=f;d.minEndPTS=l;d.endDTS=g;e=d.sn;if(!b||e<b.startSN||e>b.endSN)return 0;e-=b.startSN;f=b.fragments;f[e]=d;for(d=e;0<d;d--)ia(f[d],f[d-1]);for(d=e;d<f.length-1;d++)ia(f[d],f[d+1]);return b.fragmentHint&&ia(f[f.length-1],b.fragmentHint),b.PTSKnown=b.alignedSliding=!0,
n}function Ca(b,d){for(var e=null,f=b.fragments,h=f.length-1;0<=h;h--){var k=f[h].initSegment;if(k){e=k;break}}b.fragmentHint&&delete b.fragmentHint.endPTS;var n,p,q,r,s,u=0;if(function(b,d,e){var f=d.skippedSegments,h=Math.max(b.startSN,d.startSN)-d.startSN,g=(b.fragmentHint?1:0)+(f?d.endSN:Math.min(b.endSN,d.endSN))-d.startSN,k=d.startSN-b.startSN,Z=d.fragmentHint?d.fragments.concat(d.fragmentHint):d.fragments;for(b=b.fragmentHint?b.fragments.concat(b.fragmentHint):b.fragments;h<=g;h++){var lc=
b[k+h],l=Z[h];f&&!l&&h<f&&(l=d.fragments[h]=lc);lc&&l&&e(lc,l)}}(b,d,function(b,f){b.relurl&&(u=b.cc-f.cc);ka(b.startPTS)&&ka(b.endPTS)&&(f.start=f.startPTS=b.startPTS,f.startDTS=b.startDTS,f.maxStartPTS=b.maxStartPTS,f.endPTS=b.endPTS,f.endDTS=b.endDTS,f.minEndPTS=b.minEndPTS,f.duration=b.endPTS-b.startPTS,f.duration&&(n=f),d.PTSKnown=d.alignedSliding=!0);f.elementaryStreams=b.elementaryStreams;f.loader=b.loader;f.stats=b.stats;f.urlId=b.urlId;b.initSegment&&(f.initSegment=b.initSegment,e=b.initSegment)}),
e&&(d.fragmentHint?d.fragments.concat(d.fragmentHint):d.fragments).forEach(function(b){var d;b.initSegment&&b.initSegment.relurl!==(null==(d=e)?void 0:d.relurl)||(b.initSegment=e)}),d.skippedSegments)if(d.deltaUpdateFailed=d.fragments.some(function(b){return!b}),d.deltaUpdateFailed){S.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(f=d.skippedSegments;f--;)d.fragments.shift();d.startSN=d.fragments[0].sn;d.startCC=d.fragments[0].cc}else d.canSkipDateRanges&&
(d.dateRanges=(p=b.dateRanges,q=d.dateRanges,r=d.recentlyRemovedDateranges,s=g({},p),r&&r.forEach(function(b){delete s[b]}),Object.keys(q).forEach(function(b){var d=new Zc(q[b].attr,s[b]);d.isValid?s[b]=d:S.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(q[b].attr)+'"')}),s));f=d.fragments;if(u)for(S.warn("discontinuity sliding from playlist, take drift into account"),h=0;h<f.length;h++)f[h].cc+=u;d.skippedSegments&&(d.startCC=d.fragments[0].cc);(function(b,d,e){if(b&&
d)for(var f=0,h=0,g=b.length;h<=g;h++){var k=b[h],Z=d[h+f];k&&Z&&k.index===Z.index&&k.fragment.sn===Z.fragment.sn?e(k,Z):f--}})(b.partList,d.partList,function(b,d){d.elementaryStreams=b.elementaryStreams;d.stats=b.stats});n?ma(d,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):da(b,d);f.length&&(d.totalduration=d.edge-f[0].start);d.driftStartTime=b.driftStartTime;d.driftStart=b.driftStart;f=d.advancedDateTime;d.advanced&&f?(h=d.edge,d.driftStart||(d.driftStartTime=f,d.driftStart=h),d.driftEndTime=f,d.driftEnd=
h):(d.driftEndTime=b.driftEndTime,d.driftEnd=b.driftEnd,d.advancedDateTime=b.advancedDateTime)}function da(b,d){var e=d.startSN+d.skippedSegments-b.startSN,f=b.fragments;0>e||e>=f.length||oa(d,f[e].start)}function oa(b,d){if(d){for(var e=b.fragments,f=b.skippedSegments;f<e.length;f++)e[f].start+=d;b.fragmentHint&&(b.fragmentHint.start+=d)}}function Ja(b,d,e){var f;return null!=b&&b.details?cb(null==(f=b.details)?void 0:f.partList,d,e):null}function cb(b,d,e){if(b)for(var f=b.length;f--;){var h=b[f];
if(h.index===e&&h.fragment.sn===d)return h}return null}function Oa(b){switch(b.details){case V.FRAG_LOAD_TIMEOUT:case V.KEY_LOAD_TIMEOUT:case V.LEVEL_LOAD_TIMEOUT:case V.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function va(b,d){var e=Oa(d);return b.default[(e?"timeout":"error")+"Retry"]}function Ua(b,d){var e="linear"===b.backoff?1:Math.pow(2,d);return Math.min(e*b.retryDelayMs,b.maxRetryDelayMs)}function db(b){return h(h({},b),{errorRetry:null,timeoutRetry:null})}function Wa(b,d,e,f){return!!b&&d<
b.maxNumRetry&&(0===f&&!1===navigator.onLine||!!f&&(400>f||499<f)||!!e)}function pb(b,d,e,f){void 0===e&&(e=0);void 0===f&&(f=0);var h=null;if(b?h=d[b.sn-d[0].sn+1]||null:0===e&&0===d[0].start&&(h=d[0]),h&&0===ub(e,f,h))return h;d=rc(d,ub.bind(null,e,f));return!d||d===b&&h?h:d}function ub(b,d,e){if(void 0===b&&(b=0),void 0===d&&(d=0),e.start<=b&&e.start+e.duration>b)return 0;d=Math.min(d,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-d<=b?1:e.start-d>b&&e.start?-1:0}function Xa(b,
d,e){e&&("audio"===d?(b.audioGroupIds||(b.audioGroupIds=[]),b.audioGroupIds[b.url.length-1]=e):"text"===d&&(b.textGroupIds||(b.textGroupIds=[]),b.textGroupIds[b.url.length-1]=e))}function ra(b){var d={};b.forEach(function(b){var e=b.groupId||"";b.id=d[e]=d[e]||0;d[e]++})}function ua(b){var d,e;return b.buffered&&(b.body.gap||(null==(d=b.range.video)?void 0:d.partial)||(null==(e=b.range.audio)?void 0:e.partial))}function xa(b){return b.type+"_"+b.level+"_"+b.urlId+"_"+b.sn}function Bb(b,d){void 0===
d&&(d=null);var e=d||b,f={frag:b,part:d,responseType:"arraybuffer",url:e.url,headers:{},rangeStart:0,rangeEnd:0},h=e.byteRangeStartOffset,e=e.byteRangeEndOffset;if(ka(h)&&ka(e)){var g,k=h,l=e;"initSegment"===b.sn&&"AES-128"===(null==(g=b.decryptdata)?void 0:g.method)&&(g=e-h,g%16&&(l=e+(16-g%16)),0!==h&&(f.resetIV=!0,k=h-16));f.rangeStart=k;f.rangeEnd=l}return f}function mb(b,d){var e={type:na.MEDIA_ERROR,details:V.FRAG_GAP,fatal:!1,frag:b,error:Error("GAP "+(b.gap?"tag":"attribute")+" found"),networkDetails:null};
return d&&(e.part=d),(d||b).stats.aborted=!0,new oc(e)}function eb(b,d){for(var e=null,f=0,h=b.length;f<h;f++){var g=b[f];if(g&&g.cc===d){e=g;break}}return e}function $a(b,d){if(b){var e=b.start+d;b.start=b.startPTS=e;b.endPTS=e+b.duration}}function Pa(b,d){for(var e=d.fragments,f=0,h=e.length;f<h;f++)$a(e[f],b);d.fragmentHint&&$a(d.fragmentHint,b);d.alignedSliding=!0}function xb(b,d,e){d&&(function(b,d,e){if(e.details&&(d.endCC>d.startCC||b&&b.cc<d.startCC)){a:{b=e.details.fragments;e=d.fragments;
if(e.length&&b.length){if((b=eb(b,e[0].cc))&&(!b||b.startPTS))break a;S.log("No frag in previous level to align on")}else S.log("No fragments to align");b=void 0}b&&ka(b.start)&&(S.log("Adjusting PTS using last level due to CC increase within current level "+d.url),Pa(b.start,d))}}(b,e,d),!e.alignedSliding&&d.details&&function(b,d){if(d.fragments.length&&b.hasProgramDateTime&&d.hasProgramDateTime){var e=d.fragments[0].programDateTime,f=b.fragments[0].programDateTime,h=(f-e)/1E3+d.fragments[0].start;
h&&ka(h)&&(S.log("Adjusting PTS using programDateTime delta "+(f-e)+"ms, sliding:"+h.toFixed(3)+" "+b.url+" "),Pa(h,b))}}(e,d.details),e.alignedSliding||!d.details||e.skippedSegments||da(d.details,e))}function Qb(b,d){if(b.hasProgramDateTime&&d.hasProgramDateTime){var e=b.fragments,f=d.fragments;if(e.length&&f.length){var f=f[Math.round(f.length/2)-1],e=eb(e,f.cc)||e[Math.round(e.length/2)-1],h=f.programDateTime,g=e.programDateTime;null!==h&&null!==g&&Pa((g-h)/1E3-(e.start-f.start),b)}}}function Kb(){if("undefined"!=
typeof self)return self.MediaSource||self.WebKitMediaSource}function vb(b,d){return void 0===b&&(b=""),void 0===d&&(d=9E4),{type:b,id:-1,pid:-1,inputTimeScale:d,sequenceNumber:-1,samples:[],dropped:0}}function nb(b,d){return 255===b[d]&&240==(246&b[d+1])}function hb(b,d){return(3&b[d+3])<<11|b[d+4]<<3|(224&b[d+5])>>>5}function rb(b,d){if(d+1<b.length&&nb(b,d)){var e=1&b[d+1]?7:9;if(d+e>=b.length)return!1;var f=hb(b,d);if(f<=e)return!1;e=d+f;return e===b.length||e+1<b.length&&nb(b,e)}return!1}function fb(b,
d,e,f,h){if(!b.samplerate){var g,k,l,n,p=navigator.userAgent.toLowerCase(),q=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];g=1+((192&e[f+2])>>>6);var r=(60&e[f+2])>>>2;r>q.length-1?(d.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+r}),d=void 0):d=(l=(1&e[f+2])<<2,l|=(192&e[f+3])>>>6,S.log("manifest codec:"+h+", ADTS type:"+g+", samplingIndex:"+r),/firefox/i.test(p)?6<=r?(g=5,n=Array(4),k=r-3):(g=2,n=Array(2),
k=r):-1!==p.indexOf("android")?(g=2,n=Array(2),k=r):(g=5,n=Array(4),h&&(-1!==h.indexOf("mp4a.40.29")||-1!==h.indexOf("mp4a.40.5"))||!h&&6<=r?k=r-3:((h&&-1!==h.indexOf("mp4a.40.2")&&(6<=r&&1===l||/vivaldi/i.test(p))||!h&&1===l)&&(g=2,n=Array(2)),k=r)),n[0]=g<<3,n[0]|=(14&r)>>1,n[1]|=(1&r)<<7,n[1]|=l<<3,5===g&&(n[1]|=(14&k)>>1,n[2]=(1&k)<<7,n[2]|=8,n[3]=0),{config:n,samplerate:q[r],channelCount:l,codec:"mp4a.40."+g,manifestCodec:h});d&&(b.config=d.config,b.samplerate=d.samplerate,b.channelCount=d.channelCount,
b.codec=d.codec,b.manifestCodec=d.manifestCodec,S.log("parsed codec:"+b.codec+", rate:"+d.samplerate+", channels:"+d.channelCount))}}function Na(b,d,e,f,h){var g;f+=9216E4/b.samplerate*h;var k;a:{h=1&d[e+1]?7:9;if(e+h<=d.length&&(k=hb(d,e)-h,0<k)){k={headerLength:h,frameLength:k};break a}k=void 0}if(k){h=k.headerLength;k=h+k.frameLength;var l=Math.max(0,e+k-d.length);l?(g=new Uint8Array(k-h)).set(d.subarray(e+h,d.length),0):g=d.subarray(e+h,e+k);d={unit:g,pts:f};return l||b.samples.push(d),{sample:d,
length:k,missing:l}}b=d.length-e;return(g=new Uint8Array(b)).set(d.subarray(e,d.length),0),{sample:{unit:g,pts:f},length:b,missing:-1}}function Kc(b,d,e,f,h){if(!(e+24>d.length)){var g=Zb(d,e);if(g&&e+g.frameLength<=d.length)return f+=9E4*g.samplesPerFrame/g.sampleRate*h,d={unit:d.subarray(e,e+g.frameLength),pts:f,dts:f},b.config=[],b.channelCount=g.channelCount,b.samplerate=g.sampleRate,b.samples.push(d),{sample:d,length:g.frameLength,missing:0}}}function Zb(b,d){var e=b[d+1]>>3&3,f=b[d+1]>>1&3,
h=b[d+2]>>4&15,g=b[d+2]>>2&3;if(1!==e&&0!==h&&15!==h&&3!==g){var k=b[d+3]>>6,h=1E3*Ic[14*(3===e?3-f:3===f?3:4)+h-1],g=Nd[3*(3===e?0:2===e?1:2)+g],l=3===k?1:2,n=Od[e][f],p=de[f],e=8*n*p,n=Math.floor(n*h/g+(b[d+2]>>1&1))*p;null===Wc&&(Wc=(p=(navigator.userAgent||"").match(/Chrome\/(\d+)/i))?parseInt(p[1]):0);return!!Wc&&87>=Wc&&2===f&&224E3<=h&&0===k&&(b[d+3]|=128),{sampleRate:g,channelCount:l,frameLength:n,samplesPerFrame:e}}}function Gb(b,d){return 255===b[d]&&224==(224&b[d+1])&&0!=(6&b[d+1])}function Rb(b,
d,e,f){return{key:b,frame:!1,pts:d,dts:e,units:[],debug:f,length:0}}function Ra(b){var d,e,f,h,g,k=0,l=b.data;if(!b||0===b.size)return null;for(;19>l[0].length&&1<l.length;)f=new Uint8Array(l[0].length+l[1].length),f.set(l[0]),f.set(l[1],l[0].length),l[0]=f,l.splice(1,1);if(1===((d=l[0])[0]<<16)+(d[1]<<8)+d[2]){if((e=(d[4]<<8)+d[5])&&e>b.size-6)return null;f=d[7];192&f&&(h=536870912*(14&d[9])+4194304*(255&d[10])+16384*(254&d[11])+128*(255&d[12])+(254&d[13])/2,64&f?54E5<h-(g=536870912*(14&d[14])+4194304*
(255&d[15])+16384*(254&d[16])+128*(255&d[17])+(254&d[18])/2)&&(S.warn(Math.round((h-g)/9E4)+"s delta between PTS and DTS, align them"),h=g):g=h);var n=(f=d[8])+9;if(b.size<=n)return null;b.size-=n;b=new Uint8Array(b.size);for(var p=0,q=l.length;p<q;p++){var r=(d=l[p]).byteLength;if(n){if(n>r){n-=r;continue}d=d.subarray(n);r-=n;n=0}b.set(d,k);k+=r}return e&&(e-=f+3),{data:b,pts:h,dts:g,len:e}}return null}function ob(b,d){if(b.units.length&&b.frame){if(void 0===b.pts){var e=d.samples,f=e.length;if(!f)return void d.dropped++;
e=e[f-1];b.pts=e.pts;b.dts=e.dts}d.samples.push(b)}b.debug.length&&S.log(b.pts+"/"+b.dts+":"+b.debug)}function Xb(b,d,e,f){void 0===e&&(e=1);void 0===f&&(f=!1);b=b*d*e;return f?Math.round(b):b}function bb(b,d){return void 0===d&&(d=!1),Xb(b,1E3,1/9E4,d)}function ta(b,d){var e;if(null===d)return b;for(e=d<b?-8589934592:8589934592;4294967296<Math.abs(b-d);)b+=e;return b}function kb(b,d,e,f){var h=b.samples.length;if(h){for(var g=b.inputTimeScale,k=0;k<h;k++){var l=b.samples[k];l.pts=ta(l.pts-9E4*e.baseTime/
e.timescale,d*g)/g;l.dts=ta(l.dts-9E4*f.baseTime/f.timescale,d*g)/g}d=b.samples;return b.samples=[],{samples:d}}}function Hb(b,d,e){var f=b.samples.length;if(f){for(var h=b.inputTimeScale,g=0;g<f;g++){var k=b.samples[g];k.pts=ta(k.pts-9E4*e.baseTime/e.timescale,d*h)/h}b.samples.sort(function(b,d){return b.pts-d.pts});d=b.samples;return b.samples=[],{samples:d}}}function jb(b,d){var e=null==b?void 0:b.codec;return e&&4<e.length?e:"hvc1"===e||"hev1"===e?"hvc1.1.c.L120.90":"av01"===e?"av01.0.04M.08":
"avc1"===e||"video"===d?"avc1.42e01e":"mp4a.40.5"}function Vb(b){return"then"in b&&b.then instanceof Function}function Cc(b,d){if(!((e=d.remuxResult).audio||e.video||e.text||e.id3||e.initSegment))return!1;var e;e=[];var f=d.remuxResult,h=f.audio,f=f.video;return h&&ed(e,h),f&&ed(e,f),b.postMessage({event:"transmuxComplete",data:d},e),!0}function ed(b,d){d.data1&&b.push(d.data1.buffer);d.data2&&b.push(d.data2.buffer)}function tc(b,d,e){d.reduce(function(d,e){return Cc(b,e)||d},!1)||b.postMessage({event:"transmuxComplete",
data:d[0]});b.postMessage({event:"flush",data:e})}function Fc(b,d){if(b.length!==d.length)return!1;for(var e=0;e<b.length;e++)if(!fd(b[e].attrs,d[e].attrs))return!1;return!0}function fd(b,d){var e=b["STABLE-RENDITION-ID"];return e?e===d["STABLE-RENDITION-ID"]:!"LANGUAGE NAME CHARACTERISTICS AUTOSELECT DEFAULT FORCED".split(" ").some(function(e){return b[e]!==d[e]})}function Lc(b){for(var d=[],e=0;e<b.length;e++){var f=b[e];"subtitles"!==f.kind&&"captions"!==f.kind||!f.label||d.push(b[e])}return d}
function Mc(b){return(b=b.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/))?59<parseFloat(b[2])?3600*(0|b[2])+60*(0|b[3])+0+parseFloat(b[4]||0):3600*(0|b[1])+60*(0|b[2])+(0|b[3])+parseFloat(b[4]||0):null}function fc(b,d,e,f){b=f?b.split(f):[b];for(var h in b)"string"==typeof b[h]&&(f=b[h].split(e),2===f.length&&d(f[0],f[1]))}function nc(b,d,e){function f(){var d=Mc(b);if(null===d)throw Error("Malformed timestamp: "+g);return b=b.replace(/^[^\sa-zA-Z-]+/,""),d}function h(){b=b.replace(/^\s+/,"")}var g=
b;if(h(),d.startTime=f(),h(),"--\x3e"!==b.slice(0,3))throw Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+g);b=b.slice(3);h();d.endTime=f();h();(function(b,d){var f=new Ae;fc(b,function(b,d){var h;switch(b){case "region":for(h=e.length-1;0<=h;h--)if(e[h].id===d){f.set(b,e[h].region);break}break;case "vertical":f.alt(b,d,["rl","lr"]);break;case "line":h=d.split(",");f.integer(b,h[0]);f.percent(b,h[0])&&f.set("snapToLines",!1);f.alt(b,h[0],["auto"]);2===h.length&&f.alt("lineAlign",
h[1],["start",Rd,"end"]);break;case "position":h=d.split(",");f.percent(b,h[0]);2===h.length&&f.alt("positionAlign",h[1],["start",Rd,"end","line-left","line-right","auto"]);break;case "size":f.percent(b,d);break;case "align":f.alt(b,d,["start",Rd,"end","left","right"])}},/:/,/\s/);d.region=f.get("region",null);d.vertical=f.get("vertical","");var h=f.get("line","auto");"auto"===h&&-1===je.line&&(h=-1);d.line=h;d.lineAlign=f.get("lineAlign","start");d.snapToLines=f.get("snapToLines",!0);d.size=f.get("size",
100);d.align=f.get("align",Rd);h=f.get("position","auto");"auto"===h&&50===je.position&&(h="start"===d.align||"left"===d.align?0:"end"===d.align||"right"===d.align?100:50);d.position=h})(b,d)}function ec(b){return b.replace(/<br(?: \/)?>/gi,"\n")}function Nc(b,d,e){return ke(b.toString())+ke(d.toString())+ke(e)}function Oc(b,d,e,f,h,g,k){var l,n,p,q=new Be;b=sb(new Uint8Array(b)).trim().replace(Ce,"\n").split("\n");var r=[],s=(l=d.baseTime,void 0===(n=d.timescale)&&(n=1),Xb(l,9E4,1/n)),u="00:00.000",
A=0,v=0,D=!0;q.oncue=function(b){var d=e[f],g=e.ccOffset,k=(A-s)/9E4;if(null!=d&&d.new)if(void 0!==v)g=e.ccOffset=d.start;else{var d=e[f],l=e[d.prevCC];if(!l||!l.new&&d.new)e.ccOffset=e.presentationOffset=d.start,d.new=!1;else{for(;null!=(n=l)&&n.new;){var n;e.ccOffset+=d.start-l.start;d.new=!1;l=e[(d=l).prevCC]}e.presentationOffset=k}}k&&(g=k-e.presentationOffset);k=b.endTime-b.startTime;g=ta(9E4*(b.startTime+g-v),9E4*h)/9E4;b.startTime=Math.max(g,0);b.endTime=Math.max(g+k,0);g=b.text.trim();b.text=
decodeURIComponent(encodeURIComponent(g));b.id||(b.id=Nc(b.startTime,b.endTime,g));0<b.endTime&&r.push(b)};q.onparsingerror=function(b){p=b};q.onflush=function(){p?k(p):g(r)};b.forEach(function(b){if(D){if(le(b,"X-TIMESTAMP-MAP\x3d")){D=!1;b.slice(16).split(",").forEach(function(b){le(b,"LOCAL:")?u=b.slice(6):le(b,"MPEGTS:")&&(A=parseInt(b.slice(7)))});try{v=function(b){var d=parseInt(b.slice(-3)),e=parseInt(b.slice(-6,-4)),f=parseInt(b.slice(-9,-7)),h=9<b.length?parseInt(b.substring(0,b.indexOf(":"))):
0;if(!(ka(d)&&ka(e)&&ka(f)&&ka(h)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+b);return d+=1E3*e,d+6E4*f+36E5*h}(u)/1E3}catch(d){p=d}return}""===b&&(D=!1)}q.parse(b+"\n")});q.flush()}function Xc(b,d,e,f){b=R(new Uint8Array(b),["mdat"]);if(0!==b.length){var h,k,n;b=b.map(function(b){return sb(b)});var p=(h=d.baseTime,void 0===(k=d.timescale)&&(k=1),void 0===n&&(n=!1),Xb(h,1,1/k,n));try{b.forEach(function(b){return e(function(b,d){var e=(new DOMParser).parseFromString(b,"text/xml").getElementsByTagName("tt")[0];
if(!e)throw Error("Invalid ttml");var f={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},h=Object.keys(f).reduce(function(b,d){return b[d]=e.getAttribute("ttp:"+d)||f[d],b},{}),k="preserve"!==e.getAttribute("xml:space"),Z=gc(bc(e,"styling","style")),lc=gc(bc(e,"layout","region")),n=bc(e,"body","[begin]");return[].map.call(n,function(b){var e=Dc(b,k);if(!e||!b.hasAttribute("begin"))return null;var f=Lb(b.getAttribute("begin"),h),n=Lb(b.getAttribute("dur"),h),ie=Lb(b.getAttribute("end"),
h);if(null===f)throw ic(b);if(null===ie){if(null===n)throw ic(b);ie=f+n}e=new me(f-d,ie-d,e);e.id=Nc(e.startTime,e.endTime,e.text);b=function(b,d,e){var f=null,h=null!=b&&b.hasAttribute("style")?b.getAttribute("style"):null;return h&&e.hasOwnProperty(h)&&(f=e[h]),"displayAlign textAlign color backgroundColor fontSize fontFamily".split(" ").reduce(function(e,h){var g=Sb(d,"http://www.w3.org/ns/ttml#styling",h)||Sb(b,"http://www.w3.org/ns/ttml#styling",h)||Sb(f,"http://www.w3.org/ns/ttml#styling",h);
return g&&(e[h]=g),e},{})}(lc[b.getAttribute("region")],Z[b.getAttribute("style")],Z);if(f=b.textAlign)(n=De[f])&&(e.lineAlign=n),e.align=f;return g(e,b),e}).filter(function(b){return null!==b})}(b,p))})}catch(q){f(q)}}else f(Error("Could not parse IMSC1 mdat"))}function bc(b,d,e){return(b=b.getElementsByTagName(d)[0])?[].slice.call(b.querySelectorAll(e)):[]}function gc(b){return b.reduce(function(b,d){var e=d.getAttribute("xml:id");return e&&(b[e]=d),b},{})}function Dc(b,d){return[].slice.call(b.childNodes).reduce(function(b,
e,f){var h;return"br"===e.nodeName&&f?b+"\n":null!=(h=e.childNodes)&&h.length?Dc(e,d):d?b+e.textContent.trim().replace(/\s+/g," "):b+e.textContent},"")}function Sb(b,d,e){return b&&b.hasAttributeNS(d,e)?b.getAttributeNS(d,e):null}function ic(b){return Error("Could not parse ttml timestamp "+b)}function Lb(b,d){if(!b)return null;var e=Mc(b);return null===e&&(qe.test(b)?e=function(b,d){var e=qe.exec(b);return 3600*(0|e[1])+60*(0|e[2])+(0|e[3])+((0|e[4])+(0|e[5])/d.subFrameRate)/d.frameRate}(b,d):re.test(b)&&
(e=function(b,d){var e=re.exec(b),f=Number(e[1]);switch(e[2]){case "h":return 3600*f;case "m":return 60*f;case "ms":return 1E3*f;case "f":return f/d.frameRate;case "t":return f/d.tickRate}return f}(b,d))),e}function Pc(b,d,e,f){b&&Object.keys(d).forEach(function(h){var k=b.filter(function(b){return b.groupId===h}).map(function(b){var k=g({},b);return k.details=void 0,k.attrs=new pa(k.attrs),k.url=k.attrs.URI=ib(b.url,b.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",e),k.groupId=k.attrs["GROUP-ID"]=
d[h],k.attrs["PATHWAY-ID"]=f,k});b.push.apply(b,k)})}function ib(b,d,e,f){var h,g=f.HOST,k=f.PARAMS;e=f[e];d&&(h=null==e?void 0:e[d])&&(b=h);var l=new self.URL(b);return g&&!h&&(l.host=g),k&&Object.keys(k).sort().forEach(function(b){b&&l.searchParams.set(b,k[b])}),l.href}function jc(b,d){return new self.Request(b.url,d)}function Ha(b){return b&&"object"==typeof b?Array.isArray(b)?b.map(Ha):Object.keys(b).reduce(function(d,e){return d[e]=Ha(b[e]),d},{}):b}function wa(b){var d=b.loader;if(d!==se&&d!==
te)S.log("[config]: Custom loader detected, cannot enable progressive streaming"),b.progressive=!1;else{var e;a:{if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{e=(new self.ReadableStream({}),!0);break a}catch(f){}e=!1}e&&(b.loader=se,b.progressive=!0,b.enableSoftwareAES=!0,S.log("[config]: Progressive streaming enabled, using FetchLoader"))}}var kc={};!function(b,d){var e,f,h,g,k;e=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/;
f=/^(?=([^\/?#]*))\1([^]*)$/;h=/(?:\/|^)\.(?=\/)/g;g=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g;k={buildAbsoluteURL:function(b,d,e){if(e=e||{},b=b.trim(),!(d=d.trim())){if(!e.alwaysNormalize)return b;e=k.parseURL(b);if(!e)throw Error("Error trying to parse base URL.");return e.path=k.normalizePath(e.path),k.buildURLFromParts(e)}var h=k.parseURL(d);if(!h)throw Error("Error trying to parse relative URL.");if(h.scheme)return e.alwaysNormalize?(h.path=k.normalizePath(h.path),k.buildURLFromParts(h)):d;d=
k.parseURL(b);if(!d)throw Error("Error trying to parse base URL.");!d.netLoc&&d.path&&"/"!==d.path[0]&&(b=f.exec(d.path),d.netLoc=b[1],d.path=b[2]);d.netLoc&&!d.path&&(d.path="/");b={scheme:d.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};h.netLoc||(b.netLoc=d.netLoc,"/"===h.path[0])||(h.path?(d=d.path,d=d.substring(0,d.lastIndexOf("/")+1)+h.path,b.path=k.normalizePath(d)):(b.path=d.path,h.params||(b.params=d.params,h.query||(b.query=d.query))));return null===
b.path&&(b.path=e.alwaysNormalize?k.normalizePath(h.path):h.path),k.buildURLFromParts(b)},parseURL:function(b){return(b=e.exec(b))?{scheme:b[1]||"",netLoc:b[2]||"",path:b[3]||"",params:b[4]||"",query:b[5]||"",fragment:b[6]||""}:null},normalizePath:function(b){for(b=b.split("").reverse().join("").replace(h,"");b.length!==(b=b.replace(g,"")).length;);return b.split("").reverse().join("")},buildURLFromParts:function(b){return b.scheme+b.netLoc+b.path+b.params+b.query+b.fragment}};b.exports=k}({get exports(){return kc},
set exports(b){kc=b}});var ka=Number.isFinite||function(b){return"number"==typeof b&&isFinite(b)},G=function(b){return b.MEDIA_ATTACHING="hlsMediaAttaching",b.MEDIA_ATTACHED="hlsMediaAttached",b.MEDIA_DETACHING="hlsMediaDetaching",b.MEDIA_DETACHED="hlsMediaDetached",b.BUFFER_RESET="hlsBufferReset",b.BUFFER_CODECS="hlsBufferCodecs",b.BUFFER_CREATED="hlsBufferCreated",b.BUFFER_APPENDING="hlsBufferAppending",b.BUFFER_APPENDED="hlsBufferAppended",b.BUFFER_EOS="hlsBufferEos",b.BUFFER_FLUSHING="hlsBufferFlushing",
b.BUFFER_FLUSHED="hlsBufferFlushed",b.MANIFEST_LOADING="hlsManifestLoading",b.MANIFEST_LOADED="hlsManifestLoaded",b.MANIFEST_PARSED="hlsManifestParsed",b.LEVEL_SWITCHING="hlsLevelSwitching",b.LEVEL_SWITCHED="hlsLevelSwitched",b.LEVEL_LOADING="hlsLevelLoading",b.LEVEL_LOADED="hlsLevelLoaded",b.LEVEL_UPDATED="hlsLevelUpdated",b.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",b.LEVELS_UPDATED="hlsLevelsUpdated",b.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",b.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",b.AUDIO_TRACK_SWITCHED=
"hlsAudioTrackSwitched",b.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",b.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",b.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",b.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",b.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",b.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",b.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",b.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",b.CUES_PARSED="hlsCuesParsed",b.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",
b.INIT_PTS_FOUND="hlsInitPtsFound",b.FRAG_LOADING="hlsFragLoading",b.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",b.FRAG_LOADED="hlsFragLoaded",b.FRAG_DECRYPTED="hlsFragDecrypted",b.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",b.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",b.FRAG_PARSING_METADATA="hlsFragParsingMetadata",b.FRAG_PARSED="hlsFragParsed",b.FRAG_BUFFERED="hlsFragBuffered",b.FRAG_CHANGED="hlsFragChanged",b.FPS_DROP="hlsFpsDrop",b.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",
b.ERROR="hlsError",b.DESTROYING="hlsDestroying",b.KEY_LOADING="hlsKeyLoading",b.KEY_LOADED="hlsKeyLoaded",b.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",b.BACK_BUFFER_REACHED="hlsBackBufferReached",b}({}),na=function(b){return b.NETWORK_ERROR="networkError",b.MEDIA_ERROR="mediaError",b.KEY_SYSTEM_ERROR="keySystemError",b.MUX_ERROR="muxError",b.OTHER_ERROR="otherError",b}({}),V=function(b){return b.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",b.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",b.KEY_SYSTEM_NO_SESSION=
"keySystemNoSession",b.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",b.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",b.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",b.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",b.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",b.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",b.KEY_SYSTEM_STATUS_INTERNAL_ERROR=
"keySystemStatusInternalError",b.MANIFEST_LOAD_ERROR="manifestLoadError",b.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",b.MANIFEST_PARSING_ERROR="manifestParsingError",b.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",b.LEVEL_EMPTY_ERROR="levelEmptyError",b.LEVEL_LOAD_ERROR="levelLoadError",b.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",b.LEVEL_PARSING_ERROR="levelParsingError",b.LEVEL_SWITCH_ERROR="levelSwitchError",b.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",b.AUDIO_TRACK_LOAD_TIMEOUT=
"audioTrackLoadTimeOut",b.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",b.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",b.FRAG_LOAD_ERROR="fragLoadError",b.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",b.FRAG_DECRYPT_ERROR="fragDecryptError",b.FRAG_PARSING_ERROR="fragParsingError",b.FRAG_GAP="fragGap",b.REMUX_ALLOC_ERROR="remuxAllocError",b.KEY_LOAD_ERROR="keyLoadError",b.KEY_LOAD_TIMEOUT="keyLoadTimeOut",b.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",b.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",
b.BUFFER_APPEND_ERROR="bufferAppendError",b.BUFFER_APPENDING_ERROR="bufferAppendingError",b.BUFFER_STALLED_ERROR="bufferStalledError",b.BUFFER_FULL_ERROR="bufferFullError",b.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",b.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",b.INTERNAL_EXCEPTION="internalException",b.INTERNAL_ABORTED="aborted",b.UNKNOWN="unknown",b}({}),Mb=function(){},Yc={trace:Mb,debug:Mb,log:Mb,warn:Mb,info:Mb,error:Mb},wb=Yc,S=wb,qd=/^(\d+)x(\d+)$/,uc=/(.+?)=(".*?"|.*?)(?:,|$)/g,pa=function(){function b(d){for(var e in"string"==
typeof d&&(d=b.parseAttrList(d)),d)d.hasOwnProperty(e)&&("X-"===e.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(e)),this[e]=d[e])}var d=b.prototype;return d.decimalInteger=function(b){b=parseInt(this[b],10);return b>Number.MAX_SAFE_INTEGER?1/0:b},d.hexadecimalInteger=function(b){if(this[b]){b=(this[b]||"0x").slice(2);b=(1&b.length?"0":"")+b;for(var d=new Uint8Array(b.length/2),e=0;e<b.length/2;e++)d[e]=parseInt(b.slice(2*e,2*e+2),16);return d}return null},d.hexadecimalIntegerAsNumber=
function(b){b=parseInt(this[b],16);return b>Number.MAX_SAFE_INTEGER?1/0:b},d.decimalFloatingPoint=function(b){return parseFloat(this[b])},d.optionalFloat=function(b,d){var e=this[b];return e?parseFloat(e):d},d.enumeratedString=function(b){return this[b]},d.bool=function(b){return"YES"===this[b]},d.decimalResolution=function(b){b=qd.exec(this[b]);if(null!==b)return{width:parseInt(b[1],10),height:parseInt(b[2],10)}},b.parseAttrList=function(b){var d,e={};for(uc.lastIndex=0;null!==(d=uc.exec(b));){var f=
d[2];0===f.indexOf('"')&&f.lastIndexOf('"')===f.length-1&&(f=f.slice(1,-1));e[d[1].trim()]=f}return e},b}(),Zc=function(){function b(d,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){var f=e.attr,h;for(h in f)if(Object.prototype.hasOwnProperty.call(d,h)&&d[h]!==f[h]){S.warn('DATERANGE tag attribute: "'+h+'" does not match for tags with ID: "'+d.ID+'"');this._badValueForSameId=h;break}d=g(new pa({}),f,d)}if(this.attr=d,this._startDate=new Date(d["START-DATE"]),
"END-DATE"in this.attr)f=new Date(this.attr["END-DATE"]),ka(f.getTime())&&(this._endDate=f)}return f(b,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var b=this.duration;return null!==b?new Date(this._startDate.getTime()+1E3*b):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var b=this.attr.decimalFloatingPoint("DURATION");
if(ka(b))return b}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1E3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&ka(this.startDate.getTime())&&(null===this.duration||0<=this.duration)&&(!this.endOnNext||!!this.class)}}]),
b}(),lb=function(){this.aborted=!1;this.bwEstimate=this.chunkCount=this.total=this.retry=this.loaded=0;this.loading={start:0,first:0,end:0};this.parsing={start:0,end:0};this.buffering={start:0,first:0,end:0}},gd=function(){function b(d){var e;this._url=this._byteRange=null;this.relurl=this.baseurl=void 0;this.elementaryStreams=((e={}).audio=null,e.video=null,e.audiovideo=null,e);this.baseurl=d}return b.prototype.setByteRange=function(b,d){var e=b.split("@",2),f=[];1===e.length?f[0]=d?d.byteRangeEndOffset:
0:f[0]=parseInt(e[1]);f[1]=parseInt(e[0])+f[0];this._byteRange=f},f(b,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=kc.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(b){this._url=b}}]),b}(),Nb=function(b){function d(e,
f){var h;return(h=b.call(this,f)||this)._decryptdata=null,h.rawProgramDateTime=null,h.programDateTime=null,h.tagList=[],h.duration=0,h.sn=0,h.levelkeys=void 0,h.type=void 0,h.loader=null,h.keyLoader=null,h.level=-1,h.cc=0,h.startPTS=void 0,h.endPTS=void 0,h.startDTS=void 0,h.endDTS=void 0,h.start=0,h.deltaPTS=void 0,h.maxStartPTS=void 0,h.minEndPTS=void 0,h.stats=new lb,h.urlId=0,h.data=void 0,h.bitrateTest=!1,h.title=null,h.initSegment=null,h.endList=void 0,h.gap=void 0,h.type=e,h}n(d,b);var e=d.prototype;
return e.setKeyFormat=function(b){this.levelkeys&&(b=this.levelkeys[b])&&!this._decryptdata&&(this._decryptdata=b.getDecryptData(this.sn))},e.abortRequests=function(){var b,d;null==(b=this.loader)||b.abort();null==(d=this.keyLoader)||d.abort()},e.setElementaryStreamInfo=function(b,d,e,f,h,g){void 0===g&&(g=!1);var k=this.elementaryStreams,l=k[b];l?(l.startPTS=Math.min(l.startPTS,d),l.endPTS=Math.max(l.endPTS,e),l.startDTS=Math.min(l.startDTS,f),l.endDTS=Math.max(l.endDTS,h)):k[b]={startPTS:d,endPTS:e,
startDTS:f,endDTS:h,partial:g}},e.clearElementaryStreamInfo=function(){var b=this.elementaryStreams;b.audio=null;b.video=null;b.audiovideo=null},f(d,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var b=this.levelkeys.identity;if(b)this._decryptdata=b.getDecryptData(this.sn);else if(b=Object.keys(this.levelkeys),1===b.length)return this._decryptdata=this.levelkeys[b[0]].getDecryptData(this.sn)}return this._decryptdata}},
{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime||!ka(this.programDateTime))return null;var b=ka(this.duration)?this.duration:0;return this.programDateTime+1E3*b}},{key:"encrypted",get:function(){var b;if(null!=(b=this._decryptdata)&&b.encrypted)return!0;if(this.levelkeys){b=Object.keys(this.levelkeys);var d=b.length;if(1<d||1===d&&this.levelkeys[b[0]].encrypted)return!0}return!1}}]),d}(gd),hd=function(b){function d(e,
f,h,g,k){(h=b.call(this,h)||this).fragOffset=0;h.duration=0;h.gap=!1;h.independent=!1;h.relurl=void 0;h.fragment=void 0;h.index=void 0;h.stats=new lb;h.duration=e.decimalFloatingPoint("DURATION");h.gap=e.bool("GAP");h.independent=e.bool("INDEPENDENT");h.relurl=e.enumeratedString("URI");h.fragment=f;h.index=g;e=e.enumeratedString("BYTERANGE");return e&&h.setByteRange(e,k),k&&(h.fragOffset=k.fragOffset+k.duration),h}return n(d,b),f(d,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},
{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var b=this.elementaryStreams;return!!(b.audio||b.video||b.audiovideo)}}]),d}(gd),cc=function(){function b(d){this.alignedSliding=this.PTSKnown=!1;this.averagetargetduration=void 0;this.endSN=this.endCC=0;this.fragmentHint=this.fragments=void 0;this.partList=null;this.dateRanges=void 0;this.live=!0;this.ageHeader=0;this.advancedDateTime=void 0;this.advanced=this.updated=!0;this.availabilityDelay=void 0;this.startSN=
this.startCC=this.misses=0;this.startTimeOffset=null;this.totalduration=this.targetduration=0;this.type=null;this.url=void 0;this.m3u8="";this.version=null;this.canBlockReload=!1;this.canSkipUntil=0;this.canSkipDateRanges=!1;this.skippedSegments=0;this.recentlyRemovedDateranges=void 0;this.partTarget=this.holdBack=this.partHoldBack=0;this.renditionReports=this.preloadHint=void 0;this.tuneInGoal=0;this.deltaUpdateFailed=void 0;this.driftEnd=this.driftStart=this.driftEndTime=this.driftStartTime=0;this.encryptedFragments=
void 0;this.variableList=this.playlistParsingError=null;this.hasVariableRefs=!1;this.fragments=[];this.encryptedFragments=[];this.dateRanges={};this.url=d}return b.prototype.reloaded=function(b){if(!b)return this.advanced=!0,void(this.updated=!0);var d=this.lastPartSn-b.lastPartSn,e=this.lastPartIndex-b.lastPartIndex;this.updated=this.endSN!==b.endSN||!!e||!!d;this.advanced=this.endSN>b.endSN||0<d||0===d&&0<e;this.updated||this.advanced?this.misses=Math.floor(.6*b.misses):this.misses=b.misses+1;this.availabilityDelay=
b.availabilityDelay},f(b,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&ka(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var b=this.driftEndTime-this.driftStartTime;return 0<b?1E3*(this.driftEnd-this.driftStart)/b:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var b;return null!=
(b=this.partList)&&b.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var b;return null!=(b=this.fragments)&&b.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1E3:0}},{key:"lastPartIndex",get:function(){var b;return null!=(b=this.partList)&&b.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var b;return null!=
(b=this.partList)&&b.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),b}(),Ga={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},yb="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null,Cb,Wb=function(b,d){return d+10<=b.length&&73===b[d]&&68===b[d+1]&&51===b[d+2]&&255>b[d+3]&&255>b[d+4]&&128>b[d+6]&&128>b[d+
7]&&128>b[d+8]&&128>b[d+9]},Ia=function(b,d){return d+10<=b.length&&51===b[d]&&68===b[d+1]&&73===b[d+2]&&255>b[d+3]&&255>b[d+4]&&128>b[d+6]&&128>b[d+7]&&128>b[d+8]&&128>b[d+9]},zb=function(b,d){for(var e=d,f=0;Wb(b,d);)f+=10,f+=Ab(b,d+6),Ia(b,d+10)&&(f+=10),d+=f;if(0<f)return b.subarray(e,e+f)},Ab=function(b,d){var e=0;return e=(127&b[d])<<21,e|=(127&b[d+1])<<14,e|=(127&b[d+2])<<7,e|127&b[d+3]},Qa=function(b){return b&&"PRIV"===b.key&&"com.apple.streaming.transportStreamTimestamp"===b.info},ab=function(b){for(var d=
0,e=[];Wb(b,d);){for(var f=Ab(b,d+6),f=(d+=10)+f;d+8<f;){var h;h=b.subarray(d);var g=String.fromCharCode(h[0],h[1],h[2],h[3]),k=Ab(h,4),g=h={type:g,size:k,data:h.subarray(10,10+k)};if("PRIV"===g.type)if(2>g.size)g=void 0;else var k=sb(g.data,!0),l=new Uint8Array(g.data.subarray(k.length+1)),g={key:g.type,info:k,data:l.buffer};else"W"===g.type[0]?"WXXX"===g.type?2>g.size?g=void 0:(l=1,k=sb(g.data.subarray(l),!0),l+=k.length+1,l=sb(g.data.subarray(l)),g={key:g.type,info:k,data:l}):(k=sb(g.data),g={key:g.type,
data:k}):2>g.size?g=void 0:"TXXX"===g.type?(l=1,k=sb(g.data.subarray(l),!0),l+=k.length+1,l=sb(g.data.subarray(l)),g={key:g.type,info:k,data:l}):(k=sb(g.data.subarray(1)),g={key:g.type,data:k});g&&e.push(g);d+=h.size+10}Ia(b,d)&&(d+=10)}return e},sb=function(b,d){void 0===d&&(d=!1);var e=(Cb||void 0===self.TextDecoder||(Cb=new self.TextDecoder("utf-8")),Cb);if(e){e=e.decode(b);if(d){var f=e.indexOf("\x00");return-1!==f?e.substring(0,f):e}return e.replace(/\0/g,"")}for(var h,g=b.length,k="",l=0;l<
g&&(0!==(e=b[l++])||!d);)if(0!==e&&3!==e)switch(e>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:k+=String.fromCharCode(e);break;case 12:case 13:f=b[l++];k+=String.fromCharCode((31&e)<<6|63&f);break;case 14:f=b[l++],h=b[l++],k+=String.fromCharCode((15&e)<<12|(63&f)<<6|(63&h)<<0)}return k},I=function(b){for(var d="",e=0;e<b.length;e++){var f=b[e].toString(16);2>f.length&&(f="0"+f);d+=f}return d},Va=Math.pow(2,32)-1,mc=[].push,Eb={video:1,audio:2,id3:3,text:4},Tb={},Fb=function(){function b(d,
e,f,h,g){void 0===h&&(h=[1]);void 0===g&&(g=null);this.isCommonEncryption=this.encrypted=this.keyFormatVersions=this.keyFormat=this.method=this.uri=void 0;this.pssh=this.keyId=this.key=this.iv=null;this.method=d;this.uri=e;this.keyFormat=f;this.keyFormatVersions=h;this.iv=g;this.isCommonEncryption=(this.encrypted=!!d&&"NONE"!==d)&&"AES-128"!==d}b.clearKeyUriToKeyIdMap=function(){Tb={}};var d=b.prototype;return d.isSupported=function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;
if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case "com.apple.streamingkeydelivery":case "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":case "com.microsoft.playready":case "org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1},d.getDecryptData=function(d){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv)return"number"!=typeof d&&("AES-128"!==this.method||
this.iv||S.warn('missing IV for initialization segment with method\x3d"'+this.method+'" - compliance issue'),d=0),d=function(b){for(var d=new Uint8Array(16),e=12;16>e;e++)d[e]=b>>8*(15-e)&255;return d}(d),new b(this.method,this.uri,"identity",this.keyFormatVersions,d);if(d=D(this.uri))switch(this.keyFormat){case "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":this.pssh=d;22<=d.length&&(this.keyId=d.subarray(d.length-22,d.length-6));break;case "com.microsoft.playready":var e=new Uint8Array([154,4,
240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=ca(e,null,d);d=new Uint16Array(d.buffer,d.byteOffset,d.byteLength/2);d=String.fromCharCode.apply(null,Array.from(d));d=d.substring(d.indexOf("\x3c"),d.length);if(d=(new DOMParser).parseFromString(d,"text/xml").getElementsByTagName("KID")[0])if(d=d.childNodes[0]?d.childNodes[0].nodeValue:d.getAttribute("VALUE"))d=u(d).subarray(0,16),!function(b){var d=function(b,d,e){var f=b[d];b[d]=b[e];b[e]=f};d(b,0,3);d(b,1,2);d(b,4,5);d(b,6,7)}(d),
this.keyId=d;break;default:d=d.subarray(0,16),16!==d.length&&(e=new Uint8Array(16),e.set(d,16-d.length),d=e),this.keyId=d}this.keyId&&16===this.keyId.byteLength||(d=Tb[this.uri],d||(e=Object.keys(Tb).length%Number.MAX_SAFE_INTEGER,d=new Uint8Array(16),(new DataView(d.buffer,12,4)).setUint32(0,e),Tb[this.uri]=d),this.keyId=d);return this},b}(),La=/\{\$([a-zA-Z0-9-_]+)\}/g,wc={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,
g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},ac=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,
$c=/#EXT-X-MEDIA:(.*)/g,gb=/^#EXT(?:INF|-X-TARGETDURATION):/m,Sa=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Da=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,
/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),Ka=function(){function b(){}return b.findGroup=function(b,d){for(var e=0;e<b.length;e++){var f=b[e];if(f.id===d)return f}},b.convertAVC1ToAVCOTI=function(b){var d=b.split(".");return 2<d.length?(b=d.shift()+".",b+=parseInt(d.shift()).toString(16),b+("000"+parseInt(d.shift()).toString(16)).slice(-4)):b},b.resolve=function(b,d){return kc.buildAbsoluteURL(d,b,{alwaysNormalize:!0})},b.isMediaPlaylist=
function(b){return gb.test(b)},b.parseMasterPlaylist=function(d,e){var f,h={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:La.test(d)},g=[];for(ac.lastIndex=0;null!=(f=ac.exec(d));)if(f[1]){var k,l=new pa(f[1]);U(h,l,"CODECS SUPPLEMENTAL-CODECS ALLOWED-CPC PATHWAY-ID STABLE-VARIANT-ID AUDIO VIDEO SUBTITLES CLOSED-CAPTIONS NAME".split(" "));f=Y(h,f[2]);f={attrs:l,bitrate:l.decimalInteger("AVERAGE-BANDWIDTH")||
l.decimalInteger("BANDWIDTH"),name:l.NAME,url:b.resolve(f,e)};var n=l.decimalResolution("RESOLUTION");n&&(f.width=n.width,f.height=n.height);ja((l.CODECS||"").split(/[ ,]+/).filter(function(b){return b}),f);f.videoCodec&&-1!==f.videoCodec.indexOf("avc1")&&(f.videoCodec=b.convertAVC1ToAVCOTI(f.videoCodec));null!=(k=f.unknownCodecs)&&k.length||g.push(f);h.levels.push(f)}else if(f[3])switch(l=f[4],f[3]){case "SESSION-DATA":l=new pa(l);U(h,l,["DATA-ID","LANGUAGE","VALUE","URI"]);(f=l["DATA-ID"])&&(null===
h.sessionData&&(h.sessionData={}),h.sessionData[f]=l);break;case "SESSION-KEY":f=ga(l,e,h);f.encrypted&&f.isSupported()?(null===h.sessionKeys&&(h.sessionKeys=[]),h.sessionKeys.push(f)):S.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+l+'"');break;case "DEFINE":l=new pa(l);U(h,l,["NAME","VALUE","QUERYPARAM"]);X(h,l,e);break;case "CONTENT-STEERING":l=new pa(l);U(h,l,["SERVER-URI","PATHWAY-ID"]);h.contentSteering={uri:b.resolve(l["SERVER-URI"],e),pathwayId:l["PATHWAY-ID"]||"."};break;case "START":h.startTimeOffset=
ha(l)}return h.levels=0<g.length&&g.length<h.levels.length?g:h.levels,0===h.levels.length&&(h.playlistParsingError=Error("no levels found in manifest")),h},b.parseMasterPlaylistMedia=function(d,e,f){var h,g={},k=f.levels,k={AUDIO:k.map(function(b){return{id:b.attrs.AUDIO,audioCodec:b.audioCodec}}),SUBTITLES:k.map(function(b){return{id:b.attrs.SUBTITLES,textCodec:b.textCodec}}),"CLOSED-CAPTIONS":[]},l=0;for($c.lastIndex=0;null!==(h=$c.exec(d));){var n=new pa(h[1]),p=n.TYPE;if(p){var q=k[p];h=g[p]||
[];g[p]=h;U(f,n,"URI GROUP-ID LANGUAGE ASSOC-LANGUAGE STABLE-RENDITION-ID NAME INSTREAM-ID CHARACTERISTICS CHANNELS".split(" "));n={attrs:n,bitrate:0,id:l++,groupId:n["GROUP-ID"]||"",instreamId:n["INSTREAM-ID"],name:n.NAME||n.LANGUAGE||"",type:p,default:n.bool("DEFAULT"),autoselect:n.bool("AUTOSELECT"),forced:n.bool("FORCED"),lang:n.LANGUAGE,url:n.URI?b.resolve(n.URI,e):""};null!=q&&q.length&&(q=b.findGroup(q,n.groupId)||q[0],ya(n,q,"audioCodec"),ya(n,q,"textCodec"));h.push(n)}}return g},b.parseLevelPlaylist=
function(b,d,e,f,h,k){var n,p,q,r=new cc(d),s=r.fragments,u=null,A=0,v=0,D=0,F=0,z=null,C=new Nb(f,d),H=-1,t=!1;Sa.lastIndex=0;r.m3u8=b;for(r.hasVariableRefs=La.test(b);null!==(n=Sa.exec(b));){t&&(t=!1,(C=new Nb(f,d)).start=D,C.sn=A,C.cc=F,C.level=e,u&&(C.initSegment=u,C.rawProgramDateTime=u.rawProgramDateTime,u.rawProgramDateTime=null));var w=n[1];if(w)C.duration=parseFloat(w),n=(" "+n[2]).slice(1),C.title=n||null,C.tagList.push(n?["INF",w,n]:["INF",w]);else if(n[3])ka(C.duration)&&(C.start=D,q&&
sa(C,q,r),C.sn=A,C.level=e,C.cc=F,C.urlId=h,s.push(C),v=(" "+n[3]).slice(1),C.relurl=Y(r,v),Aa(C,z),z=C,D+=C.duration,A++,v=0,t=!0);else if(n[4])w=(" "+n[4]).slice(1),z?C.setByteRange(w,z):C.setByteRange(w);else if(n[5])C.rawProgramDateTime=(" "+n[5]).slice(1),C.tagList.push(["PROGRAM-DATE-TIME",C.rawProgramDateTime]),-1===H&&(H=s.length);else if(n=n[0].match(Da)){for(p=1;p<n.length&&void 0===n[p];p++);var B=(" "+n[p]).slice(1),w=(" "+n[p+1]).slice(1);p=n[p+2]?(" "+n[p+2]).slice(1):"";switch(B){case "PLAYLIST-TYPE":r.type=
w.toUpperCase();break;case "MEDIA-SEQUENCE":A=r.startSN=parseInt(w);break;case "SKIP":w=new pa(w);U(r,w,["RECENTLY-REMOVED-DATERANGES"]);n=w.decimalInteger("SKIPPED-SEGMENTS");if(ka(n)){for(B=r.skippedSegments=n;B--;)s.unshift(null);A+=n}(w=w.enumeratedString("RECENTLY-REMOVED-DATERANGES"))&&(r.recentlyRemovedDateranges=w.split("\t"));break;case "TARGETDURATION":r.targetduration=Math.max(parseInt(w),1);break;case "VERSION":r.version=parseInt(w);break;case "EXTM3U":break;case "ENDLIST":r.live=!1;break;
case "#":(w||p)&&C.tagList.push(p?[w,p]:[w]);break;case "DISCONTINUITY":F++;C.tagList.push(["DIS"]);break;case "GAP":C.gap=!0;C.tagList.push([B]);break;case "BITRATE":C.tagList.push([B,w]);break;case "DATERANGE":n=new pa(w);U(r,n,"ID CLASS START-DATE END-DATE SCTE35-CMD SCTE35-OUT SCTE35-IN".split(" "));U(r,n,n.clientAttrs);n=new Zc(n,r.dateRanges[n.ID]);n.isValid||r.skippedSegments?r.dateRanges[n.id]=n:S.warn('Ignoring invalid DATERANGE tag: "'+w+'"');C.tagList.push(["EXT-X-DATERANGE",w]);break;
case "DEFINE":B=new pa(w);U(r,B,["NAME","VALUE","IMPORT","QUERYPARAM"]);"IMPORT"in B?(w=r,n=k,B=B.IMPORT,n&&B in n?((p=w.variableList)||(w.variableList=p={}),p[B]=n[B]):w.playlistParsingError||(w.playlistParsingError=Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'+B+'"'))):X(r,B,d);break;case "DISCONTINUITY-SEQUENCE":F=parseInt(w);break;case "KEY":n=ga(w,d,r);if(n.isSupported()){if("NONE"===n.method){q=void 0;break}q||(q={});q[n.keyFormat]&&(q=g({},q));q[n.keyFormat]=n}else S.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+
w+'"');break;case "START":r.startTimeOffset=ha(w);break;case "MAP":u=new pa(w);(U(r,u,["BYTERANGE","URI"]),C.duration)?(w=new Nb(f,d),Ea(w,u,e,q),u=w,C.initSegment=u,u.rawProgramDateTime&&!C.rawProgramDateTime&&(C.rawProgramDateTime=u.rawProgramDateTime)):(Ea(C,u,e,q),u=C,t=!0);break;case "SERVER-CONTROL":w=new pa(w);r.canBlockReload=w.bool("CAN-BLOCK-RELOAD");r.canSkipUntil=w.optionalFloat("CAN-SKIP-UNTIL",0);r.canSkipDateRanges=0<r.canSkipUntil&&w.bool("CAN-SKIP-DATERANGES");r.partHoldBack=w.optionalFloat("PART-HOLD-BACK",
0);r.holdBack=w.optionalFloat("HOLD-BACK",0);break;case "PART-INF":w=new pa(w);r.partTarget=w.decimalFloatingPoint("PART-TARGET");break;case "PART":(n=r.partList)||(n=r.partList=[]);B=0<v?n[n.length-1]:void 0;p=v++;w=new pa(w);U(r,w,["BYTERANGE","URI"]);w=new hd(w,C,d,p,B);n.push(w);C.duration+=w.duration;break;case "PRELOAD-HINT":w=new pa(w);U(r,w,["URI"]);r.preloadHint=w;break;case "RENDITION-REPORT":w=new pa(w);U(r,w,["URI"]);r.renditionReports=r.renditionReports||[];r.renditionReports.push(w);
break;default:S.warn("line parsed but not handled: "+n)}}else S.warn("No matches on slow regex match for level playlist!")}z&&!z.relurl?(s.pop(),D-=z.duration,r.partList&&(r.fragmentHint=z)):r.partList&&(Aa(C,z),C.cc=F,r.fragmentHint=C,q&&sa(C,q,r));e=s.length;b=s[0];d=s[e-1];0<(D+=r.skippedSegments*r.targetduration)&&e&&d?(r.averagetargetduration=D/e,e=d.sn,r.endSN="initSegment"!==e?e:0,r.live||(d.endList=!0),b&&(r.startCC=b.cc)):(r.endSN=0,r.startCC=0);r.fragmentHint&&(D+=r.fragmentHint.duration);
r.totalduration=D;r.endCC=F;if(0<H)a:for(D=s[H];H--;){F=s[H];if(!F)break a;F.programDateTime=D.programDateTime-1E3*F.duration;D=F}return r},b}(),Gc=function(){function b(d){this.hls=void 0;this.loaders=Object.create(null);this.variableList=null;this.hls=d;this.registerListeners()}var d=b.prototype;return d.startLoad=function(b){},d.stopLoad=function(){this.destroyInternalLoaders()},d.registerListeners=function(){var b=this.hls;b.on(G.MANIFEST_LOADING,this.onManifestLoading,this);b.on(G.LEVEL_LOADING,
this.onLevelLoading,this);b.on(G.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this);b.on(G.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},d.unregisterListeners=function(){var b=this.hls;b.off(G.MANIFEST_LOADING,this.onManifestLoading,this);b.off(G.LEVEL_LOADING,this.onLevelLoading,this);b.off(G.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this);b.off(G.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},d.createInternalLoader=function(b){var d=this.hls.config,e=d.loader,d=new (d.pLoader||
e)(d);return this.loaders[b.type]=d,d},d.getInternalLoader=function(b){return this.loaders[b.type]},d.resetInternalLoader=function(b){this.loaders[b]&&delete this.loaders[b]},d.destroyInternalLoaders=function(){for(var b in this.loaders){var d=this.loaders[b];d&&d.destroy();this.resetInternalLoader(b)}},d.destroy=function(){this.variableList=null;this.unregisterListeners();this.destroyInternalLoaders()},d.onManifestLoading=function(b,d){var e=d.url;this.variableList=null;this.load({id:null,level:0,
responseType:"text",type:"manifest",url:e,deliveryDirectives:null})},d.onLevelLoading=function(b,d){this.load({id:d.id,level:d.level,responseType:"text",type:"level",url:d.url,deliveryDirectives:d.deliveryDirectives})},d.onAudioTrackLoading=function(b,d){this.load({id:d.id,groupId:d.groupId,level:null,responseType:"text",type:"audioTrack",url:d.url,deliveryDirectives:d.deliveryDirectives})},d.onSubtitleTrackLoading=function(b,d){this.load({id:d.id,groupId:d.groupId,level:null,responseType:"text",
type:"subtitleTrack",url:d.url,deliveryDirectives:d.deliveryDirectives})},d.load=function(b){var d,e,f,h=this;e=this.hls.config;var k=this.getInternalLoader(b);if(k){var n=k.context;if(n&&n.url===b.url)return void S.trace("[playlist-loader]: playlist request ongoing");S.log("[playlist-loader]: aborting previous loader for type: "+b.type);k.abort()}if(e="manifest"===b.type?e.manifestLoadPolicy.default:g({},e.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),k=this.createInternalLoader(b),
null!=(d=b.deliveryDirectives)&&d.part&&("level"===b.type&&null!==b.level?f=this.hls.levels[b.level].details:"audioTrack"===b.type&&null!==b.id?f=this.hls.audioTracks[b.id].details:"subtitleTrack"===b.type&&null!==b.id&&(f=this.hls.subtitleTracks[b.id].details),f))d=f.partTarget,f=f.targetduration,d&&f&&(f=1E3*Math.max(3*d,.8*f),e=g({},e,{maxTimeToFirstByteMs:Math.min(f,e.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(f,e.maxTimeToFirstByteMs)}));f=e.errorRetry||e.timeoutRetry||{};k.load(b,{loadPolicy:e,
timeout:e.maxLoadTimeMs,maxRetry:f.maxNumRetry||0,retryDelay:f.retryDelayMs||0,maxRetryDelay:f.maxRetryDelayMs||0},{onSuccess:function(b,d,e,f){var g=h.getInternalLoader(e);h.resetInternalLoader(e.type);var k=b.data;0===k.indexOf("#EXTM3U")?(d.parsing.start=performance.now(),Ka.isMediaPlaylist(k)?h.handleTrackOrLevelPlaylist(b,d,e,f||null,g):h.handleMasterPlaylist(b,d,e,f)):h.handleManifestParsingError(b,e,Error("no EXTM3U delimiter"),f||null,d)},onError:function(b,d,e,f){h.handleNetworkError(d,e,
!1,b,f)},onTimeout:function(b,d,e){h.handleNetworkError(d,e,!0,void 0,b)}})},d.handleMasterPlaylist=function(b,d,e,f){var h=this.hls,g=b.data,k=t(b,e),l=Ka.parseMasterPlaylist(g,k);if(l.playlistParsingError)this.handleManifestParsingError(b,e,l.playlistParsingError,f,d);else{b=l.contentSteering;e=l.levels;var n=l.sessionData,p=l.sessionKeys,q=l.startTimeOffset,r=l.variableList;this.variableList=r;var g=Ka.parseMasterPlaylistMedia(g,k,l),l=g.AUDIO,l=void 0===l?[]:l,s=g.SUBTITLES,g=g["CLOSED-CAPTIONS"];
l.length&&(l.some(function(b){return!b.url})||!e[0].audioCodec||e[0].attrs.AUDIO||(S.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),l.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new pa({}),bitrate:0,url:""})));h.trigger(G.MANIFEST_LOADED,{levels:e,audioTracks:l,subtitles:s,captions:g,contentSteering:b,url:k,stats:d,networkDetails:f,sessionData:n,sessionKeys:p,startTimeOffset:q,variableList:r})}},
d.handleTrackOrLevelPlaylist=function(b,d,e,f,h){var g=this.hls,k=e.id,l=e.level,n=e.type,p=t(b,e),k=ka(k)?k:0,l=ka(l)?l:k,q=aa(e),k=Ka.parseLevelPlaylist(b.data,p,l,q,k,this.variableList);"manifest"===n&&(n={attrs:new pa({}),bitrate:0,details:k,name:"",url:p},g.trigger(G.MANIFEST_LOADED,{levels:[n],audioTracks:[],url:p,stats:d,networkDetails:f,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null}));d.parsing.end=performance.now();e.levelDetails=k;this.handlePlaylistLoaded(k,
b,d,e,f,h)},d.handleManifestParsingError=function(b,d,e,f,h){this.hls.trigger(G.ERROR,{type:na.NETWORK_ERROR,details:V.MANIFEST_PARSING_ERROR,fatal:"manifest"===d.type,url:b.url,err:e,error:e,reason:e.message,response:b,context:d,networkDetails:f,stats:h})},d.handleNetworkError=function(b,d,e,f,g){void 0===e&&(e=!1);var k="A network "+(e?"timeout":"error"+(f?" (status "+f.code+")":""))+" occurred while loading "+b.type;"level"===b.type?k+=": "+b.level+" id: "+b.id:"audioTrack"!==b.type&&"subtitleTrack"!==
b.type||(k+=" id: "+b.id+' group-id: "'+b.groupId+'"');var l=Error(k);S.warn("[playlist-loader]: "+k);var k=V.UNKNOWN,n=!1,p=this.getInternalLoader(b);switch(b.type){case "manifest":k=e?V.MANIFEST_LOAD_TIMEOUT:V.MANIFEST_LOAD_ERROR;n=!0;break;case "level":k=e?V.LEVEL_LOAD_TIMEOUT:V.LEVEL_LOAD_ERROR;n=!1;break;case "audioTrack":k=e?V.AUDIO_TRACK_LOAD_TIMEOUT:V.AUDIO_TRACK_LOAD_ERROR;n=!1;break;case "subtitleTrack":k=e?V.SUBTITLE_TRACK_LOAD_TIMEOUT:V.SUBTITLE_LOAD_ERROR,n=!1}p&&this.resetInternalLoader(b.type);
e={type:na.NETWORK_ERROR,details:k,fatal:n,url:b.url,loader:p,context:b,error:l,networkDetails:d,stats:g};f&&(e.response=h({url:(null==d?void 0:d.url)||b.url,data:void 0},f));this.hls.trigger(G.ERROR,e)},d.handlePlaylistLoaded=function(b,d,e,f,h,g){var k=this.hls,l=f.type,n=f.level,p=f.id,q=f.groupId,r=f.deliveryDirectives,s=t(d,f),u=aa(f),n="number"==typeof f.level&&"main"===u?n:void 0;if(b.fragments.length){b.targetduration||(b.playlistParsingError=Error("Missing Target Duration"));var A=b.playlistParsingError;
if(A)k.trigger(G.ERROR,{type:na.NETWORK_ERROR,details:V.LEVEL_PARSING_ERROR,fatal:!1,url:s,error:A,reason:A.message,response:d,context:f,level:n,parent:u,networkDetails:h,stats:e});else switch(b.live&&g&&(g.getCacheAge&&(b.ageHeader=g.getCacheAge()||0),g.getCacheAge&&!isNaN(b.ageHeader)||(b.ageHeader=0)),l){case "manifest":case "level":k.trigger(G.LEVEL_LOADED,{details:b,level:n||0,id:p||0,stats:e,networkDetails:h,deliveryDirectives:r});break;case "audioTrack":k.trigger(G.AUDIO_TRACK_LOADED,{details:b,
id:p||0,groupId:q||"",stats:e,networkDetails:h,deliveryDirectives:r});break;case "subtitleTrack":k.trigger(G.SUBTITLE_TRACK_LOADED,{details:b,id:p||0,groupId:q||"",stats:e,networkDetails:h,deliveryDirectives:r})}}else b=Error("No Segments found in Playlist"),k.trigger(G.ERROR,{type:na.NETWORK_ERROR,details:V.LEVEL_EMPTY_ERROR,fatal:!1,url:s,error:b,reason:b.message,response:d,context:f,level:n,parent:u,networkDetails:h,stats:e})},b}(),Ob=function(){var b=la();try{new b(0,Number.POSITIVE_INFINITY,
"")}catch(d){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}(),dc=function(){function b(d){this.hls=void 0;this.media=this.id3Track=null;this.dateRangeCuesAppended={};this.hls=d;this._registerListeners()}var d=b.prototype;return d.destroy=function(){this._unregisterListeners();this.media=this.id3Track=null;this.dateRangeCuesAppended={};this.hls=null},d._registerListeners=function(){var b=this.hls;b.on(G.MEDIA_ATTACHED,this.onMediaAttached,this);b.on(G.MEDIA_DETACHING,this.onMediaDetaching,
this);b.on(G.MANIFEST_LOADING,this.onManifestLoading,this);b.on(G.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this);b.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this);b.on(G.LEVEL_UPDATED,this.onLevelUpdated,this)},d._unregisterListeners=function(){var b=this.hls;b.off(G.MEDIA_ATTACHED,this.onMediaAttached,this);b.off(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.off(G.MANIFEST_LOADING,this.onManifestLoading,this);b.off(G.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this);b.off(G.BUFFER_FLUSHING,
this.onBufferFlushing,this);b.off(G.LEVEL_UPDATED,this.onLevelUpdated,this)},d.onMediaAttached=function(b,d){this.media=d.media},d.onMediaDetaching=function(){this.id3Track&&(Ta(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},d.onManifestLoading=function(){this.dateRangeCuesAppended={}},d.createTrack=function(b){b=this.getID3Track(b.textTracks);return b.mode="hidden",b},d.getID3Track=function(b){if(this.media){for(var d=0;d<b.length;d++){var e=b[d];if("metadata"===
e.kind&&"id3"===e.label)return Ya(e,this.media),e}return this.media.addTextTrack("metadata","id3")}},d.onFragParsingMetadata=function(b,d){if(this.media){var e=this.hls.config,f=e.enableEmsgMetadataCues,e=e.enableID3MetadataCues;if(f||e){var h=d.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var g=la(),k=0;k<h.length;k++){var l=h[k].type;if(("https://aomedia.org/emsg/ID3"!==l||f)&&e){var n=ab(h[k].data);if(n){var p=h[k].pts,q=p+h[k].duration;q>Ob&&(q=Ob);0>=q-p&&(q=p+.25);
for(var r=0;r<n.length;r++){var s=n[r];if(!Qa(s)){this.updateId3CueEnds(p);var u=new g(p,q,"");u.value=s;l&&(u.type=l);this.id3Track.addCue(u)}}}}}}}},d.updateId3CueEnds=function(b){var d,e=null==(d=this.id3Track)?void 0:d.cues;if(e)for(d=e.length;d--;){var f=e[d];f.startTime<b&&f.endTime===Ob&&(f.endTime=b)}},d.onBufferFlushing=function(b,d){var e=d.startOffset,f=d.endOffset,h=d.type,g=this.id3Track,k=this.hls;if(k){var k=k.config,l=k.enableEmsgMetadataCues,n=k.enableID3MetadataCues;g&&(l||n)&&Fa(g,
e,f,"audio"===h?function(b){return"org.id3"===b.type&&n}:"video"===h?function(b){return"https://aomedia.org/emsg/ID3"===b.type&&l}:function(b){return"org.id3"===b.type&&n||"https://aomedia.org/emsg/ID3"===b.type&&l})}},d.onLevelUpdated=function(b,d){var e=this,f=d.details;if(this.media&&f.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var h=this.dateRangeCuesAppended,g=this.id3Track,k=f.dateRanges,l=Object.keys(k);if(g)for(var n=Object.keys(h).filter(function(b){return!l.includes(b)}),
p=function(){var b=n[q];Object.keys(h[b].cues).forEach(function(d){g.removeCue(h[b].cues[d])});delete h[b]},q=n.length;q--;)p();f=f.fragments[f.fragments.length-1];if(0!==l.length&&ka(null==f?void 0:f.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var r=f.programDateTime/1E3-f.start,s=la(),f=function(){var b=l[u],d=k[b],f=h[b],g=(null==f?void 0:f.cues)||{},lc=(null==f?void 0:f.durationKnown)||!1,n=za(d.startDate,r),Z=Ob,p=d.endDate;p?(Z=za(p,r),lc=!0):d.endOnNext&&
!lc&&(p=l.reduce(function(b,e){var f=k[e];return f.class===d.class&&f.id!==e&&f.startDate>d.startDate&&b.push(f),b},[]).sort(function(b,d){return b.startDate.getTime()-d.startDate.getTime()})[0])&&(Z=za(p.startDate,r),lc=!0);for(var vc,q,p=Object.keys(d.attr),$b=0;$b<p.length;$b++){var A=p[$b];if("ID"!==(q=A)&&"CLASS"!==q&&"START-DATE"!==q&&"DURATION"!==q&&"END-DATE"!==q&&"END-ON-NEXT"!==q){var v=g[A];if(v)lc&&!f.durationKnown&&(v.endTime=Z);else{var D=d.attr[A],v=new s(n,Z,"");("SCTE35-OUT"===A||
"SCTE35-IN"===A)&&(vc=D,D=Uint8Array.from(vc.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);v.value={key:A,data:D};v.type="com.apple.quicktime.HLS";v.id=b;e.id3Track.addCue(v);g[A]=v}}}h[b]={cues:g,dateRange:d,durationKnown:lc}},u=0;u<l.length;u++)f()}}},b}(),Ba=function(){function b(d){var e=this;this.config=this.hls=void 0;this.levelDetails=this.media=null;this.stallCount=this.currentTime=0;this._latency=null;this.timeupdateHandler=function(){return e.timeupdate()};
this.hls=d;this.config=d.config;this.registerListeners()}var d=b.prototype;return d.destroy=function(){this.unregisterListeners();this.onMediaDetaching();this.hls=this.timeupdateHandler=this.levelDetails=null},d.registerListeners=function(){this.hls.on(G.MEDIA_ATTACHED,this.onMediaAttached,this);this.hls.on(G.MEDIA_DETACHING,this.onMediaDetaching,this);this.hls.on(G.MANIFEST_LOADING,this.onManifestLoading,this);this.hls.on(G.LEVEL_UPDATED,this.onLevelUpdated,this);this.hls.on(G.ERROR,this.onError,
this)},d.unregisterListeners=function(){this.hls.off(G.MEDIA_ATTACHED,this.onMediaAttached,this);this.hls.off(G.MEDIA_DETACHING,this.onMediaDetaching,this);this.hls.off(G.MANIFEST_LOADING,this.onManifestLoading,this);this.hls.off(G.LEVEL_UPDATED,this.onLevelUpdated,this);this.hls.off(G.ERROR,this.onError,this)},d.onMediaAttached=function(b,d){this.media=d.media;this.media.addEventListener("timeupdate",this.timeupdateHandler)},d.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",
this.timeupdateHandler),this.media=null)},d.onManifestLoading=function(){this._latency=this.levelDetails=null;this.stallCount=0},d.onLevelUpdated=function(b,d){var e=d.details;this.levelDetails=e;e.advanced&&this.timeupdate();!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},d.onError=function(b,d){var e;d.details===V.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(e=this.levelDetails)&&e.live&&S.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},
d.timeupdate=function(){var b=this.media,d=this.levelDetails;if(b&&d){this.currentTime=b.currentTime;var e=this.computeLatency();if(null!==e){this._latency=e;var f=this.config,h=f.maxLiveSyncPlaybackRate;f.lowLatencyMode&&1!==h&&(f=this.targetLatency,null!==f&&(e-=f,f=e<Math.min(this.maxLatency,f+d.targetduration),d.live&&f&&.05<e&&1<this.forwardBufferLength?(d=Math.min(2,Math.max(1,h)),h=Math.round(2/(1+Math.exp(-.75*e-this.edgeStalled))*20)/20,b.playbackRate=Math.min(d,Math.max(1,h))):1!==b.playbackRate&&
0!==b.playbackRate&&(b.playbackRate=1)))}}},d.estimateLiveEdge=function(){var b=this.levelDetails;return null===b?null:b.edge+b.age},d.computeLatency=function(){var b=this.estimateLiveEdge();return null===b?null:b-this.currentTime},f(b,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var b=this.config,d=this.levelDetails;return void 0!==b.liveMaxLatencyDuration?b.liveMaxLatencyDuration:d?b.liveMaxLatencyDurationCount*d.targetduration:0}},{key:"targetLatency",
get:function(){var b=this.levelDetails;if(null===b)return null;var d=b.holdBack,e=b.partHoldBack,b=b.targetduration,f=this.config,h=f.liveSyncDuration,g=f.liveSyncDurationCount,k=this.hls.userConfig,d=f.lowLatencyMode&&e||d;(k.liveSyncDuration||k.liveSyncDurationCount||0===d)&&(d=void 0!==h?h:g*b);return d+Math.min(1*this.stallCount,b)}},{key:"liveSyncPosition",get:function(){var b=this.estimateLiveEdge(),d=this.targetLatency,e=this.levelDetails;if(null===b||null===d||null===e)return null;var f=e.edge,
h=f-(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.min(Math.max(f-e.totalduration,b-d-this.edgeStalled),h)}},{key:"drift",get:function(){var b=this.levelDetails;return null===b?1:b.drift}},{key:"edgeStalled",get:function(){var b=this.levelDetails;return null===b?0:Math.max(b.age-3*(this.config.lowLatencyMode&&b.partTarget||b.targetduration),0)}},{key:"forwardBufferLength",get:function(){var b=this.media,d=this.levelDetails;if(!b||!d)return 0;var e=b.buffered.length;return(e?
b.buffered.end(e-1):d.edge)-this.currentTime}}]),b}(),kd=["NONE","TYPE-0","TYPE-1",null],zc=function(){function b(d,e,f){this.skip=this.part=this.msn=void 0;this.msn=d;this.part=e;this.skip=f}return b.prototype.addDirectives=function(b){b=new self.URL(b);return void 0!==this.msn&&b.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&b.searchParams.set("_HLS_part",this.part.toString()),this.skip&&b.searchParams.set("_HLS_skip",this.skip),b.href},b}(),Za=function(){function b(d){this.details=
this.audioGroupIds=this.unknownCodecs=this.width=this.videoCodec=this.name=this.id=this.height=this.codecSet=this.bitrate=this.audioCodec=this._attrs=void 0;this.loadError=this.fragmentError=0;this.loaded=void 0;this.realBitrate=0;this.url=this.textGroupIds=void 0;this._urlId=0;this.url=[d.url];this._attrs=[d.attrs];this.bitrate=d.bitrate;d.details&&(this.details=d.details);this.id=d.id||0;this.name=d.name;this.width=d.width||0;this.height=d.height||0;this.audioCodec=d.audioCodec;this.videoCodec=
d.videoCodec;this.unknownCodecs=d.unknownCodecs;this.codecSet=[d.videoCodec,d.audioCodec].filter(function(b){return b}).join(",").replace(/\.[^.,]+/g,"")}return b.prototype.addFallback=function(b){this.url.push(b.url);this._attrs.push(b.attrs)},f(b,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"uri",get:function(){return this.url[this._urlId]||
""}},{key:"urlId",get:function(){return this._urlId},set:function(b){b%=this.url.length;this._urlId!==b&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=b)}},{key:"audioGroupId",get:function(){var b;return null==(b=this.audioGroupIds)?void 0:b[this.urlId]}},{key:"textGroupId",get:function(){var b;return null==(b=this.textGroupIds)?void 0:b[this.urlId]}}]),b}(),rc=function(b,d){for(var e=0,f=b.length-1,h=null,g=null;e<=f;){var k=d(g=b[h=(e+f)/2|0]);if(0<k)e=h+1;else{if(!(0>k))return g;
f=h-1}}return null},cd,Xd=function(){function b(d){this.hls=void 0;this.playlistError=0;this.penalizedRenditions={};this.error=this.warn=this.log=void 0;this.hls=d;this.log=S.log.bind(S,"[info]:");this.warn=S.warn.bind(S,"[warning]:");this.error=S.error.bind(S,"[error]:");this.registerListeners()}var d=b.prototype;return d.registerListeners=function(){var b=this.hls;b.on(G.ERROR,this.onError,this);b.on(G.MANIFEST_LOADING,this.onManifestLoading,this)},d.unregisterListeners=function(){var b=this.hls;
b&&(b.off(G.ERROR,this.onError,this),b.off(G.ERROR,this.onErrorOut,this),b.off(G.MANIFEST_LOADING,this.onManifestLoading,this))},d.destroy=function(){this.unregisterListeners();this.hls=null;this.penalizedRenditions={}},d.startLoad=function(b){this.playlistError=0},d.stopLoad=function(){},d.getVariantLevelIndex=function(b){return"main"===(null==b?void 0:b.type)?b.level:this.hls.loadLevel},d.onManifestLoading=function(){this.playlistError=0;this.penalizedRenditions={}},d.onError=function(b,d){var e;
if(!d.fatal){var f=this.hls,h=d.context;switch(d.details){case V.FRAG_LOAD_ERROR:case V.FRAG_LOAD_TIMEOUT:case V.KEY_LOAD_ERROR:case V.KEY_LOAD_TIMEOUT:return void(d.errorAction=this.getFragRetryOrSwitchAction(d));case V.FRAG_GAP:case V.FRAG_PARSING_ERROR:case V.FRAG_DECRYPT_ERROR:return d.errorAction=this.getFragRetryOrSwitchAction(d),void(d.errorAction.action=2);case V.LEVEL_EMPTY_ERROR:case V.LEVEL_PARSING_ERROR:var g,k,f="main"===d.parent?d.level:f.loadLevel;return void(d.details===V.LEVEL_EMPTY_ERROR&&
null!=(g=d.context)&&null!=(k=g.levelDetails)&&k.live?d.errorAction=this.getPlaylistRetryOrSwitchAction(d,f):(d.levelRetry=!1,d.errorAction=this.getLevelSwitchAction(d,f)));case V.LEVEL_LOAD_ERROR:case V.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==h?void 0:h.level)&&(d.errorAction=this.getPlaylistRetryOrSwitchAction(d,h.level)));case V.AUDIO_TRACK_LOAD_ERROR:case V.AUDIO_TRACK_LOAD_TIMEOUT:case V.SUBTITLE_LOAD_ERROR:case V.SUBTITLE_TRACK_LOAD_TIMEOUT:if(h&&(g=f.levels[f.loadLevel])&&("audioTrack"===
h.type&&h.groupId===g.audioGroupId||"subtitleTrack"===h.type&&h.groupId===g.textGroupId))return d.errorAction=this.getPlaylistRetryOrSwitchAction(d,f.loadLevel),d.errorAction.action=2,void(d.errorAction.flags=1);return;case V.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:return f=f.levels[f.loadLevel],f=null==f?void 0:f.attrs["HDCP-LEVEL"],void(f&&(d.errorAction={action:2,flags:2,hdcpLevel:f}));case V.BUFFER_ADD_CODEC_ERROR:case V.REMUX_ALLOC_ERROR:return void(d.errorAction=this.getLevelSwitchAction(d,null!=
(e=d.level)?e:f.loadLevel));case V.INTERNAL_EXCEPTION:case V.BUFFER_APPENDING_ERROR:case V.BUFFER_APPEND_ERROR:case V.BUFFER_FULL_ERROR:case V.LEVEL_SWITCH_ERROR:case V.BUFFER_STALLED_ERROR:case V.BUFFER_SEEK_OVER_HOLE:case V.BUFFER_NUDGE_ON_STALL:return void(d.errorAction={action:0,flags:0})}if(d.type===na.KEY_SYSTEM_ERROR)return f=this.getVariantLevelIndex(d.frag),d.levelRetry=!1,void(d.errorAction=this.getLevelSwitchAction(d,f))}},d.getPlaylistRetryOrSwitchAction=function(b,d){var e,f,h=va(this.hls.config.playlistLoadPolicy,
b),g=this.playlistError++,k=null==(e=b.response)?void 0:e.code;return Wa(h,g,Oa(b),k)?{action:5,flags:0,retryConfig:h,retryCount:g}:null!=(f=b.context)&&f.deliveryDirectives?{action:0,flags:0,retryConfig:h||{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},retryCount:g}:this.getLevelSwitchAction(b,d)},d.getFragRetryOrSwitchAction=function(b){var d=this.hls,e=this.getVariantLevelIndex(b.frag),f=d.levels[e],h=d.config,g=h.fragLoadPolicy,h=h.keyLoadPolicy,g=va(b.details.startsWith("key")?h:g,b),d=d.levels.reduce(function(b,
d){return b+d.fragmentError},0);if(f){var k;b.details!==V.FRAG_GAP&&f.fragmentError++;f=null==(k=b.response)?void 0:k.code;if(Wa(g,d,Oa(b),f))return{action:5,flags:0,retryConfig:g,retryCount:d}}b=this.getLevelSwitchAction(b,e);return g&&(b.retryConfig=g,b.retryCount=d),b},d.getLevelSwitchAction=function(b,d){var e=this.hls;null==d&&(d=e.loadLevel);var f=this.hls.levels[d];if(f&&(f.loadError++,e.autoLevelEnabled)){var h,g,k=-1,l=e.levels,n=null==(h=b.frag)?void 0:h.type;h=null!=(g=b.context)?g:{};
g=h.type;h=h.groupId;for(var p=l.length;p--;){var q=(p+e.loadLevel)%l.length;if(q!==e.loadLevel&&0===l[q].loadError){var r=l[q];if(b.details===V.FRAG_GAP&&b.frag){if(r=l[q].details)if(r=pb(b.frag,r.fragments,b.frag.start),null!=r&&r.gap)continue}else{if("audioTrack"===g&&h===r.audioGroupId||"subtitleTrack"===g&&h===r.textGroupId)continue;if("audio"===n&&f.audioGroupId===r.audioGroupId||"subtitle"===n&&f.textGroupId===r.textGroupId)continue}k=q;break}}if(-1<k&&e.loadLevel!==k)return b.levelRetry=!0,
{action:2,flags:0,nextAutoLevel:k}}return{action:2,flags:1}},d.onErrorOut=function(b,d){var e;switch(null==(e=d.errorAction)?void 0:e.action){case 2:this.sendAlternateToPenaltyBox(d),d.errorAction.resolved||d.details===V.FRAG_GAP||(d.fatal=!0)}d.fatal&&this.hls.stopLoad()},d.sendAlternateToPenaltyBox=function(b){var d=this.hls,e=b.errorAction;if(e){var f=e.hdcpLevel,h=e.nextAutoLevel;switch(e.flags){case 0:this.switchLevel(b,h);break;case 1:e.resolved||(e.resolved=this.redundantFailover(b));break;
case 2:f&&(d.maxHdcpLevel=kd[kd.indexOf(f)-1],e.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'+d.maxHdcpLevel+'" or lower')}e.resolved||this.switchLevel(b,h)}},d.switchLevel=function(b,d){void 0!==d&&b.errorAction&&(this.warn("switching to level "+d+" after "+b.details),this.hls.nextAutoLevel=d,b.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)},d.redundantFailover=function(b){var d=this,e=this.hls,f=this.penalizedRenditions,h="main"===b.parent?b.level:e.loadLevel,
g=e.levels[h],k=g.url.length,l=b.frag?b.frag.urlId:g.urlId;g.urlId!==l||b.frag&&!g.details||this.penalizeRendition(g,b);for(var n=function(){var n=(l+p)%k,q=f[n];if(!q||function(b,d,e){if(3E5<performance.now()-b.lastErrorPerfMs)return!0;var f=b.details;if(d.details===V.FRAG_GAP&&f&&d.frag){var h=pb(null,f.fragments,d.frag.start);if(h&&!h.gap)return!0}return e&&b.errors.length<e.errors.length&&(b=b.errors[b.errors.length-1],f&&b.frag&&d.frag&&Math.abs(b.frag.start-d.frag.start)>3*f.targetduration)?
!0:!1}(q,b,f[l]))return d.warn("Switching to Redundant Stream "+(n+1)+"/"+k+': "'+g.url[n]+'" after '+b.details),d.playlistError=0,e.levels.forEach(function(b){b.urlId=n}),e.nextLoadLevel=h,{v:!0}},p=1;p<k;p++){var q=n();if("object"==typeof q)return q.v}return!1},d.penalizeRendition=function(b,d){var e=this.penalizedRenditions,f=e[b.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};f.lastErrorPerfMs=performance.now();f.errors.push(d);f.details=b.details;e[b.urlId]=f},b}(),Hc=function(){function b(d,
e){this.hls=void 0;this.requestScheduled=this.timer=-1;this.canLoad=!1;this.warn=this.log=void 0;this.log=S.log.bind(S,e+":");this.warn=S.warn.bind(S,e+":");this.hls=d}var d=b.prototype;return d.destroy=function(){this.clearTimer();this.hls=this.log=this.warn=null},d.clearTimer=function(){clearTimeout(this.timer);this.timer=-1},d.startLoad=function(){this.canLoad=!0;this.requestScheduled=-1;this.loadPlaylist()},d.stopLoad=function(){this.canLoad=!1;this.clearTimer()},d.switchParams=function(b,d){var e=
null==d?void 0:d.renditionReports;if(e){for(var f=-1,h=0;h<e.length;h++){var g=e[h],k=void 0;try{k=(new self.URL(g.URI,d.url)).href}catch(l){S.warn("Could not construct new URL for Rendition Report: "+l),k=g.URI||""}if(k===b){f=h;break}k===b.substring(0,k.length)&&(f=h)}if(-1!==f)return f=e[f],e=parseInt(f["LAST-MSN"])||(null==d?void 0:d.lastPartSn),f=parseInt(f["LAST-PART"])||(null==d?void 0:d.lastPartIndex),this.hls.config.lowLatencyMode&&(h=Math.min(d.age-d.partTarget,d.targetduration),0<=f&&h>
d.partTarget&&(f+=1)),new zc(e,0<=f?f:void 0,"")}},d.loadPlaylist=function(b){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())},d.shouldLoadPlaylist=function(b){return this.canLoad&&!!b&&!!b.url&&(!b.details||b.details.live)},d.shouldReloadPlaylist=function(b){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(b)},d.playlistLoaded=function(b,d,e){var f=this,h=d.details,g=d.stats,k=self.performance.now(),l=g.loading.first?Math.max(0,k-g.loading.first):
0;if(h.advancedDateTime=Date.now()-l,h.live||null!=e&&e.live){if(h.reloaded(e),e&&this.log("live playlist "+b+" "+(h.advanced?"REFRESHED "+h.lastPartSn+"-"+h.lastPartIndex:"MISSED")),e&&0<h.fragments.length&&Ca(e,h),this.canLoad&&h.live){var n,p=l=void 0;if(h.canBlockReload&&h.endSN&&h.advanced){var q=this.hls.config.lowLatencyMode,r=h.lastPartSn,s=h.endSN,u=h.lastPartIndex,A=r===s;-1!==u?(l=A?s+1:r,p=A?q?0:u:u+1):l=s+1;r=h.age;s=Math.min(r+h.ageHeader-h.partTarget,1.5*h.targetduration);0<s&&(e&&
s>e.tuneInGoal?(this.warn("CDN Tune-in goal increased from: "+e.tuneInGoal+" to: "+s+" with playlist age: "+h.age),s=0):(e=Math.floor(s/h.targetduration),l+=e,void 0!==p&&(p+=Math.round(s%h.targetduration/h.partTarget)),this.log("CDN Tune-in age: "+h.ageHeader+"s last advanced "+r.toFixed(2)+"s goal: "+s+" skip sn "+e+" to part "+p)),h.tuneInGoal=s);if(n=this.getDeliveryDirectives(h,d.deliveryDirectives,l,p),q||!A)return void this.loadPlaylist(n)}else h.canBlockReload&&(n=this.getDeliveryDirectives(h,
d.deliveryDirectives,l,p));d=this.hls.mainForwardBufferInfo;d=function(b,d){void 0===d&&(d=1/0);var e=1E3*b.targetduration;if(b.updated){var f=b.fragments;f.length&&4*e>d&&(f=1E3*f[f.length-1].duration,f<e&&(e=f))}else e/=2;return Math.round(e)}(h,1E3*(h.edge-(d?d.end-d.len:0)));h.updated&&k>this.requestScheduled+d&&(this.requestScheduled=g.loading.start);void 0!==l&&h.canBlockReload?this.requestScheduled=g.loading.first+d-(1E3*h.partTarget||1E3):-1===this.requestScheduled||this.requestScheduled+
d<k?this.requestScheduled=k:0>=this.requestScheduled-k&&(this.requestScheduled+=d);h=this.requestScheduled-k;h=Math.max(0,h);this.log("reload live playlist "+b+" in "+Math.round(h)+" ms");this.timer=self.setTimeout(function(){return f.loadPlaylist(n)},h)}}else this.clearTimer()},d.getDeliveryDirectives=function(b,d,e,f){var h;h=b.canSkipUntil;var g=b.canSkipDateRanges,k=b.endSN;h=h&&(void 0!==e?e-k:0)<h?g?"v2":"YES":"";return null!=d&&d.skip&&b.deltaUpdateFailed&&(e=d.msn,f=d.part,h=""),new zc(e,
f,h)},d.checkRetry=function(b){var d=this,e=b.details,f=Oa(b),h=b.errorAction,g=h||{},k=g.retryCount,k=void 0===k?0:k,l=g.retryConfig;if(g=5===g.action&&!!h&&!!l){var n;(this.requestScheduled=-1,f&&null!=(n=b.context)&&n.deliveryDirectives)?(this.warn("Retrying playlist loading "+(k+1)+"/"+l.maxNumRetry+' after "'+e+'" without delivery-directives'),this.loadPlaylist()):(f=Ua(l,k),this.timer=self.setTimeout(function(){return d.loadPlaylist()},f),this.warn("Retrying playlist loading "+(k+1)+"/"+l.maxNumRetry+
' after "'+e+'" in '+f+"ms"));b.levelRetry=!0;h.resolved=!0}return g},b}(),Md=function(b){function d(e,f){var h;return(h=b.call(this,e,"[level-controller]")||this)._levels=[],h._firstLevel=-1,h._startLevel=void 0,h.currentLevel=null,h.currentLevelIndex=-1,h.manualLevelIndex=-1,h.steering=void 0,h.onParsedComplete=void 0,h.steering=f,h._registerListeners(),h}n(d,b);var e=d.prototype;return e._registerListeners=function(){var b=this.hls;b.on(G.MANIFEST_LOADING,this.onManifestLoading,this);b.on(G.MANIFEST_LOADED,
this.onManifestLoaded,this);b.on(G.LEVEL_LOADED,this.onLevelLoaded,this);b.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this);b.on(G.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);b.on(G.FRAG_LOADED,this.onFragLoaded,this);b.on(G.ERROR,this.onError,this)},e._unregisterListeners=function(){var b=this.hls;b.off(G.MANIFEST_LOADING,this.onManifestLoading,this);b.off(G.MANIFEST_LOADED,this.onManifestLoaded,this);b.off(G.LEVEL_LOADED,this.onLevelLoaded,this);b.off(G.LEVELS_UPDATED,this.onLevelsUpdated,
this);b.off(G.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);b.off(G.FRAG_LOADED,this.onFragLoaded,this);b.off(G.ERROR,this.onError,this)},e.destroy=function(){this._unregisterListeners();this.steering=null;this.resetLevels();b.prototype.destroy.call(this)},e.startLoad=function(){this._levels.forEach(function(b){b.loadError=0;b.fragmentError=0});b.prototype.startLoad.call(this)},e.resetLevels=function(){this._startLevel=void 0;this.currentLevelIndex=this.manualLevelIndex=-1;this.currentLevel=
null;this._levels=[]},e.onManifestLoading=function(b,d){this.resetLevels()},e.onManifestLoaded=function(b,d){var e,f=[],h={};d.levels.forEach(function(b){var d,g=b.attrs;-1!==(null==(d=b.audioCodec)?void 0:d.indexOf("mp4a.40.34"))&&(cd||(cd=/chrome|firefox/i.test(navigator.userAgent)),cd&&(b.audioCodec=void 0));d=g.AUDIO;var k=g.SUBTITLES,g=(g["PATHWAY-ID"]||".")+"-"+b.bitrate+"-"+g.RESOLUTION+"-"+g["FRAME-RATE"]+"-"+g.CODECS;(e=h[g])?e.addFallback(b):(e=new Za(b),h[g]=e,f.push(e));Xa(e,"audio",d);
Xa(e,"text",k)});this.filterAndSortMediaOptions(f,d)},e.filterAndSortMediaOptions=function(b,d){var e=this,f=[],h=[],g=!1,k=!1,l=!1,n=b.filter(function(b){var d=b.audioCodec,e=b.videoCodec,f=b.width,h=b.height;b=b.unknownCodecs;return g||(g=!(!f||!h)),k||(k=!!e),l||(l=!!d),!(null!=b&&b.length)&&(!d||fa(d,"audio"))&&(!e||fa(e,"video"))});if((g||k)&&l&&(n=n.filter(function(b){var d=b.width,e=b.height;return!!b.videoCodec||!(!d||!e)})),0!==n.length){d.audioTracks&&ra(f=d.audioTracks.filter(function(b){return!b.audioCodec||
fa(b.audioCodec,"audio")}));d.subtitles&&ra(h=d.subtitles);var Z=n.slice(0);n.sort(function(b,d){return b.attrs["HDCP-LEVEL"]!==d.attrs["HDCP-LEVEL"]?(b.attrs["HDCP-LEVEL"]||"")>(d.attrs["HDCP-LEVEL"]||"")?1:-1:b.bitrate!==d.bitrate?b.bitrate-d.bitrate:b.attrs["FRAME-RATE"]!==d.attrs["FRAME-RATE"]?b.attrs.decimalFloatingPoint("FRAME-RATE")-d.attrs.decimalFloatingPoint("FRAME-RATE"):b.attrs.SCORE!==d.attrs.SCORE?b.attrs.decimalFloatingPoint("SCORE")-d.attrs.decimalFloatingPoint("SCORE"):g&&b.height!==
d.height?b.height-d.height:0});var p=Z[0];if(this.steering&&(n=this.steering.filterParsedLevels(n)).length!==Z.length)for(var q=0;q<Z.length;q++)if(Z[q].pathwayId===n[0].pathwayId){p=Z[q];break}this._levels=n;for(Z=0;Z<n.length;Z++)if(n[Z]===p){this._firstLevel=Z;this.log("manifest loaded, "+n.length+" level(s) found, first bitrate: "+p.bitrate);break}f={levels:n,audioTracks:f,subtitleTracks:h,sessionData:d.sessionData,sessionKeys:d.sessionKeys,firstLevel:this._firstLevel,stats:d.stats,audio:l,video:k,
altAudio:!(l&&!k)&&f.some(function(b){return!!b.url})};this.hls.trigger(G.MANIFEST_PARSED,f);(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then(function(){if(e.hls){var b=Error("no level with compatible codecs found in manifest");e.hls.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:d.url,error:b,reason:b.message})}})},e.onError=function(b,d){!d.fatal&&d.context&&"level"===
d.context.type&&d.context.level===this.level&&this.checkRetry(d)},e.onFragLoaded=function(b,d){var e=d.frag;void 0!==e&&"main"===e.type&&(e=this._levels[e.level],void 0!==e&&(e.loadError=0))},e.onLevelLoaded=function(b,d){var e,f,h=d.level,g=d.details,k=this._levels[h];if(!k)return this.warn("Invalid level index "+h),void(null!=(f=d.deliveryDirectives)&&f.skip&&(g.deltaUpdateFailed=!0));h===this.currentLevelIndex?(0===k.fragmentError&&(k.loadError=0),this.playlistLoaded(h,d,k.details)):null!=(e=d.deliveryDirectives)&&
e.skip&&(g.deltaUpdateFailed=!0)},e.onAudioTrackSwitched=function(b,d){var e=this.currentLevel;if(e){var f=this.hls.audioTracks[d.id].groupId;if(e.audioGroupIds&&e.audioGroupId!==f){for(var h=-1,g=0;g<e.audioGroupIds.length;g++)if(e.audioGroupIds[g]===f){h=g;break}-1!==h&&h!==e.urlId&&(e.urlId=h,this.canLoad&&this.startLoad())}}},e.loadPlaylist=function(d){b.prototype.loadPlaylist.call(this);var e=this.currentLevelIndex,f=this.currentLevel;if(f&&this.shouldLoadPlaylist(f)){var h=f.urlId,g=f.uri;if(d)try{g=
d.addDirectives(g)}catch(k){this.warn("Could not construct new URL with HLS Delivery Directives: "+k)}var l=f.attrs["PATHWAY-ID"];this.log("Loading level index "+e+(void 0!==(null==d?void 0:d.msn)?" at sn "+d.msn+" part "+d.part:"")+" with"+(l?" Pathway "+l:"")+" URI "+(h+1)+"/"+f.url.length+" "+g);this.clearTimer();this.hls.trigger(G.LEVEL_LOADING,{url:g,level:e,id:h,deliveryDirectives:d||null})}},e.removeLevel=function(b,d){var e=this,f=function(b,e){return e!==d},h=this._levels.filter(function(h,
g){return g!==b||(1<h.url.length&&void 0!==d?(h.url=h.url.filter(f),h.audioGroupIds&&(h.audioGroupIds=h.audioGroupIds.filter(f)),h.textGroupIds&&(h.textGroupIds=h.textGroupIds.filter(f)),h.urlId=0,!0):(e.steering&&e.steering.removeLevel(h),!1))});this.hls.trigger(G.LEVELS_UPDATED,{levels:h})},e.onLevelsUpdated=function(b,d){var e=d.levels;e.forEach(function(b,d){var e=b.details;null!=e&&e.fragments&&e.fragments.forEach(function(b){b.level=d})});this._levels=e},f(d,[{key:"levels",get:function(){return 0===
this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(b){var d=this._levels;if(0!==d.length){if(0>b||b>=d.length){var e=Error("invalid level idx"),f=0>b;if(this.hls.trigger(G.ERROR,{type:na.OTHER_ERROR,details:V.LEVEL_SWITCH_ERROR,level:b,fatal:f,error:e,reason:e.message}),f)return;b=Math.min(b,d.length-1)}var f=this.currentLevelIndex,h=(e=this.currentLevel)?e.attrs["PATHWAY-ID"]:void 0,d=d[b],k=d.attrs["PATHWAY-ID"];if(this.currentLevelIndex=
b,this.currentLevel=d,f!==b||!d.details||!e||h!==k)if(this.log("Switching to level "+b+(k?" with Pathway "+k:"")+" from level "+f+(h?" with Pathway "+h:"")),b=g({},d,{level:b,maxBitrate:d.maxBitrate,attrs:d.attrs,uri:d.uri,urlId:d.urlId}),delete b._attrs,delete b._urlId,this.hls.trigger(G.LEVEL_SWITCHING,b),b=d.details,!b||b.live)b=this.switchParams(d.uri,null==e?void 0:e.details),this.loadPlaylist(b)}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(b){this.manualLevelIndex=
b;void 0===this._startLevel&&(this._startLevel=b);-1!==b&&(this.level=b)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(b){this._firstLevel=b}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var b=this.hls.config.startLevel;return void 0!==b?b:this._firstLevel}return this._startLevel},set:function(b){this._startLevel=b}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(b){this.level=
b;-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=b)}}]),d}(Hc),Wd=function(){function b(d){this.activeParts=this.mainFragEntity=null;this.endListFragments=Object.create(null);this.fragments=Object.create(null);this.timeRanges=Object.create(null);this.bufferPadding=.2;this.hls=void 0;this.hasGaps=!1;this.hls=d;this._registerListeners()}var d=b.prototype;return d._registerListeners=function(){var b=this.hls;b.on(G.BUFFER_APPENDED,this.onBufferAppended,this);b.on(G.FRAG_BUFFERED,this.onFragBuffered,
this);b.on(G.FRAG_LOADED,this.onFragLoaded,this)},d._unregisterListeners=function(){var b=this.hls;b.off(G.BUFFER_APPENDED,this.onBufferAppended,this);b.off(G.FRAG_BUFFERED,this.onFragBuffered,this);b.off(G.FRAG_LOADED,this.onFragLoaded,this)},d.destroy=function(){this._unregisterListeners();this.fragments=this.endListFragments=this.timeRanges=this.mainFragEntity=this.activeParts=null},d.getAppendedFrag=function(b,d){if("main"===d){var e=this.mainFragEntity,f=this.activeParts;if(e)if(e&&f)for(var h=
f.length;h--;){var g=f[h],k=g?g.end:e.appendedPTS;if(g.start<=b&&null!==k&&b<=k)return 9<h&&(this.activeParts=f.slice(h-9)),g}else if(e.body.start<=b&&null!==e.appendedPTS&&b<=e.appendedPTS)return e.body}return this.getBufferedFrag(b,d)},d.getBufferedFrag=function(b,d){for(var e=this.fragments,f=Object.keys(e),h=f.length;h--;){var g=e[f[h]];if((null==g?void 0:g.body.type)===d&&g.buffered&&(g=g.body,g.start<=b&&b<=g.end))return g}return null},d.detectEvictedFragments=function(b,d,e){var f=this;this.timeRanges&&
(this.timeRanges[b]=d);Object.keys(this.fragments).forEach(function(h){var g=f.fragments[h];g&&(g.buffered||g.loaded?(h=g.range[b])&&h.time.some(function(b){b=!f.isTimeBuffered(b.startPTS,b.endPTS,d);return b&&f.removeFragment(g.body),b}):g.body.type===e&&f.removeFragment(g.body))})},d.detectPartialFragments=function(b){var d=this,e=this.timeRanges,f=b.frag,h=b.part;if(e&&"initSegment"!==f.sn){b=xa(f);var g=this.fragments[b];g&&(Object.keys(e).forEach(function(b){var k=f.elementaryStreams[b];k&&(g.range[b]=
d.getBufferedTimes(f,h,null!==h||!0===k.partial,e[b]))}),g.loaded=null,Object.keys(g.range).length?(g.buffered=!0,g.body.endList&&(this.endListFragments[g.body.type]=g)):this.removeFragment(g.body))}},d.fragBuffered=function(b,d){var e=xa(b),f=this.fragments[e];!f&&d&&(f=this.fragments[e]={body:b,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},b.gap&&(this.hasGaps=!0));f&&(f.loaded=null,f.buffered=!0)},d.getBufferedTimes=function(b,d,e,f){e={time:[],partial:e};var h=d?d.start:
b.start;d=d?d.end:b.end;var g=b.minEndPTS||d;b=b.maxStartPTS||h;for(var k=0;k<f.length;k++){var l=f.start(k)-this.bufferPadding,n=f.end(k)+this.bufferPadding;if(b>=l&&g<=n){e.time.push({startPTS:Math.max(h,f.start(k)),endPTS:Math.min(d,f.end(k))});break}if(h<n&&d>l)e.partial=!0,e.time.push({startPTS:Math.max(h,f.start(k)),endPTS:Math.min(d,f.end(k))});else if(d<=l)break}return e},d.getPartialFragment=function(b){var d,e,f,h=null,g=0,k=this.bufferPadding,l=this.fragments;return Object.keys(l).forEach(function(n){(n=
l[n])&&ua(n)&&(e=n.body.start-k,f=n.body.end+k,b>=e&&b<=f&&(d=Math.min(b-e,f-b),g<=d&&(h=n.body,g=d)))}),h},d.isEndListAppended=function(b){b=this.endListFragments[b];return void 0!==b&&(b.buffered||ua(b))},d.getState=function(b){b=xa(b);return(b=this.fragments[b])?b.buffered?ua(b)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"},d.isTimeBuffered=function(b,d,e){for(var f,h,g=0;g<e.length;g++){if(f=e.start(g)-this.bufferPadding,h=e.end(g)+this.bufferPadding,b>=f&&d<=h)return!0;if(d<=f)break}return!1},d.onFragLoaded=
function(b,d){var e=d.frag,f=d.part;"initSegment"===e.sn||e.bitrateTest||f||(f=xa(e),this.fragments[f]={body:e,appendedPTS:null,loaded:d,buffered:!1,range:Object.create(null)})},d.onBufferAppended=function(b,d){var e=this,f=d.frag,h=d.part,g=d.timeRanges,k=this.mainFragEntity;if("main"===f.type){var l=k?k.body:null;l!==f&&(k&&l&&l.sn!==f.sn&&(k.buffered=!0,this.fragments[xa(l)]=k),l=xa(f),k=this.mainFragEntity=this.fragments[l]||{body:f,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)});
h?((l=this.activeParts)||(this.activeParts=l=[]),l.push(h)):this.activeParts=null}this.timeRanges=g;Object.keys(g).forEach(function(b){var d=g[b];if(e.detectEvictedFragments(b,d),!h&&k)if(b=f.elementaryStreams[b])for(var l=0;l<d.length;l++){var n=d.end(l);n<=b.endPTS&&n>b.startPTS?k.appendedPTS=Math.max(n,k.appendedPTS||0):k.appendedPTS=b.endPTS}})},d.onFragBuffered=function(b,d){this.detectPartialFragments(d)},d.hasFragment=function(b){b=xa(b);return!!this.fragments[b]},d.removeFragmentsInRange=
function(b,d,e,f,h){var g=this;f&&!this.hasGaps||Object.keys(this.fragments).forEach(function(k){if(k=g.fragments[k]){var l=k.body;l.type!==e||f&&!l.gap||l.start<d&&l.end>b&&(k.buffered||h)&&g.removeFragment(l)}})},d.removeFragment=function(b){var d=xa(b);b.stats.loaded=0;b.clearElementaryStreamInfo();this.mainFragEntity===this.fragments[d]&&(this.mainFragEntity=null);delete this.fragments[d];b.endList&&delete this.endListFragments[b.type]},d.removeAllFragments=function(){this.fragments=Object.create(null);
this.endListFragments=Object.create(null);this.activeParts=this.mainFragEntity=null;this.hasGaps=!1},b}(),tb=Math.pow(2,17),td=function(){function b(d){this.config=void 0;this.loader=null;this.partLoadTimeout=-1;this.config=d}var d=b.prototype;return d.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},d.abort=function(){this.loader&&this.loader.abort()},d.load=function(b,d){var e=this,f=b.url;if(!f)return Promise.reject(new oc({type:na.NETWORK_ERROR,details:V.FRAG_LOAD_ERROR,
fatal:!1,frag:b,error:Error("Fragment does not have a "+(f?"part list":"url")),networkDetails:null}));this.abort();var g=this.config,k=g.fLoader,l=g.loader;return new Promise(function(n,p){if(e.loader&&e.loader.destroy(),b.gap)p(mb(b));else{var q=e.loader=b.loader=k?new k(g):new l(g),r=Bb(b),s=db(g.fragLoadPolicy.default),u={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===b.sn?1/0:tb};b.stats=q.stats;q.load(r,u,{onSuccess:function(d,f,h,g){e.resetLoader(b,
q);d=d.data;h.resetIV&&b.decryptdata&&(b.decryptdata.iv=new Uint8Array(d.slice(0,16)),d=d.slice(16));n({frag:b,part:null,payload:d,networkDetails:g})},onError:function(d,g,k,l){e.resetLoader(b,q);p(new oc({type:na.NETWORK_ERROR,details:V.FRAG_LOAD_ERROR,fatal:!1,frag:b,response:h({url:f,data:void 0},d),error:Error("HTTP Error "+d.code+" "+d.text),networkDetails:k,stats:l}))},onAbort:function(d,f,h){e.resetLoader(b,q);p(new oc({type:na.NETWORK_ERROR,details:V.INTERNAL_ABORTED,fatal:!1,frag:b,error:Error("Aborted"),
networkDetails:h,stats:d}))},onTimeout:function(d,f,h){e.resetLoader(b,q);p(new oc({type:na.NETWORK_ERROR,details:V.FRAG_LOAD_TIMEOUT,fatal:!1,frag:b,error:Error("Timeout after "+u.timeout+"ms"),networkDetails:h,stats:d}))},onProgress:function(e,f,h,g){d&&d({frag:b,part:null,payload:h,networkDetails:g})}})}})},d.loadPart=function(b,d,e){var f=this;this.abort();var g=this.config,k=g.fLoader,l=g.loader;return new Promise(function(n,p){if(f.loader&&f.loader.destroy(),b.gap||d.gap)p(mb(b,d));else{var q=
f.loader=b.loader=k?new k(g):new l(g),r=Bb(b,d),s=db(g.fragLoadPolicy.default),u={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:tb};d.stats=q.stats;q.load(r,u,{onSuccess:function(h,g,k,l){f.resetLoader(b,q);f.updateStatsFromPart(b,d);h={frag:b,part:d,payload:h.data,networkDetails:l};e(h);n(h)},onError:function(e,g,k,l){f.resetLoader(b,q);p(new oc({type:na.NETWORK_ERROR,details:V.FRAG_LOAD_ERROR,fatal:!1,frag:b,part:d,response:h({url:r.url,data:void 0},
e),error:Error("HTTP Error "+e.code+" "+e.text),networkDetails:k,stats:l}))},onAbort:function(e,h,g){b.stats.aborted=d.stats.aborted;f.resetLoader(b,q);p(new oc({type:na.NETWORK_ERROR,details:V.INTERNAL_ABORTED,fatal:!1,frag:b,part:d,error:Error("Aborted"),networkDetails:g,stats:e}))},onTimeout:function(e,h,g){f.resetLoader(b,q);p(new oc({type:na.NETWORK_ERROR,details:V.FRAG_LOAD_TIMEOUT,fatal:!1,frag:b,part:d,error:Error("Timeout after "+u.timeout+"ms"),networkDetails:g,stats:e}))}})}})},d.updateStatsFromPart=
function(b,d){var e=b.stats,f=d.stats,h=f.total;if(e.loaded+=f.loaded,h){var g=Math.round(b.duration/d.duration),h=Math.min(Math.round(e.loaded/h),g),g=(g-h)*Math.round(e.loaded/h);e.total=e.loaded+g}else e.total=Math.max(e.loaded,e.total);e=e.loading;f=f.loading;e.start?e.first+=f.first-f.start:(e.start=f.start,e.first=f.first);e.end=f.end},d.resetLoader=function(b,d){b.loader=null;this.loader===d&&(self.clearTimeout(this.partLoadTimeout),this.loader=null);d.destroy()},b}(),oc=function(b){function d(e){var f;
return(f=b.call(this,e.error.message)||this).data=void 0,f.data=e,f}return n(d,b),d}(v(Error)),be=function(){function b(d){this.config=void 0;this.keyUriToKeyInfo={};this.emeController=null;this.config=d}var d=b.prototype;return d.abort=function(){for(var b in this.keyUriToKeyInfo){var d=this.keyUriToKeyInfo[b].loader;d&&d.abort()}},d.detach=function(){for(var b in this.keyUriToKeyInfo){var d=this.keyUriToKeyInfo[b];(d.mediaKeySessionContext||d.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[b]}},
d.destroy=function(){for(var b in this.detach(),this.keyUriToKeyInfo){var d=this.keyUriToKeyInfo[b].loader;d&&d.destroy()}this.keyUriToKeyInfo={}},d.createKeyLoadError=function(b,d,e,f,h){return void 0===d&&(d=V.KEY_LOAD_ERROR),new oc({type:na.NETWORK_ERROR,details:d,fatal:!1,frag:b,response:h,error:e,networkDetails:f})},d.loadClear=function(b,d){var e=this;if(this.emeController&&this.config.emeEnabled)for(var f=b.sn,h=b.cc,g=function(){var b=d[k];if(h<=b.cc&&("initSegment"===f||"initSegment"===b.sn||
f<b.sn))return e.emeController.selectKeySystemFormat(b).then(function(d){b.setKeyFormat(d)}),"break"},k=0;k<d.length&&"break"!==g();k++);},d.load=function(b){var d=this;return!b.decryptdata&&b.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(b).then(function(e){return d.loadInternal(b,e)}):this.loadInternal(b)},d.loadInternal=function(b,d){var e,f;d&&b.setKeyFormat(d);var h=b.decryptdata;if(!h)return Promise.reject(this.createKeyLoadError(b,V.KEY_LOAD_ERROR,Error(d?"Expected frag.decryptdata to be defined after setting format "+
d:"Missing decryption data on fragment in onKeyLoading")));var g=h.uri;if(!g)return Promise.reject(this.createKeyLoadError(b,V.KEY_LOAD_ERROR,Error('Invalid key URI: "'+g+'"')));var k,l=this.keyUriToKeyInfo[g];if(null!=(e=l)&&e.decryptdata.key)return h.key=l.decryptdata.key,Promise.resolve({frag:b,keyInfo:l});if(null!=(f=l)&&f.keyLoadPromise)switch(null==(k=l.mediaKeySessionContext)?void 0:k.keyStatus){case void 0:case "status-pending":case "usable":case "usable-in-future":return l.keyLoadPromise.then(function(d){return h.key=
d.keyInfo.decryptdata.key,{frag:b,keyInfo:l}})}switch(l=this.keyUriToKeyInfo[g]={decryptdata:h,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},h.method){case "ISO-23001-7":case "SAMPLE-AES":case "SAMPLE-AES-CENC":case "SAMPLE-AES-CTR":return"identity"===h.keyFormat?this.loadKeyHTTP(l,b):this.loadKeyEME(l,b);case "AES-128":return this.loadKeyHTTP(l,b);default:return Promise.reject(this.createKeyLoadError(b,V.KEY_LOAD_ERROR,Error('Key supplied with unsupported METHOD: "'+h.method+'"')))}},
d.loadKeyEME=function(b,d){var e={frag:d,keyInfo:b};if(this.emeController&&this.config.emeEnabled){var f=this.emeController.loadKey(e);if(f)return(b.keyLoadPromise=f.then(function(d){return b.mediaKeySessionContext=d,e})).catch(function(d){throw b.keyLoadPromise=null,d;})}return Promise.resolve(e)},d.loadKeyHTTP=function(b,d){var e=this,f=this.config,g=new (0,f.loader)(f);return d.keyLoader=b.loader=g,b.keyLoadPromise=new Promise(function(k,l){var n={keyInfo:b,frag:d,responseType:"arraybuffer",url:b.decryptdata.uri},
p=f.keyLoadPolicy.default;g.load(n,{loadPolicy:p,timeout:p.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:function(b,d,f,h){d=f.frag;var g=f.keyInfo;f=f.url;if(!d.decryptdata||g!==e.keyUriToKeyInfo[f])return l(e.createKeyLoadError(d,V.KEY_LOAD_ERROR,Error("after key load, decryptdata unset or changed"),h));g.decryptdata.key=d.decryptdata.key=new Uint8Array(b.data);d.keyLoader=null;g.loader=null;k({frag:d,keyInfo:g})},onError:function(b,f,g,k){e.resetLoader(f);l(e.createKeyLoadError(d,
V.KEY_LOAD_ERROR,Error("HTTP Error "+b.code+" loading key "+b.text),g,h({url:n.url,data:void 0},b)))},onTimeout:function(b,f,h){e.resetLoader(f);l(e.createKeyLoadError(d,V.KEY_LOAD_TIMEOUT,Error("key loading timed out"),h))},onAbort:function(b,f,h){e.resetLoader(f);l(e.createKeyLoadError(d,V.INTERNAL_ABORTED,Error("key loading aborted"),h))}})})},d.resetLoader=function(b){var d=b.frag,e=b.keyInfo;b=b.url;var f=e.loader;d.keyLoader===f&&(d.keyLoader=null,e.loader=null);delete this.keyUriToKeyInfo[b];
f&&f.destroy()},b}(),xd=function(){function b(){this._boundTick=void 0;this._tickInterval=this._tickTimer=null;this._tickCallCount=0;this._boundTick=this.tick.bind(this)}var d=b.prototype;return d.destroy=function(){this.onHandlerDestroying();this.onHandlerDestroyed()},d.onHandlerDestroying=function(){this.clearNextTick();this.clearInterval()},d.onHandlerDestroyed=function(){},d.hasInterval=function(){return!!this._tickInterval},d.hasNextTick=function(){return!!this._tickTimer},d.setInterval=function(b){return!this._tickInterval&&
(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,b),!0)},d.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},d.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},d.tick=function(){this._tickCallCount++;1===this._tickCallCount&&(this.doTick(),1<this._tickCallCount&&this.tickImmediate(),this._tickCallCount=0)},d.tickImmediate=function(){this.clearNextTick();
this._tickTimer=self.setTimeout(this._boundTick,0)},d.doTick=function(){},b}(),Hd={length:0,start:function(){return 0},end:function(){return 0}},qb=function(){function b(){}return b.isBuffered=function(d,e){try{if(d)for(var f=b.getBuffered(d),h=0;h<f.length;h++)if(e>=f.start(h)&&e<=f.end(h))return!0}catch(g){}return!1},b.bufferInfo=function(d,e,f){try{if(d){var h,g=b.getBuffered(d);d=[];for(h=0;h<g.length;h++)d.push({start:g.start(h),end:g.end(h)});return this.bufferedInfo(d,e,f)}}catch(k){}return{len:0,
start:e,end:e,nextStart:void 0}},b.bufferedInfo=function(b,d,e){d=Math.max(0,d);b.sort(function(b,d){return b.start-d.start||d.end-b.end});var f=[];if(e)for(var h=0;h<b.length;h++){var g=f.length;if(g){var k=f[g-1].end;b[h].start-k<e?b[h].end>k&&(f[g-1].end=b[h].end):f.push(b[h])}else f.push(b[h])}else f=b;var l;b=0;g=h=d;for(k=0;k<f.length;k++){var n=f[k].start,p=f[k].end;if(d+e>=n&&d<p)h=n,b=(g=p)-d;else if(d+e<n){l=n;break}}return{len:b,start:h||0,end:g||0,nextStart:l}},b.getBuffered=function(b){try{return b.buffered}catch(d){return S.log("failed to get media.buffered",
d),Hd}},b}(),nd=function(b,d,e,f,h,g){void 0===f&&(f=0);void 0===h&&(h=-1);void 0===g&&(g=!1);this.partial=this.size=this.id=this.part=this.sn=this.level=void 0;this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0};this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}};this.level=b;this.sn=d;this.id=e;this.size=f;this.part=h;this.partial=g},sd=function(){function b(d,e){this.aesIV=
this.subtle=void 0;this.subtle=d;this.aesIV=e}return b.prototype.decrypt=function(b,d){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},d,b)},b}(),Vd=function(){function b(d,e){this.key=this.subtle=void 0;this.subtle=d;this.key=e}return b.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},b}(),ce=function(){function b(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54];this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),
new Uint32Array(256)];this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)];this.sBox=new Uint32Array(256);this.invSBox=new Uint32Array(256);this.key=new Uint32Array(0);this.keySize=this.ksRows=0;this.invKeySchedule=this.keySchedule=void 0;this.initTable()}var d=b.prototype;return d.uint8ArrayToUint32Array_=function(b){b=new DataView(b);for(var d=new Uint32Array(4),e=0;4>e;e++)d[e]=b.getUint32(4*e);return d},d.initTable=function(){for(var b=this.sBox,
d=this.invSBox,e=this.subMix,f=e[0],h=e[1],g=e[2],e=e[3],k=this.invSubMix,l=k[0],n=k[1],p=k[2],k=k[3],q=new Uint32Array(256),r=0,s=0,u=0,u=0;256>u;u++)q[u]=128>u?u<<1:u<<1^283;for(u=0;256>u;u++){var A=s^s<<1^s<<2^s<<3^s<<4,A=A>>>8^255&A^99;b[r]=A;d[A]=r;var v=q[r],D=q[v],F=q[D],C=257*q[A]^16843008*A;f[r]=C<<24|C>>>8;h[r]=C<<16|C>>>16;g[r]=C<<8|C>>>24;e[r]=C;C=16843009*F^65537*D^257*v^16843008*r;l[A]=C<<24|C>>>8;n[A]=C<<16|C>>>16;p[A]=C<<8|C>>>24;k[A]=C;r?(r=v^q[q[q[F^v]]],s^=q[q[s]]):r=s=1}},d.expandKey=
function(b){b=this.uint8ArrayToUint32Array_(b);for(var d=!0,e=0;e<b.length&&d;)d=b[e]===this.key[e],e++;if(!d){this.key=b;var f=this.keySize=b.length;if(4!==f&&6!==f&&8!==f)throw Error("Invalid aes key size\x3d"+f);var h,g,k,d=this.ksRows=4*(f+6+1),e=this.keySchedule=new Uint32Array(d),l=this.invKeySchedule=new Uint32Array(d),n=this.sBox,p=this.rcon;h=this.invSubMix;var q=h[0],r=h[1],s=h[2],u=h[3];for(h=0;h<d;h++)h<f?g=e[h]=b[h]:(k=g,0==h%f?(k=n[(k=k<<8|k>>>24)>>>24]<<24|n[k>>>16&255]<<16|n[k>>>8&
255]<<8|n[255&k],k^=p[h/f|0]<<24):6<f&&4==h%f&&(k=n[k>>>24]<<24|n[k>>>16&255]<<16|n[k>>>8&255]<<8|n[255&k]),e[h]=g=(e[h-f]^k)>>>0);for(g=0;g<d;g++)h=d-g,k=3&g?e[h]:e[h-4],l[g]=4>g||4>=h?k:q[n[k>>>24]]^r[n[k>>>16&255]]^s[n[k>>>8&255]]^u[n[255&k]],l[g]>>>=0}},d.networkToHostOrderSwap=function(b){return b<<24|(65280&b)<<8|(16711680&b)>>8|b>>>24},d.decrypt=function(b,d,e){var f,h,g,k,l,n,p,q,r,s,u,A,v=this.keySize+6,D=this.invKeySchedule,F=this.invSBox,C=this.invSubMix,z=C[0],w=C[1],H=C[2],C=C[3],t=this.uint8ArrayToUint32Array_(e);
e=t[0];for(var B=t[1],Dd=t[2],t=t[3],E=new Int32Array(b),L=new Int32Array(E.length),J=this.networkToHostOrderSwap;d<E.length;){p=J(E[d]);q=J(E[d+1]);r=J(E[d+2]);s=J(E[d+3]);k=p^D[0];l=s^D[1];n=r^D[2];g=q^D[3];u=4;for(A=1;A<v;A++)b=z[k>>>24]^w[l>>16&255]^H[n>>8&255]^C[255&g]^D[u],f=z[l>>>24]^w[n>>16&255]^H[g>>8&255]^C[255&k]^D[u+1],h=z[n>>>24]^w[g>>16&255]^H[k>>8&255]^C[255&l]^D[u+2],g=z[g>>>24]^w[k>>16&255]^H[l>>8&255]^C[255&n]^D[u+3],k=b,l=f,n=h,u+=4;b=F[k>>>24]<<24^F[l>>16&255]<<16^F[n>>8&255]<<
8^F[255&g]^D[u];f=F[l>>>24]<<24^F[n>>16&255]<<16^F[g>>8&255]<<8^F[255&k]^D[u+1];h=F[n>>>24]<<24^F[g>>16&255]<<16^F[k>>8&255]<<8^F[255&l]^D[u+2];g=F[g>>>24]<<24^F[k>>16&255]<<16^F[l>>8&255]<<8^F[255&n]^D[u+3];L[d]=J(b^e);L[d+1]=J(g^B);L[d+2]=J(h^Dd);L[d+3]=J(f^t);e=p;B=q;Dd=r;t=s;d+=4}return L.buffer},b}(),od=function(){function b(d,e){var f=(void 0===e?{}:e).removePKCS7Padding,f=void 0===f||f;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=
null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=d.enableSoftwareAES,this.removePKCS7Padding=f,f)try{var h=self.crypto;h&&(this.subtle=h.subtle||h.webkitSubtle)}catch(g){}null===this.subtle&&(this.useSoftware=!0)}var d=b.prototype;return d.destroy=function(){this.currentResult=this.currentIV=this.remainderData=this.fastAesKey=this.key=this.softwareDecrypter=this.subtle=null},d.isSync=function(){return this.useSoftware},
d.flush=function(){var b=this.currentResult,d=this.remainderData;if(!b||d)return this.reset(),null;var e,f,b=new Uint8Array(b);return this.reset(),this.removePKCS7Padding?(e=b.byteLength,(f=e&&(new DataView(b.buffer)).getUint8(e-1))?L(b,0,e-f):b):b},d.reset=function(){this.remainderData=this.currentIV=this.currentResult=null;this.softwareDecrypter&&(this.softwareDecrypter=null)},d.decrypt=function(b,d,e){var f=this;return this.useSoftware?new Promise(function(h,g){f.softwareDecrypt(new Uint8Array(b),
d,e);var k=f.flush();k?h(k.buffer):g(Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(b),d,e)},d.softwareDecrypt=function(b,d,e){var f=this.currentIV,h=this.currentResult,g=this.remainderData;this.logOnce("JS AES decrypt");g&&(b=P(g,b),this.remainderData=null);b=this.getValidChunk(b);if(!b.length)return null;f&&(e=f);(f=this.softwareDecrypter)||(f=this.softwareDecrypter=new ce);f.expandKey(d);return this.currentResult=f.decrypt(b.buffer,0,e),this.currentIV=
L(b,-16).buffer,h||null},d.webCryptoDecrypt=function(b,d,e){var f=this,h=this.subtle;return this.key===d&&this.fastAesKey||(this.key=d,this.fastAesKey=new Vd(h,d)),this.fastAesKey.expandKey().then(function(d){return h?(f.logOnce("WebCrypto AES decrypt"),(new sd(h,new Uint8Array(e))).decrypt(b.buffer,d)):Promise.reject(Error("web crypto not initialized"))}).catch(function(h){return S.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+h.name+": "+h.message),f.onWebCryptoError(b,d,e)})},d.onWebCryptoError=
function(b,d,e){this.logEnabled=this.useSoftware=!0;this.softwareDecrypt(b,d,e);if(b=this.flush())return b.buffer;throw Error("WebCrypto and softwareDecrypt: failed to decrypt data");},d.getValidChunk=function(b){var d=b,e=b.length-b.length%16;return e!==b.length&&(d=L(b,0,e),this.remainderData=L(b,e)),d},d.logOnce=function(b){this.logEnabled&&(S.log("[decrypter]: "+b),this.logEnabled=!1)},b}(),Ub=function(b){for(var d="",e=b.length,f=0;f<e;f++)d+="["+b.start(f).toFixed(3)+"-"+b.end(f).toFixed(3)+
"]";return d},Tc=function(b){function d(e,f,h,g,k){var l;return(l=b.call(this)||this).hls=void 0,l.fragPrevious=null,l.fragCurrent=null,l.fragmentTracker=void 0,l.transmuxer=null,l._state="STOPPED",l.playlistType=void 0,l.media=null,l.mediaBuffer=null,l.config=void 0,l.bitrateTest=!1,l.lastCurrentTime=0,l.nextLoadPosition=0,l.startPosition=0,l.startTimeOffset=null,l.loadedmetadata=!1,l.retryDate=0,l.levels=null,l.fragmentLoader=void 0,l.keyLoader=void 0,l.levelLastLoaded=null,l.startFragRequested=
!1,l.decrypter=void 0,l.initPTS=[],l.onvseeking=null,l.onvended=null,l.logPrefix="",l.log=void 0,l.warn=void 0,l.playlistType=k,l.logPrefix=g,l.log=S.log.bind(S,g+":"),l.warn=S.warn.bind(S,g+":"),l.hls=e,l.fragmentLoader=new td(e.config),l.keyLoader=h,l.fragmentTracker=f,l.config=e.config,l.decrypter=new od(e.config),e.on(G.MANIFEST_LOADED,l.onManifestLoaded,function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(l)),l}n(d,b);var e=
d.prototype;return e.doTick=function(){this.onTickEnd()},e.onTickEnd=function(){},e.startLoad=function(b){},e.stopLoad=function(){this.fragmentLoader.abort();this.keyLoader.abort();var b=this.fragCurrent;null!=b&&b.loader&&(b.abortRequests(),this.fragmentTracker.removeFragment(b));this.resetTransmuxer();this.fragPrevious=this.fragCurrent=null;this.clearInterval();this.clearNextTick();this.state="STOPPED"},e._streamEnded=function(b,d){if(d.live||b.nextStart||!b.end||!this.media)return!1;var e=d.partList;
return null!=e&&e.length?(e=e[e.length-1],qb.isBuffered(this.media,e.start+e.duration/2)):this.fragmentTracker.isEndListAppended(d.fragments[d.fragments.length-1].type)},e.getLevelDetails=function(){var b;if(this.levels&&null!==this.levelLastLoaded)return null==(b=this.levels[this.levelLastLoaded])?void 0:b.details},e.onMediaAttached=function(b,d){var e=this.media=this.mediaBuffer=d.media;this.onvseeking=this.onMediaSeeking.bind(this);this.onvended=this.onMediaEnded.bind(this);e.addEventListener("seeking",
this.onvseeking);e.addEventListener("ended",this.onvended);e=this.config;this.levels&&e.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(e.startPosition)},e.onMediaDetaching=function(){var b=this.media;null!=b&&b.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);b&&this.onvseeking&&this.onvended&&(b.removeEventListener("seeking",this.onvseeking),b.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null);this.keyLoader&&
this.keyLoader.detach();this.media=this.mediaBuffer=null;this.loadedmetadata=!1;this.fragmentTracker.removeAllFragments();this.stopLoad()},e.onMediaSeeking=function(){var b=this.config,d=this.fragCurrent,e=this.media,f=this.state,h=e?e.currentTime:0,g=qb.bufferInfo(this.mediaBuffer||e,h,b.maxBufferHole);(this.log("media seeking to "+(ka(h)?h.toFixed(3):h)+", state: "+f),"ENDED"===this.state)?this.resetLoadingState():d&&(f=b.maxFragLookUpTolerance,b=d.start-f,f=d.start+d.duration+f,!g.len||f<g.start||
b>g.end)&&(f=h>f,(h<b||f)&&(f&&d.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),d.abortRequests()),this.resetLoadingState()));e&&(this.fragmentTracker.removeFragmentsInRange(h,1/0,this.playlistType,!0),this.lastCurrentTime=h);this.loadedmetadata||g.len||(this.nextLoadPosition=this.startPosition=h);this.tickImmediate()},e.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},e.onManifestLoaded=function(b,d){this.startTimeOffset=d.startTimeOffset;
this.initPTS=[]},e.onHandlerDestroying=function(){this.stopLoad();b.prototype.onHandlerDestroying.call(this)},e.onHandlerDestroyed=function(){this.state="STOPPED";this.fragmentLoader&&this.fragmentLoader.destroy();this.keyLoader&&this.keyLoader.destroy();this.decrypter&&this.decrypter.destroy();this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null;b.prototype.onHandlerDestroyed.call(this)},e.loadFragment=function(b,d,e){this._loadFragForPlayback(b,
d,e)},e._loadFragForPlayback=function(b,d,e){var f=this;this._doFragLoad(b,d,e,function(d){if(f.fragContextChanged(b))return f.warn("Fragment "+b.sn+(d.part?" p: "+d.part.index:"")+" of level "+b.level+" was dropped during download."),void f.fragmentTracker.removeFragment(b);b.stats.chunkCount++;f._handleFragmentLoadProgress(d)}).then(function(d){if(d){var e=f.state;f.fragContextChanged(b)?("FRAG_LOADING"===e||!f.fragCurrent&&"PARSING"===e)&&(f.fragmentTracker.removeFragment(b),f.state="IDLE"):("payload"in
d&&(f.log("Loaded fragment "+b.sn+" of level "+b.level),f.hls.trigger(G.FRAG_LOADED,d)),f._handleFragmentLoadComplete(d))}}).catch(function(d){"STOPPED"!==f.state&&"ERROR"!==f.state&&(f.warn(d),f.resetFragmentLoading(b))})},e.clearTrackerIfNeeded=function(b){var d;"APPENDING"===this.fragmentTracker.getState(b)?(d=this.getFwdBufferInfo(this.mediaBuffer,b.type),d=Math.max(b.duration,d?d.len:this.config.maxBufferLength),this.reduceMaxBufferLength(d)&&this.fragmentTracker.removeFragment(b)):0===(null==
(d=this.mediaBuffer)?void 0:d.buffered.length)&&this.fragmentTracker.removeAllFragments()},e.flushMainBuffer=function(b,d,e){(void 0===e&&(e=null),b-d)&&this.hls.trigger(G.BUFFER_FLUSHING,{startOffset:b,endOffset:d,type:e})},e._loadInitSegment=function(b,d){var e=this;this._doFragLoad(b,d).then(function(d){if(!d||e.fragContextChanged(b)||!e.levels)throw Error("init load aborted");return d}).then(function(d){var f=e.hls,h=d.payload,g=b.decryptdata;if(h&&0<h.byteLength&&g&&g.key&&g.iv&&"AES-128"===
g.method){var k=self.performance.now();return e.decrypter.decrypt(new Uint8Array(h),g.key.buffer,g.iv.buffer).catch(function(d){throw f.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.FRAG_DECRYPT_ERROR,fatal:!1,error:d,reason:d.message,frag:b}),d;}).then(function(e){var h=self.performance.now();return f.trigger(G.FRAG_DECRYPTED,{frag:b,payload:e,stats:{tstart:k,tdecrypt:h}}),d.payload=e,d})}return d}).then(function(f){var h=e.fragCurrent,g=e.hls;if(!e.levels)throw Error("init load aborted, missing levels");
var k=b.stats;e.state="IDLE";d.fragmentError=0;b.data=new Uint8Array(f.payload);k.parsing.start=k.buffering.start=self.performance.now();k.parsing.end=k.buffering.end=self.performance.now();f.frag===h&&g.trigger(G.FRAG_BUFFERED,{stats:k,frag:h,part:null,id:b.type});e.tick()}).catch(function(d){"STOPPED"!==e.state&&"ERROR"!==e.state&&(e.warn(d),e.resetFragmentLoading(b))})},e.fragContextChanged=function(b){var d=this.fragCurrent;return!b||!d||b.level!==d.level||b.sn!==d.sn||b.urlId!==d.urlId},e.fragBufferedComplete=
function(b,d){var e,f,h,g,k=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+b.type+" sn: "+b.sn+(d?" part: "+d.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+b.level+" (frag:["+(null!=(e=b.startPTS)?e:NaN).toFixed(3)+"-"+(null!=(f=b.endPTS)?f:NaN).toFixed(3)+"] \x3e buffer:"+(k?Ub(qb.getBuffered(k)):"(detached)")+")");this.state="IDLE";k&&(!this.loadedmetadata&&"main"==b.type&&k.buffered.length&&(null==(h=this.fragCurrent)?void 0:h.sn)===(null==(g=
this.fragPrevious)?void 0:g.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},e.seekToStartPos=function(){},e._handleFragmentLoadComplete=function(b){var d=this.transmuxer;if(d){var e=b.frag,f=b.part;b=b.partsLoaded;b=!b||0===b.length||b.some(function(b){return!b});e=new nd(e.level,e.sn,e.stats.chunkCount+1,0,f?f.index:-1,!b);d.flush(e)}},e._handleFragmentLoadProgress=function(b){},e._doFragLoad=function(b,d,e,f){var h,g=this;void 0===e&&(e=null);var k=null==d?void 0:d.details;if(!this.levels||
!k)throw Error("frag load aborted, missing level"+(k?"":" detail")+"s");var l=null;if((!b.encrypted||null!=(h=b.decryptdata)&&h.key?!b.encrypted&&k.encryptedFragments.length&&this.keyLoader.loadClear(b,k.encryptedFragments):(this.log("Loading key for "+b.sn+" of ["+k.startSN+"-"+k.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+b.level),this.state="KEY_LOADING",this.fragCurrent=b,l=this.keyLoader.load(b).then(function(b){if(!g.fragContextChanged(b.frag))return g.hls.trigger(G.KEY_LOADED,
b),"KEY_LOADING"===g.state&&(g.state="IDLE"),b}),this.hls.trigger(G.KEY_LOADING,{frag:b}),null===this.fragCurrent&&(l=Promise.reject(Error("frag load aborted, context changed in KEY_LOADING")))),e=Math.max(b.start,e||0),this.config.lowLatencyMode)&&(h=k.partList)&&f){e>b.end&&k.fragmentHint&&(b=k.fragmentHint);var n=this.getNextPart(h,b,e);if(-1<n){var p,Z=h[n];return this.log("Loading part sn: "+b.sn+" p: "+Z.index+" cc: "+b.cc+" of playlist ["+k.startSN+"-"+k.endSN+"] parts [0-"+n+"-"+(h.length-
1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+b.level+", target: "+parseFloat(e.toFixed(3))),this.nextLoadPosition=Z.start+Z.duration,this.state="FRAG_LOADING",p=l?l.then(function(e){return!e||g.fragContextChanged(e.frag)?null:g.doFragPartsLoad(b,Z,d,f)}).catch(function(b){return g.handleFragLoadError(b)}):this.doFragPartsLoad(b,Z,d,f).catch(function(b){return g.handleFragLoadError(b)}),this.hls.trigger(G.FRAG_LOADING,{frag:b,part:Z,targetBufferTime:e}),null===this.fragCurrent?
Promise.reject(Error("frag load aborted, context changed in FRAG_LOADING parts")):p}if(!b.url||this.loadedEndOfParts(h,e))return Promise.resolve(null)}this.log("Loading fragment "+b.sn+" cc: "+b.cc+" "+(k?"of ["+k.startSN+"-"+k.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+b.level+", target: "+parseFloat(e.toFixed(3)));ka(b.sn)&&!this.bitrateTest&&(this.nextLoadPosition=b.start+b.duration);this.state="FRAG_LOADING";var q,r=this.config.progressive;return q=r&&l?l.then(function(d){return!d||
g.fragContextChanged(null==d?void 0:d.frag)?null:g.fragmentLoader.load(b,f)}).catch(function(b){return g.handleFragLoadError(b)}):Promise.all([this.fragmentLoader.load(b,r?f:void 0),l]).then(function(b){b=b[0];return!r&&b&&f&&f(b),b}).catch(function(b){return g.handleFragLoadError(b)}),this.hls.trigger(G.FRAG_LOADING,{frag:b,targetBufferTime:e}),null===this.fragCurrent?Promise.reject(Error("frag load aborted, context changed in FRAG_LOADING")):q},e.doFragPartsLoad=function(b,d,e,f){var h=this;return new Promise(function(g,
k){var l,n=[],p=null==(l=e.details)?void 0:l.partList;!function ze(d){h.fragmentLoader.loadPart(b,d,f).then(function(f){n[d.index]=f;var k=f.part;h.hls.trigger(G.FRAG_LOADED,f);f=Ja(e,b.sn,d.index+1)||cb(p,b.sn,d.index+1);if(!f)return g({frag:b,part:k,partsLoaded:n});ze(f)}).catch(k)}(d)})},e.handleFragLoadError=function(b){if("data"in b){var d=b.data;b.data&&d.details===V.INTERNAL_ABORTED?this.handleFragLoadAborted(d.frag,d.part):this.hls.trigger(G.ERROR,d)}else this.hls.trigger(G.ERROR,{type:na.OTHER_ERROR,
details:V.INTERNAL_EXCEPTION,err:b,error:b,fatal:!0});return null},e._handleTransmuxerFlush=function(b){var d=this.getCurrentContext(b);if(d&&"PARSING"===this.state){var e=d.frag,f=d.part,d=d.level,h=self.performance.now();e.stats.parsing.end=h;f&&(f.stats.parsing.end=h);this.updateLevelTiming(e,f,d,b.partial)}else this.fragCurrent||"STOPPED"===this.state||"ERROR"===this.state||(this.state="IDLE")},e.getCurrentContext=function(b){var d=this.levels,e=this.fragCurrent,f=b.level,h=b.sn;b=b.part;if(null==
d||!d[f])return this.warn("Levels object was unset while buffering fragment "+h+" of level "+f+". The current chunk will not be buffered."),null;d=d[f];if(f=-1<b?Ja(d,h,b):null)h=f.fragment;else if(null!=d&&d.details)var g=d.details,h=(b=g.fragments[h-g.startSN])||((b=g.fragmentHint)&&b.sn===h?b:h<g.startSN&&e&&e.sn===h?e:null);else h=null;return h?(e&&e!==h&&(h.stats=e.stats),{frag:h,part:f,level:d}):null},e.bufferFragmentData=function(b,d,e,f){var h;if(b&&"PARSING"===this.state){var g=b.data1,k=
b.data2,l=g;if(g&&k&&(l=P(g,k)),null!=(h=l)&&h.length)this.hls.trigger(G.BUFFER_APPENDING,{type:b.type,frag:d,part:e,chunkMeta:f,parent:d.type,data:l}),b.dropped&&b.independent&&!e&&this.flushBufferGap(d)}},e.flushBufferGap=function(b){var d=this.media;if(d)if(qb.isBuffered(d,d.currentTime)){var e=d.currentTime,f=qb.bufferInfo(d,e,0),d=Math.min(2*this.config.maxFragLookUpTolerance,.25*b.duration),e=Math.max(Math.min(b.start-d,f.end-d),e+d);b.start-e>d&&this.flushMainBuffer(e,b.start)}else this.flushMainBuffer(0,
b.start)},e.getFwdBufferInfo=function(b,d){var e=this.getLoadPosition();return ka(e)?this.getFwdBufferInfoAtPos(b,e,d):null},e.getFwdBufferInfoAtPos=function(b,d,e){var f=this.config.maxBufferHole,h=qb.bufferInfo(b,d,f);return 0===h.len&&void 0!==h.nextStart&&(e=this.fragmentTracker.getBufferedFrag(d,e))&&h.nextStart<e.end?qb.bufferInfo(b,d,Math.max(h.nextStart,f)):h},e.getMaxBufferLength=function(b){var d,e=this.config;return d=b?Math.max(8*e.maxBufferSize/b,e.maxBufferLength):e.maxBufferLength,
Math.min(d,e.maxMaxBufferLength)},e.reduceMaxBufferLength=function(b){var d=this.config;return d.maxMaxBufferLength>=(b||d.maxBufferLength)&&(d.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+d.maxMaxBufferLength+"s"),!0)},e.getNextFragment=function(b,d){var e=d.fragments,f=e.length;if(!f)return null;var h,g=this.config,k=e[0].start;if(d.live){k=g.initialLiveManifestSize;if(f<k)return this.warn("Not enough fragments to start playback (have: "+f+", need: "+k+")"),null;d.PTSKnown||this.startFragRequested||
-1!==this.startPosition||(h=this.getInitialLiveFragment(d,e),this.startPosition=h?this.hls.liveSyncPosition||h.start:b)}else b<=k&&(h=e[0]);h||(h=this.getFragmentAtPosition(b,g.lowLatencyMode?d.partEnd:d.fragmentEnd,d));return this.mapToInitFragWhenRequired(h)},e.isLoopLoading=function(b,d){var e=this.fragmentTracker.getState(b);return("OK"===e||"PARTIAL"===e&&!!b.gap)&&this.nextLoadPosition>d},e.getNextFragmentLoopLoading=function(b,d,e,f,h){var g=b.gap;d=this.getNextFragment(this.nextLoadPosition,
d);if(null===d)return d;if(b=d,g&&b&&!b.gap&&e.nextStart)if(g=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,e.nextStart,f),null!==g&&e.len+g.len>=h)return this.log('buffer full after gaps in "'+f+'" playlist starting at sn: '+b.sn),null;return b},e.mapToInitFragWhenRequired=function(b){return null==b||!b.initSegment||null!=b&&b.initSegment.data||this.bitrateTest?b:b.initSegment},e.getNextPart=function(b,d,e){for(var f=-1,h=!1,g=!0,k=0,l=b.length;k<l;k++){var n=b[k];if(g=
g&&!n.independent,-1<f&&e<n.start)break;var p=n.loaded;p?f=-1:(h||n.independent||g)&&n.fragment===d&&(f=k);h=p}return f},e.loadedEndOfParts=function(b,d){var e=b[b.length-1];return e&&d>e.start&&e.loaded},e.getInitialLiveFragment=function(b,d){var e=this.fragPrevious,f=null;if(e){if(b.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+e.programDateTime),f=function(b,d,e){if(null===d||!Array.isArray(b)||!b.length||!ka(d)||d<(b[0].programDateTime||0)||d>=(b[b.length-
1].endProgramDateTime||0))return null;e=e||0;for(var f=0;f<b.length;++f){var h=b[f],g=d,k=h,l=1E3*Math.min(e,k.duration+(k.deltaPTS?k.deltaPTS:0));if((k.endProgramDateTime||0)-l>g)return h}return null}(d,e.endProgramDateTime,this.config.maxFragLookUpTolerance)),!f){var h=e.sn+1;h>=b.startSN&&h<=b.endSN&&(h=d[h-b.startSN],e.cc===h.cc&&(f=h,this.log("Live playlist, switching playlist, load frag with next SN: "+f.sn)));f||(f=function(b,d){return rc(b,function(b){return b.cc<d?1:b.cc>d?-1:0})}(d,e.cc),
f&&this.log("Live playlist, switching playlist, load frag with same CC: "+f.sn))}}else e=this.hls.liveSyncPosition,null!==e&&(f=this.getFragmentAtPosition(e,this.bitrateTest?b.fragmentEnd:b.edge,b));return f},e.getFragmentAtPosition=function(b,d,e){var f=this.config,h=this.fragPrevious,g=e.fragments,k=e.endSN,l=e.fragmentHint,n=f.maxFragLookUpTolerance,f=!!(f.lowLatencyMode&&e.partList&&l);if(f&&l&&!this.bitrateTest&&(g=g.concat(l),k=l.sn),b=b<d?pb(h,g,b,b>d-n?0:n):g[g.length-1])if(e=b.sn-e.startSN,
d=this.fragmentTracker.getState(b),("OK"===d||"PARTIAL"===d&&b.gap)&&(h=b),h&&b.sn===h.sn&&!f&&h&&b.level===h.level)h=g[e+1],b=b.sn<k&&"OK"!==this.fragmentTracker.getState(h)?h:null;return b},e.synchronizeToLiveEdge=function(b){var d=this.config,e=this.media;if(e){var f=this.hls.liveSyncPosition,h=e.currentTime,g=b.edge,k=h>=b.fragments[0].start-d.maxFragLookUpTolerance&&h<=g;null!==f&&e.duration>f&&(h<f||!k)&&(b=void 0!==d.liveMaxLatencyDuration?d.liveMaxLatencyDuration:d.liveMaxLatencyDurationCount*
b.targetduration,(!k&&4>e.readyState||h<g-b)&&(this.loadedmetadata||(this.nextLoadPosition=f),e.readyState&&(this.warn("Playback: "+h.toFixed(3)+" is located too far from the end of live sliding playlist: "+g+", reset currentTime to : "+f.toFixed(3)),e.currentTime=f)))}},e.alignPlaylists=function(b,d){var e=this.levels,f=this.levelLastLoaded,h=this.fragPrevious,f=null!==f?e[f]:null,e=b.fragments.length;if(!e)return this.warn("No fragments in live playlist"),0;var g=b.fragments[0].start,k=!d,l=b.alignedSliding&&
ka(g);return k||!l&&!g?(xb(h,f,b),f=b.fragments[0].start,this.log("Live playlist sliding: "+f.toFixed(2)+" start-sn: "+(d?d.startSN:"na")+"-\x3e"+b.startSN+" prev-sn: "+(h?h.sn:"na")+" fragments: "+e),f):g},e.waitForCdnTuneIn=function(b){return b.live&&b.canBlockReload&&b.partTarget&&b.tuneInGoal>Math.max(b.partHoldBack,3*b.partTarget)},e.setStartPosition=function(b,d){var e=this.startPosition;if(e<d&&(e=-1),-1===e||-1===this.lastCurrentTime){var f=null!==this.startTimeOffset,h=f?this.startTimeOffset:
b.startTimeOffset;null!==h&&ka(h)?(e=d+h,0>h&&(e+=b.totalduration),e=Math.min(Math.max(d,e),d+b.totalduration),this.log("Start time offset "+h+" found in "+(f?"multivariant":"media")+" playlist, adjust startPosition to "+e),this.startPosition=e):b.live?e=this.hls.liveSyncPosition||d:this.startPosition=e=0;this.lastCurrentTime=e}this.nextLoadPosition=e},e.getLoadPosition=function(){var b=this.media,d=0;return this.loadedmetadata&&b?d=b.currentTime:this.nextLoadPosition&&(d=this.nextLoadPosition),d},
e.handleFragLoadAborted=function(b,d){this.transmuxer&&"initSegment"!==b.sn&&b.stats.aborted&&(this.warn("Fragment "+b.sn+(d?" part"+d.index:"")+" of level "+b.level+" was aborted"),this.resetFragmentLoading(b))},e.resetFragmentLoading=function(b){this.fragCurrent&&(this.fragContextChanged(b)||"FRAG_LOADING_WAITING_RETRY"===this.state)||(this.state="IDLE")},e.onFragmentOrKeyLoadError=function(b,d){if(d.chunkMeta&&!d.frag){var e=this.getCurrentContext(d.chunkMeta);e&&(d.frag=e.frag)}if((e=d.frag)&&
e.type===b&&this.levels)if(this.fragContextChanged(e)){var f;this.warn("Frag load error must match current frag to retry "+e.url+" \x3e "+(null==(f=this.fragCurrent)?void 0:f.url))}else{var h=d.details===V.FRAG_GAP;h&&this.fragmentTracker.fragBuffered(e,!0);var g=(f=d.errorAction)||{},k=g.action,l=g.retryCount,l=void 0===l?0:l,g=g.retryConfig;f&&5===k&&g?(this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),h=Ua(g,l),this.warn("Fragment "+e.sn+" of "+b+" "+e.level+
" errored with "+d.details+", retrying loading "+(l+1)+"/"+g.maxNumRetry+" in "+h+"ms"),f.resolved=!0,this.retryDate=self.performance.now()+h,this.state="FRAG_LOADING_WAITING_RETRY"):g&&f?(this.resetFragmentErrors(b),l<g.maxNumRetry?h||(f.resolved=!0):S.warn(d.details+" reached or exceeded max retry ("+l+")")):this.state="ERROR";this.tickImmediate()}},e.reduceLengthAndFlushBuffer=function(b){if("PARSING"===this.state||"PARSED"===this.state){var d=b.parent,e=this.getFwdBufferInfo(this.mediaBuffer,
d),f=e&&.5<e.len;f&&this.reduceMaxBufferLength(e.len);e=!f;return e&&this.warn("Buffer full error while media.currentTime is not buffered, flush "+d+" buffer"),b.frag&&(this.fragmentTracker.removeFragment(b.frag),this.nextLoadPosition=b.frag.start),this.resetLoadingState(),e}return!1},e.resetFragmentErrors=function(b){"audio"===b&&(this.fragCurrent=null);this.loadedmetadata||(this.startFragRequested=!1);"STOPPED"!==this.state&&(this.state="IDLE")},e.afterBufferFlushed=function(b,d,e){b&&(b=qb.getBuffered(b),
this.fragmentTracker.detectEvictedFragments(d,b,e),"ENDED"===this.state&&this.resetLoadingState())},e.resetLoadingState=function(){this.log("Reset loading state");this.fragPrevious=this.fragCurrent=null;this.state="IDLE"},e.resetStartWhenNotLoaded=function(b){this.loadedmetadata||(this.startFragRequested=!1,b=this.levels?this.levels[b].details:null,null!=b&&b.live?(this.startPosition=-1,this.setStartPosition(b,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition)},e.resetWhenMissingContext=
function(b){this.warn("The loading context changed while buffering fragment "+b.sn+" of level "+b.level+". This chunk will not be buffered.");this.removeUnbufferedFrags();this.resetStartWhenNotLoaded(b.level);this.resetLoadingState()},e.removeUnbufferedFrags=function(b){void 0===b&&(b=0);this.fragmentTracker.removeFragmentsInRange(b,1/0,this.playlistType,!1,!0)},e.updateLevelTiming=function(b,d,e,f){var h,g=this,k=e.details;if(k){if(Object.keys(b.elementaryStreams).reduce(function(d,h){var l=b.elementaryStreams[h];
if(l){var n=l.endPTS-l.startPTS;if(0>=n)return g.warn("Could not parse fragment "+b.sn+" "+h+" duration reliably ("+n+")"),d||!1;n=f?0:ma(k,b,l.startPTS,l.endPTS,l.startDTS,l.endDTS);return g.hls.trigger(G.LEVEL_PTS_UPDATED,{details:k,level:e,drift:n,type:h,frag:b,start:l.startPTS,end:l.endPTS}),!0}return d},!1))e.fragmentError=0;else if(null===(null==(h=this.transmuxer)?void 0:h.error)){h=Error("Found no media in fragment "+b.sn+" of level "+e.id+" resetting transmuxer to fallback to playlist timing");
if(this.warn(h.message),this.hls.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.FRAG_PARSING_ERROR,fatal:!1,error:h,frag:b,reason:"Found no media in msn "+b.sn+' of level "'+e.url+'"'}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED";this.hls.trigger(G.FRAG_PARSED,{frag:b,part:d})}else this.warn("level.details undefined")},e.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},e.recoverWorkerError=function(b){"demuxerWorker"===b.event&&(this.resetTransmuxer(),
this.resetLoadingState())},f(d,[{key:"state",get:function(){return this._state},set:function(b){var d=this._state;d!==b&&(this._state=b,this.log(d+"-\x3e"+b))}}]),d}(xd),hc=function(){function b(){this._id3Track=this._audioTrack=void 0;this.frameIndex=0;this.lastPTS=this.initPTS=this.basePTS=this.cachedData=null}var d=b.prototype;return d.resetInitSegment=function(b,d,e,f){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9E4,sequenceNumber:0,samples:[],dropped:0}},d.resetTimeStamp=function(b){this.initPTS=
b;this.resetContiguity()},d.resetContiguity=function(){this.lastPTS=this.basePTS=null;this.frameIndex=0},d.canParse=function(b,d){return!1},d.appendFrame=function(b,d,e){},d.demux=function(b,d){this.cachedData&&(b=P(this.cachedData,b),this.cachedData=null);var e,f=zb(b,0),h=f?f.length:0,g=this._audioTrack,k=this._id3Track,l;if(f)a:{l=ab(f);for(var n=0;n<l.length;n++){var p=l[n];if(Qa(p)){8===p.data.byteLength?(n=new Uint8Array(p.data),l=1&n[3],n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],l=(n/=45,l&&(n+=
4.772185884E7),Math.round(n))):l=void 0;break a}}l=void 0}else l=void 0;n=l;l=b.length;if(null===this.basePTS||0===this.frameIndex&&ka(n))p=this.initPTS,this.lastPTS=this.basePTS=ka(n)?90*n:9E4*d+(p?9E4*p.baseTime/p.timescale:0);null===this.lastPTS&&(this.lastPTS=this.basePTS);for(f&&0<f.length&&k.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:f,type:"org.id3",duration:Number.POSITIVE_INFINITY});h<l;)this.canParse(b,h)?(n=this.appendFrame(g,b,h))?(this.frameIndex++,this.lastPTS=n.sample.pts,
e=h+=n.length):h=l:(n=b,p=h,Wb(n,p)&&Ab(n,p+6)+10<=n.length-p?(f=zb(b,h),k.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:f,type:"org.id3",duration:Number.POSITIVE_INFINITY}),e=h+=f.length):h++),h===l&&e!==l&&(n=L(b,e),this.cachedData?this.cachedData=P(this.cachedData,n):this.cachedData=n);return{audioTrack:g,videoTrack:vb(),id3Track:k,textTrack:vb()}},d.demuxSampleAes=function(b,d,e){return Promise.reject(Error("["+this+"] This demuxer does not support Sample-AES decryption"))},d.flush=function(b){b=
this.cachedData;return b&&(this.cachedData=null,this.demux(b,0)),{audioTrack:this._audioTrack,videoTrack:vb(),id3Track:this._id3Track,textTrack:vb()}},d.destroy=function(){},b}(),Jd=function(b){function d(e,f){var h;return(h=b.call(this)||this).observer=void 0,h.config=void 0,h.observer=e,h.config=f,h}n(d,b);var e=d.prototype;return e.resetInitSegment=function(d,e,f,h){b.prototype.resetInitSegment.call(this,d,e,f,h);this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,
segmentCodec:"aac",samples:[],manifestCodec:e,duration:h,inputTimeScale:9E4,dropped:0}},d.probe=function(b){if(!b)return!1;for(var d=(zb(b,0)||[]).length,e=b.length;d<e;d++)if(rb(b,d))return S.log("ADTS sync word found !"),!0;return!1},e.canParse=function(b,d){return d+5<b.length&&nb(b,d)&&hb(b,d)<=b.length-d},e.appendFrame=function(b,d,e){fb(b,this.observer,d,e,b.manifestCodec);if((b=Na(b,d,e,this.basePTS,this.frameIndex))&&0===b.missing)return b},d}(hc),yc=/\/emsg[-/]ID3/i,Vc=function(){function b(d,
e){this.remainderData=null;this.timeOffset=0;this.txtTrack=this.id3Track=this.audioTrack=this.videoTrack=this.config=void 0;this.config=e}var d=b.prototype;return d.resetTimeStamp=function(){},d.resetInitSegment=function(b,d,e,f){d=this.videoTrack=vb("video",1);e=this.audioTrack=vb("audio",1);var h=this.txtTrack=vb("text",1);if(this.id3Track=vb("id3",1),this.timeOffset=0,null!=b&&b.byteLength){b=W(b);if(b.video){var g=b.video,k=g.timescale,l=g.codec;d.id=g.id;d.timescale=h.timescale=k;d.codec=l}b.audio&&
(b=b.audio,g=b.timescale,k=b.codec,e.id=b.id,e.timescale=g,e.codec=k);h.id=Eb.text;d.sampleDuration=0;d.duration=e.duration=f}},d.resetContiguity=function(){},b.probe=function(b){return 0<R(16384<b.length?b.subarray(0,16384):b,["moof"]).length},d.demux=function(b,d){this.timeOffset=d;var e=b,f=this.videoTrack,h=this.txtTrack;if(this.config.progressive){this.remainderData&&(e=P(this.remainderData,b));var g={valid:null,remainder:null},k=R(e,["moof"]);k?2>k.length?e=(g.remainder=e,g):(k=k[k.length-1],
e=(g.valid=L(e,0,k.byteOffset-8),g.remainder=L(e,k.byteOffset-8),g)):e=g;this.remainderData=e.remainder;f.samples=e.valid||new Uint8Array}else f.samples=e;e=this.extractID3Track(f,d);return h.samples=K(d,f),{videoTrack:f,audioTrack:this.audioTrack,id3Track:e,textTrack:this.txtTrack}},d.flush=function(){var b=this.timeOffset,d=this.videoTrack,e=this.txtTrack;d.samples=this.remainderData||new Uint8Array;this.remainderData=null;var f=this.extractID3Track(d,this.timeOffset);return e.samples=K(b,d),{videoTrack:d,
audioTrack:vb(),id3Track:f,textTrack:vb()}},d.extractID3Track=function(b,d){var e=this.id3Track;if(b.samples.length){var f=R(b.samples,["emsg"]);f&&f.forEach(function(b){var f,h,g,k,l,n=b[0];g=f="";var p=k=h=0,Z=l=0;if(0===n){for(;"\x00"!==J(b.subarray(Z,Z+1));)f+=J(b.subarray(Z,Z+1)),Z+=1;f+=J(b.subarray(Z,Z+1));for(Z+=1;"\x00"!==J(b.subarray(Z,Z+1));)g+=J(b.subarray(Z,Z+1)),Z+=1;J(b.subarray(Z,Z+1));h=O(b,12);k=O(b,16);l=O(b,20);O(b,24);Z=28}else if(1===n){h=O(b,Z+=4);l=O(b,Z+=4);p=O(b,Z+=4);Z+=
4;p=Math.pow(2,32)*l+p;Number.isSafeInteger(p)||(p=Number.MAX_SAFE_INTEGER,S.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box"));l=O(b,Z);O(b,Z+=4);for(Z+=4;"\x00"!==J(b.subarray(Z,Z+1));)f+=J(b.subarray(Z,Z+1)),Z+=1;f+=J(b.subarray(Z,Z+1));for(Z+=1;"\x00"!==J(b.subarray(Z,Z+1));)g+=J(b.subarray(Z,Z+1)),Z+=1;J(b.subarray(Z,Z+1));Z+=1}g=p;b=b.subarray(Z,b.byteLength);yc.test(f)&&(Z=ka(g)?g/h:d+k/h,k=4294967295===l?Number.POSITIVE_INFINITY:l/h,.001>=
k&&(k=Number.POSITIVE_INFINITY),e.samples.push({data:b,len:b.byteLength,dts:Z,pts:Z,type:"https://aomedia.org/emsg/ID3",duration:k}))})}return e},d.demuxSampleAes=function(b,d,e){return Promise.reject(Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},d.destroy=function(){},b}(),Wc=null,Ic=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,
224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Nd=[44100,48E3,32E3,22050,24E3,16E3,11025,12E3,8E3],Od=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],de=[0,1,1,4],Ld=function(){function b(d){this.bitsAvailable=this.word=this.bytesAvailable=this.data=void 0;this.data=d;this.bytesAvailable=d.byteLength;this.bitsAvailable=this.word=0}var d=b.prototype;return d.loadWord=function(){var b=this.data,d=this.bytesAvailable,e=b.byteLength-d,f=new Uint8Array(4),d=Math.min(4,d);if(0===d)throw Error("no bytes available");
f.set(b.subarray(e,e+d));this.word=(new DataView(f.buffer)).getUint32(0);this.bitsAvailable=8*d;this.bytesAvailable-=d},d.skipBits=function(b){var d;b=Math.min(b,8*this.bytesAvailable+this.bitsAvailable);this.bitsAvailable>b?(this.word<<=b,this.bitsAvailable-=b):(b-=this.bitsAvailable,b-=(d=b>>3)<<3,this.bytesAvailable-=d,this.loadWord(),this.word<<=b,this.bitsAvailable-=b)},d.readBits=function(b){var d=Math.min(this.bitsAvailable,b),e=this.word>>>32-d;if(32<b&&S.error("Cannot read more than 32 bits at a time"),
this.bitsAvailable-=d,0<this.bitsAvailable)this.word<<=d;else{if(!(0<this.bytesAvailable))throw Error("no bits available");this.loadWord()}return 0<(d=b-d)&&this.bitsAvailable?e<<d|this.readBits(d):e},d.skipLZ=function(){var b;for(b=0;b<this.bitsAvailable;++b)if(0!=(this.word&2147483648>>>b))return this.word<<=b,this.bitsAvailable-=b,b;return this.loadWord(),b+this.skipLZ()},d.skipUEG=function(){this.skipBits(1+this.skipLZ())},d.skipEG=function(){this.skipBits(1+this.skipLZ())},d.readUEG=function(){var b=
this.skipLZ();return this.readBits(b+1)-1},d.readEG=function(){var b=this.readUEG();return 1&b?1+b>>>1:-1*(b>>>1)},d.readBoolean=function(){return 1===this.readBits(1)},d.readUByte=function(){return this.readBits(8)},d.readUShort=function(){return this.readBits(16)},d.readUInt=function(){return this.readBits(32)},d.skipScalingList=function(b){for(var d=8,e=8,f=0;f<b;f++)0!==e&&(e=(d+this.readEG()+256)%256),d=0===e?d:e},d.readSPS=function(){var b,d,e,f=0,h=0,g=0,k=0,l=this.readUByte.bind(this),n=this.readBits.bind(this),
p=this.readUEG.bind(this),q=this.readBoolean.bind(this),r=this.skipBits.bind(this),s=this.skipEG.bind(this),u=this.skipUEG.bind(this);b=this.skipScalingList.bind(this);l();e=l();if(n(5),r(3),l(),u(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e)if(e=p(),3===e&&r(1),u(),u(),r(1),q())for(d=3!==e?8:12,e=0;e<d;e++)q()&&b(6>e?16:64);u();b=p();if(0===b)p();else if(1===b)for(r(1),s(),s(),b=p(),e=0;e<b;e++)s();u();r(1);s=p();u=p();n=n(1);0===n&&r(1);r(1);q()&&(f=p(),h=p(),g=
p(),k=p());p=[1,1];if(q()&&q())switch(l()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[l()<<8|l(),l()<<8|l()]}return{width:Math.ceil(16*(s+1)-2*f-2*h),height:(2-n)*(u+
1)*16-(n?2:4)*(g+k),pixelRatio:p}},d.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},b}(),ee=function(){function b(d,e,f){this.decrypter=this.keyData=void 0;this.keyData=f;this.decrypter=new od(e,{removePKCS7Padding:!1})}var d=b.prototype;return d.decryptBuffer=function(b){return this.decrypter.decrypt(b,this.keyData.key.buffer,this.keyData.iv.buffer)},d.decryptAacSample=function(b,d,e){var f=this,h=b[d].unit;if(!(16>=h.length)){var g=h.subarray(16,h.length-h.length%
16),g=g.buffer.slice(g.byteOffset,g.byteOffset+g.length);this.decryptBuffer(g).then(function(g){g=new Uint8Array(g);h.set(g,16);f.decrypter.isSync()||f.decryptAacSamples(b,d+1,e)})}},d.decryptAacSamples=function(b,d,e){for(;;d++){if(d>=b.length)return void e();if(!(32>b[d].unit.length||(this.decryptAacSample(b,d,e),this.decrypter.isSync())))break}},d.getAvcEncryptedData=function(b){for(var d=new Int8Array(16*Math.floor((b.length-48)/160)+16),e=0,f=32;f<b.length-16;f+=160,e+=16)d.set(b.subarray(f,
f+16),e);return d},d.getAvcDecryptedUnit=function(b,d){for(var e=new Uint8Array(d),f=0,h=32;h<b.length-16;h+=160,f+=16)b.set(e.subarray(f,f+16),h);return b},d.decryptAvcSample=function(b,d,e,f,h){var g=this,k=M(h.data),l=this.getAvcEncryptedData(k);this.decryptBuffer(l.buffer).then(function(l){h.data=g.getAvcDecryptedUnit(k,l);g.decrypter.isSync()||g.decryptAvcSamples(b,d,e+1,f)})},d.decryptAvcSamples=function(b,d,e,f){if(b instanceof Uint8Array)throw Error("Cannot decrypt samples of type Uint8Array");
for(;;d++,e=0){if(d>=b.length)return void f();for(var h=b[d].units;!(e>=h.length);e++){var g=h[e];if(!(48>=g.data.length||1!==g.type&&5!==g.type||(this.decryptAvcSample(b,d,e,f,g),this.decrypter.isSync())))return}}},b}(),Ud=function(){function b(d,e,f){this.typeSupported=this.config=this.observer=void 0;this.sampleAes=null;this.pmtParsed=!1;this.videoCodec=this.audioCodec=void 0;this._duration=0;this._pmtId=-1;this._txtTrack=this._id3Track=this._audioTrack=this._avcTrack=void 0;this.remainderData=
this.avcSample=this.aacOverFlow=null;this.observer=d;this.config=e;this.typeSupported=f}b.probe=function(d){d=b.syncOffset(d);return 0<d&&S.warn("MPEG2-TS detected but first sync word found @ offset "+d),-1!==d};b.syncOffset=function(b){for(var d=b.length,e=Math.min(940,b.length-188)+1,f=0;f<e;){for(var h=!1,g=f;g<d&&71===b[g];g+=188)if(h||0!==((31&b[g+1])<<8)+b[g+2]||(h=!0),h&&g+188>e)return f;f++}return-1};b.createTrack=function(b,d){return{container:"video"===b||"audio"===b?"video/mp2t":void 0,
type:b,id:Eb[b],pid:-1,inputTimeScale:9E4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===b?d:void 0}};var d=b.prototype;return d.resetInitSegment=function(d,e,f,h){this.pmtParsed=!1;this._pmtId=-1;this._avcTrack=b.createTrack("video");this._audioTrack=b.createTrack("audio",h);this._id3Track=b.createTrack("id3");this._txtTrack=b.createTrack("text");this._audioTrack.segmentCodec="aac";this.remainderData=this.avcSample=this.aacOverFlow=null;this.audioCodec=e;this.videoCodec=f;this._duration=
h},d.resetTimeStamp=function(){},d.resetContiguity=function(){var b=this._audioTrack,d=this._avcTrack,e=this._id3Track;b&&(b.pesData=null);d&&(d.pesData=null);e&&(e.pesData=null);this.remainderData=this.avcSample=this.aacOverFlow=null},d.demux=function(d,e,f,h){var g;void 0===f&&(f=!1);void 0===h&&(h=!1);f||(this.sampleAes=null);e=this._avcTrack;var k=this._audioTrack,l=this._id3Track,n=this._txtTrack,p=e.pid,q=e.pesData,r=k.pid,s=l.pid,u=k.pesData,A=l.pesData,v=null,D=this.pmtParsed,F=this._pmtId,
C=d.length;if(this.remainderData&&(C=(d=P(this.remainderData,d)).length,this.remainderData=null),188>C&&!h)return this.remainderData=d,{audioTrack:k,videoTrack:e,id3Track:l,textTrack:n};var z=Math.max(0,b.syncOffset(d));(C-=(C-z)%188)<d.byteLength&&!h&&(this.remainderData=new Uint8Array(d.buffer,C,d.buffer.byteLength-C));for(var w=0,H=z;H<C;H+=188)if(71===d[H]){var t=!!(64&d[H+1]),B=((31&d[H+1])<<8)+d[H+2],E=void 0;if(1<(48&d[H+3])>>4){if((E=H+5+d[H+4])===H+188)continue}else E=H+4;switch(B){case p:t&&
(q&&(g=Ra(q))&&this.parseAVCPES(e,n,g,!1),q={data:[],size:0});q&&(q.data.push(d.subarray(E,H+188)),q.size+=H+188-E);break;case r:if(t){if(u&&(g=Ra(u)))switch(k.segmentCodec){case "aac":this.parseAACPES(k,g);break;case "mp3":this.parseMPEGPES(k,g)}u={data:[],size:0}}u&&(u.data.push(d.subarray(E,H+188)),u.size+=H+188-E);break;case s:t&&(A&&(g=Ra(A))&&this.parseID3PES(l,g),A={data:[],size:0});A&&(A.data.push(d.subarray(E,H+188)),A.size+=H+188-E);break;case 0:t&&(E+=d[E]+1);F=this._pmtId=(31&d[E+10])<<
8|d[E+11];break;case F:t&&(E+=d[E]+1);for(var t=d,B=this.typeSupported,Dd=f,L={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},J=E+3+((15&t[E+1])<<8|t[E+2])-4,E=E+(12+((15&t[E+10])<<8|t[E+11]));E<J;){var Pb=((31&t[E+1])<<8)+t[E+2];switch(t[E]){case 207:if(!Dd){S.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===L.audio&&(L.audio=Pb);break;case 21:-1===L.id3&&(L.id3=Pb);break;case 219:if(!Dd){S.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");
break}case 27:-1===L.avc&&(L.avc=Pb);break;case 3:case 4:!0!==B.mpeg&&!0!==B.mp3?S.log("MPEG audio found, not supported in this browser"):-1===L.audio&&(L.audio=Pb,L.segmentCodec="mp3");break;case 36:S.warn("Unsupported HEVC stream type found")}E+=5+((15&t[E+3])<<8|t[E+4])}t=L;0<(p=t.avc)&&(e.pid=p);0<(r=t.audio)&&(k.pid=r,k.segmentCodec=t.segmentCodec);0<(s=t.id3)&&(l.pid=s);null===v||D||(S.warn("MPEG-TS PMT found at "+H+" after unknown PID '"+v+"'. Backtracking to sync byte @"+z+" to parse all TS packets."),
v=null,H=z-188);D=this.pmtParsed=!0;break;case 17:case 8191:break;default:v=B}}else w++;0<w&&(d=Error("Found "+w+" TS packet/s that do not start with 0x47"),this.observer.emit(G.ERROR,G.ERROR,{type:na.MEDIA_ERROR,details:V.FRAG_PARSING_ERROR,fatal:!1,error:d,reason:d.message}));e.pesData=q;k.pesData=u;l.pesData=A;d={audioTrack:k,videoTrack:e,id3Track:l,textTrack:n};return h&&this.extractRemainingSamples(d),d},d.flush=function(){var b,d=this.remainderData;return this.remainderData=null,b=d?this.demux(d,
-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(b),this.sampleAes?this.decrypt(b,this.sampleAes):b},d.extractRemainingSamples=function(b){var d,e=b.audioTrack,f=b.videoTrack,h=b.id3Track;b=b.textTrack;var g=f.pesData,k=e.pesData,l=h.pesData;if(g&&(d=Ra(g))?(this.parseAVCPES(f,b,d,!0),f.pesData=null):f.pesData=g,k&&(d=Ra(k))){switch(e.segmentCodec){case "aac":this.parseAACPES(e,d);break;case "mp3":this.parseMPEGPES(e,
d)}e.pesData=null}else null!=k&&k.size&&S.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=k;l&&(d=Ra(l))?(this.parseID3PES(h,d),h.pesData=null):h.pesData=l},d.demuxSampleAes=function(b,d,e){b=this.demux(b,e,!0,!this.config.progressive);d=this.sampleAes=new ee(this.observer,this.config,d);return this.decrypt(b,d)},d.decrypt=function(b,d){return new Promise(function(e){var f=b.audioTrack,h=b.videoTrack;f.samples&&"aac"===f.segmentCodec?d.decryptAacSamples(f.samples,0,
function(){h.samples?d.decryptAvcSamples(h.samples,0,0,function(){e(b)}):e(b)}):h.samples&&d.decryptAvcSamples(h.samples,0,0,function(){e(b)})})},d.destroy=function(){this._duration=0},d.parseAVCPES=function(b,d,e,f){var h,g=this,k=this.parseAVCNALu(b,e.data),l=this.avcSample,n=!1;e.data=null;l&&k.length&&!b.audFound&&(ob(l,b),l=this.avcSample=Rb(!1,e.pts,e.dts,""));k.forEach(function(f){switch(f.type){case 1:h=!0;l||(l=g.avcSample=Rb(!0,e.pts,e.dts,""));l.frame=!0;var k=f.data;n&&4<k.length&&(k=
(new Ld(k)).readSliceType(),2!==k&&4!==k&&7!==k&&9!==k||(l.key=!0));break;case 5:h=!0;l||(l=g.avcSample=Rb(!0,e.pts,e.dts,""));l.key=!0;l.frame=!0;break;case 6:h=!0;ea(f.data,1,e.pts,d.samples);break;case 7:if(h=!0,n=!0,!b.sps){var k=f.data,p=(new Ld(k)).readSPS();b.width=p.width;b.height=p.height;b.pixelRatio=p.pixelRatio;b.sps=[k];b.duration=g._duration;for(var k=k.subarray(1,4),p="avc1.",q=0;3>q;q++){var r=k[q].toString(16);2>r.length&&(r="0"+r);p+=r}b.codec=p}break;case 8:h=!0;b.pps||(b.pps=[f.data]);
break;case 9:h=!1;b.audFound=!0;l&&ob(l,b);l=g.avcSample=Rb(!1,e.pts,e.dts,"");break;case 12:h=!0;break;default:h=!1,l&&(l.debug+="unknown NAL "+f.type+" ")}l&&h&&l.units.push(f)});f&&l&&(ob(l,b),this.avcSample=null)},d.getLastNalUnit=function(b){var d,e,f=this.avcSample;if(f&&0!==f.units.length||(f=b[b.length-1]),null!=(d=f)&&d.units)b=f.units,e=b[b.length-1];return e},d.parseAVCNALu=function(b,d){var e,f,h=d.byteLength,g=b.naluState||0,k=g,l=[],n=0,p=-1,q=0;for(-1===g&&(p=0,q=31&d[0],g=0,n=1);n<
h;)if(e=d[n++],g)if(1!==g)if(e)if(1===e){if(0<=p)e={data:d.subarray(p,n-g-1),type:q},l.push(e);else if((e=this.getLastNalUnit(b.samples))&&(k&&n<=4-k&&e.state&&(e.data=e.data.subarray(0,e.data.byteLength-k)),0<(f=n-g-1))){var r=new Uint8Array(e.data.byteLength+f);r.set(e.data,0);r.set(d.subarray(0,f),e.data.byteLength);e.data=r;e.state=0}n<h?(p=n,q=31&d[n],g=0):g=-1}else g=0;else g=3;else g=e?0:2;else g=e?0:1;0<=p&&0<=g&&(f={data:d.subarray(p,h),type:q,state:g},l.push(f));0===l.length&&(f=this.getLastNalUnit(b.samples))&&
(h=new Uint8Array(f.data.byteLength+d.byteLength),h.set(f.data,0),h.set(d,f.data.byteLength),f.data=h);return b.naluState=g,l},d.parseAACPES=function(b,d){var e,f,h,g=0;h=this.aacOverFlow;var k=d.data;h&&(this.aacOverFlow=null,e=h.missing,f=h.sample.unit.byteLength,-1===e?(e=new Uint8Array(f+k.byteLength),e.set(h.sample.unit,0),e.set(k,f),k=e):(f-=e,h.sample.unit.set(k.subarray(0,e),f),b.samples.push(h.sample),g=h.missing));e=g;for(f=k.length;e<f-1&&!(e+1<k.length&&nb(k,e));e++);if(e!==g){var l=e<
f-1,g=l?"AAC PES did not start with ADTS header,offset:"+e:"No ADTS header found in AAC PES",n=Error(g);if(S.warn("parsing error: "+g),this.observer.emit(G.ERROR,G.ERROR,{type:na.MEDIA_ERROR,details:V.FRAG_PARSING_ERROR,fatal:!1,levelRetry:l,error:n,reason:g}),!l)return}if(fb(b,this.observer,k,e,this.audioCodec),void 0!==d.pts)h=d.pts;else{if(!h)return void S.warn("[tsdemuxer]: AAC PES unknown PTS");h=h.sample.pts+9216E4/b.samplerate}for(var p,g=0;e<f;){if(e+=(p=Na(b,k,e,h,g)).length,p.missing){this.aacOverFlow=
p;break}for(g++;e<f-1&&!(e+1<k.length&&nb(k,e));e++);}},d.parseMPEGPES=function(b,d){var e=d.data,f=e.length,h=0,g=0,k=d.pts;if(void 0!==k)for(;g<f;)if(g+1<e.length&&Gb(e,g)){var l=Kc(b,e,g,k,h);if(!l)break;g+=l.length;h++}else g++;else S.warn("[tsdemuxer]: MPEG PES unknown PTS")},d.parseID3PES=function(b,d){if(void 0!==d.pts){var e=g({},d,{type:this._avcTrack?"https://aomedia.org/emsg/ID3":"org.id3",duration:Number.POSITIVE_INFINITY});b.samples.push(e)}else S.warn("[tsdemuxer]: ID3 PES unknown PTS")},
b}(),fe=function(b){function d(){return b.apply(this,arguments)||this}n(d,b);var e=d.prototype;return e.resetInitSegment=function(d,e,f,h){b.prototype.resetInitSegment.call(this,d,e,f,h);this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:h,inputTimeScale:9E4,dropped:0}},d.probe=function(b){if(!b)return!1;for(var d=(zb(b,0)||[]).length,e=b.length;d<e;d++){var f;f=b;var h=d;if(h+1<f.length&&Gb(f,h)){var g=Zb(f,h),
k=4;null!=g&&g.frameLength&&(k=g.frameLength);h+=k;f=h===f.length||h+1<f.length&&Gb(f,h)}else f=!1;if(f)return S.log("MPEG Audio sync word found !"),!0}return!1},e.canParse=function(b,d){return Gb(b,d)&&4<=b.length-d},e.appendFrame=function(b,d,e){if(null!==this.basePTS)return Kc(b,d,e,this.basePTS,this.frameIndex)},d}(hc),Kd=function(){function b(){}return b.getSilentFrame=function(b,d){if("mp4a.40.2"===b){if(1===d)return new Uint8Array([0,200,0,128,35,128]);if(2===d)return new Uint8Array([33,0,
73,144,2,25,0,35,128]);if(3===d)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===d)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===d)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===d)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===d)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,
90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===d||3===d)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},b}(),Ac=Math.pow(2,32)-1,Ib=function(){function b(){}return b.init=function(){for(var d in b.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],
mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},b.types)b.types.hasOwnProperty(d)&&(b.types[d]=[d.charCodeAt(0),d.charCodeAt(1),d.charCodeAt(2),d.charCodeAt(3)]);d=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);var e=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,
0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);b.HDLR_TYPES={video:d,audio:e};d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);e=new Uint8Array([0,0,0,0,0,0,0,0]);b.STTS=b.STSC=b.STCO=e;b.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);b.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]);b.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]);b.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var e=new Uint8Array([105,115,111,109]),f=new Uint8Array([97,118,99,49]),h=new Uint8Array([0,
0,0,1]);b.FTYP=b.box(b.types.ftyp,e,h,e,f);b.DINF=b.box(b.types.dinf,b.box(b.types.dref,d))},b.box=function(b){for(var d=8,e=arguments.length,f=Array(1<e?e-1:0),h=1;h<e;h++)f[h-1]=arguments[h];for(h=e=f.length;e--;)d+=f[e].byteLength;var g=new Uint8Array(d);g[0]=d>>24&255;g[1]=d>>16&255;g[2]=d>>8&255;g[3]=255&d;g.set(b,4);e=0;for(d=8;e<h;e++)g.set(f[e],d),d+=f[e].byteLength;return g},b.hdlr=function(d){return b.box(b.types.hdlr,b.HDLR_TYPES[d])},b.mdat=function(d){return b.box(b.types.mdat,d)},b.mdhd=
function(d,e){e*=d;var f=Math.floor(e/(Ac+1)),h=Math.floor(e%(Ac+1));return b.box(b.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,d>>24&255,d>>16&255,d>>8&255,255&d,f>>24,f>>16&255,f>>8&255,255&f,h>>24,h>>16&255,h>>8&255,255&h,85,196,0,0]))},b.mdia=function(d){return b.box(b.types.mdia,b.mdhd(d.timescale,d.duration),b.hdlr(d.type),b.minf(d))},b.mfhd=function(d){return b.box(b.types.mfhd,new Uint8Array([0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d]))},b.minf=function(d){return"audio"===
d.type?b.box(b.types.minf,b.box(b.types.smhd,b.SMHD),b.DINF,b.stbl(d)):b.box(b.types.minf,b.box(b.types.vmhd,b.VMHD),b.DINF,b.stbl(d))},b.moof=function(d,e,f){return b.box(b.types.moof,b.mfhd(d),b.traf(f,e))},b.moov=function(d){for(var e=d.length,f=[];e--;)f[e]=b.trak(d[e]);return b.box.apply(null,[b.types.moov,b.mvhd(d[0].timescale,d[0].duration)].concat(f).concat(b.mvex(d)))},b.mvex=function(d){for(var e=d.length,f=[];e--;)f[e]=b.trex(d[e]);return b.box.apply(null,[b.types.mvex].concat(f))},b.mvhd=
function(d,e){e*=d;var f=Math.floor(e/(Ac+1)),h=Math.floor(e%(Ac+1)),f=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,d>>24&255,d>>16&255,d>>8&255,255&d,f>>24,f>>16&255,f>>8&255,255&f,h>>24,h>>16&255,h>>8&255,255&h,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return b.box(b.types.mvhd,f)},b.sdtp=function(d){var e,f=d.samples||[],h=new Uint8Array(4+f.length);for(d=
0;d<f.length;d++)e=f[d].flags,h[d+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return b.box(b.types.sdtp,h)},b.stbl=function(d){return b.box(b.types.stbl,b.stsd(d),b.box(b.types.stts,b.STTS),b.box(b.types.stsc,b.STSC),b.box(b.types.stsz,b.STSZ),b.box(b.types.stco,b.STCO))},b.avc1=function(d){var e,f,h,g=[],k=[];for(e=0;e<d.sps.length;e++)h=(f=d.sps[e]).byteLength,g.push(h>>>8&255),g.push(255&h),g=g.concat(Array.prototype.slice.call(f));for(e=0;e<d.pps.length;e++)h=(f=d.pps[e]).byteLength,k.push(h>>>
8&255),k.push(255&h),k=k.concat(Array.prototype.slice.call(f));e=b.box(b.types.avcC,new Uint8Array([1,g[3],g[4],g[5],255,224|d.sps.length].concat(g).concat([d.pps.length]).concat(k)));f=d.width;h=d.height;g=d.pixelRatio[0];d=d.pixelRatio[1];return b.box(b.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,f>>8&255,255&f,h>>8&255,255&h,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),
e,b.box(b.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),b.box(b.types.pasp,new Uint8Array([g>>24,g>>16&255,g>>8&255,255&g,d>>24,d>>16&255,d>>8&255,255&d])))},b.esds=function(b){var d=b.config.length;return new Uint8Array([0,0,0,0,3,23+d,0,1,0,4,15+d,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([d]).concat(b.config).concat([6,1,2]))},b.mp4a=function(d){var e=d.samplerate;return b.box(b.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,d.channelCount,0,16,0,0,0,0,e>>8&255,
255&e,0,0]),b.box(b.types.esds,b.esds(d)))},b.mp3=function(d){var e=d.samplerate;return b.box(b.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,d.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]))},b.stsd=function(d){return"audio"===d.type?"mp3"===d.segmentCodec&&"mp3"===d.codec?b.box(b.types.stsd,b.STSD,b.mp3(d)):b.box(b.types.stsd,b.STSD,b.mp4a(d)):b.box(b.types.stsd,b.STSD,b.avc1(d))},b.tkhd=function(d){var e=d.id,f=d.duration*d.timescale,h=d.width;d=d.height;var g=Math.floor(f/(Ac+
1)),f=Math.floor(f%(Ac+1));return b.box(b.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,g>>24,g>>16&255,g>>8&255,255&g,f>>24,f>>16&255,f>>8&255,255&f,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,h>>8&255,255&h,0,0,d>>8&255,255&d,0,0]))},b.traf=function(d,e){var f=b.sdtp(d),h=d.id,g=Math.floor(e/(Ac+1)),k=Math.floor(e%(Ac+1));return b.box(b.types.traf,b.box(b.types.tfhd,new Uint8Array([0,
0,0,0,h>>24,h>>16&255,h>>8&255,255&h])),b.box(b.types.tfdt,new Uint8Array([1,0,0,0,g>>24,g>>16&255,g>>8&255,255&g,k>>24,k>>16&255,k>>8&255,255&k])),b.trun(d,f.length+16+20+8+16+8+8),f)},b.trak=function(d){return d.duration=d.duration||4294967295,b.box(b.types.trak,b.tkhd(d),b.mdia(d))},b.trex=function(d){d=d.id;return b.box(b.types.trex,new Uint8Array([0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},b.trun=function(d,e){var f,h,g,k,l,n=d.samples||[],p=n.length;f=12+16*p;
var q=new Uint8Array(f);e+=8+f;q.set(["video"===d.type?1:0,0,15,1,p>>>24&255,p>>>16&255,p>>>8&255,255&p,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0);for(f=0;f<p;f++)g=(h=n[f]).duration,k=h.size,l=h.flags,h=h.cts,q.set([g>>>24&255,g>>>16&255,g>>>8&255,255&g,k>>>24&255,k>>>16&255,k>>>8&255,255&k,l.isLeading<<2|l.dependsOn,l.isDependedOn<<6|l.hasRedundancy<<4|l.paddingValue<<1|l.isNonSync,61440&l.degradPrio,15&l.degradPrio,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*f);return b.box(b.types.trun,q)},b.initSegment=
function(d){b.types||b.init();d=b.moov(d);var e=new Uint8Array(b.FTYP.byteLength+d.byteLength);return e.set(b.FTYP),e.set(d,b.FTYP.byteLength),e},b}();Ib.types=void 0;Ib.HDLR_TYPES=void 0;Ib.STTS=void 0;Ib.STSC=void 0;Ib.STCO=void 0;Ib.STSZ=void 0;Ib.VMHD=void 0;Ib.SMHD=void 0;Ib.STSD=void 0;Ib.FTYP=void 0;Ib.DINF=void 0;var pd=null,yd=null,ud=function(){function b(d,e,f,h){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,
this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=d,this.config=e,this.typeSupported=f,this.ISGenerated=!1,null===pd)pd=(d=(navigator.userAgent||"").match(/Chrome\/(\d+)/i))?parseInt(d[1]):0;null===yd&&(yd=(d=navigator.userAgent.match(/Safari\/(\d+)/i))?parseInt(d[1]):0)}var d=b.prototype;return d.destroy=function(){},d.resetTimeStamp=function(b){S.log("[mp4-remuxer]: initPTS \x26 initDTS reset");this._initPTS=
this._initDTS=b},d.resetNextTimestamp=function(){S.log("[mp4-remuxer]: reset next timestamp");this.isAudioContiguous=this.isVideoContiguous=!1},d.resetInitSegment=function(){S.log("[mp4-remuxer]: ISGenerated flag reset");this.ISGenerated=!1},d.getVideoStartPts=function(b){var d=!1;b=b.reduce(function(b,e){var f=e.pts-b;return-4294967296>f?(d=!0,ta(b,e.pts)):0<f?b:e.pts},b[0].pts);return d&&S.debug("PTS rollover detected"),b},d.remux=function(b,d,e,f,h,g,k,l){var n,p,q,r,s,u,A=h,v=h,D=-1<d.pid,F=d.samples.length,
C=0<b.samples.length,z=k&&0<F||1<F;if(!(-1<b.pid&&!C||D&&!z)||this.ISGenerated||k){this.ISGenerated||(q=this.generateIS(b,d,h,g));var H;k=this.isVideoContiguous;var w=-1,t;if(t=z){a:{w=d.samples;for(t=0;t<w.length;t++)if(w[t].key){w=t;break a}w=-1}t=!k&&this.config.forceKeyFrameOnDiscontinuity}t&&((u=!0,0<w)?(S.warn("[mp4-remuxer]: Dropped "+w+" out of "+F+" video samples due to a missing keyframe"),H=this.getVideoStartPts(d.samples),d.samples=d.samples.slice(w),d.dropped+=w,H=v+=(d.samples[0].pts-
H)/d.inputTimeScale):-1===w&&(S.warn("[mp4-remuxer]: No keyframe found out of "+F+" video samples"),u=!1));if(this.ISGenerated){C&&z&&(F=this.getVideoStartPts(d.samples),F=(ta(b.samples[0].pts,F)-F)/d.inputTimeScale,A+=Math.max(0,F),v+=Math.max(0,-F));if(C){if(b.samplerate||(S.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),q=this.generateIS(b,d,h,g)),p=this.remuxAudio(b,A,this.isAudioContiguous,g,D||z||"audio"===l?v:void 0),z)l=p?p.endPTS-p.startPTS:0,d.inputTimeScale||(S.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),
q=this.generateIS(b,d,h,g)),n=this.remuxVideo(d,v,k,l)}else z&&(n=this.remuxVideo(d,v,k,0));n&&(n.firstKeyFrame=w,n.independent=-1!==w,n.firstKeyFramePTS=H)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(e.samples.length&&(s=kb(e,h,this._initPTS,this._initDTS)),f.samples.length&&(r=Hb(f,h,this._initPTS))),{audio:p,video:n,initSegment:q,independent:u,text:r,id3:s}},d.generateIS=function(b,d,e,f){var h,g,k,l=b.samples,n=d.samples,p=this.typeSupported,q={},r=this._initPTS;f=!r||f;var s="audio/mp4";
if(f&&(h=g=1/0),b.config&&l.length&&(b.timescale=b.samplerate,"mp3"===b.segmentCodec&&(p.mpeg?(s="audio/mpeg",b.codec=""):p.mp3&&(b.codec="mp3")),q.audio={id:"audio",container:s,codec:b.codec,initSegment:"mp3"===b.segmentCodec&&p.mpeg?new Uint8Array(0):Ib.initSegment([b]),metadata:{channelCount:b.channelCount}},f&&(k=b.inputTimeScale,r&&k===r.timescale?f=!1:h=g=l[0].pts-Math.round(k*e))),d.sps&&d.pps&&n.length&&(d.timescale=d.inputTimeScale,q.video={id:"main",container:"video/mp4",codec:d.codec,initSegment:Ib.initSegment([d]),
metadata:{width:d.width,height:d.height}},f))(k=d.inputTimeScale,r&&k===r.timescale)?f=!1:(b=this.getVideoStartPts(n),e=Math.round(k*e),g=Math.min(g,ta(n[0].dts,b)-e),h=Math.min(h,b-e));if(Object.keys(q).length)return this.ISGenerated=!0,f?(this._initPTS={baseTime:h,timescale:k},this._initDTS={baseTime:g,timescale:k}):h=k=void 0,{tracks:q,initPTS:h,timescale:k}},d.remuxVideo=function(b,d,e,f){var h,k,n=b.inputTimeScale,p=b.samples,q=[],r=p.length;k=this._initPTS;var s=this.nextAvcDts,u=8,A=this.videoSampleDuration,
v=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY;h=!1;e&&null!==s||(s=d*n-(p[0].pts-ta(p[0].dts,p[0].pts)));d=k.baseTime*n/k.timescale;for(k=0;k<r;k++){var F=p[k];F.pts=ta(F.pts-d,s);F.dts=ta(F.dts-d,s);F.dts<p[0<k?k-1:k].dts&&(h=!0)}h&&p.sort(function(b,d){var e=b.pts-d.pts;return b.dts-d.dts||e});h=p[0].dts;d=(d=(k=p[p.length-1].dts)-h)?Math.round(d/(r-1)):A||b.inputTimeScale/30;e&&(k=h-s,e=k>d,F=-1>k,(e||F)&&(e?S.warn("AVC: "+bb(k,!0)+" ms ("+k+"dts) hole between fragments detected, filling it"):
S.warn("AVC: "+bb(-k,!0)+" ms ("+k+"dts) overlapping between fragments detected"),!F||s>p[0].pts)&&(h=s,s=p[0].pts-k,p[0].dts=h,p[0].pts=s,S.log("Video: First PTS/DTS adjusted: "+bb(s,!0)+"/"+bb(h,!0)+", delta: "+bb(k,!0)+" ms")));h=Math.max(0,h);for(k=e=s=0;k<r;k++){for(var F=p[k],C=F.units,z=C.length,H=0,w=0;w<z;w++)H+=C[w].data.length;e+=H;s+=z;F.length=H;F.dts=Math.max(F.dts,h);v=Math.min(F.pts,v);D=Math.max(F.pts,D)}k=p[r-1].dts;var t,s=e+4*s+8;try{t=new Uint8Array(s)}catch(B){return void this.observer.emit(G.ERROR,
G.ERROR,{type:na.MUX_ERROR,details:V.REMUX_ALLOC_ERROR,fatal:!1,error:B,bytes:s,reason:"fail allocating video mdat "+s})}e=new DataView(t.buffer);e.setUint32(0,s);t.set(Ib.types.mdat,4);s=!1;C=F=Number.POSITIVE_INFINITY;H=z=Number.NEGATIVE_INFINITY;for(w=0;w<r;w++){for(var E=p[w],L=E.units,J=0,Pb=0,Uc=L.length;Pb<Uc;Pb++){var P=L[Pb],Ec=P.data,P=P.data.byteLength;e.setUint32(u,P);u+=4;t.set(Ec,u);u+=P;J+=4+P}L=void 0;w<r-1?(A=p[w+1].dts-E.dts,L=p[w+1].pts-E.pts):(Pb=this.config,Uc=0<w?E.dts-p[w-1].dts:
d,(L=0<w?E.pts-p[w-1].pts:d,Pb.stretchShortVideoTrack&&null!==this.nextAudioPts)?(Ec=(f?v+f*n:this.nextAudioPts)-E.pts,Ec>Math.floor(Pb.maxBufferHole*n)?(0>(A=Ec-Uc)?A=Uc:s=!0,S.log("[mp4-remuxer]: It is approximately "+Ec/90+" ms to the next segment; using duration "+A/90+" ms for the last video frame.")):A=Uc):A=Uc);Pb=Math.round(E.pts-E.dts);F=Math.min(F,A);z=Math.max(z,A);C=Math.min(C,L);H=Math.max(H,L);q.push(new Pd(E.key,A,J,Pb))}if(q.length)if(pd)70>pd&&(f=q[0].flags,f.dependsOn=2,f.isNonSync=
0);else if(yd&&H-C<z-F&&.025>d/z&&0===q[0].cts)for(S.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration."),u=h,f=0,p=q.length;f<p;f++)r=u+q[f].duration,u+=q[f].cts,q[f].duration=f<p-1?r+q[f+1].cts-u:f?q[f-1].duration:d,q[f].cts=0,u=r;A=s||!A?d:A;this.nextAvcDts=s=k+A;this.videoSampleDuration=A;this.isVideoContiguous=!0;n={data1:Ib.moof(b.sequenceNumber++,h,g({},b,{samples:q})),data2:t,startPTS:v/n,endPTS:(D+A)/n,startDTS:h/n,endDTS:s/n,type:"video",
hasAudio:!1,hasVideo:!0,nb:q.length,dropped:b.dropped};return b.samples=[],b.dropped=0,n},d.remuxAudio=function(b,d,e,f,h){var k=b.inputTimeScale,n=k/(b.samplerate?b.samplerate:k),p="aac"===b.segmentCodec?1024:1152,q=p*n,r=this._initPTS,s="mp3"===b.segmentCodec&&this.typeSupported.mpeg,u=[],A=void 0!==h,v=b.samples,D=s?0:8,F=this.nextAudioPts||-1,C=d*k,z=r.baseTime*k/r.timescale;if(this.isAudioContiguous=e=e||v.length&&0<F&&(f&&9E3>Math.abs(C-F)||Math.abs(ta(v[0].pts-z,C)-F)<20*q),v.forEach(function(b){b.pts=
ta(b.pts-z,C)}),!e||0>F){if(v=v.filter(function(b){return 0<=b.pts}),!v.length)return;F=0===h?0:f&&!A?Math.max(0,C):v[0].pts}if("aac"===b.segmentCodec)for(d=this.config.maxAudioFramesDrift,f=0,h=F;f<v.length;f++){var r=v[f],w=r.pts,H=w-h,t=Math.abs(1E3*H/k);if(H<=-d*q&&A)0===f&&(S.warn("Audio frame @ "+(w/k).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1E3*H/k)+" ms."),this.nextAudioPts=F=h=w);else if(H>=d*q&&1E4>t&&A)for(t=Math.round(H/q),0>(h=w-t*q)&&(t--,h+=q),0===f&&(this.nextAudioPts=
F=h),S.warn("[mp4-remuxer]: Injecting "+t+" audio frame @ "+(h/k).toFixed(3)+"s due to "+Math.round(1E3*H/k)+" ms gap."),w=0;w<t;w++){var H=Math.max(h,0),B=Kd.getSilentFrame(b.manifestCodec||b.codec,b.channelCount);B||(S.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),B=r.unit.subarray());v.splice(f,0,{unit:B,pts:H});h+=q;f++}r.pts=h;h+=q}var E,A=q=null;d=0;for(f=v.length;f--;)d+=v[f].unit.byteLength;f=0;for(h=v.length;f<h;f++){t=v[f];r=t.unit;
t=t.pts;if(null!==A)u[f-1].duration=Math.round((t-A)/n);else{if(e&&"aac"===b.segmentCodec&&(t=F),q=t,!(0<d))return;d+=D;try{E=new Uint8Array(d)}catch(L){return void this.observer.emit(G.ERROR,G.ERROR,{type:na.MUX_ERROR,details:V.REMUX_ALLOC_ERROR,fatal:!1,error:L,bytes:d,reason:"fail allocating audio mdat "+d})}s||((new DataView(E.buffer)).setUint32(0,d),E.set(Ib.types.mdat,4))}E.set(r,D);A=r.byteLength;D+=A;u.push(new Pd(!0,p,A,0));A=t}if(e=u.length)return this.nextAudioPts=F=A+n*u[u.length-1].duration,
n=s?new Uint8Array(0):Ib.moof(b.sequenceNumber++,q/n,g({},b,{samples:u})),b.samples=[],b=q/k,k=F/k,E={data1:n,data2:E,startPTS:b,endPTS:k,startDTS:b,endDTS:k,type:"audio",hasAudio:!0,hasVideo:!1,nb:e},this.isAudioContiguous=!0,E},d.remuxEmptyAudio=function(b,d,e,f){var h=b.inputTimeScale,g=this.nextAudioPts,k=this._initDTS,l=9E4*k.baseTime/k.timescale,g=(null!==g?g:f.startDTS*h)+l,k=h/(b.samplerate?b.samplerate:h)*1024;f=Math.ceil((f.endDTS*h+l-g)/k);h=Kd.getSilentFrame(b.manifestCodec||b.codec,b.channelCount);
if(S.warn("[mp4-remuxer]: remux empty Audio"),h){for(var l=[],n=0;n<f;n++){var p=g+n*k;l.push({unit:h,pts:p,dts:p})}return b.samples=l,this.remuxAudio(b,d,e,!1)}S.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},b}(),sc,Pd=function(b,d,e,f){this.flags=this.cts=this.duration=this.size=void 0;this.duration=d;this.size=e;this.cts=f;this.flags=new ge(b)},ge=function(b){this.degradPrio=this.hasRedundancy=this.isDependedOn=this.isLeading=
0;this.isNonSync=this.dependsOn=1;this.dependsOn=b?2:1;this.isNonSync=b?0:1},he=function(){function b(){this.emitInitSegment=!1;this.initData=this.videoCodec=this.audioCodec=void 0;this.initPTS=null;this.initTracks=void 0;this.lastEndTime=null}var d=b.prototype;return d.destroy=function(){},d.resetTimeStamp=function(b){this.initPTS=b;this.lastEndTime=null},d.resetNextTimestamp=function(){this.lastEndTime=null},d.resetInitSegment=function(b,d,e,f){this.audioCodec=d;this.videoCodec=e;this.generateInitSegment(function(b,
d){if(!b||!d)return b;var e=d.keyId;return e&&d.isCommonEncryption&&R(b,["moov","trak"]).forEach(function(b){b=R(b,["mdia","minf","stbl","stsd"])[0].subarray(8);var d=R(b,["enca"]),f=0<d.length;f||(d=R(b,["encv"]));d.forEach(function(b){R(f?b.subarray(28):b.subarray(78),["sinf"]).forEach(function(b){if(b=ba(b)){var d=b.subarray(8,24);d.some(function(b){return 0!==b})||(S.log("[eme] Patching keyId in 'enc"+(f?"a":"v")+"\x3esinf\x3e\x3etenc' box: "+I(d)+" -\x3e "+I(e)),b.set(e,8))}})})}),b}(b,f));this.emitInitSegment=
!0},d.generateInitSegment=function(b){var d=this.audioCodec,e=this.videoCodec;if(null==b||!b.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var f=this.initData=W(b);d||(d=jb(f.audio,"audio"));e||(e=jb(f.video,"video"));var h={};f.audio&&f.video?h.audiovideo={container:"video/mp4",codec:d+","+e,initSegment:b,id:"main"}:f.audio?h.audio={container:"audio/mp4",codec:d,initSegment:b,id:"audio"}:f.video?h.video={container:"video/mp4",codec:e,initSegment:b,id:"main"}:S.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes.");
this.initTracks=h},d.remux=function(b,d,e,f,h,g){var k,l,n=this.initPTS,p=this.lastEndTime,q={audio:void 0,video:void 0,text:f,id3:e,initSegment:void 0};ka(p)||(p=this.lastEndTime=h||0);var r=d.samples;if(null==r||!r.length)return q;d={initPTS:void 0,timescale:1};var s=this.initData;if(null!=(k=s)&&k.length||(this.generateInitSegment(r),s=this.initData),null==(l=s)||!l.length)return S.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),q;this.emitInitSegment&&(d.tracks=this.initTracks,
this.emitInitSegment=!1);k=function(b,d){return R(d,["moof","traf"]).reduce(function(d,e){var f=R(e,["tfdt"])[0],h=f[0],g=R(e,["tfhd"]).reduce(function(d,e){var g=O(e,4);if(g=b[g]){var k=O(f,4);if(1===h){if(k===Va)return S.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),d;k*=Va+1;k+=O(f,8)}g=k/(g.timescale||9E4);if(isFinite(g)&&(null===d||g<d))return g}return d},null);return null!==g&&isFinite(g)&&(null===d||g<d)?g:d},null)}(s,r);k=null===k?h:k;(function(b,
d,e){if(null===b)return!0;b=d-b.baseTime/b.timescale;return 0>b&&1<Math.abs(b-e)}(n,k,h)||d.timescale!==n.timescale&&g)&&(d.initPTS=k-h,this.initPTS=n={baseTime:d.initPTS,timescale:1});g=function(b,d){for(var e=0,f=0,h=0,g=R(b,["moof","traf"]),k=0;k<g.length;k++){var e=g[k],l=R(e,["tfhd"])[0],n=d[O(l,4)];if(n){var p=n.default,q=O(l,0)|(null==p?NaN:p.flags),p=null==p?void 0:p.duration;8&q&&(p=O(l,2&q?12:8));for(var l=n.timescale||9E4,q=R(e,["trun"]),Z=0;Z<q.length;Z++)!(e=qa(q[Z]))&&p&&(e=p*O(q[Z],
4)),"video"===n.type?f+=e/l:"audio"===n.type&&(h+=e/l)}}if(0===f&&0===h){f=0;h=R(b,["sidx"]);for(g=0;g<h.length;g++)k=T(h[g]),null!=k&&k.references&&(f+=k.references.reduce(function(b,d){return b+d.info.duration||0},0));return f}return f||h}(r,s);b=b?k-n.baseTime/n.timescale:p;p=b+g;!function(b,d,e){R(d,["moof","traf"]).forEach(function(d){R(d,["tfhd"]).forEach(function(f){f=O(f,4);if(f=b[f]){var h=f.timescale||9E4;R(d,["tfdt"]).forEach(function(b){var d=b[0],f=O(b,4);0===d?(f-=e*h,N(b,4,Math.max(f,
0))):(f*=Math.pow(2,32),f+=O(b,8),f-=e*h,f=Math.max(f,0),d=Math.floor(f%(Va+1)),N(b,4,Math.floor(f/(Va+1))),N(b,8,d))})}})})}(s,r,n.baseTime/n.timescale);0<g?this.lastEndTime=p:(S.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());g=!!s.audio;s=!!s.video;k="";g&&(k+="audio");s&&(k+="video");r={data1:r,startPTS:b,startDTS:b,endPTS:p,endDTS:p,type:k,hasAudio:g,hasVideo:s,nb:1,dropped:0};return q.audio="audio"===r.type?r:void 0,q.video="audio"!==r.type?r:void 0,q.initSegment=
d,q.id3=kb(e,h,n,n),f.samples.length&&(q.text=Hb(f,h,n)),q},b}();try{sc=self.performance.now.bind(self.performance)}catch(pe){S.debug("Unable to use Performance API on this environment"),sc="undefined"!=typeof self&&self.Date.now}var zd=[{demux:Vc,remux:he},{demux:Ud,remux:ud},{demux:Jd,remux:ud},{demux:fe,remux:ud}],Bd=function(){function b(d,e,f,h,g){this.async=!1;this.probe=this.decrypter=this.remuxer=this.demuxer=this.id=this.vendor=this.config=this.typeSupported=this.observer=void 0;this.decryptionPromise=
null;this.currentTransmuxState=this.transmuxConfig=void 0;this.observer=d;this.typeSupported=e;this.config=f;this.vendor=h;this.id=g}var d=b.prototype;return d.configure=function(b){this.transmuxConfig=b;this.decrypter&&this.decrypter.reset()},d.push=function(b,d,e,f){var h=this,g=e.transmuxing;g.executeStart=sc();b=new Uint8Array(b);var k=this.currentTransmuxState,l=this.transmuxConfig;f&&(this.currentTransmuxState=f);var n=f||k;f=n.contiguous;var k=n.discontinuity,p=n.trackSwitch,q=n.accurateTimeOffset,
r=n.timeOffset,n=n.initSegmentChange,s=l.audioCodec,u=l.videoCodec,A=l.defaultInitPts,v=l.duration,l=l.initSegmentData,F=function(b,d){var e=null;return 0<b.byteLength&&null!=d&&null!=d.key&&null!==d.iv&&null!=d.method&&(e=d),e}(b,d);if(F&&"AES-128"===F.method){var D=this.getDecrypter();if(!D.isSync())return this.decryptionPromise=D.webCryptoDecrypt(b,F.key.buffer,F.iv.buffer).then(function(b){b=h.push(b,null,e);return h.decryptionPromise=null,b}),this.decryptionPromise;b=D.softwareDecrypt(b,F.key.buffer,
F.iv.buffer);if(-1<e.part&&(b=D.flush()),!b)return g.executeEnd=sc(),pc(e);b=new Uint8Array(b)}if(D=this.needsProbing(k,p)){var C=this.configureTransmuxer(b);if(C)return S.warn("[transmuxer] "+C.message),this.observer.emit(G.ERROR,G.ERROR,{type:na.MEDIA_ERROR,details:V.FRAG_PARSING_ERROR,fatal:!1,error:C,reason:C.message}),g.executeEnd=sc(),pc(e)}(k||p||n||D)&&this.resetInitSegment(l,s,u,v,d);(k||n||D)&&this.resetInitialTimestamp(A);f||this.resetContiguity();d=this.transmux(b,F,r,q,e);b=this.currentTransmuxState;
return b.contiguous=!0,b.discontinuity=!1,b.trackSwitch=!1,g.executeEnd=sc(),d},d.flush=function(b){var d=this,e=b.transmuxing;e.executeStart=sc();var f=this.decrypter,h=this.currentTransmuxState,g=this.decryptionPromise;if(g)return g.then(function(){return d.flush(b)});var k=[],h=h.timeOffset;f&&(f=f.flush())&&k.push(this.push(f,null,b));f=this.demuxer;g=this.remuxer;if(!f||!g)return e.executeEnd=sc(),[pc(b)];e=f.flush(h);return Vb(e)?e.then(function(e){return d.flushRemux(k,e,b),k}):(this.flushRemux(k,
e,b),k)},d.flushRemux=function(b,d,e){var f=d.audioTrack,h=d.videoTrack,g=d.id3Track;d=d.textTrack;var k=this.currentTransmuxState,l=k.accurateTimeOffset,k=k.timeOffset;S.log("[transmuxer.ts]: Flushed fragment "+e.sn+(-1<e.part?" p: "+e.part:"")+" of level "+e.level);f=this.remuxer.remux(f,h,g,d,k,l,!0,this.id);b.push({remuxResult:f,chunkMeta:e});e.transmuxing.executeEnd=sc()},d.resetInitialTimestamp=function(b){var d=this.demuxer,e=this.remuxer;d&&e&&(d.resetTimeStamp(b),e.resetTimeStamp(b))},d.resetContiguity=
function(){var b=this.demuxer,d=this.remuxer;b&&d&&(b.resetContiguity(),d.resetNextTimestamp())},d.resetInitSegment=function(b,d,e,f,h){var g=this.demuxer,k=this.remuxer;g&&k&&(g.resetInitSegment(b,d,e,f),k.resetInitSegment(b,d,e,h))},d.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0);this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},d.transmux=function(b,d,e,f,h){return d&&"SAMPLE-AES"===d.method?this.transmuxSampleAes(b,d,e,f,h):this.transmuxUnencrypted(b,
e,f,h)},d.transmuxUnencrypted=function(b,d,e,f){b=this.demuxer.demux(b,d,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(b.audioTrack,b.videoTrack,b.id3Track,b.textTrack,d,e,!1,this.id),chunkMeta:f}},d.transmuxSampleAes=function(b,d,e,f,h){var g=this;return this.demuxer.demuxSampleAes(b,d,e).then(function(b){return{remuxResult:g.remuxer.remux(b.audioTrack,b.videoTrack,b.id3Track,b.textTrack,e,f,!1,g.id),chunkMeta:h}})},d.configureTransmuxer=function(b){for(var d,e=this.config,f=
this.observer,h=this.typeSupported,g=this.vendor,k=0,l=zd.length;k<l;k++)if(zd[k].demux.probe(b)){d=zd[k];break}if(!d)return Error("Failed to find demuxer by probing fragment data");b=this.demuxer;k=this.remuxer;l=d.remux;d=d.demux;k&&k instanceof l||(this.remuxer=new l(f,e,h,g));b&&b instanceof d||(this.demuxer=new d(f,e,h),this.probe=d.probe)},d.needsProbing=function(b,d){return!this.demuxer||!this.remuxer||b||d},d.getDecrypter=function(){var b=this.decrypter;return b||(b=this.decrypter=new od(this.config)),
b},b}(),pc=function(b){return{remuxResult:{},chunkMeta:b}},Jc=function(b,d,e,f,h){this.defaultInitPts=this.duration=this.initSegmentData=this.videoCodec=this.audioCodec=void 0;this.audioCodec=b;this.videoCodec=d;this.initSegmentData=e;this.duration=f;this.defaultInitPts=h||null},Sc=function(b,d,e,f,h,g){this.initSegmentChange=this.timeOffset=this.trackSwitch=this.accurateTimeOffset=this.contiguous=this.discontinuity=void 0;this.discontinuity=b;this.contiguous=d;this.accurateTimeOffset=e;this.trackSwitch=
f;this.timeOffset=h;this.initSegmentChange=g},xc={};!function(b){function d(){}function e(b,d,f){this.fn=b;this.context=d;this.once=f||!1}function f(b,d,h,g,k){if("function"!=typeof h)throw new TypeError("The listener must be a function");h=new e(h,g||b,k);d=l?l+d:d;return b._events[d]?b._events[d].fn?b._events[d]=[b._events[d],h]:b._events[d].push(h):(b._events[d]=h,b._eventsCount++),b}function h(b,e){0==--b._eventsCount?b._events=new d:delete b._events[e]}function g(){this._events=new d;this._eventsCount=
0}var k=Object.prototype.hasOwnProperty,l="~";Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(l=!1));g.prototype.eventNames=function(){var b,d,e=[];if(0===this._eventsCount)return e;for(d in b=this._events)k.call(b,d)&&e.push(l?d.slice(1):d);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(b)):e};g.prototype.listeners=function(b){b=this._events[l?l+b:b];if(!b)return[];if(b.fn)return[b.fn];for(var d=0,e=b.length,f=Array(e);d<e;d++)f[d]=b[d].fn;return f};
g.prototype.listenerCount=function(b){return(b=this._events[l?l+b:b])?b.fn?1:b.length:0};g.prototype.emit=function(b,d,e,f,h,g){var k=l?l+b:b;if(!this._events[k])return!1;var n,p=this._events[k],q=arguments.length;if(p.fn){switch(p.once&&this.removeListener(b,p.fn,void 0,!0),q){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,e),!0;case 4:return p.fn.call(p.context,d,e,f),!0;case 5:return p.fn.call(p.context,d,e,f,h),!0;case 6:return p.fn.call(p.context,
d,e,f,h,g),!0}k=1;for(n=Array(q-1);k<q;k++)n[k-1]=arguments[k];p.fn.apply(p.context,n)}else for(var Z,lc=p.length,k=0;k<lc;k++)switch(p[k].once&&this.removeListener(b,p[k].fn,void 0,!0),q){case 1:p[k].fn.call(p[k].context);break;case 2:p[k].fn.call(p[k].context,d);break;case 3:p[k].fn.call(p[k].context,d,e);break;case 4:p[k].fn.call(p[k].context,d,e,f);break;default:if(!n)for(Z=1,n=Array(q-1);Z<q;Z++)n[Z-1]=arguments[Z];p[k].fn.apply(p[k].context,n)}return!0};g.prototype.on=function(b,d,e){return f(this,
b,d,e,!1)};g.prototype.once=function(b,d,e){return f(this,b,d,e,!0)};g.prototype.removeListener=function(b,d,e,f){b=l?l+b:b;if(!this._events[b])return this;if(!d)return h(this,b),this;var g=this._events[b];if(g.fn)g.fn!==d||f&&!g.once||e&&g.context!==e||h(this,b);else{for(var k=0,n=[],p=g.length;k<p;k++)(g[k].fn!==d||f&&!g[k].once||e&&g[k].context!==e)&&n.push(g[k]);n.length?this._events[b]=1===n.length?n[0]:n:h(this,b)}return this};g.prototype.removeAllListeners=function(b){var e;return b?(e=l?l+
b:b,this._events[e]&&h(this,e)):(this._events=new d,this._eventsCount=0),this};g.prototype.off=g.prototype.removeListener;g.prototype.addListener=g.prototype.on;g.prefixed=l;g.EventEmitter=g;b.exports=g}({get exports(){return xc},set exports(b){xc=b}});var dd=xc;void 0!==e&&e&&function(b){var d=new dd,e=function(d,e){b.postMessage({event:d,data:e})};d.on(G.FRAG_DECRYPTED,e);d.on(G.ERROR,e);var f=function(){var b=function(b){S[b]=function(d){e("workerLog",{logType:b,message:d})}},d;for(d in S)b(d)};
b.addEventListener("message",function(h){var g=h.data;switch(g.cmd){case "init":h=JSON.parse(g.config);b.transmuxer=new Bd(d,g.typeSupported,h,g.vendor,g.id);E(h.debug,g.id);f();e("init",null);break;case "configure":b.transmuxer.configure(g.config);break;case "demux":h=b.transmuxer.push(g.data,g.decryptdata,g.chunkMeta,g.state);Vb(h)?(b.transmuxer.async=!0,h.then(function(d){Cc(b,d)}).catch(function(b){e(G.ERROR,{type:na.MEDIA_ERROR,details:V.FRAG_PARSING_ERROR,chunkMeta:g.chunkMeta,fatal:!1,error:b,
err:b,reason:"transmuxer-worker push error"})})):(b.transmuxer.async=!1,Cc(b,h));break;case "flush":var k=g.chunkMeta;h=b.transmuxer.flush(k);Vb(h)||b.transmuxer.async?(Vb(h)||(h=Promise.resolve(h)),h.then(function(d){tc(b,d,k)}).catch(function(b){e(G.ERROR,{type:na.MEDIA_ERROR,details:V.FRAG_PARSING_ERROR,chunkMeta:g.chunkMeta,fatal:!1,error:b,err:b,reason:"transmuxer-worker flush error"})})):tc(b,h,k)}})}(self);var Cd=Kb()||{isTypeSupported:function(){return!1}},Qd=function(){function b(d,e,f,h){var g=
this;this.error=null;this.observer=this.id=this.hls=void 0;this.part=this.frag=null;this.useWorker=void 0;this.workerContext=null;this.onwmsg=void 0;this.transmuxer=null;this.onFlush=this.onTransmuxComplete=void 0;var k=d.config;this.hls=d;this.id=e;this.useWorker=!!k.enableWorker;this.onTransmuxComplete=f;this.onFlush=h;d=function(b,d){(d=d||{}).frag=g.frag;d.id=g.id;b===G.ERROR&&(g.error=d.error);g.hls.trigger(b,d)};this.observer=new dd;this.observer.on(G.FRAG_DECRYPTED,d);this.observer.on(G.ERROR,
d);var l,n,p,q;d={mp4:Cd.isTypeSupported("video/mp4"),mpeg:Cd.isTypeSupported("audio/mpeg"),mp3:Cd.isTypeSupported('audio/mp4; codecs\x3d"mp3"')};f=navigator.vendor;if(!this.useWorker||"undefined"==typeof Worker||(k.workerPath,0))this.transmuxer=new Bd(this.observer,d,k,f,e);else try{k.workerPath?(S.log("loading Web Worker "+k.workerPath+' for "'+e+'"'),this.workerContext=(p=k.workerPath,q=(new self.URL(p,self.location.href)).href,{worker:new self.Worker(q),scriptURL:q})):(S.log('injecting Web Worker for "'+
e+'"'),this.workerContext=(l=new self.Blob(["var exports\x3d{};var module\x3d{exports:exports};function define(f){f()};define.amd\x3dtrue;("+t$$7.toString()+")(true);"],{type:"text/javascript"}),n=self.URL.createObjectURL(l),{worker:new self.Worker(n),objectURL:n}));this.onwmsg=function(b){return g.onWorkerMessage(b)};var r=this.workerContext.worker;r.addEventListener("message",this.onwmsg);r.onerror=function(b){b=Error(b.message+"  ("+b.filename+":"+b.lineno+")");k.enableWorker=!1;S.warn('Error in "'+
e+'" Web Worker, fallback to inline');g.hls.trigger(G.ERROR,{type:na.OTHER_ERROR,details:V.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:b})};r.postMessage({cmd:"init",typeSupported:d,vendor:f,id:e,config:JSON.stringify(k)})}catch(s){S.warn('Error setting up "'+e+'" Web Worker, fallback to inline',s),this.resetWorker(),this.error=null,this.transmuxer=new Bd(this.observer,d,k,f,e)}}var d=b.prototype;return d.resetWorker=function(){if(this.workerContext){var b=this.workerContext,d=b.worker;
(b=b.objectURL)&&self.URL.revokeObjectURL(b);d.removeEventListener("message",this.onwmsg);d.onerror=null;d.terminate();this.workerContext=null}},d.destroy=function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var b=this.transmuxer;b&&(b.destroy(),this.transmuxer=null)}(b=this.observer)&&b.removeAllListeners();this.hls=this.observer=this.frag=null},d.push=function(b,d,e,f,h,g,k,l,n,p){var q,r,s=this;n.transmuxing.start=self.performance.now();var u=this.transmuxer,A=g?g.start:
h.start,v=h.decryptdata,F=this.frag,D=!(F&&h.cc===F.cc),C=!(F&&n.level===F.level),z=F?n.sn-F.sn:-1,w=this.part?n.part-this.part.index:-1,H=0===z&&1<n.id&&n.id===(null==F?void 0:F.stats.chunkCount),H=!C&&(1===z||0===z&&(1===w||H&&0>=w)),t=self.performance.now();(C||z||0===h.stats.parsing.start)&&(h.stats.parsing.start=t);!g||!w&&H||(g.stats.parsing.start=t);F=!(F&&(null==(q=h.initSegment)?void 0:q.url)===(null==(r=F.initSegment)?void 0:r.url));q=new Sc(D,H,l,C,A,F);if(!H||D||F)S.log("[transmuxer-interface, "+
h.type+"]: Starting new transmux session for sn: "+n.sn+" p: "+n.part+" level: "+n.level+" id: "+n.id+"\n        discontinuity: "+D+"\n        trackSwitch: "+C+"\n        contiguous: "+H+"\n        accurateTimeOffset: "+l+"\n        timeOffset: "+A+"\n        initSegmentChange: "+F),d=new Jc(e,f,d,k,p),this.configureTransmuxer(d);(this.frag=h,this.part=g,this.workerContext)?this.workerContext.worker.postMessage({cmd:"demux",data:b,decryptdata:v,chunkMeta:n,state:q},b instanceof ArrayBuffer?[b]:[]):
u&&(b=u.push(b,v,n,q),Vb(b)?(u.async=!0,b.then(function(b){s.handleTransmuxComplete(b)}).catch(function(b){s.transmuxerError(b,n,"transmuxer-interface push error")})):(u.async=!1,this.handleTransmuxComplete(b)))},d.flush=function(b){var d=this;b.transmuxing.start=self.performance.now();var e=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:b});else if(e){var f=e.flush(b);Vb(f)||e.async?(Vb(f)||(f=Promise.resolve(f)),f.then(function(e){d.handleFlushResult(e,
b)}).catch(function(e){d.transmuxerError(e,b,"transmuxer-interface flush error")})):this.handleFlushResult(f,b)}},d.transmuxerError=function(b,d,e){this.hls&&(this.error=b,this.hls.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.FRAG_PARSING_ERROR,chunkMeta:d,fatal:!1,error:b,err:b,reason:e}))},d.handleFlushResult=function(b,d){var e=this;b.forEach(function(b){e.handleTransmuxComplete(b)});this.onFlush(d)},d.onWorkerMessage=function(b){b=b.data;var d=this.hls;switch(b.event){case "init":var e;(b=null==
(e=this.workerContext)?void 0:e.objectURL)&&self.URL.revokeObjectURL(b);break;case "transmuxComplete":this.handleTransmuxComplete(b.data);break;case "flush":this.onFlush(b.data);break;case "workerLog":S[b.data.logType]&&S[b.data.logType](b.data.message);break;default:b.data=b.data||{},b.data.frag=this.frag,b.data.id=this.id,d.trigger(b.event,b.data)}},d.configureTransmuxer=function(b){var d=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:b}):d&&d.configure(b)},
d.handleTransmuxComplete=function(b){b.chunkMeta.transmuxing.end=self.performance.now();this.onTransmuxComplete(b)},b}(),Bc=function(){function b(d,e,f,h){this.config=void 0;this.media=null;this.hls=this.fragmentTracker=void 0;this.nudgeRetry=0;this.stallReported=!1;this.stalled=null;this.seeking=this.moved=!1;this.config=d;this.media=e;this.fragmentTracker=f;this.hls=h}var d=b.prototype;return d.destroy=function(){this.hls=this.fragmentTracker=this.media=null},d.poll=function(b,d){var e=this.config,
f=this.media,h=this.stalled;if(null!==f){var g=f.currentTime,k=f.seeking,l=this.seeking&&!k,n=!this.seeking&&k;if(this.seeking=k,g===b)if(n||l)this.stalled=null;else{if(!(f.paused&&!k||f.ended||0===f.playbackRate)&&qb.getBuffered(f).length&&(l=qb.bufferInfo(f,g,0),n=l.nextStart||0,0<l.len||n)){if(k){var p=2<l.len,q=!n||d&&d.start<=g||2<n-g&&!this.fragmentTracker.getPartialFragment(g);if(p||q)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var r,n=Math.max(n,l.start||0)-g,p=this.hls.levels?
this.hls.levels[this.hls.currentLevel]:null,p=(null==p||null==(r=p.details)?0:r.live)?2*p.details.targetduration:2;r=this.fragmentTracker.getPartialFragment(g);if(0<n&&(n<=p||r))return void this._trySkipBufferHole(r)}r=self.performance.now();null!==h?(h=r-h,!k&&250<=h&&(this._reportStall(l),!this.media)||(g=qb.bufferInfo(f,g,e.maxBufferHole),this._tryFixBufferStall(g,h))):this.stalled=r}}else if(this.moved=!0,null!==h)this.stallReported&&(e=self.performance.now()-h,S.warn("playback not stuck anymore @"+
g+", after "+Math.round(e)+"ms"),this.stallReported=!1),this.stalled=null,this.nudgeRetry=0}},d._tryFixBufferStall=function(b,d){var e=this.config,f=this.fragmentTracker,h=this.media;null!==h&&(h=h.currentTime,f=f.getPartialFragment(h),(!f||!this._trySkipBufferHole(f)&&this.media)&&(b.len>e.maxBufferHole||b.nextStart&&b.nextStart-h<e.maxBufferHole)&&d>1E3*e.highBufferWatchdogPeriod&&(S.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer()))},d._reportStall=function(b){var d=
this.hls,e=this.media;!this.stallReported&&e&&(this.stallReported=!0,e=Error("Playback stalling at @"+e.currentTime+" due to low buffer ("+JSON.stringify(b)+")"),S.warn(e.message),d.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.BUFFER_STALLED_ERROR,fatal:!1,error:e,buffer:b.len}))},d._trySkipBufferHole=function(b){var d=this.config,e=this.hls,f=this.media;if(null===f)return 0;var h=f.currentTime,g=qb.bufferInfo(f,h,0),k=h<g.start?g.start:g.nextStart;if(k){var l=g.len<=d.maxBufferHole,g=0<g.len&&
1>g.len&&3>f.readyState,n=k-h;if(0<n&&(l||g)){if(n>d.maxBufferHole&&(d=this.fragmentTracker,l=!1,0===h&&(g=d.getAppendedFrag(0,"main"))&&k<g.end&&(l=!0),!l&&(g=b||d.getAppendedFrag(h,"main")))){l=!1;for(g=g.end;g<k;){n=d.getPartialFragment(g);if(!n){l=!0;break}g+=n.duration}if(l)return 0}k=Math.max(k+.05,h+.1);if(S.warn("skipping hole, adjusting currentTime from "+h+" to "+k),this.moved=!0,this.stalled=null,f.currentTime=k,b&&!b.gap)f=Error("fragment loaded with buffer holes, seeking from "+h+" to "+
k),e.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:b});return k}}return 0},d._tryNudgeBuffer=function(){var b=this.config,d=this.hls,e=this.media,f=this.nudgeRetry;if(null!==e){var h=e.currentTime;(this.nudgeRetry++,f<b.nudgeMaxRetry)?(b=h+(f+1)*b.nudgeOffset,h=Error("Nudging 'currentTime' from "+h+" to "+b),S.warn(h.message),e.currentTime=b,d.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.BUFFER_NUDGE_ON_STALL,error:h,fatal:!1})):(e=Error("Playhead still not moving while enough data buffered @"+
h+" after "+b.nudgeMaxRetry+" nudges"),S.error(e.message),d.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.BUFFER_STALLED_ERROR,error:e,fatal:!0}))}},b}(),Jb=function(b){function d(e,f,h){var g;return(g=b.call(this,e,f,h,"[stream-controller]","main")||this).audioCodecSwap=!1,g.gapController=null,g.level=-1,g._forceStartLoad=!1,g.altAudio=!1,g.audioOnly=!1,g.fragPlaying=null,g.onvplaying=null,g.onvseeked=null,g.fragLastKbps=0,g.couldBacktrack=!1,g.backtrackFragment=null,g.audioCodecSwitch=!1,g.videoBuffer=
null,g._registerListeners(),g}n(d,b);var e=d.prototype;return e._registerListeners=function(){var b=this.hls;b.on(G.MEDIA_ATTACHED,this.onMediaAttached,this);b.on(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.on(G.MANIFEST_LOADING,this.onManifestLoading,this);b.on(G.MANIFEST_PARSED,this.onManifestParsed,this);b.on(G.LEVEL_LOADING,this.onLevelLoading,this);b.on(G.LEVEL_LOADED,this.onLevelLoaded,this);b.on(G.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this);b.on(G.ERROR,this.onError,
this);b.on(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);b.on(G.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);b.on(G.BUFFER_CREATED,this.onBufferCreated,this);b.on(G.BUFFER_FLUSHED,this.onBufferFlushed,this);b.on(G.LEVELS_UPDATED,this.onLevelsUpdated,this);b.on(G.FRAG_BUFFERED,this.onFragBuffered,this)},e._unregisterListeners=function(){var b=this.hls;b.off(G.MEDIA_ATTACHED,this.onMediaAttached,this);b.off(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.off(G.MANIFEST_LOADING,this.onManifestLoading,
this);b.off(G.MANIFEST_PARSED,this.onManifestParsed,this);b.off(G.LEVEL_LOADED,this.onLevelLoaded,this);b.off(G.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this);b.off(G.ERROR,this.onError,this);b.off(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);b.off(G.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this);b.off(G.BUFFER_CREATED,this.onBufferCreated,this);b.off(G.BUFFER_FLUSHED,this.onBufferFlushed,this);b.off(G.LEVELS_UPDATED,this.onLevelsUpdated,this);b.off(G.FRAG_BUFFERED,
this.onFragBuffered,this)},e.onHandlerDestroying=function(){this._unregisterListeners();this.onMediaDetaching()},e.startLoad=function(b){if(this.levels){var d=this.lastCurrentTime,e=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var f=e.startLevel;-1===f&&(e.config.testBandwidth&&1<this.levels.length?(f=0,this.bitrateTest=!0):f=e.nextAutoLevel);this.level=e.nextLoadLevel=f;this.loadedmetadata=!1}0<d&&-1===b&&(this.log("Override startPosition with lastCurrentTime @"+
d.toFixed(3)),b=d);this.state="IDLE";this.nextLoadPosition=this.startPosition=this.lastCurrentTime=b;this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"},e.stopLoad=function(){this._forceStartLoad=!1;b.prototype.stopLoad.call(this)},e.doTick=function(){switch(this.state){case "WAITING_LEVEL":var b,d=this.levels,e=this.level;if((d=null==d||null==(b=d[e])?void 0:b.details)&&(!d.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(d))break;this.state="IDLE";break}break;case "FRAG_LOADING_WAITING_RETRY":b=
self.performance.now(),e=this.retryDate,(!e||b>=e||null!=(d=this.media)&&d.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}"IDLE"===this.state&&this.doTickIdle();this.onTickEnd()},e.onTickEnd=function(){b.prototype.onTickEnd.call(this);this.checkBuffer();this.checkFragmentChanged()},e.doTickIdle=function(){var b=this.hls,d=this.levels,e=this.media,f=b.config,h=b.nextLoadLevel;if(null!==this.levelLastLoaded&&(e||!this.startFragRequested&&f.startFragPrefetch)&&(!this.altAudio||
!this.audioOnly)&&null!=d&&d[h]&&(d=d[h],e=this.getMainFwdBufferInfo(),null!==e)){if((f=this.getLevelDetails())&&this._streamEnded(e,f))return d={},this.altAudio&&(d.type="video"),this.hls.trigger(G.BUFFER_EOS,d),void(this.state="ENDED");b.loadLevel!==h&&-1===b.manualLevel&&this.log("Adapting to level "+h+" from level "+this.level);this.level=b.nextLoadLevel=h;b=d.details;if(!b||"WAITING_LEVEL"===this.state||b.live&&this.levelLastLoaded!==h)return this.level=h,void(this.state="WAITING_LEVEL");f=e.len;
h=this.getMaxBufferLength(d.maxBitrate);if(!(f>=h)){this.backtrackFragment&&this.backtrackFragment.start>e.end&&(this.backtrackFragment=null);var f=this.backtrackFragment?this.backtrackFragment.start:e.end,g=this.getNextFragment(f,b);if(this.couldBacktrack&&!this.fragPrevious&&g&&"initSegment"!==g.sn&&"OK"!==this.fragmentTracker.getState(g)){var k,l=(null!=(k=this.backtrackFragment)?k:g).sn-b.startSN;(k=b.fragments[l-1])&&g.cc===k.cc&&(g=k,this.fragmentTracker.removeFragment(k))}else this.backtrackFragment&&
e.len&&(this.backtrackFragment=null);g&&this.isLoopLoading(g,f)&&(g.gap||(k=this.audioOnly&&!this.altAudio?"audio":"video",(l=("video"===k?this.videoBuffer:this.mediaBuffer)||this.media)&&this.afterBufferFlushed(l,k,"main")),g=this.getNextFragmentLoopLoading(g,b,e,"main",h));g&&(!g.initSegment||g.initSegment.data||this.bitrateTest||(g=g.initSegment),this.loadFragment(g,d,f))}}},e.loadFragment=function(d,e,f){var h=this.fragmentTracker.getState(d);this.fragCurrent=d;"NOT_LOADED"===h?"initSegment"===
d.sn?this._loadInitSegment(d,e):this.bitrateTest?(this.log("Fragment "+d.sn+" of level "+d.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(d,e)):(this.startFragRequested=!0,b.prototype.loadFragment.call(this,d,e,f)):this.clearTrackerIfNeeded(d)},e.getAppendedFrag=function(b){return(b=this.fragmentTracker.getAppendedFrag(b,"main"))&&"fragment"in b?b.fragment:b},e.getBufferedFrag=function(b){return this.fragmentTracker.getBufferedFrag(b,"main")},e.followingBufferedFrag=
function(b){return b?this.getBufferedFrag(b.end+.5):null},e.immediateLevelSwitch=function(){this.abortCurrentFrag();this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.nextLevelSwitch=function(){var b=this.levels,d=this.media;if(null!=d&&d.readyState){var e=this.getAppendedFrag(d.currentTime);(e&&1<e.start&&this.flushMainBuffer(0,e.start-1),!d.paused&&b)?(b=b[this.hls.nextLoadLevel],b=(e=this.fragLastKbps)&&this.fragCurrent?this.fragCurrent.duration*b.maxBitrate/(1E3*e)+1:0):b=0;if(d=this.getBufferedFrag(d.currentTime+
b))if(b=this.followingBufferedFrag(d))this.abortCurrentFrag(),e=b.duration,d=Math.max(d.end,(b.maxStartPTS?b.maxStartPTS:b.start)+Math.min(Math.max(e-this.config.maxFragLookUpTolerance,.5*e),.75*e)),this.flushMainBuffer(d,Number.POSITIVE_INFINITY)}},e.abortCurrentFrag=function(){var b=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,b&&(b.abortRequests(),this.fragmentTracker.removeFragment(b)),this.state){case "KEY_LOADING":case "FRAG_LOADING":case "FRAG_LOADING_WAITING_RETRY":case "PARSING":case "PARSED":this.state=
"IDLE"}this.nextLoadPosition=this.getLoadPosition()},e.flushMainBuffer=function(d,e){b.prototype.flushMainBuffer.call(this,d,e,this.altAudio?"video":null)},e.onMediaAttached=function(d,e){b.prototype.onMediaAttached.call(this,d,e);var f=e.media;this.onvplaying=this.onMediaPlaying.bind(this);this.onvseeked=this.onMediaSeeked.bind(this);f.addEventListener("playing",this.onvplaying);f.addEventListener("seeked",this.onvseeked);this.gapController=new Bc(this.config,f,this.fragmentTracker,this.hls)},e.onMediaDetaching=
function(){var d=this.media;d&&this.onvplaying&&this.onvseeked&&(d.removeEventListener("playing",this.onvplaying),d.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null);this.fragPlaying=null;this.gapController&&(this.gapController.destroy(),this.gapController=null);b.prototype.onMediaDetaching.call(this)},e.onMediaPlaying=function(){this.tick()},e.onMediaSeeked=function(){var b=this.media,b=b?b.currentTime:null;ka(b)&&this.log("Media seeked to "+
b.toFixed(3));b=this.getMainFwdBufferInfo();null!==b&&0!==b.len?this.tick():this.warn('Main forward buffer length on "seeked" event '+(b?b.len:"empty")+")")},e.onManifestLoading=function(){this.log("Trigger BUFFER_RESET");this.hls.trigger(G.BUFFER_RESET,void 0);this.fragmentTracker.removeAllFragments();this.couldBacktrack=!1;this.startPosition=this.lastCurrentTime=0;this.backtrackFragment=this.fragPlaying=null},e.onManifestParsed=function(b,d){var e,f,h,g=!1,k=!1;d.levels.forEach(function(b){(e=b.audioCodec)&&
(-1!==e.indexOf("mp4a.40.2")&&(g=!0),-1!==e.indexOf("mp4a.40.5")&&(k=!0))});(this.audioCodecSwitch=g&&k&&"function"!=typeof(null==(h=self.SourceBuffer||self.WebKitSourceBuffer)||null==(f=h.prototype)?void 0:f.changeType))&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC");this.levels=d.levels;this.startFragRequested=!1},e.onLevelLoading=function(b,d){var e=this.levels;e&&"IDLE"===this.state&&(e=e[d.level],(!e.details||e.details.live&&this.levelLastLoaded!==d.level||
this.waitForCdnTuneIn(e.details))&&(this.state="WAITING_LEVEL"))},e.onLevelLoaded=function(b,d){var e,f=this.levels,h=d.level,g=d.details,k=g.totalduration;if(f){this.log("Level "+h+" loaded ["+g.startSN+","+g.endSN+"], cc ["+g.startCC+", "+g.endCC+"] duration:"+k);f=f[h];k=this.fragCurrent;!k||"FRAG_LOADING"!==this.state&&"FRAG_LOADING_WAITING_RETRY"!==this.state||k.level===d.level&&k.urlId===f.urlId||!k.loader||this.abortCurrentFrag();k=0;if(g.live||null!=(e=f.details)&&e.live){if(g.fragments[0]||
(g.deltaUpdateFailed=!0),g.deltaUpdateFailed)return;k=this.alignPlaylists(g,f.details)}if(f.details=g,this.levelLastLoaded=h,this.hls.trigger(G.LEVEL_UPDATED,{details:g,level:h}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(g))return;this.state="IDLE"}this.startFragRequested?g.live&&this.synchronizeToLiveEdge(g):this.setStartPosition(g,k);this.tick()}else this.warn("Levels were reset while loading level "+h)},e._handleFragmentLoadProgress=function(b){var d,e=b.frag,f=b.part;b=b.payload;
var h=this.levels;if(h){var g=h[e.level],h=g.details;if(!h)return this.warn("Dropping fragment "+e.sn+" of level "+e.level+" after level details were reset"),void this.fragmentTracker.removeFragment(e);var k=g.videoCodec,l=h.PTSKnown||!h.live,n=null==(d=e.initSegment)?void 0:d.data;d=this._getAudioCodec(g);var g=this.transmuxer=this.transmuxer||new Qd(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=f?f.index:-1,p=new nd(e.level,e.sn,e.stats.chunkCount,
b.byteLength,p,-1!==p);g.push(b,n,d,k,e,f,h.totalduration,l,p,this.initPTS[e.cc])}else this.warn("Levels were reset while fragment load was in progress. Fragment "+e.sn+" of level "+e.level+" will not be buffered")},e.onAudioTrackSwitching=function(b,d){var e=this.altAudio;if(!d.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading");this.mediaBuffer=this.media;var f=this.fragCurrent;f&&(this.log("Switching to main audio track, cancel main fragment load"),
f.abortRequests(),this.fragmentTracker.removeFragment(f));this.resetTransmuxer();this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();f=this.hls;e&&(f.trigger(G.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments());f.trigger(G.AUDIO_TRACK_SWITCHED,d)}},e.onAudioTrackSwitched=function(b,d){var e=!!this.hls.audioTracks[d.id].url;if(e){var f=this.videoBuffer;f&&this.mediaBuffer!==f&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),
this.mediaBuffer=f)}this.altAudio=e;this.tick()},e.onBufferCreated=function(b,d){var e,f,h=d.tracks,g=!1,k;for(k in h){var l=h[k];"main"===l.id?(f=k,e=l,"video"===k)&&(l=h[k])&&(this.videoBuffer=l.buffer):g=!0}g&&e?(this.log("Alternate track found, use "+f+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},e.onFragBuffered=function(b,d){var e=d.frag,f=d.part;if(!e||"main"===e.type){if(this.fragContextChanged(e))return this.warn("Fragment "+e.sn+
(f?" p: "+f.index:"")+" of level "+e.level+" finished buffering, but was aborted. state: "+this.state),void("PARSED"===this.state&&(this.state="IDLE"));var h=f?f.stats:e.stats;this.fragLastKbps=Math.round(8*h.total/(h.buffering.end-h.loading.first));"initSegment"!==e.sn&&(this.fragPrevious=e);this.fragBufferedComplete(e,f)}},e.onError=function(b,d){var e;if(d.fatal)this.state="ERROR";else switch(d.details){case V.FRAG_GAP:case V.FRAG_PARSING_ERROR:case V.FRAG_DECRYPT_ERROR:case V.FRAG_LOAD_ERROR:case V.FRAG_LOAD_TIMEOUT:case V.KEY_LOAD_ERROR:case V.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",
d);break;case V.LEVEL_LOAD_ERROR:case V.LEVEL_LOAD_TIMEOUT:case V.LEVEL_PARSING_ERROR:d.levelRetry||"WAITING_LEVEL"!==this.state||"level"!==(null==(e=d.context)?void 0:e.type)||(this.state="IDLE");break;case V.BUFFER_FULL_ERROR:if(!d.parent||"main"!==d.parent)break;this.reduceLengthAndFlushBuffer(d)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case V.INTERNAL_EXCEPTION:this.recoverWorkerError(d)}},e.checkBuffer=function(){var b=this.media,d=this.gapController;b&&d&&b.readyState&&(!this.loadedmetadata&&
qb.getBuffered(b).length||d.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=b.currentTime)},e.onFragLoadEmergencyAborted=function(){this.state="IDLE";this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);this.tickImmediate()},e.onBufferFlushed=function(b,d){var e=d.type;("audio"!==e||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===e?this.videoBuffer:this.mediaBuffer)||this.media,e,"main")},e.onLevelsUpdated=
function(b,d){this.levels=d.levels},e.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.seekToStartPos=function(){var b=this.media;if(b){var d=b.currentTime,e=this.startPosition;if(0<=e&&d<e){if(b.seeking)return void this.log("could not seek to "+e+", already seeking at "+d);var f=qb.getBuffered(b),f=(f.length?f.start(0):0)-e;0<f&&(f<this.config.maxBufferHole||f<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+f+" to match buffer start"),e+=f,this.startPosition=
e);this.log("seek to target start position "+e+" from current time "+d);b.currentTime=e}}},e._getAudioCodec=function(b){b=this.config.defaultAudioCodec||b.audioCodec;return this.audioCodecSwap&&b&&(this.log("Swapping audio codec"),b=-1!==b.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),b},e._loadBitrateTestFrag=function(b,d){var e=this;b.bitrateTest=!0;this._doFragLoad(b,d).then(function(f){var h=e.hls;if(f&&!e.fragContextChanged(b)){d.fragmentError=0;e.state="IDLE";e.startFragRequested=!1;e.bitrateTest=
!1;var g=b.stats;g.parsing.start=g.parsing.end=g.buffering.start=g.buffering.end=self.performance.now();h.trigger(G.FRAG_LOADED,f);b.bitrateTest=!1}})},e._handleTransmuxComplete=function(b){var d,e=this.hls,f=b.remuxResult;b=b.chunkMeta;var h=this.getCurrentContext(b);if(h){var g=h.frag,k=h.part,l=h.level,n=f.video,h=f.text,p=f.id3,q=f.initSegment,Z=l.details,r=this.altAudio?void 0:f.audio;if(this.fragContextChanged(g))this.fragmentTracker.removeFragment(g);else{if(this.state="PARSING",q)q.tracks&&
(this._bufferInitSegment(l,q.tracks,g,b),e.trigger(G.FRAG_PARSING_INIT_SEGMENT,{frag:g,id:"main",tracks:q.tracks})),l=q.initPTS,q=q.timescale,ka(l)&&(this.initPTS[g.cc]={baseTime:l,timescale:q},e.trigger(G.INIT_PTS_FOUND,{frag:g,id:"main",initPTS:l,timescale:q}));if(n&&!1!==f.independent){if(Z){var f=n.startPTS,q=n.endPTS,l=n.startDTS,s=n.endDTS;if(k)k.elementaryStreams[n.type]={startPTS:f,endPTS:q,startDTS:l,endDTS:s};else if(n.firstKeyFrame&&n.independent&&1===b.id&&(this.couldBacktrack=!0),n.dropped&&
n.independent){var u=this.getMainFwdBufferInfo();if((u?u.end:this.getLoadPosition())+this.config.maxBufferHole<(n.firstKeyFramePTS?n.firstKeyFramePTS:f)-this.config.maxBufferHole)return void this.backtrack(g);g.setElementaryStreamInfo(n.type,g.start,q,g.start,s,!0)}g.setElementaryStreamInfo(n.type,f,q,l,s);this.backtrackFragment&&(this.backtrackFragment=g);this.bufferFragmentData(n,g,k,b)}}else if(!1===f.independent)return void this.backtrack(g);r&&(n=r.startPTS,f=r.endPTS,q=r.startDTS,l=r.endDTS,
k&&(k.elementaryStreams.audio={startPTS:n,endPTS:f,startDTS:q,endDTS:l}),g.setElementaryStreamInfo("audio",n,f,q,l),this.bufferFragmentData(r,g,k,b));Z&&null!=p&&null!=(d=p.samples)&&d.length&&e.trigger(G.FRAG_PARSING_METADATA,{id:"main",frag:g,details:Z,samples:p.samples});Z&&h&&e.trigger(G.FRAG_PARSING_USERDATA,{id:"main",frag:g,details:Z,samples:h.samples})}}else this.resetWhenMissingContext(b)},e._bufferInitSegment=function(b,d,e,f){var h=this;if("PARSING"===this.state){this.audioOnly=!!d.audio&&
!d.video;this.altAudio&&!this.audioOnly&&delete d.audio;var g=d.audio,k=d.video,l=d.audiovideo;if(g){var n=b.audioCodec,p=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(n&&(n=-1!==n.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==g.metadata.channelCount&&-1===p.indexOf("firefox")&&(n="mp4a.40.5"));-1!==p.indexOf("android")&&"audio/mpeg"!==g.container&&(n="mp4a.40.2",this.log("Android: force audio codec to "+n));b.audioCodec&&b.audioCodec!==n&&this.log('Swapping manifest audio codec "'+
b.audioCodec+'" for "'+n+'"');g.levelCodec=n;g.id="main";this.log("Init audio buffer, container:"+g.container+", codecs[selected/level/parsed]\x3d["+(n||"")+"/"+(b.audioCodec||"")+"/"+g.codec+"]")}k&&(k.levelCodec=b.videoCodec,k.id="main",this.log("Init video buffer, container:"+k.container+", codecs[level/parsed]\x3d["+(b.videoCodec||"")+"/"+k.codec+"]"));l&&this.log("Init audiovideo buffer, container:"+l.container+", codecs[level/parsed]\x3d["+(b.attrs.CODECS||"")+"/"+l.codec+"]");this.hls.trigger(G.BUFFER_CODECS,
d);Object.keys(d).forEach(function(b){var g=d[b].initSegment;null!=g&&g.byteLength&&h.hls.trigger(G.BUFFER_APPENDING,{type:b,data:g,frag:e,part:null,chunkMeta:f,parent:e.type})});this.tick()}},e.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")},e.backtrack=function(b){this.couldBacktrack=!0;this.backtrackFragment=b;this.resetTransmuxer();this.flushBufferGap(b);this.fragmentTracker.removeFragment(b);this.fragPrevious=null;this.nextLoadPosition=
b.start;this.state="IDLE"},e.checkFragmentChanged=function(){var b=this.media,d=null;if(b&&1<b.readyState&&!1===b.seeking){var e=b.currentTime;if(qb.isBuffered(b,e)?d=this.getAppendedFrag(e):qb.isBuffered(b,e+.1)&&(d=this.getAppendedFrag(e+.1)),d)this.backtrackFragment=null,b=this.fragPlaying,e=d.level,b&&d.sn===b.sn&&b.level===e&&d.urlId===b.urlId||(this.fragPlaying=d,this.hls.trigger(G.FRAG_CHANGED,{frag:d}),b&&b.level===e||this.hls.trigger(G.LEVEL_SWITCHED,{level:e}))}},f(d,[{key:"nextLevel",get:function(){var b=
this.nextBufferedFrag;return b?b.level:-1}},{key:"currentFrag",get:function(){var b=this.media;return b?this.fragPlaying||this.getAppendedFrag(b.currentTime):null}},{key:"currentProgramDateTime",get:function(){var b=this.media;if(b){var b=b.currentTime,d=this.currentFrag;if(d&&ka(b)&&ka(d.programDateTime))return new Date(d.programDateTime+1E3*(b-d.start))}return null}},{key:"currentLevel",get:function(){var b=this.currentFrag;return b?b.level:-1}},{key:"nextBufferedFrag",get:function(){var b=this.currentFrag;
return b?this.followingBufferedFrag(b):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),d}(Tc),Yb=function(){function b(d,e,f){void 0===e&&(e=0);void 0===f&&(f=0);this.totalWeight_=this.estimate_=this.alpha_=this.halfLife=void 0;this.alpha_=(this.halfLife=d)?Math.exp(Math.log(.5)/d):0;this.estimate_=e;this.totalWeight_=f}var d=b.prototype;return d.sample=function(b,d){var e=Math.pow(this.alpha_,b);this.estimate_=d*(1-e)+e*this.estimate_;this.totalWeight_+=b},d.getTotalWeight=
function(){return this.totalWeight_},d.getEstimate=function(){if(this.alpha_){var b=1-Math.pow(this.alpha_,this.totalWeight_);if(b)return this.estimate_/b}return this.estimate_},b}(),Ed=function(){function b(d,e,f,h){void 0===h&&(h=100);this.ttfb_=this.defaultTTFB_=this.fast_=this.slow_=this.minDelayMs_=this.minWeight_=this.defaultEstimate_=void 0;this.defaultEstimate_=f;this.minWeight_=.001;this.minDelayMs_=50;this.slow_=new Yb(d);this.fast_=new Yb(e);this.defaultTTFB_=h;this.ttfb_=new Yb(d)}var d=
b.prototype;return d.update=function(b,d){var e=this.slow_,f=this.fast_,h=this.ttfb_;e.halfLife!==b&&(this.slow_=new Yb(b,e.getEstimate(),e.getTotalWeight()));f.halfLife!==d&&(this.fast_=new Yb(d,f.getEstimate(),f.getTotalWeight()));h.halfLife!==b&&(this.ttfb_=new Yb(b,h.getEstimate(),h.getTotalWeight()))},d.sample=function(b,d){var e=Math.max(b,this.minDelayMs_)/1E3,f=8*d/e;this.fast_.sample(e,f);this.slow_.sample(e,f)},d.sampleTTFB=function(b){var d=b/1E3,d=Math.sqrt(2)*Math.exp(-Math.pow(d,2)/
2);this.ttfb_.sample(d,Math.max(b,5))},d.canEstimate=function(){return this.fast_.getTotalWeight()>=this.minWeight_},d.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},d.getEstimateTTFB=function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_},d.destroy=function(){},b}(),Rc=function(){function b(d){this.hls=void 0;this.lastLoadedFragLevel=this.lastLevelLoadSec=0;this.timer=
this._nextAutoLevel=-1;this.onCheck=this._abandonRulesCheck.bind(this);this.partCurrent=this.fragCurrent=null;this.bitrateTestDelay=0;this.bwEstimator=void 0;this.hls=d;d=d.config;this.bwEstimator=new Ed(d.abrEwmaSlowVoD,d.abrEwmaFastVoD,d.abrEwmaDefaultEstimate);this.registerListeners()}var d=b.prototype;return d.registerListeners=function(){var b=this.hls;b.on(G.FRAG_LOADING,this.onFragLoading,this);b.on(G.FRAG_LOADED,this.onFragLoaded,this);b.on(G.FRAG_BUFFERED,this.onFragBuffered,this);b.on(G.LEVEL_SWITCHING,
this.onLevelSwitching,this);b.on(G.LEVEL_LOADED,this.onLevelLoaded,this)},d.unregisterListeners=function(){var b=this.hls;b.off(G.FRAG_LOADING,this.onFragLoading,this);b.off(G.FRAG_LOADED,this.onFragLoaded,this);b.off(G.FRAG_BUFFERED,this.onFragBuffered,this);b.off(G.LEVEL_SWITCHING,this.onLevelSwitching,this);b.off(G.LEVEL_LOADED,this.onLevelLoaded,this)},d.destroy=function(){this.unregisterListeners();this.clearTimer();this.fragCurrent=this.partCurrent=this.hls=this.onCheck=null},d.onFragLoading=
function(b,d){var e,f=d.frag;this.ignoreFragment(f)||(this.fragCurrent=f,this.partCurrent=null!=(e=d.part)?e:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))},d.onLevelSwitching=function(b,d){this.clearTimer()},d.getTimeToLoadFrag=function(b,d,e,f){return b+e/d+(f?this.lastLevelLoadSec:0)},d.onLevelLoaded=function(b,d){var e=this.hls.config,f=d.stats,h=f.total,f=f.bwEstimate;ka(h)&&ka(f)&&(this.lastLevelLoadSec=8*h/f);d.details.live?this.bwEstimator.update(e.abrEwmaSlowLive,e.abrEwmaFastLive):
this.bwEstimator.update(e.abrEwmaSlowVoD,e.abrEwmaFastVoD)},d._abandonRulesCheck=function(){var b=this.fragCurrent,d=this.partCurrent,e=this.hls,f=e.autoLevelEnabled,h=e.media;if(b&&h){var g=performance.now(),k=d?d.stats:b.stats,l=d?d.duration:b.duration,g=g-k.loading.start;if(k.aborted||k.loaded&&k.loaded===k.total||0===b.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(f&&!h.paused&&h.playbackRate&&h.readyState){var n=e.mainForwardBufferInfo;if(null!==n){var f=this.bwEstimator.getEstimateTTFB(),
p=Math.abs(h.playbackRate);if(!(g<=Math.max(f,l/(2*p)*1E3)||(h=n.len/p,h>=2*l/p))){var n=k.loading.first?k.loading.first-k.loading.start:-1,p=k.loaded&&-1<n,q=this.bwEstimator.getEstimate(),r=e.levels,s=e.minAutoLevel,u=r[b.level],u=k.total||Math.max(k.loaded,Math.round(l*u.maxBitrate/8)),A=g-n;1>A&&p&&(A=Math.min(g,8*k.loaded/q));u=(A=p?1E3*k.loaded/A:0)?(u-k.loaded)/A:8*u/q+f/1E3;if(!(u<=h)){for(var v=A?8*A:q,F=Number.POSITIVE_INFINITY,A=b.level-1;A>s&&!((F=this.getTimeToLoadFrag(f/1E3,v,l*r[A].maxBitrate,
!r[A].details))<h);A--);F>=u||F>10*l||(e.nextLoadLevel=A,p?this.bwEstimator.sample(g-Math.min(f,n),k.loaded):this.bwEstimator.sampleTTFB(g),this.clearTimer(),S.warn("[abr] Fragment "+b.sn+(d?" part "+d.index:"")+" of level "+b.level+" is loading too slowly;\n      Time to underbuffer: "+h.toFixed(3)+" s\n      Estimated load time for current fragment: "+u.toFixed(3)+" s\n      Estimated load time for down switch fragment: "+F.toFixed(3)+" s\n      TTFB estimate: "+n+"\n      Current BW estimate: "+
(ka(q)?(q/1024).toFixed(3):"Unknown")+" Kb/s\n      New BW estimate: "+(this.bwEstimator.getEstimate()/1024).toFixed(3)+" Kb/s\n      Aborting and switching to level "+A),b.loader&&(this.fragCurrent=this.partCurrent=null,b.abortRequests()),e.trigger(G.FRAG_LOAD_EMERGENCY_ABORTED,{frag:b,part:d,stats:k}))}}}}}},d.onFragLoaded=function(b,d){var e=d.frag,f=d.part,h=f?f.stats:e.stats;if("main"===e.type&&this.bwEstimator.sampleTTFB(h.loading.first-h.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),
this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var g=this.hls.levels[e.level],k=(g.loaded?g.loaded.bytes:0)+h.loaded,l=(g.loaded?g.loaded.duration:0)+(f?f.duration:e.duration);g.loaded={bytes:k,duration:l};g.realBitrate=Math.round(8*k/l)}e.bitrateTest&&(this.onFragBuffered(G.FRAG_BUFFERED,{stats:h,frag:e,part:f,id:e.type}),e.bitrateTest=!1)}},d.onFragBuffered=function(b,d){var e=d.frag,f=d.part,f=null!=f&&f.stats.loaded?f.stats:e.stats;if(!f.aborted&&
!this.ignoreFragment(e)){var h=f.parsing.end-f.loading.start-Math.min(f.loading.first-f.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(h,f.loaded);f.bwEstimate=this.bwEstimator.getEstimate();e.bitrateTest?this.bitrateTestDelay=h/1E3:this.bitrateTestDelay=0}},d.ignoreFragment=function(b){return"main"!==b.type||"initSegment"===b.sn},d.clearTimer=function(){self.clearInterval(this.timer)},d.getNextABRAutoLevel=function(){var b=this.fragCurrent,d=this.partCurrent,e=this.hls,
f=e.maxAutoLevel,h=e.config,g=e.minAutoLevel,k=e.media,b=d?d.duration:b?b.duration:0,d=k&&0!==k.playbackRate?Math.abs(k.playbackRate):1,k=this.bwEstimator?this.bwEstimator.getEstimate():h.abrEwmaDefaultEstimate,e=e.mainForwardBufferInfo,e=(e?e.len:0)/d,d=this.findBestLevel(k,g,f,e,h.abrBandWidthFactor,h.abrBandWidthUpFactor);if(0<=d)return d;S.trace("[abr] "+(e?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var l=b?Math.min(b,h.maxStarvationDelay):h.maxStarvationDelay,
n=h.abrBandWidthFactor,p=h.abrBandWidthUpFactor;if(!e){var q=this.bitrateTestDelay;q&&(l=(b?Math.min(b,h.maxLoadingDelay):h.maxLoadingDelay)-q,S.trace("[abr] bitrate test took "+Math.round(1E3*q)+"ms, set first fragment max fetchDuration to "+Math.round(1E3*l)+" ms"),n=p=1)}return d=this.findBestLevel(k,g,f,e+l,n,p),Math.max(d,0)},d.findBestLevel=function(b,d,e,f,h,g){var k,l=this.fragCurrent,n=this.partCurrent,p=this.lastLoadedFragLevel,q=this.hls.levels,r=q[p],s=!(null==r||null==(k=r.details)||
!k.live);k=null==r?void 0:r.codecSet;for(var l=n?n.duration:l?l.duration:0,u=this.bwEstimator.getEstimateTTFB()/1E3,A=d,v=-1;e>=d;e--){var F=q[e];if(!F||k&&F.codecSet!==k)F&&(A=Math.min(e,A),v=Math.max(e,v));else{-1!==v&&S.trace("[abr] Skipped level(s) "+A+"-"+v+' with CODECS:"'+q[v].attrs.CODECS+'"; not compatible with "'+r.attrs.CODECS+'"');var D=F.details,F=(n?null==D?void 0:D.partTarget:null==D?void 0:D.averagetargetduration)||l,C=void 0,C=e<=p?h*b:g*b,z=q[e].maxBitrate,D=this.getTimeToLoadFrag(u,
C,z*F,void 0===D);if(S.trace("[abr] level:"+e+" adjustedbw-bitrate:"+Math.round(C-z)+" avgDuration:"+F.toFixed(1)+" maxFetchDuration:"+f.toFixed(1)+" fetchDuration:"+D.toFixed(1)),C>z&&(0===D||!ka(D)||s&&!this.bitrateTestDelay||D<f))return e}}return-1},f(b,[{key:"nextAutoLevel",get:function(){var b=this._nextAutoLevel,d=this.bwEstimator;if(-1!==b&&!d.canEstimate())return b;d=this.getNextABRAutoLevel();if(-1!==b){var e=this.hls.levels;if(e.length>Math.max(b,d)&&e[b].loadError<=e[d].loadError)return b}return-1!==
b&&(d=Math.min(b,d)),d},set:function(b){this._nextAutoLevel=b}}]),b}(),rd=function(){function b(){this.chunks=[];this.dataLength=0}var d=b.prototype;return d.push=function(b){this.chunks.push(b);this.dataLength+=b.length},d.flush=function(){var b,d=this.chunks,e=this.dataLength;if(d.length){if(1===d.length)d=d[0];else{for(var e=new Uint8Array(e),f=0,h=0;h<d.length;h++){var g=d[h];e.set(g,f);f+=g.length}d=e}d=(b=d,this.reset(),b)}else d=new Uint8Array(0);return d},d.reset=function(){this.dataLength=
this.chunks.length=0},b}(),Fd=function(b){function d(e,f,h){var g;return(g=b.call(this,e,f,h,"[audio-stream-controller]","audio")||this).videoBuffer=null,g.videoTrackCC=-1,g.waitingVideoCC=-1,g.bufferedTrack=null,g.switchingTrack=null,g.trackId=-1,g.waitingData=null,g.mainDetails=null,g.bufferFlushed=!1,g.cachedTrackLoadedData=null,g._registerListeners(),g}n(d,b);var e=d.prototype;return e.onHandlerDestroying=function(){this._unregisterListeners();this.switchingTrack=this.bufferedTrack=this.mainDetails=
null},e._registerListeners=function(){var b=this.hls;b.on(G.MEDIA_ATTACHED,this.onMediaAttached,this);b.on(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.on(G.MANIFEST_LOADING,this.onManifestLoading,this);b.on(G.LEVEL_LOADED,this.onLevelLoaded,this);b.on(G.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this);b.on(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);b.on(G.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this);b.on(G.ERROR,this.onError,this);b.on(G.BUFFER_RESET,this.onBufferReset,this);
b.on(G.BUFFER_CREATED,this.onBufferCreated,this);b.on(G.BUFFER_FLUSHED,this.onBufferFlushed,this);b.on(G.INIT_PTS_FOUND,this.onInitPtsFound,this);b.on(G.FRAG_BUFFERED,this.onFragBuffered,this)},e._unregisterListeners=function(){var b=this.hls;b.off(G.MEDIA_ATTACHED,this.onMediaAttached,this);b.off(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.off(G.MANIFEST_LOADING,this.onManifestLoading,this);b.off(G.LEVEL_LOADED,this.onLevelLoaded,this);b.off(G.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this);
b.off(G.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this);b.off(G.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this);b.off(G.ERROR,this.onError,this);b.off(G.BUFFER_RESET,this.onBufferReset,this);b.off(G.BUFFER_CREATED,this.onBufferCreated,this);b.off(G.BUFFER_FLUSHED,this.onBufferFlushed,this);b.off(G.INIT_PTS_FOUND,this.onInitPtsFound,this);b.off(G.FRAG_BUFFERED,this.onFragBuffered,this)},e.onInitPtsFound=function(b,d){var e=d.frag,f=d.initPTS,h=d.timescale;if("main"===d.id){var g=e.cc;this.initPTS[e.cc]=
{baseTime:f,timescale:h};this.log("InitPTS for cc: "+g+" found from main: "+f);this.videoTrackCC=g;"WAITING_INIT_PTS"===this.state&&this.tick()}},e.startLoad=function(b){if(!this.levels)return this.startPosition=b,void(this.state="STOPPED");var d=this.lastCurrentTime;this.stopLoad();this.setInterval(100);0<d&&-1===b?(this.log("Override startPosition with lastCurrentTime @"+d.toFixed(3)),b=d,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK");this.nextLoadPosition=this.startPosition=
this.lastCurrentTime=b;this.tick()},e.doTick=function(){switch(this.state){case "IDLE":this.doTickIdle();break;case "WAITING_TRACK":var d,e=this.levels,f=this.trackId;if(e=null==e||null==(d=e[f])?void 0:d.details){if(this.waitForCdnTuneIn(e))break;this.state="WAITING_INIT_PTS"}break;case "FRAG_LOADING_WAITING_RETRY":d=performance.now();f=this.retryDate;(!f||d>=f||null!=(e=this.media)&&e.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),
this.state="IDLE");break;case "WAITING_INIT_PTS":var h=this.waitingData;h?(d=h.frag,e=h.part,f=h.cache,h=h.complete,void 0!==this.initPTS[d.cc]?(this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING",d={frag:d,part:e,payload:f.flush(),networkDetails:null},this._handleFragmentLoadProgress(d),h&&b.prototype._handleFragmentLoadComplete.call(this,d)):this.videoTrackCC!==this.waitingVideoCC?(this.log("Waiting fragment cc ("+d.cc+") cancelled because video is at cc "+this.videoTrackCC),
this.clearWaitingFragment()):(e=this.getLoadPosition(),e=qb.bufferInfo(this.mediaBuffer,e,this.config.maxBufferHole),0>ub(e.end,this.config.maxFragLookUpTolerance,d)&&(this.log("Waiting fragment cc ("+d.cc+") @ "+d.start+" cancelled because another fragment at "+e.end+" is needed"),this.clearWaitingFragment()))):this.state="IDLE"}this.onTickEnd()},e.clearWaitingFragment=function(){var b=this.waitingData;b&&(this.fragmentTracker.removeFragment(b.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=
"IDLE")},e.resetLoadingState=function(){this.clearWaitingFragment();b.prototype.resetLoadingState.call(this)},e.onTickEnd=function(){var b=this.media;null!=b&&b.readyState&&(this.lastCurrentTime=b.currentTime)},e.doTickIdle=function(){var b=this.hls,d=this.levels,e=this.media,f=this.trackId,h=b.config;if(null!=d&&d[f]&&(e||!this.startFragRequested&&h.startFragPrefetch))if(d=d[f],h=d.details,!h||h.live&&this.levelLastLoaded!==f||this.waitForCdnTuneIn(h))this.state="WAITING_TRACK";else if(f=this.mediaBuffer?
this.mediaBuffer:this.media,this.bufferFlushed&&f&&(this.bufferFlushed=!1,this.afterBufferFlushed(f,"audio","audio")),f=this.getFwdBufferInfo(f,"audio"),null!==f){var g=this.bufferedTrack,k=this.switchingTrack;if(!k&&this._streamEnded(f,h))return b.trigger(G.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");var b=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),l=f.len,n=this.getMaxBufferLength(null==b?void 0:b.len);if(!(l>=n)||k){var p=h.fragments[0].start,l=f.end;if(k&&
e){var q=this.getLoadPosition();g&&k.attrs!==g.attrs&&(l=q);h.PTSKnown&&q<p&&(f.end>p||f.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),e.currentTime=p+.05)}e=this.getNextFragment(l,h);g=!1;if(e&&this.isLoopLoading(e,l)&&(g=!!e.gap,e=this.getNextFragmentLoopLoading(e,h,f,"main",n)),e){if((h=b&&e.start>b.end+h.targetduration)||(null==b||!b.len)&&f.len)if(n=this.fragmentTracker.getBufferedFrag(e.start,"main"),null===n||(g||(g=!!n.gap||!!h&&0===b.len),
h&&!g||g&&f.nextStart&&f.nextStart<n.end))return;this.loadFragment(e,d,l)}else this.bufferFlushed=!0}}},e.getMaxBufferLength=function(d){var e=b.prototype.getMaxBufferLength.call(this);return d?Math.min(Math.max(e,d),this.config.maxMaxBufferLength):e},e.onMediaDetaching=function(){this.videoBuffer=null;b.prototype.onMediaDetaching.call(this)},e.onAudioTracksUpdated=function(b,d){var e=d.audioTracks;this.resetTransmuxer();this.levels=e.map(function(b){return new Za(b)})},e.onAudioTrackSwitching=function(b,
d){var e=!!d.url;this.trackId=d.id;var f=this.fragCurrent;f&&(f.abortRequests(),this.removeUnbufferedFrags(f.start));this.resetLoadingState();e?this.setInterval(100):this.resetTransmuxer();e?(this.switchingTrack=d,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=d,this.state="STOPPED");this.tick()},e.onManifestLoading=function(){this.mainDetails=null;this.fragmentTracker.removeAllFragments();this.startPosition=this.lastCurrentTime=0;this.bufferFlushed=!1;this.switchingTrack=this.bufferedTrack=
null},e.onLevelLoaded=function(b,d){this.mainDetails=d.details;null!==this.cachedTrackLoadedData&&(this.hls.trigger(G.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},e.onAudioTrackLoaded=function(b,d){var e;if(null!=this.mainDetails){var f=this.levels,h=d.details,g=d.id;if(f){this.log("Track "+g+" loaded ["+h.startSN+","+h.endSN+"],duration:"+h.totalduration);var f=f[g],k=0;if(h.live||null!=(e=f.details)&&e.live){e=this.mainDetails;if(h.fragments[0]||(h.deltaUpdateFailed=
!0),h.deltaUpdateFailed||!e)return;!f.details&&h.hasProgramDateTime&&e.hasProgramDateTime?(Qb(h,e),k=h.fragments[0].start):k=this.alignPlaylists(h,f.details)}f.details=h;this.levelLastLoaded=g;this.startFragRequested||!this.mainDetails&&h.live||this.setStartPosition(f.details,k);"WAITING_TRACK"!==this.state||this.waitForCdnTuneIn(h)||(this.state="IDLE");this.tick()}else this.warn("Audio tracks were reset while loading level "+g)}else this.cachedTrackLoadedData=d},e._handleFragmentLoadProgress=function(b){var d,
e=b.frag,f=b.part;b=b.payload;var h=this.config,g=this.trackId,k=this.levels;if(k){var l=k[g];if(l){k=l.details;if(!k)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(e.start);h=h.defaultAudioCodec||l.audioCodec||"mp4a.40.2";(l=this.transmuxer)||(l=this.transmuxer=new Qd(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var n=this.initPTS[e.cc],p=null==(d=e.initSegment)?void 0:d.data;void 0!==
n?(d=f?f.index:-1,d=new nd(e.level,e.sn,e.stats.chunkCount,b.byteLength,d,-1!==d),l.push(b,p,h,"",e,f,k.totalduration,!1,d,n)):(this.log("Unknown video PTS for cc "+e.cc+", waiting for video PTS before demuxing audio frag "+e.sn+" of ["+k.startSN+" ,"+k.endSN+"],track "+g),(this.waitingData=this.waitingData||{frag:e,part:f,cache:new rd,complete:!1}).cache.push(new Uint8Array(b)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS")}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+
e.sn+" of level "+e.level+" will not be buffered")},e._handleFragmentLoadComplete=function(d){this.waitingData?this.waitingData.complete=!0:b.prototype._handleFragmentLoadComplete.call(this,d)},e.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null;this.loadedmetadata=!1},e.onBufferCreated=function(b,d){var e=d.tracks.audio;e&&(this.mediaBuffer=e.buffer||null);d.tracks.video&&(this.videoBuffer=d.tracks.video.buffer||null)},e.onFragBuffered=function(b,d){var e,f=d.frag,g=d.part;"audio"===
f.type?this.fragContextChanged(f)?this.warn("Fragment "+f.sn+(g?" p: "+g.index:"")+" of level "+f.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+(this.switchingTrack?this.switchingTrack.name:"false")):("initSegment"!==f.sn&&(this.fragPrevious=f,(e=this.switchingTrack)&&(this.bufferedTrack=e,this.switchingTrack=null,this.hls.trigger(G.AUDIO_TRACK_SWITCHED,h({},e)))),this.fragBufferedComplete(f,g)):this.loadedmetadata||"main"!==f.type||null!=(e=this.videoBuffer||
this.media)&&e.buffered.length&&(this.loadedmetadata=!0)},e.onError=function(d,e){var f;if(e.fatal)this.state="ERROR";else switch(e.details){case V.FRAG_GAP:case V.FRAG_PARSING_ERROR:case V.FRAG_DECRYPT_ERROR:case V.FRAG_LOAD_ERROR:case V.FRAG_LOAD_TIMEOUT:case V.KEY_LOAD_ERROR:case V.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",e);break;case V.AUDIO_TRACK_LOAD_ERROR:case V.AUDIO_TRACK_LOAD_TIMEOUT:case V.LEVEL_PARSING_ERROR:e.levelRetry||"WAITING_TRACK"!==this.state||"audioTrack"!==(null==
(f=e.context)?void 0:f.type)||(this.state="IDLE");break;case V.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)break;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,b.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case V.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}},e.onBufferFlushed=function(b,d){"audio"===d.type&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))},e._handleTransmuxComplete=function(b){var d,e=this.hls,f=b.remuxResult,
h=b.chunkMeta,k=this.getCurrentContext(h);if(k){b=k.frag;var n=k.part,k=k.level.details,p=f.audio,q=f.text,r=f.id3,f=f.initSegment;if(!this.fragContextChanged(b)&&k){if(this.state="PARSING",this.switchingTrack&&p&&this.completeAudioSwitch(this.switchingTrack),null!=f&&f.tracks&&(this._bufferInitSegment(f.tracks,b,h),e.trigger(G.FRAG_PARSING_INIT_SEGMENT,{frag:b,id:"audio",tracks:f.tracks})),p){var f=p.startPTS,Z=p.endPTS,s=p.startDTS,u=p.endDTS;n&&(n.elementaryStreams.audio={startPTS:f,endPTS:Z,startDTS:s,
endDTS:u});b.setElementaryStreamInfo("audio",f,Z,s,u);this.bufferFragmentData(p,b,n,h)}null!=r&&null!=(d=r.samples)&&d.length&&(d=g({id:"audio",frag:b,details:k},r),e.trigger(G.FRAG_PARSING_METADATA,d));q&&(d=g({id:"audio",frag:b,details:k},q),e.trigger(G.FRAG_PARSING_USERDATA,d))}else this.fragmentTracker.removeFragment(b)}else this.resetWhenMissingContext(h)},e._bufferInitSegment=function(b,d,e){if("PARSING"===this.state){b.video&&delete b.video;var f=b.audio;f&&(f.levelCodec=f.codec,f.id="audio",
this.log("Init audio buffer, container:"+f.container+", codecs[parsed]\x3d["+f.codec+"]"),this.hls.trigger(G.BUFFER_CODECS,b),b=f.initSegment,null!=b&&b.byteLength&&this.hls.trigger(G.BUFFER_APPENDING,{type:"audio",frag:d,part:null,chunkMeta:e,parent:d.type,data:b}),this.tick())}},e.loadFragment=function(d,e,f){var h,g=this.fragmentTracker.getState(d);this.fragCurrent=d;this.switchingTrack||"NOT_LOADED"===g||"PARTIAL"===g?"initSegment"===d.sn?this._loadInitSegment(d,e):null!=(h=e.details)&&h.live&&
!this.initPTS[d.cc]?(this.log("Waiting for video PTS in continuity counter "+d.cc+" of live stream before loading audio fragment "+d.sn+" of level "+this.trackId),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,b.prototype.loadFragment.call(this,d,e,f)):this.clearTrackerIfNeeded(d)},e.completeAudioSwitch=function(d){var e=this.hls,f=this.bufferedTrack,f=null==f?void 0:f.attrs,g=d.attrs;this.media&&f&&(f.CHANNELS!==g.CHANNELS||f.NAME!==g.NAME||f.LANGUAGE!==g.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),
b.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio"));this.bufferedTrack=d;this.switchingTrack=null;e.trigger(G.AUDIO_TRACK_SWITCHED,h({},d))},d}(Tc),id=function(b){function d(e){var f;return(f=b.call(this,e,"[audio-track-controller]")||this).tracks=[],f.groupId=null,f.tracksInGroup=[],f.trackId=-1,f.currentTrack=null,f.selectDefaultTrack=!0,f.registerListeners(),f}n(d,b);var e=d.prototype;return e.registerListeners=function(){var b=this.hls;b.on(G.MANIFEST_LOADING,this.onManifestLoading,
this);b.on(G.MANIFEST_PARSED,this.onManifestParsed,this);b.on(G.LEVEL_LOADING,this.onLevelLoading,this);b.on(G.LEVEL_SWITCHING,this.onLevelSwitching,this);b.on(G.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this);b.on(G.ERROR,this.onError,this)},e.unregisterListeners=function(){var b=this.hls;b.off(G.MANIFEST_LOADING,this.onManifestLoading,this);b.off(G.MANIFEST_PARSED,this.onManifestParsed,this);b.off(G.LEVEL_LOADING,this.onLevelLoading,this);b.off(G.LEVEL_SWITCHING,this.onLevelSwitching,this);b.off(G.AUDIO_TRACK_LOADED,
this.onAudioTrackLoaded,this);b.off(G.ERROR,this.onError,this)},e.destroy=function(){this.unregisterListeners();this.tracks.length=0;this.tracksInGroup.length=0;this.currentTrack=null;b.prototype.destroy.call(this)},e.onManifestLoading=function(){this.tracks=[];this.groupId=null;this.tracksInGroup=[];this.trackId=-1;this.currentTrack=null;this.selectDefaultTrack=!0},e.onManifestParsed=function(b,d){this.tracks=d.audioTracks||[]},e.onAudioTrackLoaded=function(b,d){var e=d.id,f=d.groupId,h=d.details,
g=this.tracksInGroup[e];if(g&&g.groupId===f){var k=g.details;g.details=d.details;this.log("audio-track "+e+' "'+g.name+'" lang:'+g.lang+" group:"+f+" loaded ["+h.startSN+"-"+h.endSN+"]");e===this.trackId&&this.playlistLoaded(e,d,k)}else this.warn("Track with id:"+e+" and group:"+f+" not found in active group "+g.groupId)},e.onLevelLoading=function(b,d){this.switchLevel(d.level)},e.onLevelSwitching=function(b,d){this.switchLevel(d.level)},e.switchLevel=function(b){b=this.hls.levels[b];if(null!=b&&
b.audioGroupIds){var d=b.audioGroupIds[b.urlId];if(this.groupId!==d){this.groupId=d||null;b=this.tracks.filter(function(b){return!d||b.groupId===d});this.selectDefaultTrack&&!b.some(function(b){return b.default})&&(this.selectDefaultTrack=!1);this.tracksInGroup=b;var e={audioTracks:b};this.log("Updating audio tracks, "+b.length+" track(s) found in group:"+d);this.hls.trigger(G.AUDIO_TRACKS_UPDATED,e);this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}},
e.onError=function(b,d){!d.fatal&&d.context&&"audioTrack"===d.context.type&&d.context.id===this.trackId&&d.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(d))},e.setAudioTrack=function(b){var d=this.tracksInGroup;if(0>b||b>=d.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var e=this.currentTrack;d[this.trackId];d=d[b];if(this.log("Switching to audio-track "+b+' "'+d.name+'" lang:'+d.lang+" group:"+d.groupId),this.trackId=b,this.currentTrack=
d,this.selectDefaultTrack=!1,this.hls.trigger(G.AUDIO_TRACK_SWITCHING,h({},d)),!d.details||d.details.live)b=this.switchParams(d.url,null==e?void 0:e.details),this.loadPlaylist(b)}},e.selectInitialTrack=function(){var b=this.tracksInGroup,d=this.findTrackId(this.currentTrack)|this.findTrackId(null);-1!==d?this.setAudioTrack(d):(b=Error("No track found for running audio group-ID: "+this.groupId+" track count: "+b.length),this.warn(b.message),this.hls.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.AUDIO_TRACK_LOAD_ERROR,
fatal:!0,error:b}))},e.findTrackId=function(b){for(var d=this.tracksInGroup,e=0;e<d.length;e++){var f=d[e];if(!this.selectDefaultTrack||f.default)if(!b||b.attrs["STABLE-RENDITION-ID"]===f.attrs["STABLE-RENDITION-ID"]||b.name===f.name&&b.lang===f.lang)return f.id}return-1},e.loadPlaylist=function(d){b.prototype.loadPlaylist.call(this);var e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){var f=e.id,h=e.groupId,g=e.url;if(d)try{g=d.addDirectives(g)}catch(k){this.warn("Could not construct new URL with HLS Delivery Directives: "+
k)}this.log("loading audio-track playlist "+f+' "'+e.name+'" lang:'+e.lang+" group:"+h);this.clearTimer();this.hls.trigger(G.AUDIO_TRACK_LOADING,{url:g,id:f,groupId:h,deliveryDirectives:d||null})}},f(d,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(b){this.selectDefaultTrack=!1;this.setAudioTrack(b)}}]),d}(Hc),ad=function(b){function d(e,f,h){var g;return(g=b.call(this,e,f,h,"[subtitle-stream-controller]","subtitle")||
this).levels=[],g.currentTrackId=-1,g.tracksBuffered=[],g.mainDetails=null,g._registerListeners(),g}n(d,b);var e=d.prototype;return e.onHandlerDestroying=function(){this._unregisterListeners();this.mainDetails=null},e._registerListeners=function(){var b=this.hls;b.on(G.MEDIA_ATTACHED,this.onMediaAttached,this);b.on(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.on(G.MANIFEST_LOADING,this.onManifestLoading,this);b.on(G.LEVEL_LOADED,this.onLevelLoaded,this);b.on(G.ERROR,this.onError,this);b.on(G.SUBTITLE_TRACKS_UPDATED,
this.onSubtitleTracksUpdated,this);b.on(G.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this);b.on(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);b.on(G.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this);b.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this);b.on(G.FRAG_BUFFERED,this.onFragBuffered,this)},e._unregisterListeners=function(){var b=this.hls;b.off(G.MEDIA_ATTACHED,this.onMediaAttached,this);b.off(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.off(G.MANIFEST_LOADING,this.onManifestLoading,
this);b.off(G.LEVEL_LOADED,this.onLevelLoaded,this);b.off(G.ERROR,this.onError,this);b.off(G.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this);b.off(G.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this);b.off(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);b.off(G.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this);b.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this);b.off(G.FRAG_BUFFERED,this.onFragBuffered,this)},e.startLoad=function(b){this.stopLoad();this.state="IDLE";
this.setInterval(500);this.nextLoadPosition=this.startPosition=this.lastCurrentTime=b;this.tick()},e.onManifestLoading=function(){this.mainDetails=null;this.fragmentTracker.removeAllFragments()},e.onMediaDetaching=function(){this.tracksBuffered=[];b.prototype.onMediaDetaching.call(this)},e.onLevelLoaded=function(b,d){this.mainDetails=d.details},e.onSubtitleFragProcessed=function(b,d){var e=d.frag,f=d.success;if(this.fragPrevious=e,this.state="IDLE",f)if(f=this.tracksBuffered[this.currentTrackId]){for(var h,
g=e.start,k=0;k<f.length;k++)if(g>=f[k].start&&g<=f[k].end){h=f[k];break}k=e.start+e.duration;h?h.end=k:(h={start:g,end:k},f.push(h));this.fragmentTracker.fragBuffered(e)}},e.onBufferFlushing=function(b,d){var e=d.startOffset,f=d.endOffset;if(0===e&&f!==Number.POSITIVE_INFINITY){var h=this.currentTrackId,g=this.levels;if(g.length&&g[h]&&g[h].details){var k=f-g[h].details.targetduration;0>=k||(d.endOffsetSubtitles=Math.max(0,k),this.tracksBuffered.forEach(function(b){for(var d=0;d<b.length;)if(b[d].end<=
k)b.shift();else{if(!(b[d].start<k))break;b[d].start=k;d++}}),this.fragmentTracker.removeFragmentsInRange(e,k,"subtitle"))}}},e.onFragBuffered=function(b,d){var e;this.loadedmetadata||"main"!==d.frag.type||null!=(e=this.media)&&e.buffered.length&&(this.loadedmetadata=!0)},e.onError=function(b,d){var e=d.frag;"subtitle"===(null==e?void 0:e.type)&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))},e.onSubtitleTracksUpdated=function(b,d){var e=this,f=d.subtitleTracks;
Fc(this.levels,f)?this.levels=f.map(function(b){return new Za(b)}):(this.tracksBuffered=[],this.levels=f.map(function(b){b=new Za(b);return e.tracksBuffered[b.id]=[],b}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)},e.onSubtitleTrackSwitch=function(b,d){if(this.currentTrackId=d.id,this.levels.length&&-1!==this.currentTrackId){var e=this.levels[this.currentTrackId];null!=e&&e.details?this.mediaBuffer=this.mediaBufferTimeRanges:
this.mediaBuffer=null;e&&this.setInterval(500)}else this.clearInterval()},e.onSubtitleTrackLoaded=function(b,d){var e,f=d.details,h=d.id,g=this.currentTrackId,k=this.levels;if(k.length){var l=k[g];if(!(h>=k.length||h!==g)&&l){this.mediaBuffer=this.mediaBufferTimeRanges;g=0;if(f.live||null!=(e=l.details)&&e.live){e=this.mainDetails;if(f.deltaUpdateFailed||!e)return;k=e.fragments[0];l.details?0===(g=this.alignPlaylists(f,l.details))&&k&&oa(f,g=k.start):f.hasProgramDateTime&&e.hasProgramDateTime?(Qb(f,
e),g=f.fragments[0].start):k&&oa(f,g=k.start)}l.details=f;this.levelLastLoaded=h;this.startFragRequested||!this.mainDetails&&f.live||this.setStartPosition(l.details,g);this.tick();f.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(pb(null,f.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0))}}},e._handleFragmentLoadComplete=function(b){var d=this,e=b.frag;b=b.payload;var f=e.decryptdata,h=this.hls;if(!this.fragContextChanged(e)&&
b&&0<b.byteLength&&f&&f.key&&f.iv&&"AES-128"===f.method){var g=performance.now();this.decrypter.decrypt(new Uint8Array(b),f.key.buffer,f.iv.buffer).catch(function(b){throw h.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.FRAG_DECRYPT_ERROR,fatal:!1,error:b,reason:b.message,frag:e}),b;}).then(function(b){var d=performance.now();h.trigger(G.FRAG_DECRYPTED,{frag:e,payload:b,stats:{tstart:g,tdecrypt:d}})}).catch(function(b){d.warn(b.name+": "+b.message);d.state="IDLE"})}},e.doTick=function(){if(this.media){if("IDLE"===
this.state){var b=this.levels,d=b[this.currentTrackId];if(b.length&&d&&d.details){var b=d.details,e=b.targetduration,f=this.config,h=this.getLoadPosition(),g=qb.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],h-e,f.maxBufferHole),h=g.end,g=g.len,k=this.getFwdBufferInfo(this.media,"main");if(!(g>this.getMaxBufferLength(null==k?void 0:k.len)+e)){var e=b.fragments,k=e.length,l=null,g=this.fragPrevious;h<b.edge?(b=f.maxFragLookUpTolerance,!(l=pb(g,e,Math.max(e[0].start,h),b))&&g&&g.start<e[0].start&&
(l=e[0])):l=e[k-1];l&&(l=this.mapToInitFragWhenRequired(l),"NOT_LOADED"===this.fragmentTracker.getState(l)&&this.loadFragment(l,d,h))}}}}else this.state="IDLE"},e.getMaxBufferLength=function(d){var e=b.prototype.getMaxBufferLength.call(this);return d?Math.max(e,d):e},e.loadFragment=function(d,e,f){this.fragCurrent=d;"initSegment"===d.sn?this._loadInitSegment(d,e):(this.startFragRequested=!0,b.prototype.loadFragment.call(this,d,e,f))},f(d,[{key:"mediaBufferTimeRanges",get:function(){return new Gd(this.tracksBuffered[this.currentTrackId]||
[])}}]),d}(Tc),Gd=function(b){this.buffered=void 0;var d=function(d,e,f){if((e>>>=0)>f-1)throw new DOMException("Failed to execute '"+d+"' on 'TimeRanges': The index provided ("+e+") is greater than the maximum bound ("+f+")");return b[e][d]};this.buffered={get length(){return b.length},end:function(e){return d("end",e,b.length)},start:function(e){return d("start",e,b.length)}}},bd=function(b){function d(e){var f;return(f=b.call(this,e,"[subtitle-track-controller]")||this).media=null,f.tracks=[],
f.groupId=null,f.tracksInGroup=[],f.trackId=-1,f.selectDefaultTrack=!0,f.queuedDefaultTrack=-1,f.trackChangeListener=function(){return f.onTextTracksChanged()},f.asyncPollTrackChange=function(){return f.pollTrackChange(0)},f.useTextTrackPolling=!1,f.subtitlePollingInterval=-1,f._subtitleDisplay=!0,f.registerListeners(),f}n(d,b);var e=d.prototype;return e.destroy=function(){this.unregisterListeners();this.tracks.length=0;this.tracksInGroup.length=0;this.trackChangeListener=this.asyncPollTrackChange=
null;b.prototype.destroy.call(this)},e.registerListeners=function(){var b=this.hls;b.on(G.MEDIA_ATTACHED,this.onMediaAttached,this);b.on(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.on(G.MANIFEST_LOADING,this.onManifestLoading,this);b.on(G.MANIFEST_PARSED,this.onManifestParsed,this);b.on(G.LEVEL_LOADING,this.onLevelLoading,this);b.on(G.LEVEL_SWITCHING,this.onLevelSwitching,this);b.on(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);b.on(G.ERROR,this.onError,this)},e.unregisterListeners=
function(){var b=this.hls;b.off(G.MEDIA_ATTACHED,this.onMediaAttached,this);b.off(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.off(G.MANIFEST_LOADING,this.onManifestLoading,this);b.off(G.MANIFEST_PARSED,this.onManifestParsed,this);b.off(G.LEVEL_LOADING,this.onLevelLoading,this);b.off(G.LEVEL_SWITCHING,this.onLevelSwitching,this);b.off(G.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this);b.off(G.ERROR,this.onError,this)},e.onMediaAttached=function(b,d){(this.media=d.media)&&(-1<this.queuedDefaultTrack&&
(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},e.pollTrackChange=function(b){self.clearInterval(this.subtitlePollingInterval);this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,b)},e.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),
this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),-1<this.trackId&&(this.queuedDefaultTrack=this.trackId),Lc(this.media.textTracks).forEach(function(b){Ta(b)}),this.subtitleTrack=-1,this.media=null)},e.onManifestLoading=function(){this.tracks=[];this.groupId=null;this.tracksInGroup=[];this.trackId=-1;this.selectDefaultTrack=!0},e.onManifestParsed=function(b,d){this.tracks=d.subtitleTracks},e.onSubtitleTrackLoaded=function(b,d){var e=d.id,f=d.details,
h=this.tracksInGroup[this.trackId];if(h){var g=h.details;h.details=d.details;this.log("subtitle track "+e+" loaded ["+f.startSN+"-"+f.endSN+"]");e===this.trackId&&this.playlistLoaded(e,d,g)}else this.warn("Invalid subtitle track id "+e)},e.onLevelLoading=function(b,d){this.switchLevel(d.level)},e.onLevelSwitching=function(b,d){this.switchLevel(d.level)},e.switchLevel=function(b){b=this.hls.levels[b];if(null!=b&&b.textGroupIds){var d=b.textGroupIds[b.urlId];b=this.tracksInGroup?this.tracksInGroup[this.trackId]:
void 0;if(this.groupId!==d){var e=this.tracks.filter(function(b){return!d||b.groupId===d});this.tracksInGroup=e;var f=this.findTrackId(null==b?void 0:b.name)||this.findTrackId();this.groupId=d||null;var h={subtitleTracks:e};this.log("Updating subtitle tracks, "+e.length+' track(s) found in "'+d+'" group-id');this.hls.trigger(G.SUBTITLE_TRACKS_UPDATED,h);-1!==f&&this.setSubtitleTrack(f,b)}else this.shouldReloadPlaylist(b)&&this.setSubtitleTrack(this.trackId,b)}},e.findTrackId=function(b){for(var d=
this.tracksInGroup,e=0;e<d.length;e++){var f=d[e];if(!(this.selectDefaultTrack&&!f.default||b&&b!==f.name))return f.id}return-1},e.onError=function(b,d){!d.fatal&&d.context&&"subtitleTrack"===d.context.type&&d.context.id===this.trackId&&d.context.groupId===this.groupId&&this.checkRetry(d)},e.loadPlaylist=function(d){b.prototype.loadPlaylist.call(this);var e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){var f=e.id,h=e.groupId,e=e.url;if(d)try{e=d.addDirectives(e)}catch(g){this.warn("Could not construct new URL with HLS Delivery Directives: "+
g)}this.log("Loading subtitle playlist for id "+f);this.hls.trigger(G.SUBTITLE_TRACK_LOADING,{url:e,id:f,groupId:h,deliveryDirectives:d||null})}},e.toggleTrackModes=function(b){var d=this,e=this.media,f=this.trackId;if(e){var h=Lc(e.textTracks),e=h.filter(function(b){return b.groupId===d.groupId});-1===b?[].slice.call(h).forEach(function(b){b.mode="disabled"}):(f=e[f])&&(f.mode="disabled");(b=e[b])&&(b.mode=this.subtitleDisplay?"showing":"hidden")}},e.setSubtitleTrack=function(b,d){var e,f=this.tracksInGroup;
this.media?(this.trackId!==b&&this.toggleTrackModes(b),this.trackId===b&&(-1===b||null!=(e=f[b])&&e.details)||-1>b||b>=f.length)||(this.clearTimer(),e=f[b],(this.log("Switching to subtitle-track "+b+(e?' "'+e.name+'" lang:'+e.lang+" group:"+e.groupId:"")),this.trackId=b,e)?(f=e.groupId,this.hls.trigger(G.SUBTITLE_TRACK_SWITCH,{id:e.id,groupId:void 0===f?"":f,name:e.name,type:e.type,url:e.url}),e=this.switchParams(e.url,null==d?void 0:d.details),this.loadPlaylist(e)):this.hls.trigger(G.SUBTITLE_TRACK_SWITCH,
{id:b})):this.queuedDefaultTrack=b},e.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var b=-1,d=Lc(this.media.textTracks),e=0;e<d.length;e++)if("hidden"===d[e].mode)b=e;else if("showing"===d[e].mode){b=e;break}this.subtitleTrack!==b&&(this.subtitleTrack=b)}},f(d,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(b){this._subtitleDisplay=b;-1<this.trackId&&
this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(b){this.selectDefaultTrack=!1;this.setSubtitleTrack(b,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}}]),d}(Hc),jd=function(){function b(d){this.buffers=void 0;this.queues={video:[],audio:[],audiovideo:[]};this.buffers=d}var d=b.prototype;return d.append=function(b,d){var e=this.queues[d];e.push(b);1===e.length&&this.buffers[d]&&
this.executeNext(d)},d.insertAbort=function(b,d){this.queues[d].unshift(b);this.executeNext(d)},d.appendBlocker=function(b){var d,e=new Promise(function(b){d=b});return this.append({execute:d,onStart:function(){},onComplete:function(){},onError:function(){}},b),e},d.executeNext=function(b){var d=this.buffers[b],e=this.queues[b];if(e.length){var f=e[0];try{f.execute()}catch(h){S.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),f.onError(h),null!=d&&d.updating||
(e.shift(),this.executeNext(b))}}},d.shiftAndExecuteNext=function(b){this.queues[b].shift();this.executeNext(b)},d.current=function(b){return this.queues[b][0]},b}(),Id=Kb(),vd=/([ha]vc.)(?:\.[^.,]+)+/,Yd=function(){function b(d){var e=this;this._objectUrl=this.details=null;this.hls=this.listeners=this.operationQueue=void 0;this._bufferCodecEventsTotal=this.bufferCodecEventsExpected=0;this.lastMpegAudioChunk=this.mediaSource=this.media=null;this.appendError=0;this.tracks={};this.pendingTracks={};
this.sourceBuffer=void 0;this._onMediaSourceOpen=function(){var b=e.media,d=e.mediaSource;S.log("[buffer-controller]: Media source opened");b&&(b.removeEventListener("emptied",e._onMediaEmptied),e.updateMediaElementDuration(),e.hls.trigger(G.MEDIA_ATTACHED,{media:b}));d&&d.removeEventListener("sourceopen",e._onMediaSourceOpen);e.checkPendingTracks()};this._onMediaSourceClose=function(){S.log("[buffer-controller]: Media source closed")};this._onMediaSourceEnded=function(){S.log("[buffer-controller]: Media source ended")};
this._onMediaEmptied=function(){var b=e.media,d=e._objectUrl;b&&b.src!==d&&S.error("Media element src was set while attaching MediaSource ("+d+" \x3e "+b.src+")")};this.hls=d;this._initSourceBuffer();this.registerListeners()}var d=b.prototype;return d.hasSourceTypes=function(){return 0<this.getSourceBufferTypes().length||0<Object.keys(this.pendingTracks).length},d.destroy=function(){this.unregisterListeners();this.lastMpegAudioChunk=this.details=null},d.registerListeners=function(){var b=this.hls;
b.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this);b.on(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.on(G.MANIFEST_PARSED,this.onManifestParsed,this);b.on(G.BUFFER_RESET,this.onBufferReset,this);b.on(G.BUFFER_APPENDING,this.onBufferAppending,this);b.on(G.BUFFER_CODECS,this.onBufferCodecs,this);b.on(G.BUFFER_EOS,this.onBufferEos,this);b.on(G.BUFFER_FLUSHING,this.onBufferFlushing,this);b.on(G.LEVEL_UPDATED,this.onLevelUpdated,this);b.on(G.FRAG_PARSED,this.onFragParsed,this);b.on(G.FRAG_CHANGED,this.onFragChanged,
this)},d.unregisterListeners=function(){var b=this.hls;b.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this);b.off(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.off(G.MANIFEST_PARSED,this.onManifestParsed,this);b.off(G.BUFFER_RESET,this.onBufferReset,this);b.off(G.BUFFER_APPENDING,this.onBufferAppending,this);b.off(G.BUFFER_CODECS,this.onBufferCodecs,this);b.off(G.BUFFER_EOS,this.onBufferEos,this);b.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this);b.off(G.LEVEL_UPDATED,this.onLevelUpdated,this);
b.off(G.FRAG_PARSED,this.onFragParsed,this);b.off(G.FRAG_CHANGED,this.onFragChanged,this)},d._initSourceBuffer=function(){this.sourceBuffer={};this.operationQueue=new jd(this.sourceBuffer);this.listeners={audio:[],video:[],audiovideo:[]};this.lastMpegAudioChunk=null},d.onManifestParsed=function(b,d){var e=2;(d.audio&&!d.video||!d.altAudio)&&(e=1);this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=e;this.details=null;S.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},
d.onMediaAttaching=function(b,d){var e=this.media=d.media;if(e&&Id){var f=this.mediaSource=new Id;f.addEventListener("sourceopen",this._onMediaSourceOpen);f.addEventListener("sourceended",this._onMediaSourceEnded);f.addEventListener("sourceclose",this._onMediaSourceClose);e.src=self.URL.createObjectURL(f);this._objectUrl=e.src;e.addEventListener("emptied",this._onMediaEmptied)}},d.onMediaDetaching=function(){var b=this.media,d=this.mediaSource,e=this._objectUrl;if(d){if(S.log("[buffer-controller]: media source detaching"),
"open"===d.readyState)try{d.endOfStream()}catch(f){S.warn("[buffer-controller]: onMediaDetaching: "+f.message+" while calling endOfStream")}this.onBufferReset();d.removeEventListener("sourceopen",this._onMediaSourceOpen);d.removeEventListener("sourceended",this._onMediaSourceEnded);d.removeEventListener("sourceclose",this._onMediaSourceClose);b&&(b.removeEventListener("emptied",this._onMediaEmptied),e&&self.URL.revokeObjectURL(e),b.src===e?(b.removeAttribute("src"),b.load()):S.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup"));
this._objectUrl=this.media=this.mediaSource=null;this.bufferCodecEventsExpected=this._bufferCodecEventsTotal;this.pendingTracks={};this.tracks={}}this.hls.trigger(G.MEDIA_DETACHED,void 0)},d.onBufferReset=function(){var b=this;this.getSourceBufferTypes().forEach(function(d){var e=b.sourceBuffer[d];try{e&&(b.removeBufferListeners(d),b.mediaSource&&b.mediaSource.removeSourceBuffer(e),b.sourceBuffer[d]=void 0)}catch(f){S.warn("[buffer-controller]: Failed to reset the "+d+" buffer",f)}});this._initSourceBuffer()},
d.onBufferCodecs=function(b,d){var e=this,f=this.getSourceBufferTypes().length;Object.keys(d).forEach(function(b){if(f){var h=e.tracks[b];if(h&&"function"==typeof h.buffer.changeType){var g=d[b],k=g.id,l=g.codec,n=g.levelCodec,p=g.container,g=g.metadata,q=(h.levelCodec||h.codec).replace(vd,"$1"),r=(n||l).replace(vd,"$1");q!==r&&(e.appendChangeType(b,p+";codecs\x3d"+(n||l)),S.log("[buffer-controller]: switching codec "+q+" to "+r),e.tracks[b]={buffer:h.buffer,codec:l,container:p,levelCodec:n,metadata:g,
id:k})}}else e.pendingTracks[b]=d[b]});f||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},d.appendChangeType=function(b,d){var e=this,f=this.operationQueue;f.append({execute:function(){var h=e.sourceBuffer[b];h&&(S.log("[buffer-controller]: changing "+b+" sourceBuffer type to "+d),h.changeType(d));f.shiftAndExecuteNext(b)},onStart:function(){},onComplete:function(){},onError:function(d){S.warn("[buffer-controller]: Failed to change "+
b+" SourceBuffer type",d)}},b)},d.onBufferAppending=function(b,d){var e=this,f=this.hls,h=this.operationQueue,g=this.tracks,k=d.data,l=d.type,n=d.frag,p=d.part,q=d.chunkMeta,r=q.buffering[l],s=self.performance.now();r.start=s;var u=n.stats.buffering,A=p?p.stats.buffering:null;0===u.start&&(u.start=s);A&&0===A.start&&(A.start=s);var g=g.audio,v=!1;"audio"===l&&"audio/mpeg"===(null==g?void 0:g.container)&&(v=!this.lastMpegAudioChunk||1===q.id||this.lastMpegAudioChunk.sn!==q.sn,this.lastMpegAudioChunk=
q);var F=n.start;h.append({execute:function(){if(r.executeStart=self.performance.now(),v){var b=e.sourceBuffer[l];if(b){var d=F-b.timestampOffset;.1<=Math.abs(d)&&(S.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+F+" (delta: "+d+") sn: "+n.sn+")"),b.timestampOffset=F)}}e.appendExecutor(k,l)},onStart:function(){},onComplete:function(){var b=self.performance.now();r.executeEnd=r.end=b;0===u.first&&(u.first=b);A&&0===A.first&&(A.first=b);var b=e.sourceBuffer,d={},f;for(f in b)d[f]=
qb.getBuffered(b[f]);e.appendError=0;e.hls.trigger(G.BUFFER_APPENDED,{type:l,frag:n,part:p,chunkMeta:q,parent:n.type,timeRanges:d})},onError:function(b){S.error("[buffer-controller]: Error encountered while trying to append to the "+l+" SourceBuffer",b);var d={type:na.MEDIA_ERROR,parent:n.type,details:V.BUFFER_APPEND_ERROR,frag:n,part:p,chunkMeta:q,error:b,err:b,fatal:!1};b.code===DOMException.QUOTA_EXCEEDED_ERR?d.details=V.BUFFER_FULL_ERROR:(e.appendError++,d.details=V.BUFFER_APPEND_ERROR,e.appendError>
f.config.appendErrorMaxRetry&&(S.error("[buffer-controller]: Failed "+f.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),d.fatal=!0));f.trigger(G.ERROR,d)}},l)},d.onBufferFlushing=function(b,d){var e=this,f=this.operationQueue,h=function(b){return{execute:e.removeExecutor.bind(e,b,d.startOffset,d.endOffset),onStart:function(){},onComplete:function(){e.hls.trigger(G.BUFFER_FLUSHED,{type:b})},onError:function(d){S.warn("[buffer-controller]: Failed to remove from "+b+" SourceBuffer",
d)}}};d.type?f.append(h(d.type),d.type):this.getSourceBufferTypes().forEach(function(b){f.append(h(b),b)})},d.onFragParsed=function(b,d){var e=this,f=d.frag,h=d.part,g=[],k=h?h.elementaryStreams:f.elementaryStreams;k.audiovideo?g.push("audiovideo"):(k.audio&&g.push("audio"),k.video&&g.push("video"));0===g.length&&S.warn("Fragments must have at least one ElementaryStreamType set. type: "+f.type+" level: "+f.level+" sn: "+f.sn);this.blockBuffers(function(){var b=self.performance.now();f.stats.buffering.end=
b;h&&(h.stats.buffering.end=b);e.hls.trigger(G.FRAG_BUFFERED,{frag:f,part:h,stats:h?h.stats:f.stats,id:f.type})},g)},d.onFragChanged=function(b,d){this.flushBackBuffer()},d.onBufferEos=function(b,d){var e=this;this.getSourceBufferTypes().reduce(function(b,f){var h=e.sourceBuffer[f];return!h||d.type&&d.type!==f||(h.ending=!0,h.ended||(h.ended=!0,S.log("[buffer-controller]: "+f+" sourceBuffer now EOS"))),b&&!(h&&!h.ended)},!0)&&(S.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){e.getSourceBufferTypes().forEach(function(b){(b=
e.sourceBuffer[b])&&(b.ending=!1)});var b=e.mediaSource;b&&"open"===b.readyState?(S.log("[buffer-controller]: Calling mediaSource.endOfStream()"),b.endOfStream()):b&&S.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+b.readyState)}))},d.onLevelUpdated=function(b,d){var e=d.details;e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},d.flushBackBuffer=
function(){var b=this.hls,d=this.details,e=this.media,f=this.sourceBuffer;if(e&&null!==d){var h=this.getSourceBufferTypes();if(h.length){var g=d.live&&null!==b.config.liveBackBufferLength?b.config.liveBackBufferLength:b.config.backBufferLength;if(ka(g)&&!(0>g)){var k=e.currentTime,l=d.levelTargetDuration,e=Math.max(g,l),n=Math.floor(k/l)*l-e;h.forEach(function(e){var h=f[e];if(h){var g=qb.getBuffered(h);if(0<g.length&&n>g.start(0)){if(b.trigger(G.BACK_BUFFER_REACHED,{bufferEnd:n}),d.live)b.trigger(G.LIVE_BACK_BUFFER_REACHED,
{bufferEnd:n});else if(h.ended&&g.end(g.length-1)-k<2*l)return void S.info("[buffer-controller]: Cannot flush "+e+" back buffer while SourceBuffer is in ended state");b.trigger(G.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:e})}}})}}}},d.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var b=this.details,d=this.hls,e=this.mediaSource,f=b.fragments[0].start+b.totalduration,h=this.media.duration,g=ka(e.duration)?e.duration:
0;b.live&&d.config.liveDurationInfinity?(S.log("[buffer-controller]: Media Source duration is set to Infinity"),e.duration=1/0,this.updateSeekableRange(b)):(f>g&&f>h||!ka(h))&&(S.log("[buffer-controller]: Updating Media Source duration to "+f.toFixed(3)),e.duration=f)}},d.updateSeekableRange=function(b){var d=this.mediaSource,e=b.fragments;e.length&&b.live&&null!=d&&d.setLiveSeekableRange&&(e=Math.max(0,e[0].start),b=Math.max(e,e+b.totalduration),d.setLiveSeekableRange(e,b))},d.checkPendingTracks=
function(){var b=this.bufferCodecEventsExpected,d=this.operationQueue,e=this.pendingTracks,f=Object.keys(e).length;if(f&&!b||2===f)this.createSourceBuffers(e),this.pendingTracks={},b=this.getSourceBufferTypes(),b.length?(this.hls.trigger(G.BUFFER_CREATED,{tracks:this.tracks}),b.forEach(function(b){d.executeNext(b)})):(b=Error("could not create source buffer for media codec(s)"),this.hls.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:b,reason:b.message}))},
d.createSourceBuffers=function(b){var d=this.sourceBuffer,e=this.mediaSource;if(!e)throw Error("createSourceBuffers called when mediaSource was null");for(var f in b)if(!d[f]){var h=b[f];if(!h)throw Error("source buffer exists for track "+f+", however track does not");var g=h.levelCodec||h.codec,k=h.container+";codecs\x3d"+g;S.log("[buffer-controller]: creating sourceBuffer("+k+")");try{var l=d[f]=e.addSourceBuffer(k),n=f;this.addBufferListener(n,"updatestart",this._onSBUpdateStart);this.addBufferListener(n,
"updateend",this._onSBUpdateEnd);this.addBufferListener(n,"error",this._onSBUpdateError);this.tracks[f]={buffer:l,codec:g,container:h.container,levelCodec:h.levelCodec,metadata:h.metadata,id:h.id}}catch(p){S.error("[buffer-controller]: error while trying to add sourceBuffer: "+p.message),this.hls.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:p,mimeType:k})}}},d._onSBUpdateStart=function(b){this.operationQueue.current(b).onStart()},d._onSBUpdateEnd=function(b){var d=
this.operationQueue;d.current(b).onComplete();d.shiftAndExecuteNext(b)},d._onSBUpdateError=function(b,d){var e=Error(b+" SourceBuffer error");S.error("[buffer-controller]: "+e,d);this.hls.trigger(G.ERROR,{type:na.MEDIA_ERROR,details:V.BUFFER_APPENDING_ERROR,error:e,fatal:!1});(e=this.operationQueue.current(b))&&e.onError(d)},d.removeExecutor=function(b,d,e){var f=this.media,h=this.mediaSource,g=this.operationQueue,k=this.sourceBuffer[b];if(!f||!h||!k)return S.warn("[buffer-controller]: Attempting to remove from the "+
b+" SourceBuffer, but it does not exist"),void g.shiftAndExecuteNext(b);f=ka(f.duration)?f.duration:1/0;h=ka(h.duration)?h.duration:1/0;d=Math.max(0,d);e=Math.min(e,f,h);e>d&&!k.ending?(k.ended=!1,S.log("[buffer-controller]: Removing ["+d+","+e+"] from the "+b+" SourceBuffer"),k.remove(d,e)):g.shiftAndExecuteNext(b)},d.appendExecutor=function(b,d){var e=this.operationQueue,f=this.sourceBuffer[d];if(!f)return S.warn("[buffer-controller]: Attempting to append to the "+d+" SourceBuffer, but it does not exist"),
void e.shiftAndExecuteNext(d);f.ended=!1;f.appendBuffer(b)},d.blockBuffers=function(b,d){var e=this;if(void 0===d&&(d=this.getSourceBufferTypes()),!d.length)return S.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(b);var f=this.operationQueue,h=d.map(function(b){return f.appendBlocker(b)});Promise.all(h).then(function(){b();d.forEach(function(b){var d=e.sourceBuffer[b];null!=d&&d.updating||f.shiftAndExecuteNext(b)})})},d.getSourceBufferTypes=
function(){return Object.keys(this.sourceBuffer)},d.addBufferListener=function(b,d,e){var f=this.sourceBuffer[b];f&&(e=e.bind(this,b),this.listeners[b].push({event:d,listener:e}),f.addEventListener(d,e))},d.removeBufferListeners=function(b){var d=this.sourceBuffer[b];d&&this.listeners[b].forEach(function(b){d.removeEventListener(b.event,b.listener)})},b}(),ld={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,
136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,
199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},md=function(b){var d=b;return ld.hasOwnProperty(b)&&(d=ld[b]),String.fromCharCode(d)},wd={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Zd={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Uc={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Pb={25:2,26:4,29:6,30:8,31:10,27:13,28:15},$d="white green blue cyan red yellow magenta black transparent".split(" "),ae=function(){function b(){this.time=null;this.verboseLevel=0}return b.prototype.log=
function(b,d){if(this.verboseLevel>=b){var e="function"==typeof d?d():d;S.log(this.time+" ["+b+"] "+e)}},b}(),Qc=function(b){for(var d=[],e=0;e<b.length;e++)d.push(b[e].toString(16));return d},Ec=function(){function b(d,e,f,h,g){this.flash=this.background=this.italics=this.underline=this.foreground=void 0;this.foreground=d||"white";this.underline=e||!1;this.italics=f||!1;this.background=h||"black";this.flash=g||!1}var d=b.prototype;return d.reset=function(){this.foreground="white";this.italics=this.underline=
!1;this.background="black";this.flash=!1},d.setStyles=function(b){for(var d=["foreground","underline","italics","background","flash"],e=0;e<d.length;e++){var f=d[e];b.hasOwnProperty(f)&&(this[f]=b[f])}},d.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},d.equals=function(b){return this.foreground===b.foreground&&this.underline===b.underline&&this.italics===b.italics&&this.background===b.background&&this.flash===b.flash},
d.copy=function(b){this.foreground=b.foreground;this.underline=b.underline;this.italics=b.italics;this.background=b.background;this.flash=b.flash},d.toString=function(){return"color\x3d"+this.foreground+", underline\x3d"+this.underline+", italics\x3d"+this.italics+", background\x3d"+this.background+", flash\x3d"+this.flash},b}(),Ee=function(){function b(d,e,f,h,g,k){this.penState=this.uchar=void 0;this.uchar=d||" ";this.penState=new Ec(e,f,h,g,k)}var d=b.prototype;return d.reset=function(){this.uchar=
" ";this.penState.reset()},d.setChar=function(b,d){this.uchar=b;this.penState.copy(d)},d.setPenState=function(b){this.penState.copy(b)},d.equals=function(b){return this.uchar===b.uchar&&this.penState.equals(b.penState)},d.copy=function(b){this.uchar=b.uchar;this.penState.copy(b.penState)},d.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},b}(),Fe=function(){function b(d){this.logger=this.cueStartTime=this.currPenState=this.pos=this.chars=void 0;this.chars=[];for(var e=0;100>e;e++)this.chars.push(new Ee);
this.logger=d;this.pos=0;this.currPenState=new Ec}var d=b.prototype;return d.equals=function(b){for(var d=!0,e=0;100>e;e++)if(!this.chars[e].equals(b.chars[e])){d=!1;break}return d},d.copy=function(b){for(var d=0;100>d;d++)this.chars[d].copy(b.chars[d])},d.isEmpty=function(){for(var b=!0,d=0;100>d;d++)if(!this.chars[d].isEmpty()){b=!1;break}return b},d.setCursor=function(b){this.pos!==b&&(this.pos=b);0>this.pos?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):100<this.pos&&(this.logger.log(3,
"Too large cursor position "+this.pos),this.pos=100)},d.moveCursor=function(b){var d=this.pos+b;if(1<b)for(b=this.pos+1;b<d+1;b++)this.chars[b].setPenState(this.currPenState);this.setCursor(d)},d.backSpace=function(){this.moveCursor(-1);this.chars[this.pos].setChar(" ",this.currPenState)},d.insertChar=function(b){var d=this;144<=b&&this.backSpace();var e=md(b);100<=this.pos?this.logger.log(0,function(){return"Cannot insert "+b.toString(16)+" ("+e+") at position "+d.pos+". Skipping it!"}):(this.chars[this.pos].setChar(e,
this.currPenState),this.moveCursor(1))},d.clearFromPos=function(b){for(;100>b;b++)this.chars[b].reset()},d.clear=function(){this.clearFromPos(0);this.pos=0;this.currPenState.reset()},d.clearToEndOfRow=function(){this.clearFromPos(this.pos)},d.getTextString=function(){for(var b=[],d=!0,e=0;100>e;e++){var f=this.chars[e].uchar;" "!==f&&(d=!1);b.push(f)}return d?"":b.join("")},d.setPenStyles=function(b){this.currPenState.setStyles(b);this.chars[this.pos].setPenState(this.currPenState)},b}(),ne=function(){function b(d){this.logger=
this.lastOutputScreen=this.nrRollUpRows=this.currRow=this.rows=void 0;this.rows=[];for(var e=0;15>e;e++)this.rows.push(new Fe(d));this.logger=d;this.currRow=14;this.lastOutputScreen=this.nrRollUpRows=null;this.reset()}var d=b.prototype;return d.reset=function(){for(var b=0;15>b;b++)this.rows[b].clear();this.currRow=14},d.equals=function(b){for(var d=!0,e=0;15>e;e++)if(!this.rows[e].equals(b.rows[e])){d=!1;break}return d},d.copy=function(b){for(var d=0;15>d;d++)this.rows[d].copy(b.rows[d])},d.isEmpty=
function(){for(var b=!0,d=0;15>d;d++)if(!this.rows[d].isEmpty()){b=!1;break}return b},d.backSpace=function(){this.rows[this.currRow].backSpace()},d.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},d.insertChar=function(b){this.rows[this.currRow].insertChar(b)},d.setPen=function(b){this.rows[this.currRow].setPenStyles(b)},d.moveCursor=function(b){this.rows[this.currRow].moveCursor(b)},d.setCursor=function(b){this.logger.log(2,"setCursor: "+b);this.rows[this.currRow].setCursor(b)},
d.setPAC=function(b){this.logger.log(2,function(){return"pacData \x3d "+JSON.stringify(b)});var d=b.row-1;if(this.nrRollUpRows&&d<this.nrRollUpRows-1&&(d=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==d){for(var e=0;15>e;e++)this.rows[e].clear();var e=this.currRow+1-this.nrRollUpRows,f=this.lastOutputScreen;if(f){var h=f.rows[e].cueStartTime,g=this.logger.time;if(h&&null!==g&&h<g)for(h=0;h<this.nrRollUpRows;h++)this.rows[d-this.nrRollUpRows+h+1].copy(f.rows[e+h])}}this.currRow=d;d=this.rows[this.currRow];
null!==b.indent&&(e=Math.max(b.indent-1,0),d.setCursor(b.indent),b.color=d.chars[e].penState.foreground);this.setPen({foreground:b.color,underline:b.underline,italics:b.italics,background:"black",flash:!1})},d.setBkgData=function(b){this.logger.log(2,function(){return"bkgData \x3d "+JSON.stringify(b)});this.backSpace();this.setPen(b);this.insertChar(32)},d.setRollUpRows=function(b){this.nrRollUpRows=b},d.rollUp=function(){var b=this;if(null!==this.nrRollUpRows){this.logger.log(1,function(){return b.getDisplayText()});
var d=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];d.clear();this.rows.splice(this.currRow,0,d);this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")},d.getDisplayText=function(b){b=b||!1;for(var d=[],e="",f=-1,h=0;15>h;h++){var g=this.rows[h].getTextString();g&&(f=h+1,b?d.push("Row "+f+": '"+g+"'"):d.push(g.trim()))}return 0<d.length&&(e=b?"["+d.join(" | ")+"]":d.join("\n")),e},d.getTextAndFormat=function(){return this.rows},b}(),ue=function(){function b(d,
e,f){this.logger=this.cueStartTime=this.writeScreen=this.currRollUpRow=this.lastOutputScreen=this.nonDisplayedMemory=this.displayedMemory=this.verbose=this.mode=this.outputFilter=this.chNr=void 0;this.chNr=d;this.outputFilter=e;this.mode=null;this.verbose=0;this.displayedMemory=new ne(f);this.nonDisplayedMemory=new ne(f);this.lastOutputScreen=new ne(f);this.currRollUpRow=this.displayedMemory.rows[14];this.writeScreen=this.displayedMemory;this.cueStartTime=this.mode=null;this.logger=f}var d=b.prototype;
return d.reset=function(){this.mode=null;this.displayedMemory.reset();this.nonDisplayedMemory.reset();this.lastOutputScreen.reset();this.outputFilter.reset();this.currRollUpRow=this.displayedMemory.rows[14];this.writeScreen=this.displayedMemory;this.cueStartTime=this.mode=null},d.getHandler=function(){return this.outputFilter},d.setHandler=function(b){this.outputFilter=b},d.setPAC=function(b){this.writeScreen.setPAC(b)},d.setBkgData=function(b){this.writeScreen.setBkgData(b)},d.setMode=function(b){b!==
this.mode&&(this.mode=b,this.logger.log(2,function(){return"MODE\x3d"+b}),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=b)},d.insertChars=function(b){for(var d=this,e=0;e<b.length;e++)this.writeScreen.insertChar(b[e]);var f=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,
function(){return f+": "+d.writeScreen.getDisplayText(!0)});"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,function(){return"DISPLAYED: "+d.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate())},d.ccRCL=function(){this.logger.log(2,"RCL - Resume Caption Loading");this.setMode("MODE_POP-ON")},d.ccBS=function(){this.logger.log(2,"BS - BackSpace");"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},
d.ccAOF=function(){},d.ccAON=function(){},d.ccDER=function(){this.logger.log(2,"DER- Delete to End of Row");this.writeScreen.clearToEndOfRow();this.outputDataUpdate()},d.ccRU=function(b){this.logger.log(2,"RU("+b+") - Roll Up");this.writeScreen=this.displayedMemory;this.setMode("MODE_ROLL-UP");this.writeScreen.setRollUpRows(b)},d.ccFON=function(){this.logger.log(2,"FON - Flash On");this.writeScreen.setPen({flash:!0})},d.ccRDC=function(){this.logger.log(2,"RDC - Resume Direct Captioning");this.setMode("MODE_PAINT-ON")},
d.ccTR=function(){this.logger.log(2,"TR");this.setMode("MODE_TEXT")},d.ccRTD=function(){this.logger.log(2,"RTD");this.setMode("MODE_TEXT")},d.ccEDM=function(){this.logger.log(2,"EDM - Erase Displayed Memory");this.displayedMemory.reset();this.outputDataUpdate(!0)},d.ccCR=function(){this.logger.log(2,"CR - Carriage Return");this.writeScreen.rollUp();this.outputDataUpdate(!0)},d.ccENM=function(){this.logger.log(2,"ENM - Erase Non-displayed Memory");this.nonDisplayedMemory.reset()},d.ccEOC=function(){var b=
this;if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var d=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory;this.writeScreen=this.nonDisplayedMemory=d;this.logger.log(1,function(){return"DISP: "+b.displayedMemory.getDisplayText()})}this.outputDataUpdate(!0)},d.ccTO=function(b){this.logger.log(2,"TO("+b+") - Tab Offset");this.writeScreen.moveCursor(b)},d.ccMIDROW=function(b){var d={flash:!1};(d.underline=1==b%2,d.italics=46<=b,d.italics)?d.foreground="white":
d.foreground="white green blue cyan red yellow magenta".split(" ")[Math.floor(b/2)-16];this.logger.log(2,"MIDROW: "+JSON.stringify(d));this.writeScreen.setPen(d)},d.outputDataUpdate=function(b){void 0===b&&(b=!1);var d=this.logger.time;null!==d&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,d,this.lastOutputScreen),b&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),
this.cueStartTime=this.displayedMemory.isEmpty()?null:d):this.cueStartTime=d,this.lastOutputScreen.copy(this.displayedMemory))},d.cueSplitAtTime=function(b){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,b,this.displayedMemory),this.cueStartTime=b))},b}(),ve=function(){function b(d,e,f){this.channels=void 0;this.currentChannel=0;this.logger=this.cmdHistory=void 0;var h=new ae;this.channels=[null,new ue(d,e,h),new ue(d+1,f,
h)];this.cmdHistory={a:null,b:null};this.logger=h}var d=b.prototype;return d.getHandler=function(b){return this.channels[b].getHandler()},d.setHandler=function(b,d){this.channels[b].setHandler(d)},d.addData=function(b,d){var e,f,h,g=!1;this.logger.time=b;for(var k=0;k<d.length;k+=2)if(f=127&d[k],h=127&d[k+1],0!==f||0!==h){if(this.logger.log(3,"["+Qc([d[k],d[k+1]])+"] -\x3e ("+Qc([f,h])+")"),(e=this.parseCmd(f,h))||(e=this.parseMidrow(f,h)),e||(e=this.parsePAC(f,h)),e||(e=this.parseBackgroundAttributes(f,
h)),!e&&(g=this.parseChars(f,h))){var l=this.currentChannel;l&&0<l?this.channels[l].insertChars(g):this.logger.log(2,"No channel found yet. TEXT-MODE?")}e||g||this.logger.log(2,"Couldn't parse cleaned data "+Qc([f,h])+" orig: "+Qc([d[k],d[k+1]]))}},d.parseCmd=function(b,d){var e=this.cmdHistory;if(!((20===b||28===b||21===b||29===b)&&32<=d&&47>=d||(23===b||31===b)&&33<=d&&35>=d))return!1;if(e.a===b&&e.b===d)return e.a=null,e.b=null,this.logger.log(3,"Repeated command ("+Qc([b,d])+") is dropped"),!0;
var f=20===b||21===b||23===b?1:2,h=this.channels[f];20===b||21===b||28===b||29===b?32===d?h.ccRCL():33===d?h.ccBS():34===d?h.ccAOF():35===d?h.ccAON():36===d?h.ccDER():37===d?h.ccRU(2):38===d?h.ccRU(3):39===d?h.ccRU(4):40===d?h.ccFON():41===d?h.ccRDC():42===d?h.ccTR():43===d?h.ccRTD():44===d?h.ccEDM():45===d?h.ccCR():46===d?h.ccENM():47===d&&h.ccEOC():h.ccTO(d-32);e.a=b;e.b=d;return this.currentChannel=f,!0},d.parseMidrow=function(b,d){var e=0;if((17===b||25===b)&&32<=d&&47>=d){if((e=17===b?1:2)!==
this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;e=this.channels[e];return!!e&&(e.ccMIDROW(d),this.logger.log(3,"MIDROW ("+Qc([b,d])+")"),!0)}return!1},d.parsePAC=function(b,d){var e,f=this.cmdHistory;if(!((17<=b&&23>=b||25<=b&&31>=b)&&64<=d&&127>=d||(16===b||24===b)&&64<=d&&95>=d))return!1;if(f.a===b&&f.b===d)return f.a=null,f.b=null,!0;var h=23>=b?1:2;e=64<=d&&95>=d?1===h?wd[b]:Uc[b]:1===h?Zd[b]:Pb[b];var g=this.channels[h],k;if(k=!!g)g.setPAC(this.interpretPAC(e,
d)),f.a=b,f.b=d,k=(this.currentChannel=h,!0);return k},d.interpretPAC=function(b,d){var e,f={color:null,italics:!1,indent:null,underline:!1,row:b};return e=95<d?d-96:d-64,f.underline=1==(1&e),13>=e?f.color="white green blue cyan red yellow magenta white".split(" ")[Math.floor(e/2)]:15>=e?(f.italics=!0,f.color="white"):f.indent=4*Math.floor((e-16)/2),f},d.parseChars=function(b,d){var e,f,h=null,g=null;if(25<=b?(e=2,g=b-8):(e=1,g=b),17<=g&&19>=g?(f=17===g?d+80:18===g?d+112:d+144,this.logger.log(2,"Special char '"+
md(f)+"' in channel "+e),h=[f]):32<=b&&127>=b&&(h=0===d?[b]:[b,d]),h)e=Qc(h),this.logger.log(3,"Char codes \x3d  "+e.join(",")),e=this.cmdHistory,e.a=b,e.b=d;return h},d.parseBackgroundAttributes=function(b,d){var e;if(!((16===b||24===b)&&32<=d&&47>=d||(23===b||31===b)&&45<=d&&47>=d))return!1;var f={};16===b||24===b?(e=Math.floor((d-32)/2),f.background=$d[e],1==d%2&&(f.background+="_semi")):45===d?f.background="transparent":(f.foreground="black",47===d&&(f.underline=!0));this.channels[23>=b?1:2].setBkgData(f);
e=this.cmdHistory;e.a=b;e.b=d;return!0},d.reset=function(){for(var b=0;b<Object.keys(this.channels).length;b++){var d=this.channels[b];d&&d.reset()}this.cmdHistory={a:null,b:null}},d.cueSplitAtTime=function(b){for(var d=0;d<this.channels.length;d++){var e=this.channels[d];e&&e.cueSplitAtTime(b)}},b}(),Sd=function(){function b(d,e){this.timelineController=void 0;this.cueRanges=[];this.trackName=void 0;this.screen=this.endTime=this.startTime=null;this.timelineController=d;this.trackName=e}var d=b.prototype;
return d.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},d.newCue=function(b,d,e){(null===this.startTime||this.startTime>b)&&(this.startTime=b);this.endTime=d;this.screen=e;this.timelineController.createCaptionsTrack(this.trackName)},d.reset=function(){this.cueRanges=[];this.startTime=null},b}(),me=function(){function b(d,e){if("string"!=typeof e||!Array.isArray(d))return!1;
var f=e.toLowerCase();return!!~d.indexOf(f)&&f}function d(b){for(var e=arguments.length,f=Array(1<e?e-1:0),h=1;h<e;h++)f[h-1]=arguments[h];for(e=1;e<arguments.length;e++){var f=arguments[e],g;for(g in f)b[g]=f[g]}return b}function e(g,k,l){var n={enumerable:!0};this.hasBeenReset=!1;var p="",q=!1,r=g,s=k,u=l,A=null,v="",F=!0,D="auto",C="start",z=50,w="middle",H=50,t="middle";Object.defineProperty(this,"id",d({},n,{get:function(){return p},set:function(b){p=""+b}}));Object.defineProperty(this,"pauseOnExit",
d({},n,{get:function(){return q},set:function(b){q=!!b}}));Object.defineProperty(this,"startTime",d({},n,{get:function(){return r},set:function(b){if("number"!=typeof b)throw new TypeError("Start time must be set to a number.");r=b;this.hasBeenReset=!0}}));Object.defineProperty(this,"endTime",d({},n,{get:function(){return s},set:function(b){if("number"!=typeof b)throw new TypeError("End time must be set to a number.");s=b;this.hasBeenReset=!0}}));Object.defineProperty(this,"text",d({},n,{get:function(){return u},
set:function(b){u=""+b;this.hasBeenReset=!0}}));Object.defineProperty(this,"region",d({},n,{get:function(){return A},set:function(b){A=b;this.hasBeenReset=!0}}));Object.defineProperty(this,"vertical",d({},n,{get:function(){return v},set:function(d){d=b(f,d);if(!1===d)throw new SyntaxError("An invalid or illegal string was specified.");v=d;this.hasBeenReset=!0}}));Object.defineProperty(this,"snapToLines",d({},n,{get:function(){return F},set:function(b){F=!!b;this.hasBeenReset=!0}}));Object.defineProperty(this,
"line",d({},n,{get:function(){return D},set:function(b){if("number"!=typeof b&&"auto"!==b)throw new SyntaxError("An invalid number or illegal string was specified.");D=b;this.hasBeenReset=!0}}));Object.defineProperty(this,"lineAlign",d({},n,{get:function(){return C},set:function(d){d=b(h,d);if(!d)throw new SyntaxError("An invalid or illegal string was specified.");C=d;this.hasBeenReset=!0}}));Object.defineProperty(this,"position",d({},n,{get:function(){return z},set:function(b){if(0>b||100<b)throw Error("Position must be between 0 and 100.");
z=b;this.hasBeenReset=!0}}));Object.defineProperty(this,"positionAlign",d({},n,{get:function(){return w},set:function(d){d=b(h,d);if(!d)throw new SyntaxError("An invalid or illegal string was specified.");w=d;this.hasBeenReset=!0}}));Object.defineProperty(this,"size",d({},n,{get:function(){return H},set:function(b){if(0>b||100<b)throw Error("Size must be between 0 and 100.");H=b;this.hasBeenReset=!0}}));Object.defineProperty(this,"align",d({},n,{get:function(){return t},set:function(d){d=b(h,d);if(!d)throw new SyntaxError("An invalid or illegal string was specified.");
t=d;this.hasBeenReset=!0}}));this.displayState=void 0}if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var f=["","lr","rl"],h=["start","middle","end","left","right"];return e.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},e}(),Ge=function(){function b(){}return b.prototype.decode=function(b,d){if(!b)return"";if("string"!=typeof b)throw Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(b))},b}(),Ae=function(){function b(){this.values=
Object.create(null)}var d=b.prototype;return d.set=function(b,d){this.get(b)||""===d||(this.values[b]=d)},d.get=function(b,d,e){return e?this.has(b)?this.values[b]:d[e]:this.has(b)?this.values[b]:d},d.has=function(b){return b in this.values},d.alt=function(b,d,e){for(var f=0;f<e.length;++f)if(d===e[f]){this.set(b,d);break}},d.integer=function(b,d){/^-?\d+$/.test(d)&&this.set(b,parseInt(d,10))},d.percent=function(b,d){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(d)){var e=parseFloat(d);if(0<=e&&100>=e)return this.set(b,
e),!0}return!1},b}(),je=new me(0,0,""),Rd="middle"===je.align?"middle":"center",Be=function(){function b(){this.state="INITIAL";this.buffer="";this.decoder=new Ge;this.regionList=[];this.cue=null;this.onflush=this.onparsingerror=this.oncue=void 0}var d=b.prototype;return d.parse=function(b){function d(){for(var b=e.buffer,f=0,b=ec(b);f<b.length&&"\r"!==b[f]&&"\n"!==b[f];)++f;var h=b.slice(0,f);return"\r"===b[f]&&++f,"\n"===b[f]&&++f,e.buffer=b.slice(f),h}var e=this;b&&(e.buffer+=e.decoder.decode(b,
{stream:!0}));try{b="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var f=(b=d()).match(/^()?WEBVTT([ \t].*)?$/);if(null==f||!f[0])throw Error("Malformed WebVTT signature.");e.state="HEADER"}for(f=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(f?f=!1:b=d(),e.state){case "HEADER":/:/.test(b)?fc(b,function(b,d){},/:/):b||(e.state="ID");continue;case "NOTE":b||(e.state="ID");continue;case "ID":if(/^NOTE($|[ \t])/.test(b)){e.state="NOTE";break}if(!b)continue;if(e.cue=
new me(0,0,""),e.state="CUE",-1===b.indexOf("--\x3e")){e.cue.id=b;continue}case "CUE":if(!e.cue){e.state="BADCUE";continue}try{nc(b,e.cue,e.regionList)}catch(h){e.cue=null;e.state="BADCUE";continue}e.state="CUETEXT";continue;case "CUETEXT":var g=-1!==b.indexOf("--\x3e");if(!b||g&&(f=!0)){e.oncue&&e.cue&&e.oncue(e.cue);e.cue=null;e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n");e.cue.text+=b;continue;case "BADCUE":b||(e.state="ID")}}}catch(k){"CUETEXT"===e.state&&e.cue&&
e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},d.flush=function(){try{if((this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state||"BADWEBVTT"===this.state)throw Error("Malformed WebVTT signature.");}catch(b){this.onparsingerror&&this.onparsingerror(b)}return this.onflush&&this.onflush(),this},b}(),Ce=/\r\n|\n\r|\n|\r/g,le=function(b,d,e){return void 0===e&&(e=0),b.slice(e,e+d.length)===d},ke=function(b){for(var d=
5381,e=b.length;e;)d=33*d^b.charCodeAt(--e);return(d>>>0).toString()},qe=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,re=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,De={left:"start",center:"center",right:"end",start:"start",end:"end"},He=function(){function b(d){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=
void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=d,this.config=d.config,this.Cues=d.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,
languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var e=new Sd(this,"textTrack1"),f=new Sd(this,"textTrack2"),h=new Sd(this,"textTrack3"),g=new Sd(this,"textTrack4");this.cea608Parser1=new ve(1,e,f);this.cea608Parser2=new ve(3,h,g)}d.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this);d.on(G.MEDIA_DETACHING,this.onMediaDetaching,this);d.on(G.MANIFEST_LOADING,
this.onManifestLoading,this);d.on(G.MANIFEST_LOADED,this.onManifestLoaded,this);d.on(G.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this);d.on(G.FRAG_LOADING,this.onFragLoading,this);d.on(G.FRAG_LOADED,this.onFragLoaded,this);d.on(G.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this);d.on(G.FRAG_DECRYPTED,this.onFragDecrypted,this);d.on(G.INIT_PTS_FOUND,this.onInitPtsFound,this);d.on(G.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this);d.on(G.BUFFER_FLUSHING,this.onBufferFlushing,
this)}var d=b.prototype;return d.destroy=function(){var b=this.hls;b.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this);b.off(G.MEDIA_DETACHING,this.onMediaDetaching,this);b.off(G.MANIFEST_LOADING,this.onManifestLoading,this);b.off(G.MANIFEST_LOADED,this.onManifestLoaded,this);b.off(G.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this);b.off(G.FRAG_LOADING,this.onFragLoading,this);b.off(G.FRAG_LOADED,this.onFragLoaded,this);b.off(G.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this);b.off(G.FRAG_DECRYPTED,
this.onFragDecrypted,this);b.off(G.INIT_PTS_FOUND,this.onInitPtsFound,this);b.off(G.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this);b.off(G.BUFFER_FLUSHING,this.onBufferFlushing,this);this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},d.addCues=function(b,d,e,f,h){for(var g,k,l,n,p=!1,q=h.length;q--;){var r=h[q],s=(g=r[0],k=r[1],l=d,n=e,Math.min(k,n)-Math.max(g,l));if(0<=s&&(r[0]=Math.min(r[0],d),r[1]=Math.max(r[1],e),p=!0,.5<s/(e-d)))return}(p||h.push([d,e]),this.config.renderTextTracksNatively)?
this.Cues.newCue(this.captionsTracks[b],d,e,f):(d=this.Cues.newCue(null,d,e,f),this.hls.trigger(G.CUES_PARSED,{type:"captions",cues:d,track:b}))},d.onInitPtsFound=function(b,d){var e=this,f=d.frag,h=d.initPTS,g=d.timescale,k=this.unparsedVttFrags;"main"===d.id&&(this.initPTS[f.cc]={baseTime:h,timescale:g});k.length&&(this.unparsedVttFrags=[],k.forEach(function(b){e.onFragLoaded(G.FRAG_LOADED,b)}))},d.getExistingTrack=function(b){var d=this.media;if(d)for(var e=0;e<d.textTracks.length;e++){var f=d.textTracks[e];
if(f[b])return f}return null},d.createCaptionsTrack=function(b){this.config.renderTextTracksNatively?this.createNativeTrack(b):this.createNonNativeTrack(b)},d.createNativeTrack=function(b){if(!this.captionsTracks[b]){var d=this.captionsTracks,e=this.media,f=this.captionsProperties[b],h=f.label,f=f.languageCode,g=this.getExistingTrack(b);g?(d[b]=g,Ta(d[b]),Ya(d[b],e)):(e=this.createTextTrack("captions",h,f))&&(e[b]=!0,d[b]=e)}},d.createNonNativeTrack=function(b){if(!this.nonNativeCaptionsTracks[b]){var d=
this.captionsProperties[b];d&&(d={_id:b,label:d.label,kind:"captions",default:!!d.media&&!!d.media.default,closedCaptions:d.media},this.nonNativeCaptionsTracks[b]=d,this.hls.trigger(G.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[d]}))}},d.createTextTrack=function(b,d,e){var f=this.media;if(f)return f.addTextTrack(b,d,e)},d.onMediaAttaching=function(b,d){this.media=d.media;this._cleanTracks()},d.onMediaDetaching=function(){var b=this.captionsTracks;Object.keys(b).forEach(function(d){Ta(b[d]);delete b[d]});
this.nonNativeCaptionsTracks={}},d.onManifestLoading=function(){this.prevCC=this.lastPartIndex=this.lastSn=-1;this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}};this._cleanTracks();this.tracks=[];this.captionsTracks={};this.nonNativeCaptionsTracks={};this.textTracks=[];this.unparsedVttFrags=this.unparsedVttFrags||[];this.initPTS=[];this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},d._cleanTracks=function(){var b=this.media;if(b&&
(b=b.textTracks))for(var d=0;d<b.length;d++)Ta(b[d])},d.onSubtitleTracksUpdated=function(b,d){var e=this,f=d.subtitleTracks||[],h=f.some(function(b){return"stpp.ttml.im1t"===b.textCodec});if(this.config.enableWebVTT||h&&this.config.enableIMSC1){if(Fc(this.tracks,f))return void(this.tracks=f);if(this.textTracks=[],this.tracks=f,this.config.renderTextTracksNatively){var g=this.media?this.media.textTracks:null;this.tracks.forEach(function(b,d){var f;if(g&&d<g.length){for(var h=null,k=0;k<g.length;k++){var l=
g[k];if(l&&l.label===b.name&&!l.textTrack1&&!l.textTrack2){h=g[k];break}}h&&(f=h)}f?Ta(f):(h=e._captionsOrSubtitlesFromCharacteristics(b),(f=e.createTextTrack(h,b.name,b.lang))&&(f.mode="disabled"));f&&(f.groupId=b.groupId,e.textTracks.push(f))})}else this.tracks.length&&(f=this.tracks.map(function(b){return{label:b.name,kind:b.type.toLowerCase(),default:b.default,subtitleTrack:b}}),this.hls.trigger(G.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:f}))}},d._captionsOrSubtitlesFromCharacteristics=function(b){if(b.attrs.CHARACTERISTICS){var d=
/transcribes-spoken-dialog/gi.test(b.attrs.CHARACTERISTICS);b=/describes-music-and-sound/gi.test(b.attrs.CHARACTERISTICS);if(d&&b)return"captions"}return"subtitles"},d.onManifestLoaded=function(b,d){var e=this;this.config.enableCEA708Captions&&d.captions&&d.captions.forEach(function(b){var d=/(?:CC|SERVICE)([1-4])/.exec(b.instreamId);d&&(d=e.captionsProperties["textTrack"+d[1]])&&(d.label=b.name,b.lang&&(d.languageCode=b.lang),d.media=b)})},d.closedCaptionsForLevel=function(b){b=this.hls.levels[b.level];
return null==b?void 0:b.attrs["CLOSED-CAPTIONS"]},d.onFragLoading=function(b,d){var e=this.cea608Parser1,f=this.cea608Parser2,h=this.lastSn,g=this.lastPartIndex;if(this.enabled&&e&&f&&"main"===d.frag.type){var k,l,n=d.frag.sn,p=null!=(k=null==d||null==(l=d.part)?void 0:l.index)?k:-1;n===h+1||n===h&&p===g+1||(e.reset(),f.reset());this.lastSn=n;this.lastPartIndex=p}},d.onFragLoaded=function(b,d){var e=d.frag,f=d.payload,h=this.initPTS,g=this.unparsedVttFrags;if("subtitle"===e.type)if(f.byteLength){if(!h[e.cc])return g.push(d),
void(h.length&&this.hls.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:Error("Missing initial subtitle PTS")}));h=e.decryptdata;if(null==h||!h.encrypted||"stats"in d)h=this.tracks[e.level],g=this.vttCCs,g[e.cc]||(g[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc),h&&"stpp.ttml.im1t"===h.textCodec?this._parseIMSC1(e,f):this._parseVTTs(e,f,g)}else this.hls.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:Error("Empty subtitle payload")})},d._parseIMSC1=function(b,
d){var e=this,f=this.hls;Xc(d,this.initPTS[b.cc],function(d){e._appendCues(d,b.level);f.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:b})},function(d){S.log("Failed to parse IMSC1: "+d);f.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:b,error:d})})},d._parseVTTs=function(b,d,e){var f,h=this,g=this.hls;Oc(null!=(f=b.initSegment)&&f.data?P(b.initSegment.data,new Uint8Array(d)):d,this.initPTS[b.cc],e,b.cc,b.start,function(d){h._appendCues(d,b.level);g.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!0,
frag:b})},function(e){h._fallbackToIMSC1(b,d);S.log("Failed to parse VTT cue: "+e);g.trigger(G.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:b,error:e})})},d._fallbackToIMSC1=function(b,d){var e=this,f=this.tracks[b.level];f.textCodec||Xc(d,this.initPTS[b.cc],function(){f.textCodec="stpp.ttml.im1t";e._parseIMSC1(b,d)},function(){f.textCodec="wvtt"})},d._appendCues=function(b,d){var e=this.hls;if(this.config.renderTextTracksNatively){var f=this.textTracks[d];f&&"disabled"!==f.mode&&b.forEach(function(b){return Ma(f,
b)})}else{var h=this.tracks[d];h&&e.trigger(G.CUES_PARSED,{type:"subtitles",cues:b,track:h.default?"default":"subtitles"+d})}},d.onFragDecrypted=function(b,d){var e=d.frag;if("subtitle"===e.type){if(!this.initPTS[e.cc])return void this.unparsedVttFrags.push(d);this.onFragLoaded(G.FRAG_LOADED,d)}},d.onSubtitleTracksCleared=function(){this.tracks=[];this.captionsTracks={}},d.onFragParsingUserdata=function(b,d){var e=this.cea608Parser1,f=this.cea608Parser2;if(this.enabled&&e&&f){var h=d.frag,g=d.samples;
if("main"!==h.type||"NONE"!==this.closedCaptionsForLevel(h))for(h=0;h<g.length;h++){var k=g[h].bytes;k&&(k=this.extractCea608Data(k),e.addData(g[h].pts,k[0]),f.addData(g[h].pts,k[1]))}}},d.onBufferFlushing=function(b,d){var e=d.startOffset,f=d.endOffset,h=d.endOffsetSubtitles,g=d.type,k=this.media;if(k&&!(k.currentTime<f)){if(!g||"video"===g){var l=this.captionsTracks;Object.keys(l).forEach(function(b){return Fa(l[b],e,f)})}if(this.config.renderTextTracksNatively&&0===e&&void 0!==h){var n=this.textTracks;
Object.keys(n).forEach(function(b){return Fa(n[b],e,h)})}}},d.extractCea608Data=function(b){for(var d=[[],[]],e=31&b[0],f=2,h=0;h<e;h++){var g=b[f++],k=127&b[f++],l=127&b[f++];0===k&&0===l||0==(4&g)||(g&=3,0!==g&&1!==g||(d[g].push(k),d[g].push(l)))}return d},b}(),Ie=function(){function b(d){this.streamController=this.clientRect=this.timer=this.restrictedLevels=this.media=this.firstLevel=this.autoLevelCapping=this.hls=void 0;this.hls=d;this.autoLevelCapping=Number.POSITIVE_INFINITY;this.firstLevel=
-1;this.media=null;this.restrictedLevels=[];this.timer=void 0;this.clientRect=null;this.registerListeners()}var d=b.prototype;return d.setStreamController=function(b){this.streamController=b},d.destroy=function(){this.unregisterListener();this.hls.config.capLevelToPlayerSize&&this.stopCapping();this.hls=this.streamController=this.clientRect=this.media=null},d.registerListeners=function(){var b=this.hls;b.on(G.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this);b.on(G.MEDIA_ATTACHING,this.onMediaAttaching,
this);b.on(G.MANIFEST_PARSED,this.onManifestParsed,this);b.on(G.BUFFER_CODECS,this.onBufferCodecs,this);b.on(G.MEDIA_DETACHING,this.onMediaDetaching,this)},d.unregisterListener=function(){var b=this.hls;b.off(G.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this);b.off(G.MEDIA_ATTACHING,this.onMediaAttaching,this);b.off(G.MANIFEST_PARSED,this.onManifestParsed,this);b.off(G.BUFFER_CODECS,this.onBufferCodecs,this);b.off(G.MEDIA_DETACHING,this.onMediaDetaching,this)},d.onFpsDropLevelCapping=function(b,
d){var e=this.hls.levels[d.droppedLevel];this.isLevelAllowed(e)&&this.restrictedLevels.push({bitrate:e.bitrate,height:e.height,width:e.width})},d.onMediaAttaching=function(b,d){this.media=d.media instanceof HTMLVideoElement?d.media:null;this.clientRect=null},d.onManifestParsed=function(b,d){var e=this.hls;this.restrictedLevels=[];this.firstLevel=d.firstLevel;e.config.capLevelToPlayerSize&&d.video&&this.startCapping()},d.onBufferCodecs=function(b,d){this.hls.config.capLevelToPlayerSize&&d.video&&this.startCapping()},
d.onMediaDetaching=function(){this.stopCapping()},d.detectPlayerSize=function(){if(this.media&&0<this.mediaHeight&&0<this.mediaWidth){var b=this.hls.levels;if(b.length){var d=this.hls;d.autoLevelCapping=this.getMaxLevel(b.length-1);d.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch();this.autoLevelCapping=d.autoLevelCapping}}},d.getMaxLevel=function(d){var e=this,f=this.hls.levels;if(!f.length)return-1;f=f.filter(function(b,f){return e.isLevelAllowed(b)&&
f<=d});return this.clientRect=null,b.getMaxLevelByMediaSize(f,this.mediaWidth,this.mediaHeight)},d.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1E3),this.detectPlayerSize())},d.stopCapping=function(){this.restrictedLevels=[];this.firstLevel=-1;this.autoLevelCapping=Number.POSITIVE_INFINITY;this.timer&&(self.clearInterval(this.timer),
this.timer=void 0)},d.getDimensions=function(){if(this.clientRect)return this.clientRect;var b=this.media,d={width:0,height:0};if(b){var e=b.getBoundingClientRect();d.width=e.width;d.height=e.height;d.width||d.height||(d.width=e.right-e.left||b.width||0,d.height=e.bottom-e.top||b.height||0)}return this.clientRect=d,d},d.isLevelAllowed=function(b){return!this.restrictedLevels.some(function(d){return b.bitrate===d.bitrate&&b.width===d.width&&b.height===d.height})},b.getMaxLevelByMediaSize=function(b,
d,e){if(null==b||!b.length)return-1;for(var f,h,g=b.length-1,k=0;k<b.length;k+=1){var l=b[k];if((l.width>=d||l.height>=e)&&(f=l,!(h=b[k+1])||f.width!==h.width||f.height!==h.height)){g=k;break}}return g},f(b,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var b=1;if(!this.hls.config.ignoreDevicePixelRatio)try{b=self.devicePixelRatio}catch(d){}return b}}]),
b}(),Je=function(){function b(d){this.hls=void 0;this.isVideoPlaybackQualityAvailable=!1;this.timer=void 0;this.media=null;this.lastTime=void 0;this.lastDecodedFrames=this.lastDroppedFrames=0;this.streamController=void 0;this.hls=d;this.registerListeners()}var d=b.prototype;return d.setStreamController=function(b){this.streamController=b},d.registerListeners=function(){this.hls.on(G.MEDIA_ATTACHING,this.onMediaAttaching,this)},d.unregisterListeners=function(){this.hls.off(G.MEDIA_ATTACHING,this.onMediaAttaching,
this)},d.destroy=function(){this.timer&&clearInterval(this.timer);this.unregisterListeners();this.isVideoPlaybackQualityAvailable=!1;this.media=null},d.onMediaAttaching=function(b,d){var e=this.hls.config;if(e.capLevelOnFPSDrop){var f=d.media instanceof self.HTMLVideoElement?d.media:null;(this.media=f)&&"function"==typeof f.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0);self.clearInterval(this.timer);this.timer=self.setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod)}},
d.checkFPS=function(b,d,e){b=performance.now();if(d){if(this.lastTime){var f=e-this.lastDroppedFrames,h=d-this.lastDecodedFrames,g=1E3*f/(b-this.lastTime),k=this.hls;if(k.trigger(G.FPS_DROP,{currentDropped:f,currentDecoded:h,totalDroppedFrames:e}),0<g&&f>k.config.fpsDroppedMonitoringThreshold*h)f=k.currentLevel,S.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),0<f&&(-1===k.autoLevelCapping||k.autoLevelCapping>=f)&&(f-=1,k.trigger(G.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:k.currentLevel}),
k.autoLevelCapping=f,this.streamController.nextLevelSwitch())}this.lastTime=b;this.lastDroppedFrames=e;this.lastDecodedFrames=d}},d.checkFPSInterval=function(){var b=this.media;if(b)if(this.isVideoPlaybackQualityAvailable){var d=b.getVideoPlaybackQuality();this.checkFPS(b,d.totalVideoFrames,d.droppedVideoFrames)}else this.checkFPS(b,b.webkitDecodedFrameCount,b.webkitDroppedFrameCount)},b}(),Td=function(){function b(d){this.config=this.hls=void 0;this.keyFormatPromise=this.media=null;this.keySystemAccessPromises=
{};this._requestLicenseFailureCount=0;this.mediaKeySessions=[];this.keyIdToKeySessionPromise={};this.setMediaKeysQueue=b.CDMCleanupPromise?[b.CDMCleanupPromise]:[];this.onMediaEncrypted=this._onMediaEncrypted.bind(this);this.onWaitingForKey=this._onWaitingForKey.bind(this);this.debug=S.debug.bind(S,"[eme]");this.log=S.log.bind(S,"[eme]");this.warn=S.warn.bind(S,"[eme]");this.error=S.error.bind(S,"[eme]");this.hls=d;this.config=d.config;this.registerListeners()}var d=b.prototype;return d.destroy=function(){this.unregisterListeners();
this.onMediaDetached();var b=this.config;b.requestMediaKeySystemAccessFunc=null;b.licenseXhrSetup=b.licenseResponseCallback=void 0;b.drmSystems=b.drmSystemOptions={};this.config=this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null},d.registerListeners=function(){this.hls.on(G.MEDIA_ATTACHED,this.onMediaAttached,this);this.hls.on(G.MEDIA_DETACHED,this.onMediaDetached,this);this.hls.on(G.MANIFEST_LOADED,this.onManifestLoaded,this)},d.unregisterListeners=function(){this.hls.off(G.MEDIA_ATTACHED,
this.onMediaAttached,this);this.hls.off(G.MEDIA_DETACHED,this.onMediaDetached,this);this.hls.off(G.MANIFEST_LOADED,this.onManifestLoaded,this)},d.getLicenseServerUrl=function(b){var d=this.config,e=d.widevineLicenseUrl;if(d=d.drmSystems[b])return d.licenseUrl;if(b===Ga.WIDEVINE&&e)return e;throw Error('no license server URL configured for key-system "'+b+'"');},d.getServerCertificateUrl=function(b){var d=this.config.drmSystems[b];if(d)return d.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+
b+'"]')},d.attemptKeySystemAccess=function(b){var d=this,e=this.hls.levels,f=function(b,d,e){return!!b&&e.indexOf(b)===d},h=e.map(function(b){return b.audioCodec}).filter(f),g=e.map(function(b){return b.videoCodec}).filter(f);return 0===h.length+g.length&&g.push("avc1.42e01e"),new Promise(function(e,f){!function ye(b){var k=b.shift();d.getMediaKeysPromise(k,h,g).then(function(b){return e({keySystem:k,mediaKeys:b})}).catch(function(d){b.length?ye(b):f(d instanceof qc?d:new qc({type:na.KEY_SYSTEM_ERROR,
details:V.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})}(b)})},d.requestMediaKeySystemAccess=function(b,d){var e=this.config.requestMediaKeySystemAccessFunc;return"function"!=typeof e?(e="Configured requestMediaKeySystemAccess is not a function "+e,null===yb&&"http:"===self.location.protocol&&(e="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(Error(e))):e(b,d)},d.getMediaKeysPromise=function(b,d,e){var f=this;d=function(b,d,
e,f){switch(b){case Ga.FAIRPLAY:b=["cenc","sinf"];break;case Ga.WIDEVINE:case Ga.PLAYREADY:b=["cenc"];break;case Ga.CLEARKEY:b=["cenc","keyids"];break;default:throw Error("Unknown key-system: "+b);}return function(b,d,e,f){return[{initDataTypes:b,persistentState:f.persistentState||"not-allowed",distinctiveIdentifier:f.distinctiveIdentifier||"not-allowed",sessionTypes:f.sessionTypes||[f.sessionType||"temporary"],audioCapabilities:d.map(function(b){return{contentType:'audio/mp4; codecs\x3d"'+b+'"',
robustness:f.audioRobustness||"",encryptionScheme:f.audioEncryptionScheme||null}}),videoCapabilities:e.map(function(b){return{contentType:'video/mp4; codecs\x3d"'+b+'"',robustness:f.videoRobustness||"",encryptionScheme:f.videoEncryptionScheme||null}})}]}(b,d,e,f)}(b,d,e,this.config.drmSystemOptions);var h=this.keySystemAccessPromises[b];e=null==h?void 0:h.keySystemAccess;if(!e){this.log('Requesting encrypted media "'+b+'" key-system access with config: '+JSON.stringify(d));e=this.requestMediaKeySystemAccess(b,
d);var g=this.keySystemAccessPromises[b]={keySystemAccess:e};return e.catch(function(d){f.log('Failed to obtain access to key-system "'+b+'": '+d)}),e.then(function(d){f.log('Access for key-system "'+d.keySystem+'" obtained');var e=f.fetchServerCertificate(b);return f.log('Create media-keys for "'+b+'"'),g.mediaKeys=d.createMediaKeys().then(function(d){return f.log('Media-keys created for "'+b+'"'),e.then(function(e){return e?f.setMediaKeysServerCertificate(d,b,e):d})}),g.mediaKeys.catch(function(d){f.error('Failed to create media-keys for "'+
b+'"}: '+d)}),g.mediaKeys})}return e.then(function(){return h.mediaKeys})},d.createMediaKeySessionContext=function(b){var d=b.decryptdata,e=b.keySystem;b=b.mediaKeys;this.log('Creating key-system session "'+e+'" keyId: '+I(d.keyId||[]));var f=b.createSession(),d={decryptdata:d,keySystem:e,mediaKeys:b,mediaKeysSession:f,keyStatus:"status-pending"};return this.mediaKeySessions.push(d),d},d.renewKeySession=function(b){var d=b.decryptdata;if(d.pssh){var e=this.createMediaKeySessionContext(b),f=this.getKeyIdString(d);
this.keyIdToKeySessionPromise[f]=this.generateRequestWithPreferredKeySession(e,"cenc",d.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(b)},d.getKeyIdString=function(b){if(!b)throw Error("Could not read keyId of undefined decryptdata");if(null===b.keyId)throw Error("keyId is null");return I(b.keyId)},d.updateKeySession=function(b,d){var e,f=b.mediaKeysSession;return this.log('Updating key-session "'+f.sessionId+'" for keyID '+I((null==(e=
b.decryptdata)?void 0:e.keyId)||[])+"\n      } (data length: "+(d?d.byteLength:d)+")"),f.update(d)},d.selectKeySystemFormat=function(b){var d=Object.keys(b.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+b.sn+" "+b.type+": "+b.level+") key formats "+d.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(d)),this.keyFormatPromise},d.getKeyFormatPromise=function(b){var d=this;return new Promise(function(e,f){var h=H(d.config),g=b.map(F).filter(function(b){return!!b&&
-1!==h.indexOf(b)});return d.getKeySystemSelectionPromise(g).then(function(b){b=b.keySystem;var d=A(b);d?e(d):f(Error('Unable to find format for key-system "'+b+'"'))}).catch(f)})},d.loadKey=function(b){var d=this,e=b.keyInfo.decryptdata,f=this.getKeyIdString(e),h="(keyId: "+f+' format: "'+e.keyFormat+'" method: '+e.method+" uri: "+e.uri+")";this.log("Starting session for key "+h);var g=this.keyIdToKeySessionPromise[f];return g||(g=this.keyIdToKeySessionPromise[f]=this.getKeySystemForKeyPromise(e).then(function(f){var g=
f.keySystem,k=f.mediaKeys;return d.throwIfDestroyed(),d.log("Handle encrypted media sn: "+b.frag.sn+" "+b.frag.type+": "+b.frag.level+" using key "+h),d.attemptSetMediaKeys(g,k).then(function(){d.throwIfDestroyed();var b=d.createMediaKeySessionContext({keySystem:g,mediaKeys:k,decryptdata:e});return d.generateRequestWithPreferredKeySession(b,"cenc",e.pssh,"playlist-key")})})).catch(function(b){return d.handleError(b)}),g},d.throwIfDestroyed=function(b){if(!this.hls)throw Error("invalid state");},d.handleError=
function(b){this.hls&&(this.error(b.message),b instanceof qc?this.hls.trigger(G.ERROR,b.data):this.hls.trigger(G.ERROR,{type:na.KEY_SYSTEM_ERROR,details:V.KEY_SYSTEM_NO_KEYS,error:b,fatal:!0}))},d.getKeySystemForKeyPromise=function(b){var d=this.getKeyIdString(b),d=this.keyIdToKeySessionPromise[d];return d?d:(b=(b=F(b.keyFormat))?[b]:H(this.config),this.attemptKeySystemAccess(b))},d.getKeySystemSelectionPromise=function(b){if(b.length||(b=H(this.config)),0===b.length)throw new qc({type:na.KEY_SYSTEM_ERROR,
details:V.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(b)},d._onMediaEncrypted=function(b){var d=this,e=b.initDataType,f=b.initData;if(this.debug('"'+b.type+'" event: init data type: "'+e+'"'),null!==f){var h,g;if("sinf"===e&&this.config.drmSystems[Ga.FAIRPLAY]){b=J(new Uint8Array(f));try{var k=u(JSON.parse(b).sinf),l=ba(new Uint8Array(k));if(!l)return;h=l.subarray(8,
24);g=Ga.FAIRPLAY}catch(n){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{g=function(b){if(!(b instanceof ArrayBuffer)||32>b.byteLength)return null;var d={version:0,systemId:"",kids:null,data:null},e=new DataView(b),f=e.getUint32(0);if(b.byteLength!==f&&44<f||1886614376!==e.getUint32(4)||(d.version=e.getUint32(8)>>>24,1<d.version))return null;d.systemId=I(new Uint8Array(b,12,16));e=e.getUint32(28);if(0===d.version){if(f-32<e)return null;d.data=new Uint8Array(b,
32,e)}else if(1===d.version)for(d.kids=[],f=0;f<e;f++)d.kids.push(new Uint8Array(b,32+16*f,16));return d}(f);if(null===g)return;0===g.version&&"edef8ba979d64acea3c827dcd51d21ed"===g.systemId&&g.data&&(h=g.data.subarray(8,24));g="edef8ba979d64acea3c827dcd51d21ed"===g.systemId?Ga.WIDEVINE:void 0}if(g&&h){for(var p=I(h),q=this.keyIdToKeySessionPromise,r=this.mediaKeySessions,s=q[p],k=function(){var b=r[v],g=b.decryptdata;if(g.pssh||!g.keyId)return"continue";var k=I(g.keyId);return p===k||-1!==g.uri.replace(/-/g,
"").indexOf(p)?(s=q[k],delete q[k],g.pssh=new Uint8Array(f),g.keyId=h,s=q[p]=s.then(function(){return d.generateRequestWithPreferredKeySession(b,e,f,"encrypted-event-key-match")}),"break"):void 0},v=0;v<r.length&&(l=k(),"continue"===l||"break"!==l);v++);s||(s=q[p]=this.getKeySystemSelectionPromise([g]).then(function(b){var g,k=b.keySystem,l=b.mediaKeys;d.throwIfDestroyed();var n=new Fb("ISO-23001-7",p,null!=(g=A(k))?g:"");return n.pssh=new Uint8Array(f),n.keyId=h,d.attemptSetMediaKeys(k,l).then(function(){d.throwIfDestroyed();
var b=d.createMediaKeySessionContext({decryptdata:n,keySystem:k,mediaKeys:l});return d.generateRequestWithPreferredKeySession(b,e,f,"encrypted-event-no-match")})}));s.catch(function(b){return d.handleError(b)})}}},d._onWaitingForKey=function(b){this.log('"'+b.type+'" event')},d.attemptSetMediaKeys=function(b,d){var e=this,f=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+b+'"');var h=Promise.all(f).then(function(){if(!e.media)throw Error("Attempted to set mediaKeys without media element attached");
return e.media.setMediaKeys(d)});return this.setMediaKeysQueue.push(h),h.then(function(){e.log('Media-keys set for "'+b+'"');f.push(h);e.setMediaKeysQueue=e.setMediaKeysQueue.filter(function(b){return-1===f.indexOf(b)})})},d.generateRequestWithPreferredKeySession=function(b,d,e,f){var h,g,k=this,l=null==(h=this.config.drmSystems)||null==(g=h[b.keySystem])?void 0:g.generateRequest;if(l)try{var n=l.call(this.hls,d,e,b);if(!n)throw Error("Invalid response from configured generateRequest filter");d=n.initDataType;
e=b.decryptdata.pssh=n.initData?new Uint8Array(n.initData):null}catch(p){var q;if(this.warn(p.message),null!=(q=this.hls)&&q.config.debug)throw p;}if(null===e)return this.log('Skipping key-session request for "'+f+'" (no initData)'),Promise.resolve(b);var r=this.getKeyIdString(b.decryptdata);this.log('Generating key-session request for "'+f+'": '+r+" (init data type: "+d+" length: "+(e?e.byteLength:null)+")");var s=new dd;b.mediaKeysSession.onmessage=function(d){var e=b.mediaKeysSession;if(e){var f=
d.messageType;d=d.message;k.log('"'+f+'" message event for session "'+e.sessionId+'" message size: '+d.byteLength);"license-request"===f||"license-renewal"===f?k.renewLicense(b,d).catch(function(b){k.handleError(b);s.emit("error",b)}):"license-release"===f?b.keySystem===Ga.FAIRPLAY&&(k.updateKeySession(b,C("acknowledged")),k.removeSession(b)):k.warn('unhandled media key message type "'+f+'"')}else s.emit("error",Error("invalid state"))};b.mediaKeysSession.onkeystatuseschange=function(d){b.mediaKeysSession?
(k.onKeyStatusChange(b),d=b.keyStatus,s.emit("keyStatus",d),"expired"===d&&(k.warn(b.keySystem+" expired for key "+r),k.renewKeySession(b))):s.emit("error",Error("invalid state"))};var u=new Promise(function(b,d){s.on("error",d);s.on("keyStatus",function(e){e.startsWith("usable")?b():"output-restricted"===e?d(new qc({type:na.KEY_SYSTEM_ERROR,details:V.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===e?d(new qc({type:na.KEY_SYSTEM_ERROR,details:V.KEY_SYSTEM_STATUS_INTERNAL_ERROR,
fatal:!0},'key status changed to "'+e+'"')):"expired"===e?d(Error("key expired while generating request")):k.warn('unhandled key status change "'+e+'"')})});return b.mediaKeysSession.generateRequest(d,e).then(function(){var d;k.log('Request generated for key-session "'+(null==(d=b.mediaKeysSession)?void 0:d.sessionId)+'" keyId: '+r)}).catch(function(b){throw new qc({type:na.KEY_SYSTEM_ERROR,details:V.KEY_SYSTEM_NO_SESSION,error:b,fatal:!1},"Error generating key-session request: "+b);}).then(function(){return u}).catch(function(d){throw s.removeAllListeners(),
k.removeSession(b),d;}).then(function(){return s.removeAllListeners(),b})},d.onKeyStatusChange=function(b){var d=this;b.mediaKeysSession.keyStatuses.forEach(function(e,f){d.log('key status change "'+e+'" for keyStatuses keyId: '+I("buffer"in f?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f))+" session keyId: "+I(new Uint8Array(b.decryptdata.keyId||[]))+" uri: "+b.decryptdata.uri);b.keyStatus=e})},d.fetchServerCertificate=function(b){var d=this.config,e=new (0,d.loader)(d),f=this.getServerCertificateUrl(b);
return f?(this.log('Fetching serverCertificate for "'+b+'"'),new Promise(function(g,k){var l={responseType:"arraybuffer",url:f},n=d.certLoadPolicy.default;e.load(l,{loadPolicy:n,timeout:n.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:function(b,d,e,f){g(b.data)},onError:function(d,e,g,n){k(new qc({type:na.KEY_SYSTEM_ERROR,details:V.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:h({url:l.url,data:void 0},d)},'"'+b+'" certificate request failed ('+
f+"). Status: "+d.code+" ("+d.text+")"))},onTimeout:function(d,e,h){k(new qc({type:na.KEY_SYSTEM_ERROR,details:V.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:h,response:{url:l.url,data:void 0}},'"'+b+'" certificate request timed out ('+f+")"))},onAbort:function(b,d,e){k(Error("aborted"))}})})):Promise.resolve()},d.setMediaKeysServerCertificate=function(b,d,e){var f=this;return new Promise(function(h,g){b.setServerCertificate(e).then(function(g){f.log("setServerCertificate "+
(g?"success":"not supported by CDM")+" ("+(null==e?void 0:e.byteLength)+') on "'+d+'"');h(b)}).catch(function(b){g(new qc({type:na.KEY_SYSTEM_ERROR,details:V.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:b,fatal:!0},b.message))})})},d.renewLicense=function(b,d){var e=this;return this.requestLicense(b,new Uint8Array(d)).then(function(d){return e.updateKeySession(b,new Uint8Array(d)).catch(function(b){throw new qc({type:na.KEY_SYSTEM_ERROR,details:V.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:b,fatal:!0},
b.message);})})},d.setupLicenseXHR=function(b,d,e,f){var h=this,g=this.config.licenseXhrSetup;return g?Promise.resolve().then(function(){if(!e.decryptdata)throw Error("Key removed");return g.call(h.hls,b,d,e,f)}).catch(function(k){if(!e.decryptdata)throw k;return b.open("POST",d,!0),g.call(h.hls,b,d,e,f)}).then(function(e){return b.readyState||b.open("POST",d,!0),{xhr:b,licenseChallenge:e||f}}):(b.open("POST",d,!0),Promise.resolve({xhr:b,licenseChallenge:f}))},d.requestLicense=function(b,d){var e=
this,f=this.config.keyLoadPolicy.default;return new Promise(function(h,g){var k=e.getLicenseServerUrl(b.keySystem);e.log("Sending license request to URL: "+k);var l=new XMLHttpRequest;l.responseType="arraybuffer";l.onreadystatechange=function(){if(!e.hls||!b.mediaKeysSession)return g(Error("invalid state"));if(4===l.readyState)if(200===l.status){e._requestLicenseFailureCount=0;var n=l.response;e.log("License received "+(n instanceof ArrayBuffer?n.byteLength:n));var p=e.config.licenseResponseCallback;
if(p)try{n=p.call(e.hls,l,k,b)}catch(q){e.error(q)}h(n)}else n=(n=f.errorRetry)?n.maxNumRetry:0,(e._requestLicenseFailureCount++,e._requestLicenseFailureCount>n||400<=l.status&&500>l.status)?g(new qc({type:na.KEY_SYSTEM_ERROR,details:V.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:l,response:{url:k,data:void 0,code:l.status,text:l.statusText}},"License Request XHR failed ("+k+"). Status: "+l.status+" ("+l.statusText+")")):(e.warn("Retrying license request, "+(n-e._requestLicenseFailureCount+
1)+" attempts left"),e.requestLicense(b,d).then(h,g))};b.licenseXhr&&b.licenseXhr.readyState!==XMLHttpRequest.DONE&&b.licenseXhr.abort();b.licenseXhr=l;e.setupLicenseXHR(l,k,b,d).then(function(b){b.xhr.send(b.licenseChallenge)})})},d.onMediaAttached=function(b,d){if(this.config.emeEnabled){var e=d.media;this.media=e;e.addEventListener("encrypted",this.onMediaEncrypted);e.addEventListener("waitingforkey",this.onWaitingForKey)}},d.onMediaDetached=function(){var d=this,e=this.media,f=this.mediaKeySessions;
e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null);this._requestLicenseFailureCount=0;this.setMediaKeysQueue=[];this.mediaKeySessions=[];this.keyIdToKeySessionPromise={};Fb.clearKeyUriToKeyIdMap();var h=f.length;b.CDMCleanupPromise=Promise.all(f.map(function(b){return d.removeSession(b)}).concat(null==e?void 0:e.setMediaKeys(null).catch(function(b){d.log("Could not clear media keys: "+b+". media.src: "+(null==e?
void 0:e.src))}))).then(function(){h&&(d.log("finished closing key sessions and clearing media keys"),f.length=0)}).catch(function(b){d.log("Could not close sessions and clear media keys: "+b+". media.src: "+(null==e?void 0:e.src))})},d.onManifestLoaded=function(b,d){var e=d.sessionKeys;e&&this.config.emeEnabled&&!this.keyFormatPromise&&(e=e.reduce(function(b,d){return-1===b.indexOf(d.keyFormat)&&b.push(d.keyFormat),b},[]),this.log("Selecting key-system from session-keys "+e.join(", ")),this.keyFormatPromise=
this.getKeyFormatPromise(e))},d.removeSession=function(b){var d=this,e=b.mediaKeysSession,f=b.licenseXhr;if(e)return this.log("Remove licenses and keys and close session "+e.sessionId),e.onmessage=null,e.onkeystatuseschange=null,f&&f.readyState!==XMLHttpRequest.DONE&&f.abort(),b.mediaKeysSession=b.decryptdata=b.licenseXhr=void 0,b=this.mediaKeySessions.indexOf(b),-1<b&&this.mediaKeySessions.splice(b,1),e.remove().catch(function(b){d.log("Could not remove session: "+b)}).then(function(){return e.close()}).catch(function(b){d.log("Could not close session: "+
b)})},b}();Td.CDMCleanupPromise=void 0;var qc=function(b){function d(e,f){var h;return(h=b.call(this,f)||this).data=void 0,e.error||(e.error=Error(f)),h.data=e,e.err=e.error,h}return n(d,b),d}(v(Error)),Ke=function(){function b(d){var e=this;this.cid=this.sid=this.media=this.config=this.hls=void 0;this.starved=this.initialized=this.useHeaders=!1;this.buffering=!0;this.videoBuffer=this.audioBuffer=void 0;this.onWaiting=function(){e.initialized&&(e.starved=!0);e.buffering=!0};this.onPlaying=function(){e.initialized||
(e.initialized=!0);e.buffering=!1};this.applyPlaylistData=function(b){try{e.apply(b,{ot:"m",su:!e.initialized})}catch(d){S.warn("Could not generate manifest CMCD data.",d)}};this.applyFragmentData=function(b){try{var d=b.frag,f=e.hls.levels[d.level],h=e.getObjectType(d),g={d:1E3*d.duration,ot:h};"v"!==h&&"a"!==h&&"av"!=h||(g.br=f.bitrate/1E3,g.tb=e.getTopBandwidth(h)/1E3,g.bl=e.getBufferLength(h));e.apply(b,g)}catch(k){S.warn("Could not generate segment CMCD data.",k)}};this.hls=d;d=this.config=d.config;
var f=d.cmcd;null!=f&&(d.pLoader=this.createPlaylistLoader(),d.fLoader=this.createFragmentLoader(),this.sid=f.sessionId||b.uuid(),this.cid=f.contentId,this.useHeaders=!0===f.useHeaders,this.registerListeners())}var d=b.prototype;return d.registerListeners=function(){var b=this.hls;b.on(G.MEDIA_ATTACHED,this.onMediaAttached,this);b.on(G.MEDIA_DETACHED,this.onMediaDetached,this);b.on(G.BUFFER_CREATED,this.onBufferCreated,this)},d.unregisterListeners=function(){var b=this.hls;b.off(G.MEDIA_ATTACHED,
this.onMediaAttached,this);b.off(G.MEDIA_DETACHED,this.onMediaDetached,this);b.off(G.BUFFER_CREATED,this.onBufferCreated,this)},d.destroy=function(){this.unregisterListeners();this.onMediaDetached();this.hls=this.config=this.audioBuffer=this.videoBuffer=null},d.onMediaAttached=function(b,d){this.media=d.media;this.media.addEventListener("waiting",this.onWaiting);this.media.addEventListener("playing",this.onPlaying)},d.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",
this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},d.onBufferCreated=function(b,d){var e,f;this.audioBuffer=null==(e=d.tracks.audio)?void 0:e.buffer;this.videoBuffer=null==(f=d.tracks.video)?void 0:f.buffer},d.createData=function(){var b;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(b=this.media)?void 0:b.playbackRate,mtp:this.hls.bandwidthEstimate/1E3}},d.apply=function(d,e){void 0===e&&(e={});g(e,this.createData());var f="i"===e.ot||"v"===e.ot||"av"===
e.ot;if(this.starved&&f&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering),this.useHeaders)f=b.toHeaders(e),Object.keys(f).length&&(d.headers||(d.headers={}),g(d.headers,f));else if(f=b.toQuery(e))d.url=b.appendQueryToUri(d.url,f)},d.getObjectType=function(b){var d=b.type;return"subtitle"===d?"tt":"initSegment"===b.sn?"i":"audio"===d?"a":"main"===d?this.hls.audioTracks.length?"v":"av":void 0},d.getTopBandwidth=function(b){var d,e=0;d=this.hls;"a"===b?d=d.audioTracks:(b=d.maxAutoLevel,
d=d.levels.slice(0,-1<b?b+1:d.levels.length));for(d=w(d);!(b=d()).done;)b=b.value,b.bitrate>e&&(e=b.bitrate);return 0<e?e:NaN},d.getBufferLength=function(b){var d=this.hls.media;return(b="a"===b?this.audioBuffer:this.videoBuffer)&&d?1E3*qb.bufferInfo(b,d.currentTime,this.config.maxBufferHole).len:NaN},d.createPlaylistLoader=function(){var b=this.applyPlaylistData,d=this.config.pLoader||this.config.loader;return function(){function e(b){this.loader=void 0;this.loader=new d(b)}var h=e.prototype;return h.destroy=
function(){this.loader.destroy()},h.abort=function(){this.loader.abort()},h.load=function(d,e,f){b(d);this.loader.load(d,e,f)},f(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},d.createFragmentLoader=function(){var b=this.applyFragmentData,d=this.config.fLoader||this.config.loader;return function(){function e(b){this.loader=void 0;this.loader=new d(b)}var h=e.prototype;return h.destroy=function(){this.loader.destroy()},h.abort=
function(){this.loader.abort()},h.load=function(d,e,f){b(d);this.loader.load(d,e,f)},f(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},b.uuid=function(){var b=URL.createObjectURL(new Blob),d=b.toString();return URL.revokeObjectURL(b),d.slice(d.lastIndexOf("/")+1)},b.serialize=function(b){for(var d,e=[],f=function(b){return!Number.isNaN(b)&&null!=b&&""!==b&&!1!==b},h=function(b){return Math.round(b)},g=function(b){return 100*
h(b/100)},g={br:h,d:h,bl:g,dl:g,mtp:g,nor:function(b){return encodeURIComponent(b)},rtp:g,tb:h},k=w(Object.keys(b||{}).sort());!(d=k()).done;){d=d.value;var l=b[d];if(f(l)&&!("v"===d&&1===l||"pr"==d&&1===l)){var n=g[d];n&&(l=n(l));var n=typeof l,p=void 0,p="ot"===d||"sf"===d||"st"===d?d+"\x3d"+l:"boolean"===n?d:"number"===n?d+"\x3d"+l:d+"\x3d"+JSON.stringify(l);e.push(p)}}return e.join(",")},b.toHeaders=function(d){for(var e={},f=["Object","Request","Session","Status"],h=[{},{},{},{}],g={br:0,d:0,
ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},k=0,l=Object.keys(d);k<l.length;k++){var n=l[k];h[null!=g[n]?g[n]:1][n]=d[n]}for(d=0;d<h.length;d++)(g=b.serialize(h[d]))&&(e["CMCD-"+f[d]]=g);return e},b.toQuery=function(d){return"CMCD\x3d"+encodeURIComponent(b.serialize(d))},b.appendQueryToUri=function(b,d){if(!d)return b;var e=b.includes("?")?"\x26":"?";return""+b+e+d},b}(),Le=function(){function b(d){this.log=this.hls=void 0;this.uri=this.loader=null;this.pathwayId=
".";this.pathwayPriority=null;this.timeToLoad=300;this.reloadTimer=-1;this.updated=0;this.started=!1;this.enabled=!0;this.subtitleTracks=this.audioTracks=this.levels=null;this.penalizedPathways={};this.hls=d;this.log=S.log.bind(S,"[content-steering]:");this.registerListeners()}var d=b.prototype;return d.registerListeners=function(){var b=this.hls;b.on(G.MANIFEST_LOADING,this.onManifestLoading,this);b.on(G.MANIFEST_LOADED,this.onManifestLoaded,this);b.on(G.MANIFEST_PARSED,this.onManifestParsed,this);
b.on(G.ERROR,this.onError,this)},d.unregisterListeners=function(){var b=this.hls;b&&(b.off(G.MANIFEST_LOADING,this.onManifestLoading,this),b.off(G.MANIFEST_LOADED,this.onManifestLoaded,this),b.off(G.MANIFEST_PARSED,this.onManifestParsed,this),b.off(G.ERROR,this.onError,this))},d.startLoad=function(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){var b=Math.max(1E3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,b)}else this.loadSteeringManifest(this.uri)},
d.stopLoad=function(){this.started=!1;this.loader&&(this.loader.destroy(),this.loader=null);self.clearTimeout(this.reloadTimer)},d.destroy=function(){this.unregisterListeners();this.stopLoad();this.levels=this.audioTracks=this.subtitleTracks=this.hls=null},d.removeLevel=function(b){var d=this.levels;d&&(this.levels=d.filter(function(d){return d!==b}))},d.onManifestLoading=function(){this.stopLoad();this.enabled=!0;this.timeToLoad=300;this.updated=0;this.uri=null;this.pathwayId=".";this.levels=this.audioTracks=
this.subtitleTracks=null},d.onManifestLoaded=function(b,d){var e=d.contentSteering;null!==e&&(this.pathwayId=e.pathwayId,this.uri=e.uri,this.started&&this.startLoad())},d.onManifestParsed=function(b,d){this.audioTracks=d.audioTracks;this.subtitleTracks=d.subtitleTracks},d.onError=function(b,d){var e=d.errorAction;if(2===(null==e?void 0:e.action)&&1===e.flags){var f=this.pathwayPriority,h=this.pathwayId;this.penalizedPathways[h]||(this.penalizedPathways[h]=performance.now());!f&&this.levels&&(f=this.levels.reduce(function(b,
d){return-1===b.indexOf(d.pathwayId)&&b.push(d.pathwayId),b},[]));f&&1<f.length&&(this.updatePathwayPriority(f),e.resolved=this.pathwayId!==h)}},d.filterParsedLevels=function(b){this.levels=b;var d=this.getLevelsForPathway(this.pathwayId);if(0===d.length){var e=b[0].pathwayId;this.log("No levels found in Pathway "+this.pathwayId+'. Setting initial Pathway to "'+e+'"');d=this.getLevelsForPathway(e);this.pathwayId=e}return d.length!==b.length?(this.log("Found "+d.length+"/"+b.length+' levels in Pathway "'+
this.pathwayId+'"'),d):b},d.getLevelsForPathway=function(b){return null===this.levels?[]:this.levels.filter(function(d){return b===d.pathwayId})},d.updatePathwayPriority=function(b){var d;this.pathwayPriority=b;var e=this.penalizedPathways,f=performance.now();Object.keys(e).forEach(function(b){3E5<f-e[b]&&delete e[b]});for(var h=0;h<b.length;h++){var g=b[h];if(!e[g]){if(g===this.pathwayId)break;var k=this.hls.nextLoadLevel,l=this.hls.levels[k];if(0<(d=this.getLevelsForPathway(g)).length){this.log('Setting Pathway to "'+
g+'"');this.pathwayId=g;this.hls.trigger(G.LEVELS_UPDATED,{levels:d});b=this.hls.levels[k];l&&b&&this.levels&&(b.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&b.bitrate!==l.bitrate&&this.log("Unstable Pathways change from bitrate "+l.bitrate+" to "+b.bitrate),this.hls.nextLoadLevel=k);break}}}},d.clonePathways=function(b){var d=this,e=this.levels;if(e){var f={},h={};b.forEach(function(b){var k=b.ID,n=b["BASE-ID"],p=b["URI-REPLACEMENT"];e.some(function(b){return b.pathwayId===k})||(b=
d.getLevelsForPathway(n).map(function(b){var d=g({},b);d.details=void 0;d.url=ib(b.uri,b.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",p);var e=new pa(b.attrs);e["PATHWAY-ID"]=k;b=e.AUDIO&&e.AUDIO+"_clone_"+k;var n=e.SUBTITLES&&e.SUBTITLES+"_clone_"+k;b&&(f[e.AUDIO]=b,e.AUDIO=b);n&&(h[e.SUBTITLES]=n,e.SUBTITLES=n);d.attrs=e;d=new Za(d);return Xa(d,"audio",b),Xa(d,"text",n),d}),e.push.apply(e,b),Pc(d.audioTracks,f,p,k),Pc(d.subtitleTracks,h,p,k))})}},d.loadSteeringManifest=function(b){var d,e=this,
f=this.hls.config,h=f.loader;this.loader&&this.loader.destroy();this.loader=new h(f);try{d=new self.URL(b)}catch(g){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: "+b)}"data:"!==d.protocol&&(b=0|(this.hls.bandwidthEstimate||f.abrEwmaDefaultEstimate),d.searchParams.set("_HLS_pathway",this.pathwayId),d.searchParams.set("_HLS_throughput",""+b));b={responseType:"json",url:d.href};f=f.steeringManifestLoadPolicy.default;h=f.errorRetry||f.timeoutRetry||{};f={loadPolicy:f,timeout:f.maxLoadTimeMs,
maxRetry:h.maxNumRetry||0,retryDelay:h.retryDelayMs||0,maxRetryDelay:h.maxRetryDelayMs||0};this.log("Requesting steering manifest: "+d);this.loader.load(b,f,{onSuccess:function(b,f,h,g){e.log('Loaded steering manifest: "'+d+'"');g=b.data;if(1===g.VERSION){e.updated=performance.now();e.timeToLoad=g.TTL;b=g["RELOAD-URI"];f=g["PATHWAY-CLONES"];g=g["PATHWAY-PRIORITY"];if(b)try{e.uri=(new self.URL(b,d)).href}catch(k){return e.enabled=!1,void e.log("Failed to parse Steering Manifest RELOAD-URI: "+b)}e.scheduleRefresh(e.uri||
h.url);f&&e.clonePathways(f);g&&e.updatePathwayPriority(g)}else e.log("Steering VERSION "+g.VERSION+" not supported!")},onError:function(b,d,f,h){if(e.log("Error loading steering manifest: "+b.code+" "+b.text+" ("+d.url+")"),e.stopLoad(),410===b.code)return e.enabled=!1,void e.log("Steering manifest "+d.url+" no longer available");f=1E3*e.timeToLoad;429!==b.code?e.scheduleRefresh(e.uri||d.url,f):(b=e.loader,"function"==typeof(null==b?void 0:b.getResponseHeader)&&(b=b.getResponseHeader("Retry-After"))&&
parseFloat(b),e.log("Steering manifest "+d.url+" rate limited"))},onTimeout:function(b,d,f){e.log("Timeout loading steering manifest ("+d.url+")");e.scheduleRefresh(e.uri||d.url)}})},d.scheduleRefresh=function(b,d){var e=this;void 0===d&&(d=1E3*this.timeToLoad);self.clearTimeout(this.reloadTimer);this.reloadTimer=self.setTimeout(function(){e.loadSteeringManifest(b)},d)},b}(),oe=/^age:\s*[\d.]+\s*$/im,te=function(){function b(d){this.retryDelay=this.retryTimeout=this.requestTimeout=this.xhrSetup=void 0;
this.callbacks=this.config=null;this.context=void 0;this.loader=null;this.stats=void 0;this.xhrSetup=d&&d.xhrSetup||null;this.stats=new lb;this.retryDelay=0}var d=b.prototype;return d.destroy=function(){this.callbacks=null;this.abortInternal();this.config=this.loader=null},d.abortInternal=function(){var b=this.loader;self.clearTimeout(this.requestTimeout);self.clearTimeout(this.retryTimeout);b&&(b.onreadystatechange=null,b.onprogress=null,4!==b.readyState&&(this.stats.aborted=!0,b.abort()))},d.abort=
function(){var b;this.abortInternal();null!=(b=this.callbacks)&&b.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},d.load=function(b,d,e){if(this.stats.loading.start)throw Error("Loader can only be used once.");this.stats.loading.start=self.performance.now();this.context=b;this.config=d;this.callbacks=e;this.loadInternal()},d.loadInternal=function(){var b=this,d=this.config,e=this.context;if(d){var f=this.loader=new self.XMLHttpRequest,h=this.stats;h.loading.first=0;h.loaded=
0;var g=this.xhrSetup;g?Promise.resolve().then(function(){if(!b.stats.aborted)return g(f,e.url)}).catch(function(b){return f.open("GET",e.url,!0),g(f,e.url)}).then(function(){b.stats.aborted||b.openAndSendXhr(f,e,d)}).catch(function(d){b.callbacks.onError({code:f.status,text:d.message},e,f,h)}):this.openAndSendXhr(f,e,d)}},d.openAndSendXhr=function(b,d,e){b.readyState||b.open("GET",d.url,!0);var f=this.context.headers,h=e.loadPolicy,g=h.maxTimeToFirstByteMs,h=h.maxLoadTimeMs;if(f)for(var k in f)b.setRequestHeader(k,
f[k]);d.rangeEnd&&b.setRequestHeader("Range","bytes\x3d"+d.rangeStart+"-"+(d.rangeEnd-1));b.onreadystatechange=this.readystatechange.bind(this);b.onprogress=this.loadprogress.bind(this);b.responseType=d.responseType;self.clearTimeout(this.requestTimeout);e.timeout=g&&ka(g)?g:h;this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout);b.send()},d.readystatechange=function(){var b=this.context,d=this.loader,e=this.stats;if(b&&d){var f=d.readyState,h=this.config;if(!e.aborted&&2<=f&&
(0===e.loading.first&&(e.loading.first=Math.max(self.performance.now(),e.loading.start),h.timeout!==h.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),h.timeout=h.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),h.loadPolicy.maxLoadTimeMs-(e.loading.first-e.loading.start)))),4===f)){self.clearTimeout(this.requestTimeout);d.onreadystatechange=null;d.onprogress=null;var f=d.status,g="text"!==d.responseType;if(200<=f&&300>f&&(g&&d.response||null!==
d.responseText)){if(e.loading.end=Math.max(self.performance.now(),e.loading.first),h=g?d.response:d.responseText,e.loaded=e.total="arraybuffer"===d.responseType?h.byteLength:h.length,e.bwEstimate=8E3*e.total/(e.loading.end-e.loading.first),this.callbacks)if(g=this.callbacks.onProgress,g&&g(e,b,h,d),this.callbacks)this.callbacks.onSuccess({url:d.responseURL,data:h,code:f},e,b,d)}else h=h.loadPolicy.errorRetry,Wa(h,e.retry,!1,f)?this.retry(h):(S.error(f+" while loading "+b.url),this.callbacks.onError({code:f,
text:d.statusText},b,d,e))}}},d.loadtimeout=function(){var b,d=null==(b=this.config)?void 0:b.loadPolicy.timeoutRetry;Wa(d,this.stats.retry,!0)?this.retry(d):(S.warn("timeout while loading "+this.context.url),(b=this.callbacks)&&(this.abortInternal(),b.onTimeout(this.stats,this.context,this.loader)))},d.retry=function(b){var d=this.context,e=this.stats;this.retryDelay=Ua(b,e.retry);e.retry++;S.warn((status?"HTTP Status "+status:"Timeout")+" while loading "+d.url+", retrying "+e.retry+"/"+b.maxNumRetry+
" in "+this.retryDelay+"ms");this.abortInternal();this.loader=null;self.clearTimeout(this.retryTimeout);this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)},d.loadprogress=function(b){var d=this.stats;d.loaded=b.loaded;b.lengthComputable&&(d.total=b.total)},d.getCacheAge=function(){var b=null;this.loader&&oe.test(this.loader.getAllResponseHeaders())&&(b=(b=this.loader.getResponseHeader("age"))?parseFloat(b):null);return b},d.getResponseHeader=function(b){return this.loader&&
(new RegExp("^"+b+":\\s*[\\d.]+\\s*$","im")).test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(b):null},b}(),Me=/(\d+)-(\d+)\/(\d+)/,se=function(){function b(d){this.context=this.controller=this.response=this.request=this.requestTimeout=this.fetchSetup=void 0;this.callbacks=this.config=null;this.stats=void 0;this.loader=null;this.fetchSetup=d.fetchSetup||jc;this.controller=new self.AbortController;this.stats=new lb}var d=b.prototype;return d.destroy=function(){this.loader=this.callbacks=
null;this.abortInternal()},d.abortInternal=function(){var b=this.response;null!=b&&b.ok||(this.stats.aborted=!0,this.controller.abort())},d.abort=function(){var b;this.abortInternal();null!=(b=this.callbacks)&&b.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},d.load=function(b,d,e){var f=this,h=this.stats;if(h.loading.start)throw Error("Loader can only be used once.");h.loading.start=self.performance.now();var k=function(b,d){var e={method:"GET",mode:"cors",credentials:"same-origin",
signal:d,headers:new self.Headers(g({},b.headers))};return b.rangeEnd&&e.headers.set("Range","bytes\x3d"+b.rangeStart+"-"+String(b.rangeEnd-1)),e}(b,this.controller.signal),n=e.onProgress,p="arraybuffer"===b.responseType,q=p?"byteLength":"length",r=d.loadPolicy,s=r.maxTimeToFirstByteMs,u=r.maxLoadTimeMs;this.context=b;this.config=d;this.callbacks=e;this.request=this.fetchSetup(b,k);self.clearTimeout(this.requestTimeout);d.timeout=s&&ka(s)?s:u;this.requestTimeout=self.setTimeout(function(){f.abortInternal();
e.onTimeout(h,b,f.response)},d.timeout);self.fetch(this.request).then(function(g){f.response=f.loader=g;var k=Math.max(self.performance.now(),h.loading.start);if(self.clearTimeout(f.requestTimeout),d.timeout=u,f.requestTimeout=self.setTimeout(function(){f.abortInternal();e.onTimeout(h,b,f.response)},u-(k-h.loading.start)),!g.ok)throw new Ne(g.statusText||"fetch, bad network response",g.status,g);return h.loading.first=k,h.total=function(b){var d=b.get("Content-Range");if(d&&(d=(d=Me.exec(d))?parseInt(d[2])-
parseInt(d[1])+1:void 0,ka(d)))return d;if(b=b.get("Content-Length"))return parseInt(b)}(g.headers)||h.total,n&&ka(d.highWaterMark)?f.loadProgressively(g,h,b,d.highWaterMark,n):p?g.arrayBuffer():"json"===b.responseType?g.json():g.text()}).then(function(g){var k=f.response;self.clearTimeout(f.requestTimeout);h.loading.end=Math.max(self.performance.now(),h.loading.first);var l=g[q];l&&(h.loaded=h.total=l);l={url:k.url,data:g,code:k.status};n&&!ka(d.highWaterMark)&&n(h,b,g,k);e.onSuccess(l,h,b,k)}).catch(function(d){if(self.clearTimeout(f.requestTimeout),
!h.aborted)e.onError({code:d&&d.code||0,text:d?d.message:null},b,d?d.details:null,h)})},d.getCacheAge=function(){var b=null;this.response&&(b=(b=this.response.headers.get("age"))?parseFloat(b):null);return b},d.getResponseHeader=function(b){return this.response?this.response.headers.get(b):null},d.loadProgressively=function(b,d,e,f,h){void 0===f&&(f=0);var g=new rd,k=b.body.getReader();return function xe(){return k.read().then(function(k){if(k.done)return g.dataLength&&h(d,e,g.flush(),b),Promise.resolve(new ArrayBuffer(0));
k=k.value;var l=k.length;return d.loaded+=l,l<f||g.dataLength?(g.push(k),g.dataLength>=f&&h(d,e,g.flush(),b)):h(d,e,k,b),xe()}).catch(function(){return Promise.reject()})}()},b}(),Ne=function(b){function d(e,f,h){var g;return(g=b.call(this,e)||this).code=void 0,g.details=void 0,g.code=f,g.details=h,g}return n(d,b),d}(v(Error)),Oe=/\s/,Pe=h(h({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,
maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6E7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5E3,fpsDroppedMonitoringThreshold:.2,
appendErrorMaxRetry:3,loader:te,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Rc,bufferController:Yd,capLevelController:Ie,errorController:Xd,fpsController:Je,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5E5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,
minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:yb,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8E3,maxLoadTimeMs:2E4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8E3,maxLoadTimeMs:2E4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1E3,maxRetryDelayMs:2E4,
backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1E3,maxRetryDelayMs:2E4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2E4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1E3,maxRetryDelayMs:8E3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1E4,maxLoadTimeMs:2E4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1E3,maxRetryDelayMs:8E3}}},
fragLoadPolicy:{default:{maxTimeToFirstByteMs:1E4,maxLoadTimeMs:12E4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1E3,maxRetryDelayMs:8E3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1E4,maxLoadTimeMs:2E4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1E3,maxRetryDelayMs:8E3}}},manifestLoadingTimeOut:1E4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1E3,manifestLoadingMaxRetryTimeout:64E3,
levelLoadingTimeOut:1E4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1E3,levelLoadingMaxRetryTimeout:64E3,fragLoadingTimeOut:2E4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1E3,fragLoadingMaxRetryTimeout:64E3},{cueHandler:{newCue:function(b,d,e,f){for(var h,g,k,l,n,p=[],q=self.VTTCue||self.TextTrackCue,r=0;r<f.rows.length;r++)if(k=!0,l=0,n="",!(h=f.rows[r]).isEmpty()){for(var s,u=0;u<h.chars.length;u++)Oe.test(h.chars[u].uchar)&&k?l++:(n+=h.chars[u].uchar,k=!1);h.cueStartTime=d;d===e&&(e+=1E-4);
16<=l?l--:l++;h=ec(n.trim());k=Nc(d,e,h);null!=b&&null!=(s=b.cues)&&s.getCueById(k)||((g=new q(d,e,h)).id=k,g.line=r+1,g.align="left",g.position=10+Math.min(80,10*Math.floor(8*l/32)),p.push(g))}return b&&p.length&&(p.sort(function(b,d){return"auto"===b.line||"auto"===d.line?0:8<b.line&&8<d.line?d.line-b.line:b.line-d.line}),p.forEach(function(d){return Ma(b,d)})),p}},enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",
captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:ad,subtitleTrackController:bd,timelineController:He,audioStreamController:Fd,audioTrackController:id,emeController:Td,cmcdController:Ke,contentSteeringController:Le}),we=function(){function b(d){void 0===d&&(d={});this.networkControllers=this.coreComponents=this.userConfig=
this.config=void 0;this._emitter=new dd;this._autoLevelCapping=void 0;this._maxHdcpLevel=null;this.cmcdController=this.emeController=this.subtitleTrackController=this.audioTrackController=this.streamController=this.levelController=this.latencyController=this.capLevelController=this.bufferController=this.abrController=void 0;this.url=this._media=null;E(d.debug||!1,"Hls instance");var e=this.config=function(b,d){if((d.liveSyncDurationCount||d.liveMaxLatencyDurationCount)&&(d.liveSyncDuration||d.liveMaxLatencyDuration))throw Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");
if(void 0!==d.liveMaxLatencyDurationCount&&(void 0===d.liveSyncDurationCount||d.liveMaxLatencyDurationCount<=d.liveSyncDurationCount))throw Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==d.liveMaxLatencyDuration&&(void 0===d.liveSyncDuration||d.liveMaxLatencyDuration<=d.liveSyncDuration))throw Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var e=Ha(b),f=["TimeOut","MaxRetry","RetryDelay",
"MaxRetryTimeout"];return["manifest","level","frag"].forEach(function(b){var h=("level"===b?"playlist":b)+"LoadPolicy",g=void 0===d[h],k=[];f.forEach(function(f){var l=b+"Loading"+f,n=d[l];if(void 0!==n&&g)switch(k.push(l),l=e[h].default,d[h]={default:l},f){case "TimeOut":l.maxLoadTimeMs=n;l.maxTimeToFirstByteMs=n;break;case "MaxRetry":l.errorRetry.maxNumRetry=n;l.timeoutRetry.maxNumRetry=n;break;case "RetryDelay":l.errorRetry.retryDelayMs=n;l.timeoutRetry.retryDelayMs=n;break;case "MaxRetryTimeout":l.errorRetry.maxRetryDelayMs=
n,l.timeoutRetry.maxRetryDelayMs=n}});k.length&&S.warn('hls.js config: "'+k.join('", "')+'" setting(s) are deprecated, use "'+h+'": '+JSON.stringify(d[h]))}),h(h({},e),d)}(b.DefaultConfig,d);this.userConfig=d;this._autoLevelCapping=-1;e.progressive&&wa(e);var f=e.abrController,g=e.bufferController,k=e.capLevelController,l=e.fpsController;d=new e.errorController(this);var f=this.abrController=new f(this),g=this.bufferController=new g(this),n=this.capLevelController=new k(this),p=new l(this),q=new Gc(this),
r=new dc(this),s=(l=e.contentSteeringController)?new l(this):null,u=this.levelController=new Md(this,s),l=new Wd(this),k=new be(this.config),A=this.streamController=new Jb(this,l,k);n.setStreamController(A);p.setStreamController(A);q=[q,u,A];s&&q.splice(1,0,s);this.networkControllers=q;f=[f,g,n,p,r,l];this.audioTrackController=this.createController(e.audioTrackController,q);(g=e.audioStreamController)&&q.push(new g(this,l,k));this.subtitleTrackController=this.createController(e.subtitleTrackController,
q);(g=e.subtitleStreamController)&&q.push(new g(this,l,k));this.createController(e.timelineController,f);k.emeController=this.emeController=this.createController(e.emeController,f);this.cmcdController=this.createController(e.cmcdController,f);this.latencyController=this.createController(Ba,f);this.coreComponents=f;q.push(d);e=d.onErrorOut;"function"==typeof e&&this.on(G.ERROR,e,d)}b.isSupported=function(){var b;var d=Kb();d?(b=self.SourceBuffer||self.WebKitSourceBuffer,d=d&&"function"==typeof d.isTypeSupported&&
d.isTypeSupported('video/mp4; codecs\x3d"avc1.42E01E,mp4a.40.2"'),b=!b||b.prototype&&"function"==typeof b.prototype.appendBuffer&&"function"==typeof b.prototype.remove,b=!!d&&!!b):b=!1;return b};var d=b.prototype;return d.createController=function(b,d){if(b){var e=new b(this);return d&&d.push(e),e}return null},d.on=function(b,d,e){void 0===e&&(e=this);this._emitter.on(b,d,e)},d.once=function(b,d,e){void 0===e&&(e=this);this._emitter.once(b,d,e)},d.removeAllListeners=function(b){this._emitter.removeAllListeners(b)},
d.off=function(b,d,e,f){void 0===e&&(e=this);this._emitter.off(b,d,e,f)},d.listeners=function(b){return this._emitter.listeners(b)},d.emit=function(b,d,e){return this._emitter.emit(b,d,e)},d.trigger=function(b,d){if(this.config.debug)return this.emit(b,b,d);try{return this.emit(b,b,d)}catch(e){S.error("An internal error happened while handling event "+b+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.trigger(G.ERROR,{type:na.OTHER_ERROR,details:V.INTERNAL_EXCEPTION,fatal:!1,event:b,
error:e})}return!1},d.listenerCount=function(b){return this._emitter.listenerCount(b)},d.destroy=function(){S.log("destroy");this.trigger(G.DESTROYING,void 0);this.detachMedia();this.removeAllListeners();this._autoLevelCapping=-1;this.url=null;this.networkControllers.forEach(function(b){return b.destroy()});this.networkControllers.length=0;this.coreComponents.forEach(function(b){return b.destroy()});this.coreComponents.length=0;var b=this.config;b.xhrSetup=b.fetchSetup=void 0;this.userConfig=null},
d.attachMedia=function(b){S.log("attachMedia");this._media=b;this.trigger(G.MEDIA_ATTACHING,{media:b})},d.detachMedia=function(){S.log("detachMedia");this.trigger(G.MEDIA_DETACHING,void 0);this._media=null},d.loadSource=function(b){this.stopLoad();var d=this.media,e=this.url,f=this.url=kc.buildAbsoluteURL(self.location.href,b,{alwaysNormalize:!0});S.log("loadSource:"+f);d&&e&&e!==f&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(d));this.trigger(G.MANIFEST_LOADING,{url:b})},
d.startLoad=function(b){void 0===b&&(b=-1);S.log("startLoad("+b+")");this.networkControllers.forEach(function(d){d.startLoad(b)})},d.stopLoad=function(){S.log("stopLoad");this.networkControllers.forEach(function(b){b.stopLoad()})},d.swapAudioCodec=function(){S.log("swapAudioCodec");this.streamController.swapAudioCodec()},d.recoverMediaError=function(){S.log("recoverMediaError");var b=this._media;this.detachMedia();b&&this.attachMedia(b)},d.removeLevel=function(b,d){void 0===d&&(d=0);this.levelController.removeLevel(b,
d)},f(b,[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(b){S.log("set currentLevel:"+b);this.loadLevel=b;this.abrController.clearTimer();this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(b){S.log("set nextLevel:"+b);this.levelController.manualLevel=b;this.streamController.nextLevelSwitch()}},{key:"loadLevel",
get:function(){return this.levelController.level},set:function(b){S.log("set loadLevel:"+b);this.levelController.manualLevel=b}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(b){this.levelController.nextLoadLevel=b}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(b){S.log("set firstLevel:"+b);this.levelController.firstLevel=b}},{key:"startLevel",get:function(){return this.levelController.startLevel},
set:function(b){S.log("set startLevel:"+b);-1!==b&&(b=Math.max(b,this.minAutoLevel));this.levelController.startLevel=b}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(b){b=!!b;b!==this.config.capLevelToPlayerSize&&(b?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=b)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},
set:function(b){this._autoLevelCapping!==b&&(S.log("set autoLevelCapping:"+b),this._autoLevelCapping=b)}},{key:"bandwidthEstimate",get:function(){var b=this.abrController.bwEstimator;return b?b.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var b=this.abrController.bwEstimator;return b?b.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(b){-1<kd.indexOf(b)&&(this._maxHdcpLevel=b)}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},
{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var b=this.levels,d=this.config.minAutoBitrate;if(!b)return 0;for(var e=b.length,f=0;f<e;f++)if(b[f].maxBitrate>=d)return f;return 0}},{key:"maxAutoLevel",get:function(){var b,d=this.levels;b=this.autoLevelCapping;var e=this.maxHdcpLevel;if(b=-1===b&&d&&d.length?d.length-1:b,e)for(var f=b;f--;){var h=d[f].attrs["HDCP-LEVEL"];if(h&&h<=e)return f}return b}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,
this.minAutoLevel),this.maxAutoLevel)},set:function(b){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,b)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var b=this.audioTrackController;return b?b.audioTracks:[]}},{key:"audioTrack",get:function(){var b=this.audioTrackController;return b?b.audioTrack:-1},set:function(b){var d=
this.audioTrackController;d&&(d.audioTrack=b)}},{key:"subtitleTracks",get:function(){var b=this.subtitleTrackController;return b?b.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var b=this.subtitleTrackController;return b?b.subtitleTrack:-1},set:function(b){var d=this.subtitleTrackController;d&&(d.subtitleTrack=b)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var b=this.subtitleTrackController;return!!b&&b.subtitleDisplay},set:function(b){var d=
this.subtitleTrackController;d&&(d.subtitleDisplay=b)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(b){this.config.lowLatencyMode=b}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",
get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.0"}},{key:"Events",get:function(){return G}},{key:"ErrorTypes",get:function(){return na}},{key:"ErrorDetails",get:function(){return V}},{key:"DefaultConfig",get:function(){return b.defaultConfig?b.defaultConfig:Pe},set:function(d){b.defaultConfig=d}}]),b}();return we.defaultConfig=void 0,we};"object"==typeof exports&&"undefined"!=
typeof module?module.exports=g():"function"==typeof define&&define.amd?define(g):(b="undefined"!=typeof globalThis?globalThis:b||self).Hls=g()}(!1);var apiEvent=null;
function receiveMessage(c){if(!isNull(c.data)&&"string"===typeof c.data&&"ivideo://"==c.data.substring(0,9))switch(c=JSON.parse(c.data.split("ivideo://")[1]),c.name){case "pause":pauseIt();break;case "play":playIt();break;case "setVolume":popcorn.volume(c.value);break;case "setCurrentTime":popcorn.currentTime(c.value);break;case "setSubtitle":changeSubtitles(c.value);break;case "setAudioTrack":_changeAudioTrack(c.value);break;case "externalVideoUrl":externalVideoUrl=c.value;break;case "parentPlayerUrl":parentPlayerUrl=
c.value;break;case "updateSkinProperty":updateSkinProperty(c.value);break;case "setVariable":c=c.value;null!=c&&setVariable(c.key,c.value,!1,!1,c.persistent);break;case "setPlaybackRate":try{popcorn.playbackRate(parseFloat(c.value).toFixed(1))}catch(e){}break;case "setLoop":try{popcorn.loop(c.value)}catch(b){}break;case "loop":try{popcorn.loop(c.value)}catch(g){}break;case "playbackRate":try{changePlaybackRate(c.value)}catch(k){}break;case "requestFullscreen":case "launchFullscreen":launchFullscreen();
break;case "cancelFullscreen":case "exitFullscreen":exitFullscreen();break;case "removeTrackEvent":popcorn.removeTrackEvent(c.value);break;case "addTrackEvent":popcorn.gplayer(c.value);break;case "updateQuestionTemplate":sceneData.questionTemplate=c.value;break;case "simulateQuestionTemplateFeedback":c=new CustomEvent("onQuestionTemplateFeedback",{detail:{response:{feedback:"Feedback response"},feedbackSubmitCallback:feedbackSubmitCallback}});document.getElementById("overlay-area").dispatchEvent(c);
break;case "showControls":showPlayerControls();break;case "hideControls":hidePlayerControls();break;case "qualityLevel":qualityLevel(c.value)}}window.addEventListener("message",receiveMessage);
apiEvent=function(c,e){var b={};if("canplay"==c){b={duration:popcorn.duration()};apiPost(b);b={data:sceneData};apiPost(b);b={volume:popcorn.volume()};apiPost(b);var g={videoWidth:popcorn.video.videoWidth,videoHeight:popcorn.video.videoHeight},b={video:g};apiPost(b)}else if("play"==c)b={paused:popcorn.paused()},apiPost(b);else if("pause"==c)b={paused:popcorn.paused()},apiPost(b);else if("onunload"==c)b={onunload:!0},apiPost(b);else if("onbeforeunload"==c)b={onbeforeunload:!0},apiPost(b);else if("volumechange"==
c)b={volume:popcorn.volume()},apiPost(b);else if("watchTime"==c)b={watchTime:watchTime},apiPost(b);else if("totalWatchTime"==c){b=0;if(null!=watchedProjects&&0<Object.keys(watchedProjects).length)for(g in watchedProjects){if(watchedProjects.hasOwnProperty(g)&&null!=watchedProjects[g].hlist&&0<watchedProjects[g].hlist.length)try{b+=watchedProjects[g].hlist.filter(Boolean).length}catch(k){b+=watchedProjects[g].hlist.length}}else b=watchTime;b={totalWatchTime:b};apiPost(b)}else if("totalWatchTime"==
c)b={totalWatchTime:e},apiPost(b);else if("timeupdate"==c)b={currentTime:popcorn.currentTime()},apiPost(b),g={videoWidth:popcorn.video.videoWidth,videoHeight:popcorn.video.videoHeight},b={video:g},apiPost(b);else if("subtitle"==c)b={subtitle:selectedSubtitles},parent.postMessage("ivideoapi://"+JSON.stringify(b),"*");else if("subtitles"==c){g=[];if(null!=sceneData&&null!=sceneData.subtitles&&0<sceneData.subtitles.length)for(b=0;b<sceneData.subtitles.length;b++)g.push({value:sceneData.subtitles[b].isoLang,
label:sceneData.subtitles[b].lang});b={subtitles:g};parent.postMessage("ivideoapi://"+JSON.stringify(b),"*")}else"audioTrack"==c?(b={audioTrack:e},parent.postMessage("ivideoapi://"+JSON.stringify(b),"*")):"audioTracks"==c?(b={audioTracks:_getAudioTracks(!0)},parent.postMessage("ivideoapi://"+JSON.stringify(b),"*")):"customcallback"==c?(b={customcallback:e},apiPost(b)):"variableChange"==c?(b={variableChange:e},apiPost(b)):"webhookresponse"==c?(b={webhookresponse:e},apiPost(b)):"contextChanged"==c?
(b={contextChanged:__IVIDEO_CONTEXT__},apiPost(b)):"error"==c?(b={error:e},apiPost(b)):"loop"==c?(b={loop:popcorn.loop},apiPost(b)):"playbackRate"==c?(b={playbackRate:popcorn.playbackRate()},apiPost(b)):"authenticatedUser"==c?(b={authenticatedUser:getAuthenticatedUser()},apiPost(b)):"qualityLevels"==c?(b={qualityLevels:getQualityLevels()},apiPost(b)):"qualityLevel"==c&&(b={qualityLevel:qualityLevel()},apiPost(b));b={event:c,params:e};apiPost(b)};
function apiPost(c,e){isNull(e)&&(e="*");try{c.instance=window.name,c="ivideoapi://"+JSON.stringify(c),parent.postMessage(c,e)}catch(b){console.log(b)}}playerjs.HTML5Adapter=function(c){if(!(this instanceof playerjs.HTML5Adapter))return new playerjs.HTML5Adapter(c);this.init(c)};
playerjs.HTML5Adapter.prototype.init=function(c){playerjs.assert(c,"playerjs.HTML5Adapter requires a video element");var e=this.receiver=new playerjs.Receiver;c.addEventListener("playing",function(){e.emit("play")});c.addEventListener("pause",function(){e.emit("pause")});c.addEventListener("ended",function(){e.emit("ended")});c.addEventListener("timeupdate",function(){e.emit("timeupdate",{seconds:c.currentTime,duration:c.duration})});c.addEventListener("progress",function(){e.emit("buffered",{percent:c.buffered.length})});
e.on("play",function(){c.play()});e.on("pause",function(){c.pause()});e.on("getPaused",function(b){b(c.paused)});e.on("getCurrentTime",function(b){b(c.currentTime)});e.on("setCurrentTime",function(b){c.currentTime=b});e.on("getDuration",function(b){b(c.duration)});e.on("getVolume",function(b){b(100*c.volume)});e.on("setVolume",function(b){c.volume=b/100});e.on("mute",function(){c.muted=!0});e.on("unmute",function(){c.muted=!1});e.on("getMuted",function(b){b(c.muted)});e.on("getLoop",function(b){b(c.loop)});
e.on("setLoop",function(b){c.loop=b})};playerjs.HTML5Adapter.prototype.ready=function(){this.receiver.ready()};function kjWrapperResize(){$(".gplayer-kjBandV1-form").css("width",$("#overlay-area").width())}
function kj1(c,e,b,g){var k=g-b;$(".kj1-back").css("background",e.background);var h=new TimelineMax({paused:!0});c=2*c.length;30>c?c=30:66<c&&(c=66);h.set($(".kj1-text"),{width:c+20+"%"});h.to($(".kj1-back"),2,{width:c+24+"%",ease:Power4.easeOut},0);h.to($(".kj1-text"),2,{left:"5%",color:e.color,ease:Power4.easeOut},.8);h.to($(".kj1-text"),2,{left:"0%",color:"rgba(255, 255, 255, 0)",ease:Power4.easeOut},"+\x3d"+(k-5));h.to($(".kj1-back"),2,{width:"0%",ease:Power4.easeOut},"-\x3d1");h.play();animationTimelines.push({tl:h,
start:b,end:g});sliderSlideEventFired(popcorn.currentTime());controllerEventFired();kjWrapperResize()}function zoomIt(c,e){c.setHeight(c.getHeight()*e);c.setWidth(c.getWidth()*e);if(c.backgroundImage){var b=c.backgroundImage;b.width*=e;b.height*=e}var b=c.getObjects(),g;for(g in b)if(!isNaN(g)){var k=b[g].scaleY*e,h=b[g].left*e,d=b[g].top*e;b[g].scaleX*=e;b[g].scaleY=k;b[g].left=h;b[g].top=d;b[g].setCoords()}c.renderAll();c.calcOffset()}
function ividDrawing(c){var e=new fabric.Canvas,b=$("#overlay-area").width(),g=$("#overlay-area").height();e.loadFromJSON(JSON.parse(c.data),e.renderAll.bind(e),function(b,c){});setTimeout(function(){null!=c.baseCanvasWidth&&""!=c.baseCanvasWidth&&zoomIt(e,b/c.baseCanvasWidth);$("#"+c.id+" .drawing-wrapper").append(e.loadFromJSON(e.toJSON()).toSVG({width:"100%",height:"100%",viewBox:{x:0,y:0,width:b,height:g}}));var k=$("#"+c.id+" path"),h=$("#"+c.id+" circle"),d=$("#"+c.id+" ellipse"),f=gsap.timeline({onStart:tlOnStart,
onComplete:outTlComplete,onCompleteParams:[c.id,null,c]});$slider=$("#draw-slider");null==c.drawingSpeed&&(c.drawingSpeed="NORMAL");null==c.drawingType&&(c.drawingType="ONEBYONE");var l=1;"FAST"==c.drawingSpeed?l=1:"NORMAL"==c.drawingSpeed?l=2:"SLOW"==c.drawingSpeed&&(l=5);f.from(h,{duration:l,scale:0,ease:"none"});if("ONEBYONE"==c.drawingType){if(null!=k&&null!=k.length)for(h=0;h<k.length;h++){var n=k[h],p=l;0==h&&(p=0);f.from(n,{duration:l,drawSVG:0,ease:"none",delay:p},"-\x3d"+l)}}else f.from(k,
{duration:l,drawSVG:0,ease:"none"},"-\x3d"+l);f.from(d,{duration:l,scale:0,ease:"none"},"-\x3d"+l);animationTimelines.push({tl:f,start:c.start,end:c.end,animationEnd:c.start+f._dur,animationType:"SVG_PATH"});sliderSlideEventFired(popcorn.currentTime());controllerEventFired()})}function getStaggerDuration(c,e,b){var g=0;"SYNC"==c?g=0:"ONEBYONE"==c&&(g=b/e.length);return g}
function endIvidDrawing(c){var e=animationTimelines.length;for(0>=e&&$("#overlay-area form#"+c.id).remove();e--;){var b=animationTimelines[e];b.tl.eventCallback("onReverseComplete",function(){$("#"+c.id).fadeOut(300,function(){$(this).remove()});animationTimelines.splice(e,1)});b.end<=popcorn.currentTime()&&(b.tl.reverse().timeScale(6),$("#"+c.id).fadeOut(1E3,function(){$(this).remove()}))}}
function getLottiPlayerHtml(c,e,b,g,k){k&&(c=new URL(c),c.hostname=window.location.hostname,c=c.href);c=' \x3clottie-player  src\x3d"'+c+'"  mode\x3d"normal"  preserveAspectRatio\x3d"none" ';if(!popcorn.paused()||k)c+=" autoplay ";e&&(c+=" loop ");null!=b&&(c+=' speed\x3d"'+b+'" ');g&&(c+=" syncWithTimeline ");return c+"\x3e \x3c/lottie-player\x3e"}function getLottiePlayers(){return document.querySelectorAll(".gplayer-lottie-wrapper lottie-player")}
function playLottie(){pausePlayLottiePlayer(!0)}function pauseLottie(){pausePlayLottiePlayer(!1)}function pausePlayLottiePlayer(c){try{for(var e=getLottiePlayers(),b=0;b<e.length;b++){var g=e[b];null!=g.getAttribute("syncWithTimeline")&&(c?g.play():g.pause())}}catch(k){}}
!function(c,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((c=c||self).window=c.window||{})}(this,function(c){function e(b,d){b.prototype=Object.create(d.prototype);(b.prototype.constructor=b).__proto__=d}function b(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function g(b){return"string"==typeof b}function k(b){return"function"==typeof b}function h(b){return"number"==
typeof b}function d(b){return"object"==typeof b}function f(b){return k(b)||g(b)}function l(b){return(Vb=Ab(b,Nb))&&hc}function n(b,d){return console.warn("Invalid property",b,"set to",d,"Missing plugin? gsap.registerPlugin()")}function p(b,d){return b&&(Nb[b]=d)&&Vb&&(Vb[b]=d)||Nb}function q(){return 0}function r(b){var c,e,f=b[0];if(d(f)||k(f)||(b=[b]),!(c=(f._gsap||{}).harness)){for(e=Ia.length;e--&&!Ia[e].targetTest(f););c=Ia[e]}for(e=b.length;e--;)b[e]&&(b[e]._gsap||(b[e]._gsap=new kd(b[e],c)))||
b.splice(e,1);return b}function s(b){return b._gsap||r(Eb(b))[0]._gsap}function v(b,d,c){return(c=b[d])&&k(c)?b[d]():void 0===c&&b.getAttribute&&b.getAttribute(d)||c}function z(b,d){return(b=b.split(",")).forEach(d)||b}function w(b){return Math.round(1E5*b)/1E5||0}function B(){var b,d,c=cc.length,e=cc.slice(0);Ga={};for(b=cc.length=0;b<c;b++)(d=e[b])&&d._lazy&&(d.render(d._lazy[0],d._lazy[1],!0)._lazy=0)}function E(b){var d=parseFloat(b);return(d||0===d)&&2>(b+"").match(lb).length?d:g(b)?b.trim():
b}function u(b){return b}function D(b,d){for(var c in d)c in b||(b[c]=d[c]);return b}function C(b,d){for(var c in d)c in b||"duration"===c||"ease"===c||(b[c]=d[c])}function F(b,c){for(var e in c)"__proto__"!==e&&"constructor"!==e&&"prototype"!==e&&(b[e]=d(c[e])?F(b[e]||(b[e]={}),c[e]):c[e]);return b}function A(b,d){var c,e={};for(c in b)c in d||(e[c]=b[c]);return e}function H(b){var d=b.parent||ta,c=b.keyframes?C:D;if(!1!==b.inherit)for(;d;)c(b,d.vars.defaults),d=d.parent||d._dp;return b}function L(b,
d,c,e){void 0===c&&(c="_first");void 0===e&&(e="_last");var f=d._prev,h=d._next;f?f._next=h:b[c]===d&&(b[c]=h);h?h._prev=f:b[e]===d&&(b[e]=f);d._next=d._prev=d.parent=null}function J(b,d){!b.parent||d&&!b.parent.autoRemoveChildren||b.parent.remove(b);b._act=0}function Q(b,d){if(b&&(!d||d._end>b._dur||0>d._start))for(var c=b;c;)c._dirty=1,c=c.parent;return b}function O(b){return b._repeat?Qa(b._tTime,b=b.duration()+b._rDelay)*b:0}function N(b,d){return(b-d._start)*d._ts+(0<=d._ts?0:d._dirty?d.totalDuration():
d._tDur)}function R(b){return b._end=w(b._start+(b._tDur/Math.abs(b._ts||b._rts||wa)||0))}function T(b,d){var c=b._dp;return c&&c.smoothChildTiming&&b._ts&&(b._start=w(c._time-(0<b._ts?d/b._ts:((b._dirty?b.totalDuration():b._tDur)-d)/-b._ts)),R(b),c._dirty||Q(c,b)),b}function W(b,d){var c;if((d._time||d._initted&&!d._dur)&&(c=N(b.rawTime(),d),(!d._dur||Va(0,d.totalDuration(),c)-d._tTime>wa)&&d.render(c,!0)),Q(b,d)._dp&&b._initted&&b._time>=b._dur&&b._ts){if(b._dur<b.duration())for(c=b;c._dp;)0<=c.rawTime()&&
c.totalTime(c._tTime),c=c._dp;b._zTime=-wa}}function ba(b,d,c,e){d.parent&&J(d);d._start=w((h(c)?c:c||b!==ta?I(b,c,d):b._time)+d._delay);d._end=w(d._start+(d.totalDuration()/Math.abs(d.timeScale())||0));c="_first";var f="_last",g=b._sort?"_start":0;void 0===c&&(c="_first");void 0===f&&(f="_last");var k,l=b[f];if(g)for(k=d[g];l&&l[g]>k;)l=l._prev;l?(d._next=l._next,l._next=d):(d._next=b[c],b[c]=d);d._next?d._next._prev=d:b[f]=d;d._prev=l;d.parent=d._dp=b;return ab(d)||(b._recent=d),e||W(b,d),b}function qa(b,
d){return(Nb.ScrollTrigger||n("scrollTrigger",d))&&Nb.ScrollTrigger.create(d,b)}function P(b,d,c,e){return Xd(b,d),b._initted?!c&&b._pt&&(b._dur&&!1!==b.vars.lazy||!b._dur&&b.vars.lazy)&&ed!==gb.frame?(cc.push(b),b._lazy=[d,e],1):void 0:1}function K(b,d,c,e){var f=b._repeat;d=w(d)||0;var h=b._tTime/b._tDur;return h&&!e&&(b._time*=d/b._dur),b._dur=d,b._tDur=f?0>f?1E10:w(d*(f+1)+b._rDelay*f):d,h&&!e?T(b,b._tTime=b._tDur*h):b.parent&&R(b),c||Q(b.parent,b),b}function ea(b,d,c){var e;e=h(d[1]);var f=(e?
2:1)+(2>b?0:1),g=d[f];if(e&&(g.duration=d[1]),g.parent=c,b){for(e=g;c&&!("immediateRender"in e);)e=c.vars.defaults||{},c=!1!==c.vars.inherit&&c.parent;g.immediateRender=!1!==e.immediateRender;2>b?g.runBackwards=1:g.startAt=d[f-1]}return new tb(d[0],g,d[1+f])}function M(b,d){return b||0===b?d(b):d}function ca(b){if("string"!=typeof b)return"";var d=gd.exec(b);return d?b.substr(d.index+d[0].length):""}function U(b,c){return b&&d(b)&&"length"in b&&(!c&&!b.length||b.length-1 in b&&d(b[0]))&&!b.nodeType&&
b!==kb}function Y(b){return b.sort(function(){return.5-Math.random()})}function X(b){if(k(b))return b;var c=d(b)?b:{each:b},e=dc(c.ease),f=c.from||0,h=parseFloat(c.base)||0,l={};b=0<f&&1>f;var n=isNaN(f)||b,p=c.axis,q=f,r=f;return g(f)?q=r={center:.5,edges:.5,end:1}[f]||0:!b&&n&&(q=f[0],r=f[1]),function(b,d,g){var k,s,u,A,v,F,D=(g||c).length,C=l[D];if(!C){if(!(F="auto"===c.grid?0:(c.grid||[1,Ha])[1])){for(d=-Ha;d<(d=g[F++].getBoundingClientRect().left)&&F<D;);F--}C=l[D]=[];g=n?Math.min(F,D)*q-.5:
f%F;k=n?D*r/F-.5:f/F|0;v=Ha;for(A=d=0;A<D;A++)s=A%F-g,u=k-(A/F|0),C[A]=s=p?Math.abs("y"===p?u:s):na(s*s+u*u),d<s&&(d=s),s<v&&(v=s);"random"===f&&Y(C);C.max=d-v;C.min=v;C.v=D=(parseFloat(c.amount)||parseFloat(c.each)*(D<F?D-1:p?"y"===p?D/F:F:Math.max(F,D/F))||0)*("edges"===f?-1:1);C.b=0>D?h-D:h;C.u=ca(c.amount||c.each)||0;e=e&&0>D?Ob(e):e}return D=(C[b]-C.min)/C.max||0,w(C.b+(e?e(D):D)*C.v)+C.u}}function fa(b){var d=1>b?Math.pow(10,(b+"").length-2):1;return function(c){var e=Math.round(parseFloat(c)/
b)*b*d;return(e-e%1)/d+(h(c)?0:ca(c))}}function ga(b,c){var e,f,g=wb(b);return!g&&d(b)&&(e=g=b.radius||Ha,b.values?(b=Eb(b.values),(f=!h(b[0]))&&(e*=e)):b=fa(b.increment)),M(c,g?k(b)?function(d){return f=b(d),Math.abs(f-d)<=e?f:d}:function(d){for(var c,g,k=parseFloat(f?d.x:d),l=parseFloat(f?d.y:0),n=Ha,p=0,q=b.length;q--;)(c=f?(c=b[q].x-k)*c+(g=b[q].y-l)*g:Math.abs(b[q]-k))<n&&(n=c,p=q);return p=!e||n<=e?b[p]:d,f||p===d||h(d)?p:p+ca(d)}:fa(b))}function ha(b,d,c,e){return M(wb(b)?!d:!0===c?!!(c=0):
!e,function(){return wb(b)?b[~~(Math.random()*b.length)]:(c=c||1E-5,e=1>c?Math.pow(10,(c+"").length-2):1)&&Math.floor(Math.round((b-c/2+Math.random()*(d-b+.99*c))/c)*c*e)/e})}function ja(b,d,c){return M(c,function(c){return b[~~d(c)]})}function ya(b){for(var d,c,e,f,h=0,g="";~(d=b.indexOf("random(",h));)e=b.indexOf(")",d),f="["===b.charAt(d+7),c=b.substr(d+7,e-d-7).match(f?lb:S),g+=b.substr(h,d-h)+ha(f?c:+c[0],f?0:+c[1],+c[2]||1E-5),h=e+1;return g+b.substr(h,b.length-h)}function Aa(b,d,c){var e,f,
h;b=b.labels;var g=Ha;for(e in b)0>(f=b[e]-d)==!!c&&f&&g>(f=Math.abs(f))&&(h=e,g=f);return h}function Ea(b){return J(b),b.scrollTrigger&&b.scrollTrigger.kill(!1),1>b.progress()&&Fb(b,"onInterrupt"),b}function sa(b,d,c){return(1>6*(b=0>b?b+1:1<b?b-1:b)?d+(c-d)*b*6:.5>b?c:2>3*b?d+(c-d)*(2/3-b)*6:d)*La+.5|0}function aa(b,d,c){var e,f,g,k,l,n,p,q,r,s,u=b?h(b)?[b>>16,b>>8&La,b&La]:0:wc.black;if(!u){if(","===b.substr(-1)&&(b=b.substr(0,b.length-1)),wc[b])u=wc[b];else if("#"===b.charAt(0)){if(6>b.length&&
(b="#"+(e=b.charAt(1))+e+(f=b.charAt(2))+f+(g=b.charAt(3))+g+(5===b.length?b.charAt(4)+b.charAt(4):"")),9===b.length)return[(u=parseInt(b.substr(1,6),16))>>16,u>>8&La,u&La,parseInt(b.substr(7),16)/255];u=[(b=parseInt(b.substr(1),16))>>16,b>>8&La,b&La]}else if("hsl"===b.substr(0,3))if(u=s=b.match(S),d){if(~b.indexOf("\x3d"))return u=b.match(qd),c&&4>u.length&&(u[3]=1),u}else k=+u[0]%360/360,l=u[1]/100,e=2*(n=u[2]/100)-(f=.5>=n?n*(l+1):n+l-n*l),3<u.length&&(u[3]*=1),u[0]=sa(k+1/3,e,f),u[1]=sa(k,e,f),
u[2]=sa(k-1/3,e,f);else u=b.match(S)||wc.transparent;u=u.map(Number)}return d&&!s&&(e=u[0]/La,f=u[1]/La,g=u[2]/La,n=((p=Math.max(e,f,g))+(q=Math.min(e,f,g)))/2,p===q?k=l=0:(r=p-q,l=.5<n?r/(2-p-q):r/(p+q),k=p===e?(f-g)/r+(f<g?6:0):p===f?(g-e)/r+2:(e-f)/r+4,k*=60),u[0]=~~(k+.5),u[1]=~~(100*l+.5),u[2]=~~(100*n+.5)),c&&4>u.length&&(u[3]=1),u}function t(b){var d=[],c=[],e=-1;return b.split(ac).forEach(function(b){b=b.match(uc)||[];d.push.apply(d,b);c.push(e+=b.length+1)}),d.c=c,d}function Ya(b,d,c){var e,
f,h,g,k="",l=(b+k).match(ac),n=d?"hsla(":"rgba(",p=0;if(!l)return b;if(l=l.map(function(b){return(b=aa(b,d,1))&&n+(d?b[0]+","+b[1]+"%,"+b[2]+"%,"+b[3]:b.join(","))+")"}),c&&(h=t(b),(e=c.c).join(k)!==h.c.join(k)))for(g=(f=b.replace(ac,"1").split(uc)).length-1;p<g;p++)k+=f[p]+(~e.indexOf(p)?l.shift()||n+"0,0,0,0)":(h.length?h:l.length?l:c).shift());if(!f)for(g=(f=b.split(ac)).length-1;p<g;p++)k+=f[p]+l[p];return k+f[g]}function Ma(b){var d,c=b.join(" ");if(ac.lastIndex=0,ac.test(c))return d=$c.test(c),
b[1]=Ya(b[1],d),b[0]=Ya(b[0],d,t(b[1])),!0}function Ta(b){var d=(b+"").split("("),c=Da[d[0]];return c&&1<d.length&&c.config?c.config.apply(null,~b.indexOf("{")?[function(b){for(var d,c,e={},f=b.substr(1,b.length-3).split(":"),h=f[0],g=1,k=f.length;g<k;g++)d=f[g],b=g!==k-1?d.lastIndexOf(","):d.length,c=d.substr(0,b),e[h]=isNaN(c)?c.replace(Gc,"").trim():+c,h=d.substr(b+1).trim();return e}(d[1])]:function(b){var d=b.indexOf("(")+1,c=b.indexOf(")"),e=b.indexOf("(",d);return b.substring(d,~e&&e<c?b.indexOf(")",
c+1):c)}(b).split(",").map(E)):Da._CE&&Ka.test(b)?Da._CE("",b):c}function Fa(b,d){for(var c,e=b._first;e;)e instanceof Za?Fa(e,d):!e.vars.yoyoEase||e._yoyo&&e._repeat||e._yoyo===d||(e.timeline?Fa(e.timeline,d):(c=e._ease,e._ease=e._yEase,e._yEase=c,e._yoyo=d)),e=e._next}function la(b,d,c,e){void 0===c&&(c=function(b){return 1-d(1-b)});void 0===e&&(e=function(b){return.5>b?d(2*b)/2:1-d(2*(1-b))/2});var f,h={easeIn:d,easeOut:c,easeInOut:e};return z(b,function(b){for(var d in Da[b]=Nb[b]=h,Da[f=b.toLowerCase()]=
c,h)Da[f+("easeIn"===d?".in":"easeOut"===d?".out":".inOut")]=Da[b+"."+d]=h[d]}),h}function za(b){return function(d){return.5>d?(1-b(1-2*d))/2:.5+b(2*(d-.5))/2}}function ia(b,d,c){function e(b){return 1===b?1:f*Math.pow(2,-10*b)*Mb((b-g)*h)+1}var f=1<=d?d:1,h=(c||(b?.3:.45))/(1>d?d:1),g=h/kc*(Math.asin(1/f)||0);d="out"===b?e:"in"===b?function(b){return 1-e(1-b)}:za(e);return h=kc/h,d.config=function(d,c){return ia(b,d,c)},d}function ma(b,d){function c(b){return b?--b*b*((d+1)*b+d)+1:0}void 0===d&&
(d=1.70158);var e="out"===b?c:"in"===b?function(b){return 1-c(1-b)}:za(c);return e.config=function(d){return ma(b,d)},e}function Ca(b){var d,c,e,f,h=Nc()-gc,g=!0===b;if(Oc<h&&(bc+=h-Xc),(0<(d=(e=(gc+=h)-bc)-Sb)||g)&&(f=++fc.frame,nc=e-1E3*fc.time,fc.time=e/=1E3,Sb+=d+(Dc<=d?4:Dc-d),c=1),g||(fd=Lc(Ca)),c)for(ec=0;ec<ic.length;ec++)ic[ec](e,nc,f,b)}function da(b){return b<Pc?Lb*b*b:.7272727272727273>b?Lb*Math.pow(b-1.5/2.75,2)+.75:.9090909090909092>b?Lb*(b-=2.25/2.75)*b+.9375:Lb*Math.pow(b-2.625/2.75,
2)+.984375}function oa(b){this.vars=b;this._delay=+b.delay||0;(this._repeat=b.repeat===1/0?-2:b.repeat||0)&&(this._rDelay=b.repeatDelay||0,this._yoyo=!!b.yoyo||!!b.yoyoEase);this._ts=1;K(this,+b.duration,1,1);this.data=b.data;Fc||gb.wake()}function Ja(b,c,e,f,h,l){var n,p;if(yb[b]&&!1!==(n=new yb[b]).init(h,n.rawVars?c[b]:function(b,c,e,f,h){if(k(b)&&(b=Hc(b,h,c,e,f)),!d(b)||b.style&&b.nodeType||wb(b)||Yc(b))return g(b)?Hc(b,h,c,e,f):b;var l,n={};for(l in b)n[l]=Hc(b[l],h,c,e,f);return n}(c[b],f,
h,l,e),e,f,l)&&(e._pt=p=new Ub(e._pt,h,b,0,1,n.render,n,0,n.priority),e!==tc))for(b=e._ptLookup[e._targets.indexOf(h)],c=n._props.length;c--;)b[n._props[c]]=p;return n}function cb(b,d,c){return b.setAttribute(d,c)}function Oa(b,d,c,e){e.mSet(b,d,e.m.call(e.tween,c,e.mt),e)}function va(b,d,c,e,f,h,g,k,l){this.t=d;this.s=e;this.c=f;this.p=c;this.r=h||Hd;this.d=g||this;this.set=k||td;this.pr=l||0;(this._next=b)&&(b._prev=this)}function Ua(b,d){return{name:b,rawVars:1,init:function(b,c,e){e._onInit=function(b){var e,
f;if(g(c)&&(e={},z(c,function(b){return e[b]=1}),c=e),d){for(f in e={},c)e[f]=d(c[f]);c=e}!function(b,d){var c,e,f,h=b._targets;for(c in d)for(e=h.length;e--;)if(f=(f=b._ptLookup[e][c])&&f.d){if(f._pt)for(f=f._pt;f&&f.p!==c&&f.op!==c&&f.fp!==c;)f=f._next;f&&f.modifier&&f.modifier(d[c],b,h[e],c)}}(b,c)}}}}function db(b,d){return d.set(d.t,d.p,Math.round(1E4*(d.s+d.c*b))/1E4+d.u,d)}function Wa(b,d){return d.set(d.t,d.p,1===b?d.e:Math.round(1E4*(d.s+d.c*b))/1E4+d.u,d)}function pb(b,d){return d.set(d.t,
d.p,b?Math.round(1E4*(d.s+d.c*b))/1E4+d.u:d.b,d)}function ub(b,d){var c=d.s+d.c*b;d.set(d.t,d.p,~~(c+(0>c?-.5:.5))+d.u,d)}function Xa(b,d){return d.set(d.t,d.p,b?d.e:d.b,d)}function ra(b,d){return d.set(d.t,d.p,1!==b?d.b:d.e,d)}function ua(b,d,c){return b.style[d]=c}function xa(b,d,c){return b.style.setProperty(d,c)}function Bb(b,d,c){return b._gsap[d]=c}function mb(b,d,c){return b._gsap.scaleX=b._gsap.scaleY=c}function eb(b,d,c,e,f){b=b._gsap;b.scaleX=b.scaleY=c;b.renderTransform(f,b)}function $a(b,
d,c,e,f){b=b._gsap;b[d]=c;b.renderTransform(f,b)}function Pa(b,d){var c=yc.createElementNS?yc.createElementNS((d||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),b):yc.createElement(b);return c.style?c:yc.createElement(b)}function xb(b,d,c){var e=getComputedStyle(b);return e[d]||e.getPropertyValue(d.replace(dd,"-$1").toLowerCase())||e.getPropertyValue(d)||!c&&xb(b,Rc(d)||d,1)||""}function Qb(){"undefined"!=typeof window&&window.document&&(Jd=window,yc=Jd.document,Vc=yc.documentElement,Ic=
Pa("div")||{style:{}},Pa("div"),Jb=Rc(Jb),Yb=Jb+"Origin",Ic.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Od=!!Rc("perspective"),Wc=1)}function Kb(b){var d,c=Pa("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),e=this.parentNode,f=this.nextSibling,h=this.style.cssText;if(Vc.appendChild(c),c.appendChild(this),this.style.display="block",b)try{d=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=Kb}catch(g){}else this._gsapBBox&&
(d=this._gsapBBox());return e&&(f?e.insertBefore(this,f):e.appendChild(this)),Vc.removeChild(c),this.style.cssText=h,d}function vb(b,d){for(var c=d.length;c--;)if(b.hasAttribute(d[c]))return b.getAttribute(d[c])}function nb(b){var d;try{d=b.getBBox()}catch(c){d=Kb.call(b,!0)}return d&&(d.width||d.height)||b.getBBox===Kb||(d=Kb.call(b,!0)),!d||d.width||d.x||d.y?d:{x:+vb(b,["x","cx","x1"])||0,y:+vb(b,["y","cy","y1"])||0,width:0,height:0}}function hb(b,d){if(d){var c=b.style;d in pc&&d!==Yb&&(d=Jb);
c.removeProperty?("ms"!==d.substr(0,2)&&"webkit"!==d.substr(0,6)||(d="-"+d),c.removeProperty(d.replace(dd,"-$1").toLowerCase())):c.removeAttribute(d)}}function rb(b,d,c,e,f,h){d=new Ub(b._pt,d,c,0,1,h?ra:Xa);return(b._pt=d).b=e,d.e=f,b._props.push(c),d}function fb(b,d,c,e){var f,h,g,k,l=parseFloat(c)||0,n=(c+"").trim().substr((l+"").length)||"px",p=Ic.style,q=Cd.test(d),r="svg"===b.tagName.toLowerCase(),u=(r?"client":"offset")+(q?"Width":"Height"),A="px"===e,v="%"===e;return e===n||!l||rd[e]||rd[n]?
l:("px"===n||A||(l=fb(b,d,c,"px")),k=b.getCTM&&!(!b.getCTM||b.parentNode&&!b.ownerSVGElement||!nb(b)),!v&&"%"!==n||!pc[d]&&!~d.indexOf("adius")?(p[q?"width":"height"]=100+(A?n:e),h=~d.indexOf("adius")||"em"===e&&b.appendChild&&!r?b:b.parentNode,k&&(h=(b.ownerSVGElement||{}).parentNode),h&&h!==yc&&h.appendChild||(h=yc.body),(g=h._gsap)&&v&&g.width&&q&&g.time===gb.time?w(l/g.width*100):(!v&&"%"!==n||(p.position=xb(b,"position")),h===b&&(p.position="static"),h.appendChild(Ic),f=Ic[u],h.removeChild(Ic),
p.position="absolute",q&&v&&((g=s(h)).time=gb.time,g.width=h[u]),w(A?f*l/100:f&&l?100/f*l:0))):(f=k?b.getBBox()[q?"width":"height"]:b[u],w(v?l/f*100:l/100*f)))}function Na(b,d,c,e){var f;return Wc||Qb(),d in Bc&&"transform"!==d&&~(d=Bc[d]).indexOf(",")&&(d=d.split(",")[0]),pc[d]&&"transform"!==d?(f=bd(b,e),f="transformOrigin"!==d?f[d]:f.svg?f.origin:jd(xb(b,Yb))+" "+f.zOrigin+"px"):(f=b.style[d])&&"auto"!==f&&!e&&!~(f+"").indexOf("calc(")||(f=id[d]&&id[d](b,d,c)||xb(b,d)||v(b,d)||("opacity"===d?1:
0)),c&&!~(f+"").trim().indexOf(" ")?fb(b,d,f,c)+c:f}function Kc(b,d){if(d.tween&&d.tween._time===d.tween._dur){var c,e,f,h=d.t;c=h.style;var g=d.u,k=h._gsap;if("all"===g||!0===g)c.cssText="",e=1;else for(f=(g=g.split(",")).length;-1<--f;)c=g[f],pc[c]&&(e=1,c="transformOrigin"===c?Yb:Jb),hb(h,c);e&&(hb(h,Jb),k&&(k.svg&&h.removeAttribute("transform"),bd(h,1),k.uncache=1))}}function Zb(b){return"matrix(1, 0, 0, 1, 0, 0)"===b||"none"===b||!b}function Gb(b){b=xb(b,Jb);return Zb(b)?ad:b.substr(7).match(qd).map(w)}
function Rb(b,d){var c,e,f,h,g=b._gsap||s(b),k=b.style,l=Gb(b);return g.svg&&b.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(f=b.transform.baseVal.consolidate().matrix).a,f.b,f.c,f.d,f.e,f.f]).join(",")?ad:l:(l!==ad||b.offsetParent||b===Vc||g.svg||(f=k.display,k.display="block",(c=b.parentNode)&&b.offsetParent||(h=1,e=b.nextSibling,Vc.appendChild(b)),l=Gb(b),f?k.display=f:hb(b,"display"),h&&(e?c.insertBefore(b,e):c?c.appendChild(b):Vc.removeChild(b))),d&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:
l)}function Ra(b,d,c,e,f,h){var g,k,l,n=b._gsap;f=f||Rb(b,!0);var p=n.xOrigin||0,q=n.yOrigin||0,r=n.xOffset||0,s=n.yOffset||0,u=f[0],A=f[1],v=f[2],F=f[3],D=f[4],C=f[5],z=d.split(" "),w=parseFloat(z[0])||0,H=parseFloat(z[1])||0;c?f!==ad&&(k=u*F-A*v)&&(l=-A/k*w+u/k*H-(u*C-A*D)/k,w=F/k*w+-v/k*H+(v*C-F*D)/k,H=l):(w=(g=nb(b)).x+(~z[0].indexOf("%")?w/100*g.width:w),H=g.y+(~(z[1]||z[0]).indexOf("%")?H/100*g.height:H));e||!1!==e&&n.smooth?(D=w-p,C=H-q,n.xOffset=r+(D*u+C*v)-D,n.yOffset=s+(D*A+C*F)-C):n.xOffset=
n.yOffset=0;n.xOrigin=w;n.yOrigin=H;n.smooth=!!e;n.origin=d;n.originIsAbsolute=!!c;b.style[Yb]="0px 0px";h&&(rb(h,n,"xOrigin",p,w),rb(h,n,"yOrigin",q,H),rb(h,n,"xOffset",r,n.xOffset),rb(h,n,"yOffset",s,n.yOffset));b.setAttribute("data-svg-origin",w+" "+H)}function ob(b,d,c){var e=ca(d);return w(parseFloat(d)+parseFloat(fb(b,"x",c+"px",e)))+e}function Xb(b,d){for(var c in d)b[c]=d[c];return b}var bb,ta,kb,Hb,jb,Vb,Cc,ed,tc,Fc,fd,Lc,Mc,fc,nc,ec,Nc,Oc,Xc,bc,gc,Dc,Sb,ic,Lb,Pc,ib={autoSleep:120,force3D:"auto",
nullTargetWarn:1,units:{lineHeight:""}},jc={duration:.5,overwrite:!1,delay:0},Ha=1E8,wa=1/Ha,kc=2*Math.PI,ka=kc/4,G=0,na=Math.sqrt,V=Math.cos,Mb=Math.sin,Yc="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},wb=Array.isArray,S=/(?:-?\.?\d|\.)+/gi,qd=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,uc=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,pa=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Zc=/[+-]=-?[.\d]+/,lb=/[^,'"\[\]\s]+/gi,gd=/[\d.+\-=]+(?:e[-+]\d*)*/i,Nb={},hd={},cc=[],Ga={},yb={},Cb={},Wb=30,Ia=[],zb="",Ab=function(b,
d){for(var c in d)b[c]=d[c];return b},Qa=function(b,d){var c=Math.floor(b/=d);return b&&c===b?c-1:c},ab=function(b){b=b.data;return"isFromStart"===b||"isStart"===b},sb={_start:0,endTime:q,totalDuration:q},I=function Pb(b,d,c){var e,f,h,k=b.labels,l=b._recent||sb,n=b.duration()>=Ha?l.endTime(!1):b._dur;return g(d)&&(isNaN(d)||d in k)?(f=d.charAt(0),h="%"===d.substr(-1),e=d.indexOf("\x3d"),"\x3c"===f||"\x3e"===f?(0<=e&&(d=d.replace(/=/,"")),("\x3c"===f?l._start:l.endTime(0<=l._repeat))+(parseFloat(d.substr(1))||
0)*(h?(0>e?l:c).totalDuration()/100:1)):0>e?(d in k||(k[d]=n),k[d]):(f=parseFloat(d.charAt(e-1)+d.substr(e+1)),h&&c&&(f=f/100*(wb(c)?c[0]:c).totalDuration()),1<e?Pb(b,d.substr(0,e-1),c)+f:n+f)):null==d?n:+d},Va=function(b,d,c){return c<b?b:d<c?d:c},mc=[].slice,Eb=function(b,d,c){return!g(b)||c||!Hb&&Sa()?wb(b)?function(b,d,c){return void 0===c&&(c=[]),b.forEach(function(b){return g(b)&&!d||U(b,1)?c.push.apply(c,Eb(b)):c.push(b)})||c}(b,c):U(b)?mc.call(b,0):b?[b]:[]:mc.call((d||jb).querySelectorAll(b),
0)},Tb=function(b,d,c,e,f){var h=d-b,g=e-c;return M(f,function(d){return c+((d-b)/h*g||0)})},Fb=function(b,d,c){var e,f,h=b.vars,g=h[d];if(g)return e=h[d+"Params"],f=h.callbackScope||b,c&&cc.length&&B(),e?g.apply(f,e):g.call(f)},La=255,wc={aqua:[0,La,La],lime:[0,La,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,La],navy:[0,0,128],white:[La,La,La],olive:[128,128,0],yellow:[La,La,0],orange:[La,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[La,0,
0],pink:[La,192,203],cyan:[0,La,La],transparent:[La,La,La,0]},ac=function(){var b,d="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(b in wc)d+="|"+b+"\\b";return new RegExp(d+")","gi")}(),$c=/hsl[a]?\(/,gb=(Nc=Date.now,Oc=500,Xc=33,bc=Nc(),gc=bc,Sb=Dc=1E3/240,fc={time:0,frame:0,tick:function(){Ca(!0)},deltaRatio:function(b){return nc/(1E3/(b||60))},wake:function(){Cc&&(!Hb&&"undefined"!=typeof window&&(kb=Hb=window,jb=kb.document||{},Nb.gsap=hc,(kb.gsapVersions||(kb.gsapVersions=
[])).push(hc.version),l(Vb||kb.GreenSockGlobals||!kb.gsap&&kb||{}),Mc=kb.requestAnimationFrame),fd&&fc.sleep(),Lc=Mc||function(b){return setTimeout(b,Sb-1E3*fc.time+1|0)},Fc=1,Ca(2))},sleep:function(){(Mc?kb.cancelAnimationFrame:clearTimeout)(fd);Fc=0;Lc=q},lagSmoothing:function(b,d){Oc=b||1E8;Xc=Math.min(d,Oc,0)},fps:function(b){Dc=1E3/(b||240);Sb=1E3*fc.time+Dc},add:function(b){0>ic.indexOf(b)&&ic.push(b);Sa()},remove:function(b){var d;~(d=ic.indexOf(b))&&ic.splice(d,1)&&d<=ec&&ec--},_listeners:ic=
[]}),Sa=function(){return!Fc&&gb.wake()},Da={},Ka=/^[\d.\-M][\d.\-,\s]/,Gc=/["']/g,Ob=function(b){return function(d){return 1-b(1-d)}},dc=function(b,d){return b&&(k(b)?b:Da[b]||Ta(b))||d};z("Linear,Quad,Cubic,Quart,Quint,Strong",function(b,d){var c=5>d?d+1:d;la(b+",Power"+(c-1),d?function(b){return Math.pow(b,c)}:function(b){return b},function(b){return 1-Math.pow(1-b,c)},function(b){return.5>b?Math.pow(2*b,c)/2:1-Math.pow(2*(1-b),c)/2})});Da.Linear.easeNone=Da.none=Da.Linear.easeIn;la("Elastic",
ia("in"),ia("out"),ia());Lb=7.5625;Pc=1/2.75;la("Bounce",function(b){return 1-da(1-b)},da);la("Expo",function(b){return b?Math.pow(2,10*(b-1)):0});la("Circ",function(b){return-(na(1-b*b)-1)});la("Sine",function(b){return 1===b?1:1-V(b*ka)});la("Back",ma("in"),ma("out"),ma());Da.SteppedEase=Da.steps=Nb.SteppedEase={config:function(b,d){void 0===b&&(b=1);var c=1/b,e=b+(d?0:1),f=d?1:0;return function(b){return((e*Va(0,.99999999,b)|0)+f)*c}}};jc.ease=Da["quad.out"];z("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",
function(b){return zb+=b+","+b+"Params,"});var Ba,kd=function(b,d){this.id=G++;(b._gsap=this).target=b;this.get=(this.harness=d)?d.get:v;this.set=d?d.getSetter:xd},zc=((Ba=oa.prototype).delay=function(b){return b||0===b?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+b-this._delay),this._delay=b,this):this._delay},Ba.duration=function(b){return arguments.length?this.totalDuration(0<this._repeat?b+(b+this._rDelay)*this._repeat:b):this.totalDuration()&&this._dur},Ba.totalDuration=
function(b){return arguments.length?(this._dirty=0,K(this,0>this._repeat?b:(b-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Ba.totalTime=function(b,d){if(Sa(),!arguments.length)return this._tTime;var c=this._dp;if(c&&c.smoothChildTiming&&this._ts){T(this,b);for(!c._dp||c.parent||W(c,this);c.parent;)c.parent._time!==c._start+(0<=c._ts?c._tTime/c._ts:(c.totalDuration()-c._tTime)/-c._ts)&&c.totalTime(c._tTime,!0),c=c.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&b<this._tDur||
0>this._ts&&0<b||!this._tDur&&!b)&&ba(this._dp,this,this._start-this._delay)}if(this._tTime!==b||!this._dur&&!d||this._initted&&Math.abs(this._zTime)===wa||!b&&!this._initted&&(this.add||this._ptLookup))this._ts||(this._pTime=b),cc.length&&B(),this.render(b,d,void 0),cc.length&&B();return this},Ba.time=function(b,d){return arguments.length?this.totalTime(Math.min(this.totalDuration(),b+O(this))%(this._dur+this._rDelay)||(b?this._dur:0),d):this._time},Ba.totalProgress=function(b,d){return arguments.length?
this.totalTime(this.totalDuration()*b,d):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Ba.progress=function(b,d){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?b:1-b)+O(this),d):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Ba.iteration=function(b,d){var c=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(b-1)*c,d):this._repeat?Qa(this._tTime,c)+1:1},Ba.timeScale=function(b){if(!arguments.length)return this._rts===
-wa?0:this._rts;if(this._rts===b)return this;var d=this.parent&&this._ts?N(this.parent._time,this):this._tTime;this._rts=+b||0;this._ts=this._ps||b===-wa?0:this._rts;for(var d=this.totalTime(Va(-this._delay,this._tDur,d),!0),c=d.parent;c&&c.parent;)c._dirty=1,c.totalDuration(),c=c.parent;return d},Ba.paused=function(b){return arguments.length?(this._ps!==b&&((this._ps=b)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Sa(),this._ts=this._rts,this.totalTime(this.parent&&
!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==wa&&(this._tTime-=wa)))),this):this._ps},Ba.startTime=function(b){if(arguments.length){this._start=b;var d=this.parent||this._dp;return!d||!d._sort&&this.parent||ba(d,this,b-this._delay),this}return this._start},Ba.endTime=function(b){return this._start+(!1!==b?this.totalDuration():this.duration())/Math.abs(this._ts)},Ba.rawTime=function(b){var d=this.parent||this._dp;return d?b&&(!this._ts||
this._repeat&&this._time&&1>this.totalProgress())?this._tTime%(this._dur+this._rDelay):this._ts?N(d.rawTime(b),this):this._tTime:this._tTime},Ba.globalTime=function(b){for(var d=this,c=arguments.length?b:d.rawTime();d;)c=d._start+c/(d._ts||1),d=d._dp;return c},Ba.repeat=function(b){return arguments.length?(this._repeat=b===1/0?-2:b,this instanceof Za?Q(this):K(this,this._dur)):-2===this._repeat?1/0:this._repeat},Ba.repeatDelay=function(b){if(arguments.length){var d=this._time;return this._rDelay=
b,this instanceof Za?Q(this):K(this,this._dur),d?this.time(d):this}return this._rDelay},Ba.yoyo=function(b){return arguments.length?(this._yoyo=b,this):this._yoyo},Ba.seek=function(b,d){return this.totalTime(I(this,b),!1!==d)},Ba.restart=function(b,d){return this.play().totalTime(b?-this._delay:0,!1!==d)},Ba.play=function(b,d){return null!=b&&this.seek(b,d),this.reversed(!1).paused(!1)},Ba.reverse=function(b,d){return null!=b&&this.seek(b||this.totalDuration(),d),this.reversed(!0).paused(!1)},Ba.pause=
function(b,d){return null!=b&&this.seek(b,d),this.paused(!0)},Ba.resume=function(){return this.paused(!1)},Ba.reversed=function(b){return arguments.length?(!!b!==this.reversed()&&this.timeScale(-this._rts||(b?-wa:0)),this):0>this._rts},Ba.invalidate=function(){return this._initted=this._act=0,this._zTime=-wa,this},Ba.isActive=function(){var b,d=this.parent||this._dp,c=this._start;return!(d&&!(this._ts&&this._initted&&d.isActive()&&(b=d.rawTime(!0))>=c&&b<this.endTime(!0)-wa))},Ba.eventCallback=function(b,
d,c){var e=this.vars;return 1<arguments.length?(d?(e[b]=d,c&&(e[b+"Params"]=c),"onUpdate"===b&&(this._onUpdate=d)):delete e[b],this):e[b]},Ba.then=function(b){var d=this;return new Promise(function(c){function e(){var b=d.then;d.then=null;k(f)&&(f=f(d))&&(f.then||f===d)&&(d.then=b);c(f);d.then=b}var f=k(b)?b:u;d._initted&&1===d.totalProgress()&&0<=d._ts||!d._tTime&&0>d._ts?e():d._prom=e})},Ba.kill=function(){Ea(this)},oa);D(zc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,
_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-wa,_prom:0,_ps:!1,_rts:1});var Za=function(d){function c(e,f){var h;return void 0===e&&(e={}),(h=d.call(this,e)||this).labels={},h.smoothChildTiming=!!e.smoothChildTiming,h.autoRemoveChildren=!!e.autoRemoveChildren,h._sort=!1!==e.sortChildren,ta&&ba(e.parent||ta,b(h),f),e.reversed&&h.reverse(),e.paused&&h.paused(!0),e.scrollTrigger&&qa(b(h),e.scrollTrigger),h}e(c,d);var f=c.prototype;return f.to=function(b,d,c){return ea(0,arguments,
this),this},f.from=function(b,d,c){return ea(1,arguments,this),this},f.fromTo=function(b,d,c,e){return ea(2,arguments,this),this},f.set=function(b,d,c){return d.duration=0,d.parent=this,H(d).repeatDelay||(d.repeat=0),d.immediateRender=!!d.immediateRender,new tb(b,d,I(this,c),1),this},f.call=function(b,d,c){return ba(this,tb.delayedCall(0,b,d),c)},f.staggerTo=function(b,d,c,e,f,h,g){return c.duration=d,c.stagger=c.stagger||e,c.onComplete=h,c.onCompleteParams=g,c.parent=this,new tb(b,c,I(this,f)),this},
f.staggerFrom=function(b,d,c,e,f,h,g){return c.runBackwards=1,H(c).immediateRender=!1!==c.immediateRender,this.staggerTo(b,d,c,e,f,h,g)},f.staggerFromTo=function(b,d,c,e,f,h,g,k){return e.startAt=c,H(e).immediateRender=!1!==e.immediateRender,this.staggerTo(b,d,e,f,h,g,k)},f.render=function(b,d,c){var e,f,h,g,k,l,n,p,q,r,s=this._time,u=this._dirty?this.totalDuration():this._tDur,A=this._dur,v=this!==ta&&u-wa<b&&0<=b?u:b<wa?0:b;g=0>this._zTime!=0>b&&(this._initted||!A);if(v!==this._tTime||c||g){if(s!==
this._time&&A&&(v+=this._time-s,b+=this._time-s),e=v,p=this._start,k=!(n=this._ts),g&&(A||(s=this._zTime),!b&&d||(this._zTime=b)),this._repeat){if(q=this._yoyo,g=A+this._rDelay,-1>this._repeat&&0>b)return this.totalTime(100*g+b,d,c);if(e=w(v%g),v===u?(f=this._repeat,e=A):((f=~~(v/g))&&f===v/g&&(e=A,f--),A<e&&(e=A)),h=Qa(this._tTime,g),!s&&this._tTime&&h!==f&&(h=f),q&&1&f&&(e=A-e,r=1),f!==h&&!this._lock){var F=q&&1&h;q=F===(q&&1&f);if((f<h&&(F=!F),s=F?0:A,this._lock=1,this.render(s||(r?0:w(f*g)),d,
!A)._lock=0,this._tTime=v,!d&&this.parent&&Fb(this,"onRepeat"),this.vars.repeatRefresh&&!r&&(this.invalidate()._lock=1),s&&s!==this._time||k!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)||(A=this._dur,u=this._tDur,q&&(this._lock=2,s=F?A:-1E-4,this.render(s,!0),this.vars.repeatRefresh&&!r&&this.invalidate()),this._lock=0,!this._ts&&!k))return this;Fa(this,r)}}if(f=this._hasPause&&!this._forcing&&2>this._lock){a:{l=w(s);f=w(e);if(l<f)for(h=this._first;h&&h._start<=f;){if(!h._dur&&"isPause"===
h.data&&h._start>l){l=h;break a}h=h._next}else for(h=this._last;h&&h._start>=f;){if(!h._dur&&"isPause"===h.data&&h._start<l){l=h;break a}h=h._prev}l=void 0}f=l}if(f&&(v-=e-(e=l._start)),this._tTime=v,this._time=e,this._act=!n,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=b,s=0),!s&&e&&!d&&(Fb(this,"onStart"),this._tTime!==v))return this;if(s<=e&&0<=b)for(f=this._first;f;){if(h=f._next,(f._act||e>=f._start)&&f._ts&&l!==f){if(f.parent!==this)return this.render(b,d,c);
if(f.render(0<f._ts?(e-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(e-f._start)*f._ts,d,c),e!==this._time||!this._ts&&!k){l=0;h&&(v+=this._zTime=-wa);break}}f=h}else for(f=this._last,r=0>b?b:e;f;){if(h=f._prev,(f._act||r<=f._end)&&f._ts&&l!==f){if(f.parent!==this)return this.render(b,d,c);if(f.render(0<f._ts?(r-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(r-f._start)*f._ts,d,c),e!==this._time||!this._ts&&!k){l=0;h&&(v+=this._zTime=r?-wa:wa);break}}f=h}if(l&&!d&&(this.pause(),l.render(s<=
e?0:-wa)._zTime=s<=e?1:-1,this._ts))return this._start=p,R(this),this.render(b,d,c);this._onUpdate&&!d&&Fb(this,"onUpdate",!0);(v===u&&u>=this.totalDuration()||!v&&s)&&(p!==this._start&&Math.abs(n)===Math.abs(this._ts)||this._lock||(!b&&A||!(v===u&&0<this._ts||!v&&0>this._ts)||J(this,1),d||0>b&&!s||!v&&!s&&u||(Fb(this,v===u&&0<=b?"onComplete":"onReverseComplete",!0),!this._prom||v<u&&0<this.timeScale()||this._prom())))}return this},f.add=function(b,d){var c=this;if(h(d)||(d=I(this,d,b)),!(b instanceof
zc)){if(wb(b))return b.forEach(function(b){return c.add(b,d)}),this;if(g(b))return this.addLabel(b,d);if(!k(b))return this;b=tb.delayedCall(0,b)}return this!==b?ba(this,b,d):this},f.getChildren=function(b,d,c,e){void 0===b&&(b=!0);void 0===d&&(d=!0);void 0===c&&(c=!0);void 0===e&&(e=-Ha);for(var f=[],h=this._first;h;)h._start>=e&&(h instanceof tb?d&&f.push(h):(c&&f.push(h),b&&f.push.apply(f,h.getChildren(!0,d,c)))),h=h._next;return f},f.getById=function(b){for(var d=this.getChildren(1,1,1),c=d.length;c--;)if(d[c].vars.id===
b)return d[c]},f.remove=function(b){return g(b)?this.removeLabel(b):k(b)?this.killTweensOf(b):(L(this,b),b===this._recent&&(this._recent=this._last),Q(this))},f.totalTime=function(b,c){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=w(gb.time-(0<this._ts?b/this._ts:(this.totalDuration()-b)/-this._ts))),d.prototype.totalTime.call(this,b,c),this._forcing=0,this):this._tTime},f.addLabel=function(b,d){return this.labels[b]=I(this,d),this},f.removeLabel=function(b){return delete this.labels[b],
this},f.addPause=function(b,d,c){d=tb.delayedCall(0,d||q,c);return d.data="isPause",this._hasPause=1,ba(this,d,I(this,b))},f.removePause=function(b){var d=this._first;for(b=I(this,b);d;)d._start===b&&"isPause"===d.data&&J(d),d=d._next},f.killTweensOf=function(b,d,c){c=this.getTweensOf(b,c);for(var e=c.length;e--;)rc!==c[e]&&c[e].kill(b,d);return this},f.getTweensOf=function(b,d){for(var c,e=[],f=Eb(b),g=this._first,k=h(d);g;){if(g instanceof tb){for(var l=g._targets,n=f,p=n.length,q=0;0>l.indexOf(n[q])&&
++q<p;);q<p&&(k?(!rc||g._initted&&g._ts)&&g.globalTime(0)<=d&&g.globalTime(g.totalDuration())>d:!d||g.isActive())&&e.push(g)}else(c=g.getTweensOf(f,d)).length&&e.push.apply(e,c);g=g._next}return e},f.tweenTo=function(b,d){d=d||{};var c,e=this,f=I(e,b),h=d.startAt,g=d.onStart,k=d.onStartParams,l=d.immediateRender,n=tb.to(e,D({ease:d.ease||"none",lazy:!1,immediateRender:!1,time:f,overwrite:"auto",duration:d.duration||Math.abs((f-(h&&"time"in h?h.time:e._time))/e.timeScale())||wa,onStart:function(){if(e.pause(),
!c){var b=d.duration||Math.abs((f-(h&&"time"in h?h.time:e._time))/e.timeScale());n._dur!==b&&K(n,b,0,1).render(n._time,!0,!0);c=1}g&&g.apply(n,k||[])}},d));return l?n.render(0):n},f.tweenFromTo=function(b,d,c){return this.tweenTo(d,D({startAt:{time:I(this,b)}},c))},f.recent=function(){return this._recent},f.nextLabel=function(b){return void 0===b&&(b=this._time),Aa(this,I(this,b))},f.previousLabel=function(b){return void 0===b&&(b=this._time),Aa(this,I(this,b),1)},f.currentLabel=function(b){return arguments.length?
this.seek(b,!0):this.previousLabel(this._time+wa)},f.shiftChildren=function(b,d,c){void 0===c&&(c=0);for(var e,f=this._first,h=this.labels;f;)f._start>=c&&(f._start+=b,f._end+=b),f=f._next;if(d)for(e in h)h[e]>=c&&(h[e]+=b);return Q(this)},f.invalidate=function(){var b=this._first;for(this._lock=0;b;)b.invalidate(),b=b._next;return d.prototype.invalidate.call(this)},f.clear=function(b){void 0===b&&(b=!0);for(var d,c=this._first;c;)d=c._next,this.remove(c),c=d;return this._dp&&(this._time=this._tTime=
this._pTime=0),b&&(this.labels={}),Q(this)},f.totalDuration=function(b){var d,c,e,f=0,h=this._last,g=Ha;if(arguments.length)return this.timeScale((0>this._repeat?this.duration():this.totalDuration())/(this.reversed()?-b:b));if(this._dirty){for(e=this.parent;h;)d=h._prev,h._dirty&&h.totalDuration(),g<(c=h._start)&&this._sort&&h._ts&&!this._lock?(this._lock=1,ba(this,h,c-h._delay,1)._lock=0):g=c,0>c&&h._ts&&(f-=c,(!e&&!this._dp||e&&e.smoothChildTiming)&&(this._start+=c/this._ts,this._time-=c,this._tTime-=
c),this.shiftChildren(-c,!1,-Infinity),g=0),h._end>f&&h._ts&&(f=h._end),h=d;K(this,this===ta&&this._time>f?this._time:f,1,1);this._dirty=0}return this._tDur},c.updateRoot=function(b){if(ta._ts){var d=ta;b=N(b,ta);cc.length&&B();d.render(b,void 0,void 0);cc.length&&B();ed=gb.frame}if(gb.frame>=Wb&&(Wb+=ib.autoSleep||120,d=ta._first,(!d||!d._ts)&&ib.autoSleep&&2>gb._listeners.length)){for(;d&&!d._ts;)d=d._next;d||gb.sleep()}},c}(zc);D(Za.prototype,{_lock:0,_hasPause:0,_forcing:0});var rc,cd=function(b,
d,c,e,f,h,l,p,q){k(e)&&(e=e(f||0,b,h));var r;f=b[d];h="get"!==c?c:k(f)?q?b[d.indexOf("set")||!k(b["get"+d.substr(3)])?d:"get"+d.substr(3)](q):b[d]():f;c=k(f)?q?be:oc:td;if(g(e)&&(~e.indexOf("random(")&&(e=ya(e)),"\x3d"===e.charAt(1)&&(!(r=parseFloat(h)+parseFloat(e.substr(2))*("-"===e.charAt(0)?-1:1)+(ca(h)||0))&&0!==r||(e=r))),h!==e){if(isNaN(h*e)||""===e){f||d in b||n(d,e);f=h;h=p||ib.stringFilter;var s,u,A;r=new Ub(this._pt,b,d,0,1,nd,null,c);c=l=0;r.b=f;r.e=e;f+="";(p=~(e+="").indexOf("random("))&&
(e=ya(e));h&&(h(s=[f,e],b,d),f=s[0],e=s[1]);for(b=f.match(pa)||[];s=pa.exec(e);)d=s[0],s=e.substring(l,s.index),u?u=(u+1)%5:"rgba("===s.substr(-5)&&(u=1),d!==b[c++]&&(A=parseFloat(b[c-1])||0,r._pt={_next:r._pt,p:s||1===c?s:",",s:A,c:"\x3d"===d.charAt(1)?parseFloat(d.substr(2))*("-"===d.charAt(0)?-1:1):parseFloat(d)-A,m:u&&4>u?Math.round:0},l=pa.lastIndex);q=(r.c=l<e.length?e.substring(l,e.length):"",r.fp=q,(Zc.test(e)||p)&&(r.e=0),this._pt=r)}else q=(r=new Ub(this._pt,b,d,+h||0,e-(h||0),"boolean"==
typeof f?qb:Hd,0,c),q&&(r.fp=q),l&&r.modifier(l,this,b),this._pt=r);return q}},Xd=function $d(b,d){var c,e,f,h,g,k,l,n,p,q,u,v,F,C=b.vars;c=C.ease;e=C.startAt;var z=C.immediateRender,w=C.lazy,H=C.onUpdate,t=C.onUpdateParams,E=C.callbackScope,L=C.runBackwards;v=C.yoyoEase;var P=C.keyframes,ra=C.autoRevert,K=b._dur,Q=b._startAt,O=b._targets,M=b.parent,N=M&&"nested"===M.data?M.parent._targets:O,T="auto"===b._overwrite&&!bb,G=b.timeline;if(!G||P&&c||(c="none"),b._ease=dc(c,jc.ease),b._yEase=v?Ob(dc(!0===
v?c:v,jc.ease)):0,v&&b._yoyo&&!b._repeat&&(v=b._yEase,b._yEase=b._ease,b._ease=v),b._from=!G&&!!C.runBackwards,!G){if(v=(n=O[0]?s(O[0]).harness:0)&&C[n.prop],c=A(C,hd),Q&&Q.render(-1,!0).kill(),e)if(J(b._startAt=tb.set(O,D({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:!1!==w,startAt:null,delay:0,onUpdate:H,onUpdateParams:t,callbackScope:E,stagger:0},e))),0>d&&!z&&!ra&&b._startAt.render(-1,!0),z){if(0<d&&!ra&&(b._startAt=0),K&&0>=d)return void(d&&(b._zTime=d))}else!1===ra&&(b._startAt=
0);else if(L&&K)if(Q)ra||(b._startAt=0);else if(d&&(z=!1),f=D({overwrite:!1,data:"isFromStart",lazy:z&&!1!==w,immediateRender:z,stagger:0,parent:M},c),v&&(f[n.prop]=v),J(b._startAt=tb.set(O,f)),0>d&&b._startAt.render(-1,!0),z){if(!d)return}else $d(b._startAt,wa);b._pt=0;w=K&&!1!==w||w&&!K;for(e=0;e<O.length;e++){if(l=(g=O[e])._gsap||r(O)[e]._gsap,b._ptLookup[e]=q={},Ga[l.id]&&cc.length&&B(),u=N===O?e:N.indexOf(g),n&&!1!==(p=new n).init(g,v||c,b,u,N)&&(b._pt=h=new Ub(b._pt,g,p.name,0,1,p.render,p,
0,p.priority),p._props.forEach(function(b){q[b]=h}),p.priority&&(k=1)),!n||v)for(f in c)yb[f]&&(p=Ja(f,c,b,u,g,N))?p.priority&&(k=1):q[f]=h=cd.call(b,g,f,"get",c[f],u,N,0,C.stringFilter);b._op&&b._op[e]&&b.kill(g,b._op[e]);T&&b._pt&&(rc=b,ta.killTweensOf(g,q,b.globalTime(0)),F=!b.parent,rc=0);b._pt&&w&&(Ga[l.id]=1)}k&&od(b);b._onInit&&b._onInit(b)}b._onUpdate=H;b._initted=(!b._op||b._pt)&&!F},Hc=function(b,d,c,e,f){return k(b)?b.call(d,c,e,f):g(b)&&~b.indexOf("random(")?ya(b):b},Md=zb+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",
Wd=(Md+",id,stagger,delay,duration,paused,scrollTrigger").split(","),tb=function(c){function k(e,g,l,n){"number"==typeof g&&(l.duration=g,g=l,l=null);var p,s,u,A,v,F,C,z=(n=c.call(this,n?g:H(g))||this).vars,t=z.duration,B=z.delay,E=z.immediateRender,L=z.stagger,J=z.overwrite,P=z.keyframes;s=z.defaults;var ra=z.scrollTrigger,z=z.yoyoEase,K=g.parent||ta,Q=(wb(e)||Yc(e)?h(e[0]):"length"in g)?[e]:Eb(e);if(n._targets=Q.length?r(Q):!!ib.nullTargetWarn&&console.warn("GSAP target "+e+" not found. https://greensock.com")||
[],n._ptLookup=[],n._overwrite=J,P||L||f(t)||f(B)){if(g=n.vars,(p=n.timeline=new Za({data:"nested",defaults:s||{}})).kill(),p.parent=p._dp=b(n),p._start=0,P)D(p.vars.defaults,{ease:"none"}),L?Q.forEach(function(b,d){return P.forEach(function(c,e){return p.to(b,c,e?"\x3e":d*L)})}):P.forEach(function(b){return p.to(Q,b,"\x3e")});else{if(u=Q.length,F=L?X(L):q,d(L))for(A in L)~Md.indexOf(A)&&((C=C||{})[A]=L[A]);for(e=0;e<u;e++){for(A in s={},g)0>Wd.indexOf(A)&&(s[A]=g[A]);s.stagger=0;z&&(s.yoyoEase=z);
C&&Ab(s,C);v=Q[e];s.duration=+Hc(t,b(n),e,v,Q);s.delay=(+Hc(B,b(n),e,v,Q)||0)-n._delay;!L&&1===u&&s.delay&&(n._delay=B=s.delay,n._start+=B,s.delay=0);p.to(v,s,F(e,v,Q))}p.duration()?t=B=0:n.timeline=0}t||n.duration(t=p.duration())}else n.timeline=0;return!0!==J||bb||(rc=b(n),ta.killTweensOf(Q),rc=0),ba(K,b(n),l),g.reversed&&n.reverse(),g.paused&&n.paused(!0),(E||!t&&!P&&n._start===w(K._time)&&!1!==E&&function Td(b){return!b||b._ts&&Td(b.parent)}(b(n))&&"nested"!==K.data)&&(n._tTime=-wa,n.render(Math.max(0,
-B))),ra&&qa(b(n),ra),n}e(k,c);var l=k.prototype;return l.render=function(b,d,c){var e,f,h,g,k,l,n,p,q=this._time,r=this._tDur,s=this._dur,u=r-wa<b&&0<=b?r:b<wa?0:b;if(s){if(u!==this._tTime||!b||c||!this._initted&&this._tTime||this._startAt&&0>this._zTime!=0>b){if(e=u,n=this.timeline,this._repeat){if(f=s+this._rDelay,-1>this._repeat&&0>b)return this.totalTime(100*f+b,d,c);if(e=w(u%f),u===r?(h=this._repeat,e=s):((h=~~(u/f))&&h===u/f&&(e=s,h--),s<e&&(e=s)),(k=this._yoyo&&1&h)&&(p=this._yEase,e=s-e),
g=Qa(this._tTime,f),e===q&&!c&&this._initted)return this;h!==g&&(n&&this._yEase&&Fa(n,k),!this.vars.repeatRefresh||k||this._lock||(this._lock=c=1,this.render(w(f*h),!0).invalidate()._lock=0))}if(!this._initted){if(P(this,0>b?b:e,c,d))return this._tTime=0,this;if(s!==this._dur)return this.render(b,d,c)}if(this._tTime=u,this._time=e,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(p||this._ease)(e/s),this._from&&(this.ratio=l=1-l),e&&!q&&!d&&(Fb(this,"onStart"),this._tTime!==u))return this;
for(f=this._pt;f;)f.r(l,f.d),f=f._next;n&&n.render(0>b?b:!e&&k?-wa:n._dur*l,d,c)||this._startAt&&(this._zTime=b);this._onUpdate&&!d&&(0>b&&this._startAt&&this._startAt.render(b,!0,c),Fb(this,"onUpdate"));this._repeat&&h!==g&&this.vars.onRepeat&&!d&&this.parent&&Fb(this,"onRepeat");u!==this._tDur&&u||this._tTime!==u||(0>b&&this._startAt&&!this._onUpdate&&this._startAt.render(b,!0,!0),!b&&s||!(u===this._tDur&&0<this._ts||!u&&0>this._ts)||J(this,1),d||0>b&&!q||!u&&!q||(Fb(this,u===r?"onComplete":"onReverseComplete",
!0),!this._prom||u<r&&0<this.timeScale()||this._prom()))}}else!function(b,d,c,e){var f,h,g=b.ratio,k=0>d||!d&&(!b._start&&function oe(b){return(b=b.parent)&&b._ts&&b._initted&&!b._lock&&(0>b.rawTime()||oe(b))}(b)&&(b._initted||!ab(b))||(0>b._ts||0>b._dp._ts)&&!ab(b))?0:1,l=b._rDelay,n=0;if(l&&b._repeat&&(n=Va(0,b._tDur,d),f=Qa(n,l),h=Qa(b._tTime,l),b._yoyo&&1&f&&(k=1-k),f!==h&&(g=1-k,b.vars.repeatRefresh&&b._initted&&b.invalidate())),k!==g||e||b._zTime===wa||!d&&b._zTime){if(b._initted||!P(b,d,e,
c)){h=b._zTime;b._zTime=d||(c?wa:0);c=c||d&&!h;b.ratio=k;b._from&&(k=1-k);b._time=0;b._tTime=n;for(e=b._pt;e;)e.r(k,e.d),e=e._next;b._startAt&&0>d&&b._startAt.render(d,!0,!0);b._onUpdate&&!c&&Fb(b,"onUpdate");n&&b._repeat&&!c&&b.parent&&Fb(b,"onRepeat");(d>=b._tDur||0>d)&&b.ratio===k&&(k&&J(b,1),c||(Fb(b,k?"onComplete":"onReverseComplete",!0),b._prom&&b._prom()))}}else b._zTime||(b._zTime=d)}(this,b,d,c);return this},l.targets=function(){return this._targets},l.invalidate=function(){return this._pt=
this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),c.prototype.invalidate.call(this)},l.kill=function(b,d){if(void 0===d&&(d="all"),!(b||d&&"all"!==d))return this._lazy=this._pt=0,this.parent?Ea(this):this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(b,d,rc&&!0!==rc.vars.overwrite)._first||Ea(this),this.parent&&c!==this.timeline.totalDuration()&&K(this,this._dur*this.timeline._tDur/c,
0,1),this}var e,f,h,k,l,n,p=this._targets,q=b?Eb(b):p,r=this._ptLookup,u=this._pt;if((!d||"all"===d)&&function(b,d){for(var c=b.length,e=c===d.length;e&&c--&&b[c]===d[c];);return 0>c}(p,q))return"all"===d&&(this._pt=0),Ea(this);c=this._op=this._op||[];"all"!==d&&(g(d)&&(k={},z(d,function(b){return k[b]=1}),d=k),d=function(b,d){var c,e,f,h,g=(c=b[0]?s(b[0]).harness:0)&&c.aliases;if(!g)return d;for(e in c=Ab({},d),g)if(e in c)for(f=(h=g[e].split(",")).length;f--;)c[h[f]]=c[e];return c}(p,d));for(n=
p.length;n--;)if(~q.indexOf(p[n]))for(k in e=r[n],"all"===d?(c[n]=d,h=e,f={}):(f=c[n]=c[n]||{},h=d),h)(l=e&&e[k])&&("kill"in l.d&&!0!==l.d.kill(k)||L(this,l,"_pt"),delete e[k]),"all"!==f&&(f[k]=1);return this._initted&&!this._pt&&u&&Ea(this),this},k.to=function(b,d,c){return new k(b,d,c)},k.from=function(b,d){return ea(1,arguments)},k.delayedCall=function(b,d,c,e){return new k(d,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:b,onComplete:d,onReverseComplete:d,onCompleteParams:c,onReverseCompleteParams:c,
callbackScope:e})},k.fromTo=function(b,d,c){return ea(2,arguments)},k.set=function(b,d){return d.duration=0,d.repeatDelay||(d.repeat=0),new k(b,d)},k.killTweensOf=function(b,d,c){return ta.killTweensOf(b,d,c)},k}(zc);D(tb.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});z("staggerTo,staggerFrom,staggerFromTo",function(b){tb[b]=function(){var d=new Za,c=mc.call(arguments,0);return c.splice("staggerFromTo"===b?5:4,0,0),d[b].apply(d,c)}});var td=function(b,d,c){return b[d]=c},oc=function(b,
d,c){return b[d](c)},be=function(b,d,c,e){return b[d](e.fp,c)},xd=function(b,d){return k(b[d])?oc:void 0===b[d]&&b.setAttribute?cb:td},Hd=function(b,d){return d.set(d.t,d.p,Math.round(1E6*(d.s+d.c*b))/1E6,d)},qb=function(b,d){return d.set(d.t,d.p,!!(d.s+d.c*b),d)},nd=function(b,d){var c=d._pt,e="";if(!b&&d.b)e=d.b;else if(1===b&&d.e)e=d.e;else{for(;c;)e=c.p+(c.m?c.m(c.s+c.c*b):Math.round(1E4*(c.s+c.c*b))/1E4)+e,c=c._next;e+=d.c}d.set(d.t,d.p,e,d)},sd=function(b,d){for(var c=d._pt;c;)c.r(b,c.d),c=
c._next},Vd=function(b,d,c,e){for(var f,h=this._pt;h;)f=h._next,h.p===e&&h.modifier(b,d,c),h=f},ce=function(b){for(var d,c,e=this._pt;e;)c=e._next,e.p===b&&!e.op||e.op===b?L(this,e,"_pt"):e.dep||(d=1),e=c;return!d},od=function(b){for(var d,c,e,f,h=b._pt;h;){d=h._next;for(c=e;c&&c.pr>h.pr;)c=c._next;(h._prev=c?c._prev:f)?h._prev._next=h:e=h;(h._next=c)?c._prev=h:f=h;h=d}b._pt=e},Ub=(va.prototype.modifier=function(b,d,c){this.mSet=this.mSet||this.set;this.set=Oa;this.m=b;this.mt=c;this.tween=d},va);
z(zb+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(b){return hd[b]=1});Nb.TweenMax=Nb.TweenLite=tb;Nb.TimelineLite=Nb.TimelineMax=Za;ta=new Za({sortChildren:!1,defaults:jc,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ib.stringFilter=Ma;var Tc={registerPlugin:function(){for(var b=arguments.length,d=
Array(b),c=0;c<b;c++)d[c]=arguments[c];d.forEach(function(b){return function(b){var d=(b=!b.name&&b.default||b).name,c=k(b),c=d&&!c&&b.init?function(){this._props=[]}:b,e={init:q,render:sd,add:cd,kill:ce,modifier:Vd,rawVars:0},f={targetTest:0,get:0,getSetter:xd,aliases:{},register:0};if(Sa(),b!==c){if(yb[d])return;D(c,D(A(b,e),f));Ab(c.prototype,Ab(e,A(b,f)));yb[c.prop=d]=c;b.targetTest&&(Ia.push(c),hd[d]=1);d=("css"===d?"CSS":d.charAt(0).toUpperCase()+d.substr(1))+"Plugin"}p(d,c);b.register&&b.register(hc,
c,Ub)}(b)})},timeline:function(b){return new Za(b)},getTweensOf:function(b,d){return ta.getTweensOf(b,d)},getProperty:function(b,d,c,e){g(b)&&(b=Eb(b)[0]);var f=s(b||{}).get,h=c?u:E;return"native"===c&&(c=""),b?d?h((yb[d]&&yb[d].get||f)(b,d,c,e)):function(d,c,e){return h((yb[d]&&yb[d].get||f)(b,d,c,e))}:b},quickSetter:function(b,d,c){if(1<(b=Eb(b)).length){var e=b.map(function(b){return hc.quickSetter(b,d,c)}),f=e.length;return function(b){for(var d=f;d--;)e[d](b)}}b=b[0]||{};var h=yb[d],g=s(b),k=
g.harness&&(g.harness.aliases||{})[d]||d,l=h?function(d){var e=new h;tc._pt=0;e.init(b,c?d+c:d,tc,0,[b]);e.render(1,e);tc._pt&&sd(1,tc)}:g.set(b,k);return h?l:function(d){return l(b,k,c?d+c:d,g,1)}},isTweening:function(b){return 0<ta.getTweensOf(b,!0).length},defaults:function(b){return b&&b.ease&&(b.ease=dc(b.ease,jc.ease)),F(jc,b||{})},config:function(b){return F(ib,b||{})},registerEffect:function(b){var c=b.name,e=b.effect,f=b.defaults,h=b.extendTimeline;(b.plugins||"").split(",").forEach(function(b){return b&&
!yb[b]&&!Nb[b]&&console.warn(c+" effect requires "+b+" plugin.")});Cb[c]=function(b,d,c){return e(Eb(b),D(d||{},f),c)};h&&(Za.prototype[c]=function(b,e,f){return this.add(Cb[c](b,d(e)?e:(f=e)&&{},this),f)})},registerEase:function(b,d){Da[b]=dc(d)},parseEase:function(b,d){return arguments.length?dc(b,d):Da},getById:function(b){return ta.getById(b)},exportRoot:function(b,d){void 0===b&&(b={});var c,e,f=new Za(b);f.smoothChildTiming=!1!==b.smoothChildTiming;ta.remove(f);f._dp=0;f._time=f._tTime=ta._time;
for(c=ta._first;c;)e=c._next,!d&&!c._dur&&c instanceof tb&&c.vars.onComplete===c._targets[0]||ba(f,c,c._start-c._delay),c=e;return ba(ta,f,0),f},utils:{wrap:function ae(b,d,c){var e=d-b;return wb(b)?ja(b,ae(0,b.length),d):M(c,function(d){return(e+(d-b)%e)%e+b})},wrapYoyo:function Qc(b,d,c){var e=d-b,f=2*e;return wb(b)?ja(b,Qc(0,b.length-1),d):M(c,function(d){return b+(e<(d=(f+(d-b)%f)%f||0)?f-d:d)})},distribute:X,random:ha,snap:ga,normalize:function(b,d,c){return Tb(b,d,0,1,c)},getUnit:ca,clamp:function(b,
d,c){return M(c,function(c){return Va(b,d,c)})},splitColor:aa,toArray:Eb,selector:function(b){return b=Eb(b)[0]||console.warn("Invalid scope")||{},function(d){var c=b.current||b.nativeElement||b;return Eb(d,c.querySelectorAll?c:c===b?console.warn("Invalid scope")||jb.createElement("div"):b)}},mapRange:Tb,pipe:function(){for(var b=arguments.length,d=Array(b),c=0;c<b;c++)d[c]=arguments[c];return function(b){return d.reduce(function(b,d){return d(b)},b)}},unitize:function(b,d){return function(c){return b(parseFloat(c))+
(d||ca(c))}},interpolate:function Ec(b,d,c,e){var f=isNaN(b+d)?0:function(c){return(1-c)*b+c*d};if(!f){var h,k,l,n,p=g(b),q={};if(!0===c&&(e=1)&&(c=null),p)b={p:b},d={p:d};else if(wb(b)&&!wb(d)){k=[];l=b.length;n=l-2;for(c=1;c<l;c++)k.push(Ec(b[c-1],b[c]));l--;f=function(b){b*=l;var d=Math.min(n,~~b);return k[d](b-d)};c=d}else e||(b=Ab(wb(b)?[]:{},b));if(!k){for(h in d)cd.call(q,b,h,"get",d[h]);f=function(d){return sd(d,q)||(p?b.p:b)}}}return M(c,f)},shuffle:Y},install:l,effects:Cb,ticker:gb,updateRoot:Za.updateRoot,
plugins:yb,globalTimeline:ta,core:{PropTween:Ub,globals:p,Tween:tb,Timeline:Za,Animation:zc,getCache:s,_removeLinkedListItem:L,suppressOverwrites:function(b){return bb=b}}};z("to,from,fromTo,delayedCall,set,killTweensOf",function(b){return Tc[b]=tb[b]});gb.add(Za.updateRoot);tc=Tc.to({},{duration:0});var hc=Tc.registerPlugin({name:"attr",init:function(b,d,c,e,f){var h,g;for(h in d)(g=this.add(b,"setAttribute",(b.getAttribute(h)||0)+"",d[h],e,f,0,0,h))&&(g.op=h),this._props.push(h)}},{name:"endArray",
init:function(b,d){for(var c=d.length;c--;)this.add(b,c,b[c]||0,d[c])}},Ua("roundProps",fa),Ua("modifiers"),Ua("snap",ga))||Tc;tb.version=Za.version=hc.version="3.7.1";Cc=1;"undefined"!=typeof window&&Sa();var Jd,yc,Vc,Wc,Ic,Nd,Od,de=Da.Power0,Ld=Da.Power1,ee=Da.Power2,Ud=Da.Power3,fe=Da.Power4,Kd=Da.Linear,Ac=Da.Quad,Ib=Da.Cubic,pd=Da.Quart,yd=Da.Quint,ud=Da.Strong,sc=Da.Elastic,Pd=Da.Back,ge=Da.SteppedEase,he=Da.Bounce,pe=Da.Sine,zd=Da.Expo,Bd=Da.Circ,pc={},Jc=180/Math.PI,Sc=Math.PI/180,xc=Math.atan2,
dd=/([A-Z])/g,Cd=/(?:left|right|width|margin|padding|x)/i,Qd=/[\s,\(]\S/,Bc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Jb="transform",Yb=Jb+"Origin",Ed=["O","Moz","ms","Ms","Webkit"],Rc=function(b,d,c){d=(d||Ic).style;var e=5;if(b in d&&!c)return b;for(b=b.charAt(0).toUpperCase()+b.substr(1);e--&&!(Ed[e]+b in d););return 0>e?null:(3===e?"ms":0<=e?Ed[e]:"")+b},rd={deg:1,rad:1,turn:1},Fd={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},id={clearProps:function(b,
d,c,e,f){if("isFromStart"!==f.data)return d=b._pt=new Ub(b._pt,d,c,0,0,Kc),d.u=e,d.pr=-10,d.tween=f,b._props.push(c),1}},ad=[1,0,0,1,0,0],Gd={},bd=function(b,d){var c=b._gsap||new kd(b);if("x"in c&&!d&&!c.uncache)return c;var e,f,h,g,k,l,n,p,q,r,s,u,A,v,F,D,C,z,H,t,B,E,L,J,P,ra,Q,K,O,M,N,T,G=b.style,qa=0>c.scaleX,bb=xb(b,Yb)||"0";return e=f=h=l=n=p=q=r=s=0,g=k=1,c.svg=!(!b.getCTM||!b.getCTM||b.parentNode&&!b.ownerSVGElement||!nb(b)),v=Rb(b,c.svg),c.svg&&(J=(!c.uncache||"0px 0px"===bb)&&!d&&b.getAttribute("data-svg-origin"),
Ra(b,J||bb,!!J||c.originIsAbsolute,!1!==c.smooth,v)),u=c.xOrigin||0,A=c.yOrigin||0,v!==ad&&(z=v[0],H=v[1],t=v[2],B=v[3],e=E=v[4],f=L=v[5],6===v.length?(g=Math.sqrt(z*z+H*H),k=Math.sqrt(B*B+t*t),l=z||H?xc(H,z)*Jc:0,(q=t||B?xc(t,B)*Jc+l:0)&&(k*=Math.abs(Math.cos(q*Sc))),c.svg&&(e-=u-(u*z+A*t),f-=A-(u*H+A*B))):(T=v[6],M=v[7],Q=v[8],K=v[9],O=v[10],N=v[11],e=v[12],f=v[13],h=v[14],n=(F=xc(T,O))*Jc,F&&(J=E*(D=Math.cos(-F))+Q*(C=Math.sin(-F)),P=L*D+K*C,ra=T*D+O*C,Q=E*-C+Q*D,K=L*-C+K*D,O=T*-C+O*D,N=M*-C+N*
D,E=J,L=P,T=ra),p=(F=xc(-t,O))*Jc,F&&(D=Math.cos(-F),N=B*(C=Math.sin(-F))+N*D,z=z*D-Q*C,H=H*D-K*C,t=t*D-O*C),l=(F=xc(H,z))*Jc,F&&(J=z*(D=Math.cos(F))+H*(C=Math.sin(F)),P=E*D+L*C,H=H*D-z*C,L=L*D-E*C,z=J,E=P),n&&359.9<Math.abs(n)+Math.abs(l)&&(n=l=0,p=180-p),g=w(Math.sqrt(z*z+H*H+t*t)),k=w(Math.sqrt(L*L+T*T)),F=xc(E,L),q=2E-4<Math.abs(F)?F*Jc:0,s=N?1/(0>N?-N:N):0),c.svg&&(J=b.getAttribute("transform"),c.forceCSS=b.setAttribute("transform","")||!Zb(xb(b,Jb)),J&&b.setAttribute("transform",J))),90<Math.abs(q)&&
270>Math.abs(q)&&(qa?(g*=-1,q+=0>=l?180:-180,l+=0>=l?180:-180):(k*=-1,q+=0>=q?180:-180)),c.x=e-((c.xPercent=e&&(c.xPercent||(Math.round(b.offsetWidth/2)===Math.round(-e)?-50:0)))?b.offsetWidth*c.xPercent/100:0)+"px",c.y=f-((c.yPercent=f&&(c.yPercent||(Math.round(b.offsetHeight/2)===Math.round(-f)?-50:0)))?b.offsetHeight*c.yPercent/100:0)+"px",c.z=h+"px",c.scaleX=w(g),c.scaleY=w(k),c.rotation=w(l)+"deg",c.rotationX=w(n)+"deg",c.rotationY=w(p)+"deg",c.skewX=q+"deg",c.skewY=r+"deg",c.transformPerspective=
s+"px",(c.zOrigin=parseFloat(bb.split(" ")[2])||0)&&(G[Yb]=jd(bb)),c.xOffset=c.yOffset=0,c.force3D=ib.force3D,c.renderTransform=c.svg?Yd:Od?vd:Id,c.uncache=0,c},jd=function(b){return(b=b.split(" "))[0]+" "+b[1]},Id=function(b,d){d.z="0px";d.rotationY=d.rotationX="0deg";d.force3D=0;vd(b,d)},vd=function(b,d){var c=d||this,e=c.xPercent,f=c.yPercent,h=c.x,g=c.y,k=c.z,l=c.rotation,n=c.rotationY,p=c.rotationX,q=c.skewX,r=c.skewY,s=c.scaleX,u=c.scaleY,A=c.transformPerspective,v=c.force3D,F=c.target,c=c.zOrigin,
D="",v="auto"===v&&b&&1!==b||!0===v;if(c&&("0deg"!==p||"0deg"!==n)){var C,z=parseFloat(n)*Sc,H=Math.sin(z),w=Math.cos(z),z=parseFloat(p)*Sc;C=Math.cos(z);h=ob(F,h,H*C*-c);g=ob(F,g,-Math.sin(z)*-c);k=ob(F,k,w*C*-c+c)}"0px"!==A&&(D+="perspective("+A+") ");(e||f)&&(D+="translate("+e+"%, "+f+"%) ");!v&&"0px"===h&&"0px"===g&&"0px"===k||(D+="0px"!==k||v?"translate3d("+h+", "+g+", "+k+") ":"translate("+h+", "+g+") ");"0deg"!==l&&(D+="rotate("+l+") ");"0deg"!==n&&(D+="rotateY("+n+") ");"0deg"!==p&&(D+="rotateX("+
p+") ");"0deg"===q&&"0deg"===r||(D+="skew("+q+", "+r+") ");1===s&&1===u||(D+="scale("+s+", "+u+") ");F.style[Jb]=D||"translate(0, 0)"},Yd=function(b,d){var c,e,f,h,g,k=d||this,l=k.xPercent,n=k.yPercent,p=k.x,q=k.y,r=k.rotation,s=k.skewX,u=k.skewY,A=k.scaleX,v=k.scaleY,F=k.target,D=k.xOrigin,C=k.yOrigin,z=k.xOffset,H=k.yOffset,k=k.forceCSS,t=parseFloat(p),B=parseFloat(q),r=parseFloat(r),s=parseFloat(s);(u=parseFloat(u))&&(s+=u=parseFloat(u),r+=u);r||s?(r*=Sc,s*=Sc,c=Math.cos(r)*A,e=Math.sin(r)*A,f=
Math.sin(r-s)*-v,h=Math.cos(r-s)*v,s&&(u*=Sc,g=Math.tan(s-u),f*=g=Math.sqrt(1+g*g),h*=g,u&&(g=Math.tan(u),c*=g=Math.sqrt(1+g*g),e*=g)),c=w(c),e=w(e),f=w(f),h=w(h)):(c=A,h=v,e=f=0);(t&&!~(p+"").indexOf("px")||B&&!~(q+"").indexOf("px"))&&(t=fb(F,"x",p,"px"),B=fb(F,"y",q,"px"));(D||C||z||H)&&(t=w(t+D-(D*c+C*f)+z),B=w(B+C-(D*e+C*h)+H));(l||n)&&(g=F.getBBox(),t=w(t+l/100*g.width),B=w(B+n/100*g.height));g="matrix("+c+","+e+","+f+","+h+","+t+","+B+")";F.setAttribute("transform",g);k&&(F.style[Jb]=g)};z("padding,margin,Width,Radius",
function(b,d){var c=(3>d?["Top","Right","Bottom","Left"]:["TopLeft","TopRight","BottomRight","BottomLeft"]).map(function(c){return 2>d?b+c:"border"+c+b});id[1<d?"border"+b:b]=function(b,d,e,f,h){var g,k;if(4>arguments.length)return g=c.map(function(d){return Na(b,d,e)}),5===(k=g.join(" ")).split(g[0]).length?g[0]:k;g=(f+"").split(" ");k={};c.forEach(function(b,d){return k[b]=g[d]=g[d]||g[(d-1)/2|0]});b.init(d,k,h)}});var ld,md={name:"css",register:Qb,targetTest:function(b){return b.style&&b.nodeType},
init:function(b,d,c,e,f){var h,k,l,p,q,r,s,u,A,v,F,D,C,z,H,w=this._props,t=b.style,B=c.vars.startAt;for(s in Wc||Qb(),d)if("autoRound"!==s&&(k=d[s],!yb[s]||!Ja(s,d,c,e,b,f)))if(q=typeof k,r=id[s],"function"===q&&(q=typeof(k=k.call(c,e,b,f))),"string"===q&&~k.indexOf("random(")&&(k=ya(k)),r)r(this,b,s,k,c)&&(H=1);else if("--"===s.substr(0,2))h=(getComputedStyle(b).getPropertyValue(s)+"").trim(),k+="",ac.lastIndex=0,ac.test(h)||(u=ca(h),A=ca(k)),A?u!==A&&(h=fb(b,s,h,A)+A):u&&(k+=u),this.add(t,"setProperty",
h,k,e,f,0,0,s),w.push(s);else if("undefined"!==q){if(B&&s in B?(h="function"==typeof B[s]?B[s].call(c,e,b,f):B[s],s in ib.units&&!ca(h)&&(h+=ib.units[s]),"\x3d"===(h+"").charAt(1)&&(h=Na(b,s))):h=Na(b,s),p=parseFloat(h),(v="string"===q&&"\x3d"===k.charAt(1)?+(k.charAt(0)+"1"):0)&&(k=k.substr(2)),l=parseFloat(k),s in Bc&&("autoAlpha"===s&&(1===p&&"hidden"===Na(b,"visibility")&&l&&(p=0),rb(this,t,"visibility",p?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==s&&"transform"!==s&&~(s=Bc[s]).indexOf(",")&&
(s=s.split(",")[0])),F=s in pc)if(D||((C=b._gsap).renderTransform&&!d.parseTransform||bd(b,d.parseTransform),z=!1!==d.smoothOrigin&&C.smooth,(D=this._pt=new Ub(this._pt,t,Jb,0,1,C.renderTransform,C,0,-1)).dep=1),"scale"===s)this._pt=new Ub(this._pt,C,"scaleY",C.scaleY,(v?v*l:l-C.scaleY)||0),w.push("scaleY",s),s+="X";else{if("transformOrigin"===s){F=k;k=F.split(" ");var E=k[0],L=k[1]||"50%";k=("top"!==E&&"bottom"!==E&&"left"!==L&&"right"!==L||(F=E,E=L,L=F),k[0]=Fd[E]||E,k[1]=Fd[L]||L,k.join(" "));
C.svg?Ra(b,k,0,z,0,this):((A=parseFloat(k.split(" ")[2])||0)!==C.zOrigin&&rb(this,C,"zOrigin",C.zOrigin,A),rb(this,t,s,jd(h),jd(k)));continue}if("svgOrigin"===s){Ra(b,k,1,z,0,this);continue}if(s in Gd){F=C;var E=s,L=p,J=k,P=v,Q=v=void 0,Q=g(J),K=parseFloat(J)*(Q&&~J.indexOf("rad")?Jc:1),K=P?K*P:K-L,P=L+K+"deg";Q&&("short"===(v=J.split("_")[1])&&(K%=360)!==K%180&&(K+=0>K?360:-360),"cw"===v&&0>K?K=(K+36E9)%360-360*~~(K/360):"ccw"===v&&0<K&&(K=(K-36E9)%360-360*~~(K/360)));this._pt=Q=new Ub(this._pt,
F,E,L,K,Wa);Q.e=P;Q.u="deg";this._props.push(E);continue}if("smoothOrigin"===s){rb(this,C,"smooth",C.smooth,k);continue}if("force3D"===s){C[s]=k;continue}if("transform"===s){F=k;var E=b,O=K=P=Q=v=J=L=void 0,M=Xb({},E._gsap),N=E.style;for(J in M.svg?(v=E.getAttribute("transform"),E.setAttribute("transform",""),N[Jb]=F,L=bd(E,1),hb(E,Jb),E.setAttribute("transform",v)):(v=getComputedStyle(E)[Jb],N[Jb]=F,L=bd(E,1),N[Jb]=v),pc)(v=M[J])!==(Q=L[J])&&0>"perspective,force3D,transformOrigin,svgOrigin".indexOf(J)&&
(P=ca(v)!==(O=ca(Q))?fb(E,J,v,O):parseFloat(v),K=parseFloat(Q),this._pt=new Ub(this._pt,L,J,P,K-P,db),this._pt.u=O||0,this._props.push(J));Xb(L,M);continue}}else s in t||(s=Rc(s)||s);if(F||(l||0===l)&&(p||0===p)&&!Qd.test(k)&&s in t)l=l||0,(u=(h+"").substr((p+"").length))!==(A=ca(k)||(s in ib.units?ib.units[s]:u))&&(p=fb(b,s,h,A)),this._pt=new Ub(this._pt,F?C:t,s,p,v?v*l:l-p,F||"px"!==A&&"zIndex"!==s||!1===d.autoRound?db:ub),this._pt.u=A||0,u!==A&&(this._pt.b=h,this._pt.r=pb);else if(s in t){F=b;
E=s;L=h;J=k;L&&"none"!==L||((Q=(v=Rc(E,F,1))&&xb(F,v,1))&&Q!==L?(E=v,L=Q):"borderColor"===E&&(L=xb(F,"borderTopColor")));var T=v=void 0,G=T=N=M=O=K=P=Q=void 0,qa=void 0,bb=void 0,ua=new Ub(this._pt,F.style,E,0,1,nd),ta=0,ba=0;if(ua.b=L,ua.e=J,L+="","auto"===(J+="")&&(F.style[E]=J,J=xb(F,E)||J,F.style[E]=L),Ma(v=[L,J]),J=v[1],Q=v[0].match(uc)||[],(J.match(uc)||[]).length){for(;T=uc.exec(J);)M=T[0],T=J.substring(ta,T.index),K?K=(K+1)%5:"rgba("!==T.substr(-5)&&"hsla("!==T.substr(-5)||(K=1),M!==(O=Q[ba++]||
"")&&(P=parseFloat(O)||0,qa=O.substr((P+"").length),(bb="\x3d"===M.charAt(1)?+(M.charAt(0)+"1"):0)&&(M=M.substr(2)),N=parseFloat(M),G=M.substr((N+"").length),ta=uc.lastIndex-G.length,G||(G=G||ib.units[E]||qa,ta===J.length&&(J+=G,ua.e+=G)),qa!==G&&(P=fb(F,E,O,G)||0),ua._pt={_next:ua._pt,p:T||1===ba?T:",",s:P,c:bb?bb*N:N-P,m:K&&4>K||"zIndex"===E?Math.round:0});ua.c=ta<J.length?J.substring(ta,J.length):""}else ua.r="display"===E&&"none"===J?ra:Xa;Zc.test(J)&&(ua.e=0);this._pt=ua}else{if(!(s in b)){n(s,
k);continue}this.add(b,s,h||b[s],k,e,f)}w.push(s)}H&&od(this)},get:Na,aliases:Bc,getSetter:function(b,d,c){var e=Bc[d];return e&&0>e.indexOf(",")&&(d=e),d in pc&&d!==Yb&&(b._gsap.x||Na(b,"x"))?c&&Nd===c?"scale"===d?mb:Bb:(Nd=c||{},"scale"===d?eb:$a):b.style&&void 0!==b.style[d]?ua:~d.indexOf("-")?xa:xd(b,d)},core:{_removeProperty:hb,_getMatrix:Rb}};hc.utils.checkPrefix=Rc;ld=z("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,rotation,rotationX,rotationY,skewX,skewY,transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",
function(b){pc[b]=1});z("rotation,rotationX,rotationY,skewX,skewY",function(b){ib.units[b]="deg";Gd[b]=1});Bc[ld[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,rotation,rotationX,rotationY,skewX,skewY";z("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(b){b=b.split(":");Bc[b[1]]=ld[b[0]]});z("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(b){ib.units[b]="px"});hc.registerPlugin(md);var wd=hc.registerPlugin(md)||
hc,Zd=wd.core.Tween;c.Back=Pd;c.Bounce=he;c.CSSPlugin=md;c.Circ=Bd;c.Cubic=Ib;c.Elastic=sc;c.Expo=zd;c.Linear=Kd;c.Power0=de;c.Power1=Ld;c.Power2=ee;c.Power3=Ud;c.Power4=fe;c.Quad=Ac;c.Quart=pd;c.Quint=yd;c.Sine=pe;c.SteppedEase=ge;c.Strong=ud;c.TimelineLite=Za;c.TimelineMax=Za;c.TweenLite=tb;c.TweenMax=Zd;c.default=wd;c.gsap=wd;"undefined"===typeof window||window!==c?Object.defineProperty(c,"__esModule",{value:!0}):delete c.default});
!function(c,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((c=c||self).window=c.window||{})}(this,function(c){function e(){return d||"undefined"!=typeof window&&(d=window.gsap)&&d.registerPlugin&&d}function b(b){var d=b.getBounds&&b.getBounds();d||(d=b.nominalBounds||{x:0,y:0,width:100,height:100},b.setBounds&&b.setBounds(d.x,d.y,d.width,d.height));b.cache&&b.cache(d.x,d.y,d.width,d.height);console.warn("EaselPlugin: for filters to display in EaselJS, you must call the object's cache() method first. GSAP attempted to use the target's getBounds() for the cache but that may not be completely accurate. "+
b)}function g(b,d){if(!(b instanceof Array&&d instanceof Array))return d;var c,e,f=[],h=0,g=0;for(c=0;4>c;c++){for(e=0;5>e;e++)g=4===e?b[h+4]:0,f[h+e]=b[h]*d[e]+b[h+1]*d[e+5]+b[h+2]*d[e+10]+b[h+3]*d[e+15]+g;h+=5}return f}function k(c,e,f){(q=q||(n||l&&l.createjs||l||{}).ColorMatrixFilter)||console.warn("EaselPlugin: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.");var h,k,p;k=c.filters||[];for(var r=k.length;-1<--r;)if(k[r]instanceof q){h=k[r];break}h||(h=new q(s.slice()),k.push(h),
c.filters=k);k=h.matrix;h=s.slice();null!=e.colorize&&(h=function(b,c,e){isNaN(e)&&(e=1);var f=d.utils.splitColor(c);c=f[0]/255;var h=f[1]/255,f=f[2]/255,k=1-e;return g([k+e*c*v,e*c*z,e*c*w,0,0,e*h*v,k+e*h*z,e*h*w,0,0,e*f*v,e*f*z,k+e*f*w,0,0,0,0,0,1,0],b)}(h,e.colorize,Number(e.colorizeAmount)));null!=e.contrast&&(h=function(b,d){return isNaN(d)?b:g([d+=.01,0,0,0,128*(1-d),0,d,0,0,128*(1-d),0,0,d,0,128*(1-d),0,0,0,1,0],b)}(h,Number(e.contrast)));null!=e.hue&&(h=function(b,d){if(isNaN(d))return b;
d*=Math.PI/180;var c=Math.cos(d),e=Math.sin(d);return g([v+c*(1-v)+e*-v,z+c*-z+e*-z,w+c*-w+e*(1-w),0,0,v+c*-v+.143*e,z+c*(1-z)+.14*e,w+c*-w+-.283*e,0,0,v+c*-v+e*-(1-v),z+c*-z+e*z,w+c*(1-w)+e*w,0,0,0,0,0,1,0,0,0,0,0,1],b)}(h,Number(e.hue)));null!=e.saturation&&(h=function(b,d){if(isNaN(d))return b;var c=1-d,e=c*v,f=c*z,c=c*w;return g([e+d,f,c,0,0,e,f+d,c,0,0,e,f,c+d,0,0,0,0,0,1,0],b)}(h,Number(e.saturation)));for(r=h.length;-1<--r;)h[r]!==k[r]&&(p=f.add(k,r,k[r],h[r]))&&(p.op="easel_colorMatrixFilter");
f._props.push("easel_colorMatrixFilter");c.cacheID||b();f._matrix=k}function h(b){d=b||e();"undefined"!=typeof window&&(l=window);d&&(f=1)}var d,f,l,n,p,q,r="redMultiplier greenMultiplier blueMultiplier alphaMultiplier redOffset greenOffset blueOffset alphaOffset".split(" "),s=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],v=.212671,z=.71516,w=.072169,B={version:"3.7.1",name:"easel",init:function(c,e,g,q,s){var v,z,w,B,Q,O;for(v in f||(h(),d||console.warn("Please gsap.registerPlugin(EaselPlugin)")),this.target=
c,e)if(g=e[v],"colorFilter"===v||"tint"===v||"tintAmount"===v||"exposure"===v||"brightness"===v){if(!w){w=c;g=e.colorFilter||e;(p=p||(n||l&&l.createjs||l||{}).ColorFilter)||console.warn("EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.");for(var N=void 0,R=O=void 0,T=void 0,W=void 0,ba=void 0,R=w.filters||[],N=R.length;N--;)if(R[N]instanceof p){O=R[N];break}if(O||(O=new p,R.push(O),w.filters=R),R=O.clone(),null!=g.tint)N=d.utils.splitColor(g.tint),T=null!=g.tintAmount?+g.tintAmount:
1,R.redOffset=N[0]*T,R.greenOffset=N[1]*T,R.blueOffset=N[2]*T,R.redMultiplier=R.greenMultiplier=R.blueMultiplier=1-T;else for(W in g)"exposure"!==W&&"brightness"!==W&&(R[W]=+g[W]);null!=g.exposure?(R.redOffset=R.greenOffset=R.blueOffset=255*(g.exposure-1),R.redMultiplier=R.greenMultiplier=R.blueMultiplier=1):null!=g.brightness&&(T=g.brightness-1,R.redOffset=R.greenOffset=R.blueOffset=0<T?255*T:0,R.redMultiplier=R.greenMultiplier=R.blueMultiplier=1-Math.abs(T));for(N=8;N--;)O[W=r[N]]!==R[W]&&(ba=this.add(O,
W,O[W],R[W]))&&(ba.op="easel_colorFilter");this._props.push("easel_colorFilter");w.cacheID||b(w);w=!0}}else if("saturation"===v||"contrast"===v||"hue"===v||"colorize"===v||"colorizeAmount"===v)B||(k(c,e.colorMatrixFilter||e,this),B=!0);else if("frame"===v){if("string"==typeof g&&"\x3d"!==g.charAt(1)&&(Q=c.labels))for(O=0;O<Q.length;O++)Q[O].label===g&&(g=Q[O].position);(z=this.add(c,"gotoAndStop",c.currentFrame,g,q,s,Math.round))&&(z.op=v)}else null!=c[v]&&this.add(c,v,"get",g)},render:function(b,
d){for(var c=d._pt;c;)c.r(b,c.d),c=c._next;d.target.cacheID&&d.target.updateCache()},register:h,registerCreateJS:function(b){n=b}};e()&&d.registerPlugin(B);c.EaselPlugin=B;c.default=B;"undefined"===typeof window||window!==c?Object.defineProperty(c,"__esModule",{value:!0}):delete c.default});
!function(c,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((c=c||self).window=c.window||{})}(this,function(c){function e(){return l||"undefined"!=typeof window&&(l=window.gsap)&&l.registerPlugin&&l}function b(b,d){return!(void 0===b?!d:!b||~(b+"").indexOf("false"))}function g(b){if(l=b||e()){n=l.registerEase;var d;b=l.parseEase();var c=function(b){return function(d){var c=.5+d/2;b.config=function(d){return b(2*(1-d)*
d*c+d*d)}}};for(d in b)b[d].config||c(b[d]);for(d in n("slow",p),n("expoScale",q),n("rough",r),s)"version"!==d&&l.core.globals(d,s[d])}}function k(d,c,e){var f=1>(d=Math.min(1,d||.7))?c||0===c?c:.7:0,h=(1-d)/2,g=h+d,k=b(e);return function(b){var d=b+(.5-b)*f;return b<h?k?1-(b=1-b/h)*b:d-(b=1-b/h)*b*b*b*d:g<b?k?1===b?0:1-(b=(b-g)/h)*b:d+(b-d)*(b=(b-g)/h)*b*b*b:k?1:d}}function h(b,d,c){var e=Math.log(d/b),f=d-b;return c=c&&l.parseEase(c),function(d){return(b*Math.exp(e*(c?c(d):d))-b)/f}}function d(b,
d,c){this.t=b;this.v=d;c&&(((this.next=c).prev=this).c=c.v-d,this.gap=c.t-b)}function f(c){"object"!=typeof c&&(c={points:+c||20});for(var e,f,h,g,k,n=c.taper||"none",p=[],q=0,r=g=0|(+c.points||20),s=b(c.randomize,!0),v=b(c.clamp),Q=l?l.parseEase(c.template):0,O=.4*(+c.strength||1);-1<--r;)c=s?Math.random():1/g*r,e=Q?Q(c):c,f="none"===n?O:"out"===n?(h=1-c)*h*O:"in"===n?c*c*O:.5>c?(h=2*c)*h*.5*O:(h=2*(1-c))*h*.5*O,s?e+=Math.random()*f-.5*f:r%2?e+=.5*f:e-=.5*f,v&&(1<e?e=1:0>e&&(e=0)),p[q++]={x:c,y:e};
p.sort(function(b,d){return b.x-d.x});h=new d(1,1,null);for(r=g;r--;)g=p[r],h=new d(g.x,g.y,h);return k=new d(0,0,h.t?h:h.next),function(b){var d=k;if(b>d.t){for(;d.next&&b>=d.t;)d=d.next;d=d.prev}else for(;d.prev&&b<=d.t;)d=d.prev;return(k=d).v+(b-d.t)/d.gap*d.c}}var l,n,p=k(.7);(p.ease=p).config=k;var q=h(1,2);q.config=h;var r=f();(r.ease=r).config=f;var s={SlowMo:p,RoughEase:r,ExpoScaleEase:q},v;for(v in s)s[v].register=g,s[v].version="3.7.1";e()&&l.registerPlugin(p);c.EasePack=s;c.ExpoScaleEase=
q;c.RoughEase=r;c.SlowMo=p;c.default=s;"undefined"===typeof window||window!==c?Object.defineProperty(c,"__esModule",{value:!0}):delete c.default});
!function(c,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((c=c||self).window=c.window||{})}(this,function(c){function e(b,d){var c;return u(b)?b:"string"==(c=typeof b)&&!d&&b?D.call(s.querySelectorAll(b),0):b&&"object"==c&&"length"in b?D.call(b,0):b?[b]:[]}function b(b){return"absolute"===b.position||!0===b.absolute}function g(b,d){for(var c,e=d.length;-1<--e;)if(c=d[e],b.substr(0,c.length)===c)return c.length}function k(b,
d){void 0===b&&(b="");var c=~b.indexOf("++"),e=1;return c&&(b=b.split("++").join("")),function(){return"\x3c"+d+" style\x3d'position:relative;display:inline-block;'"+(b?" class\x3d'"+b+(c?e++:"")+"'\x3e":"\x3e")}}function h(b,d,c){var e=b.nodeType;if(1===e||9===e||11===e)for(b=b.firstChild;b;b=b.nextSibling)h(b,d,c);else 3!==e&&4!==e||(b.nodeValue=b.nodeValue.split(d).join(c))}function d(b,d){for(var c=d.length;-1<--c;)b.push(d[c])}function f(b,d,c){for(var e;b&&b!==d;){if(e=b._next||b.nextSibling)return e.textContent.charAt(0)===
c;b=b.parentNode||b._parent}}function l(b){var d,c,f=e(b.childNodes),h=f.length;for(d=0;d<h;d++)(c=f[d])._isSplit?l(c):d&&c.previousSibling&&3===c.previousSibling.nodeType?(c.previousSibling.nodeValue+=3===c.nodeType?c.nodeValue:c.firstChild.nodeValue,b.removeChild(c)):3!==c.nodeType&&(b.insertBefore(c.firstChild,c),b.removeChild(c))}function n(d,c,e,f){var k,l,n,p,q,u,v,D,C=c.tag?c.tag:c.span?"span":"div",z=~(c.type||c.split||"chars,words,lines").indexOf("chars"),w=b(c),ea=c.wordDelimiter||" ",w=
" "!==ea?"":w?"\x26#173; ":" ",M="\x3c/"+C+"\x3e",ca=1,U=c.specialChars?"function"==typeof c.specialChars?c.specialChars:g:null;k=s.createElement("div");var Y=d.parentNode;Y.insertBefore(k,d);k.textContent=d.nodeValue;Y.removeChild(d);v=-1!==(k=function fa(b){var d=b.nodeType,c="";if(1===d||9===d||11===d){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)c+=fa(b)}else if(3===d||4===d)return b.nodeValue;return c}(d=k)).indexOf("\x3c");!1!==c.reduceWhiteSpace&&
(k=k.replace(E," ").replace(B,""));v&&(k=k.split("\x3c").join("{{LT}}"));q=k.length;l=(" "===k.charAt(0)?w:"")+e();for(n=0;n<q;n++)if(u=k.charAt(n),U&&(D=U(k.substr(n),c.specialChars)))u=k.substr(n,D||1),l+=z&&" "!==u?f()+u+"\x3c/"+C+"\x3e":u,n+=D-1;else if(u===ea&&k.charAt(n-1)!==ea&&n){l+=ca?M:"";for(ca=0;k.charAt(n+1)===ea;)l+=w,n++;n===q-1?l+=w:")"!==k.charAt(n+1)&&(l+=w+e(),ca=1)}else"{"===u&&"{{LT}}"===k.substr(n,6)?(l+=z?f()+"{{LT}}\x3c/"+C+"\x3e":"{{LT}}",n+=5):55296<=u.charCodeAt(0)&&56319>=
u.charCodeAt(0)||65024<=k.charCodeAt(n+1)&&65039>=k.charCodeAt(n+1)?(p=((k.substr(n,12).split(r)||[])[1]||"").length||2,l+=z&&" "!==u?f()+k.substr(n,p)+"\x3c/"+C+"\x3e":k.substr(n,p),n+=p-1):l+=z&&" "!==u?f()+u+"\x3c/"+C+"\x3e":u;d.outerHTML=l+(ca?M:"");v&&h(Y,"{{LT}}","\x3c")}function p(d,c,f,h){var g,k,l=e(d.childNodes),q=l.length,r=b(c);if(3!==d.nodeType||1<q){c.absolute=!1;for(g=0;g<q;g++)(k=l[g])._next=k._isFirst=k._parent=k._wordEnd=null,3===k.nodeType&&!/\S+/.test(k.nodeValue)||(r&&3!==k.nodeType&&
"inline"===v.getComputedStyle(k).display&&(k.style.display="inline-block",k.style.position="relative"),k._isSplit=!0,p(k,c,f,h));return c.absolute=r,void(d._isSplit=!0)}n(d,c,f,h)}function q(b,d){z||(s=document,v=window,z=1);this.elements=e(b);this.chars=[];this.words=[];this.lines=[];this._originals=[];this.vars=d||{};this.split(d)}var r=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/,
s,v,z,w,B=/(?:\r|\n|\t\t)/g,E=/(?:\s\s+)/g,u=Array.isArray,D=[].slice,C=((w=q.prototype).split=function(c){this.isSplit&&this.revert();this.vars=c=c||this.vars;this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var e,g,n,q=this.elements.length,r=c.tag?c.tag:c.span?"span":"div",u=k(c.wordsClass,r),r=k(c.charsClass,r);-1<--q;){n=this.elements[q];this._originals[q]=n.innerHTML;e=n.clientHeight;g=n.clientWidth;p(n,c,u,r);var D=c,C=this.chars,z=this.words,w=this.lines,B=
void 0,E=void 0,P=void 0,K=void 0,ea=void 0,M=void 0,ca=void 0,U=void 0,Y=void 0,X=void 0,fa=void 0,ga=void 0,B=v.getComputedStyle(n),ha=parseFloat(B.paddingLeft)||0,U=-999,ja=(parseFloat(B.borderBottomWidth)||0)+(parseFloat(B.borderTopWidth)||0),ya=(parseFloat(B.borderLeftWidth)||0)+(parseFloat(B.borderRightWidth)||0),Aa=(parseFloat(B.paddingTop)||0)+(parseFloat(B.paddingBottom)||0),Ea=(parseFloat(B.paddingLeft)||0)+(parseFloat(B.paddingRight)||0),sa=(parseFloat(B.fontSize)||0)*(D.lineThreshold||
.2),aa=B.textAlign,t=[],Ya=[],Ma=[],Ta=D.wordDelimiter||" ",Fa=D.tag?D.tag:D.span?"span":"div",la=D.type||D.split||"chars,words,lines",za=w&&~la.indexOf("lines")?[]:null,ia=~la.indexOf("words"),la=~la.indexOf("chars"),ma=b(D),D=D.linesClass,Ca=~(D||"").indexOf("++"),da=[],oa="flex"===B.display,Ja=n.style.display;Ca&&(D=D.split("++").join(""));oa&&(n.style.display="block");P=(E=n.getElementsByTagName("*")).length;ea=[];for(B=0;B<P;B++)ea[B]=E[B];if(za||ma)for(B=0;B<P;B++)((M=(K=ea[B]).parentNode===
n)||ma||la&&!ia)&&(ga=K.offsetTop,za&&M&&Math.abs(ga-U)>sa&&("BR"!==K.nodeName||0===B)&&(ca=[],za.push(ca),U=ga),ma&&(K._x=K.offsetLeft,K._y=ga,K._w=K.offsetWidth,K._h=K.offsetHeight),za&&((K._isSplit&&M||!la&&M||ia&&M||!ia&&K.parentNode.parentNode===n&&!K.parentNode._isSplit)&&(ca.push(K),K._x-=ha,f(K,n,Ta)&&(K._wordEnd=!0)),"BR"===K.nodeName&&(K.nextSibling&&"BR"===K.nextSibling.nodeName||0===B)&&za.push([])));for(B=0;B<P;B++)if(M=(K=ea[B]).parentNode===n,"BR"!==K.nodeName)if(ma&&(Y=K.style,ia||
M||(K._x+=K.parentNode._x,K._y+=K.parentNode._y),Y.left=K._x+"px",Y.top=K._y+"px",Y.position="absolute",Y.display="block",Y.width=K._w+1+"px",Y.height=K._h+"px"),!ia&&la)if(K._isSplit)for(K._next=E=K.nextSibling,K.parentNode.appendChild(K);E&&3===E.nodeType&&" "===E.textContent;)K._next=E.nextSibling,K.parentNode.appendChild(E),E=E.nextSibling;else K.parentNode._isSplit?(K._parent=K.parentNode,!K.previousSibling&&K.firstChild&&(K.firstChild._isFirst=!0),K.nextSibling&&" "===K.nextSibling.textContent&&
!K.nextSibling.nextSibling&&da.push(K.nextSibling),K._next=K.nextSibling&&K.nextSibling._isFirst?null:K.nextSibling,K.parentNode.removeChild(K),ea.splice(B--,1),P--):M||(ga=!K.nextSibling&&f(K.parentNode,n,Ta),K.parentNode._parent&&K.parentNode._parent.appendChild(K),ga&&K.parentNode.appendChild(s.createTextNode(" ")),"span"===Fa&&(K.style.display="inline"),t.push(K));else K.parentNode._isSplit&&!K._isSplit&&""!==K.innerHTML?Ya.push(K):la&&!K._isSplit&&("span"===Fa&&(K.style.display="inline"),t.push(K));
else za||ma?(K.parentNode&&K.parentNode.removeChild(K),ea.splice(B--,1),P--):ia||n.appendChild(K);for(B=da.length;-1<--B;)da[B].parentNode.removeChild(da[B]);if(za){ma&&(X=s.createElement(Fa),n.appendChild(X),fa=X.offsetWidth+"px",ga=X.offsetParent===n?0:n.offsetLeft,n.removeChild(X));Y=n.style.cssText;for(n.style.cssText="display:none;";n.firstChild;)n.removeChild(n.firstChild);U=" "===Ta&&(!ma||!ia&&!la);for(B=0;B<za.length;B++){ca=za[B];(X=s.createElement(Fa)).style.cssText="display:block;text-align:"+
aa+";position:"+(ma?"absolute;":"relative;");D&&(X.className=D+(Ca?B+1:""));Ma.push(X);P=ca.length;for(E=0;E<P;E++)"BR"!==ca[E].nodeName&&(K=ca[E],X.appendChild(K),U&&K._wordEnd&&X.appendChild(s.createTextNode(" ")),ma&&(0===E&&(X.style.top=K._y+"px",X.style.left=ha+ga+"px"),K.style.top="0px",ga&&(K.style.left=K._x-ga+"px")));0===P?X.innerHTML="\x26nbsp;":ia||la||(l(X),h(X,String.fromCharCode(160)," "));ma&&(X.style.width=fa,X.style.height=K._h+"px");n.appendChild(X)}n.style.cssText=Y}ma&&(e>n.clientHeight&&
(n.style.height=e-Aa+"px",n.clientHeight<e&&(n.style.height=e+ja+"px")),g>n.clientWidth&&(n.style.width=g-Ea+"px",n.clientWidth<g&&(n.style.width=g+ya+"px")));oa&&(Ja?n.style.display=Ja:n.style.removeProperty("display"));d(C,t);ia&&d(z,Ya);d(w,Ma)}return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},w.revert=function(){var b=this._originals;if(!b)throw"revert() call wasn't scoped properly.";return this.elements.forEach(function(d,c){return d.innerHTML=b[c]}),
this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},q.create=function(b,d){return new q(b,d)},q);C.version="3.7.1";c.SplitText=C;c.default=C;"undefined"===typeof window||window!==c?Object.defineProperty(c,"__esModule",{value:!0}):delete c.default});
!function(c,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((c=c||self).window=c.window||{})}(this,function(c){function e(d,c,e){d=d.firstChild;for(var f=[];d;)3===d.nodeType?f.push.apply(f,b((d.nodeValue+"").replace(/^\n+/g,"").replace(/\s+/g," "),c,e)):"br"===(d.nodeName+"").toLowerCase()?f[f.length-1]+="\x3cbr\x3e":f.push(d.outerHTML),d=d.nextSibling;return f}function b(b,d,c){if(b+="",c&&(b=b.replace(g,"")),d&&""!==
d)return b.replace(/>/g,"\x26gt;").replace(/</g,"\x26lt;").split(d);var e,f;d=[];c=b.length;for(var h=0;h<c;h++)(55296<=(f=b.charAt(h)).charCodeAt(0)&&56319>=f.charCodeAt(0)||65024<=b.charCodeAt(h+1)&&65039>=b.charCodeAt(h+1))&&(e=((b.substr(h,12).split(k)||[])[1]||"").length||2,f=b.substr(h,e),h+=e-(d.emoji=1)),d.push("\x3e"===f?"\x26gt;":"\x3c"===f?"\x26lt;":f);return d}var g=/(^\s+|\s+$)/g,k=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/,
h,d,f={version:"3.7.1",name:"text",init:function(b,c,f){var h,g,k,v,z,w,B,E=b.nodeName.toUpperCase();if(this.svg=b.getBBox&&("TEXT"===E||"TSPAN"===E),!("innerHTML"in b||this.svg))return!1;if(this.target=b,"object"!=typeof c&&(c={value:c}),"value"in c){this.delimiter=c.delimiter||"";g=e(b,this.delimiter);(d=d||document.createElement("div")).innerHTML=c.value;h=e(d,this.delimiter);(this.from=f._from)&&(E=g,g=h,h=E);this.hasClass=!(!c.newClass&&!c.oldClass);this.newClass=c.newClass;this.oldClass=c.oldClass;
b=0>(E=g.length-h.length)?g:h;this.fillChar=c.fillChar||(c.padSpace?"\x26nbsp;":"");for(0>E&&(E=-E);-1<--E;)b.push(this.fillChar);if("diff"===c.type){v=[];z=[];w="";for(E=k=0;E<h.length;E++)(B=h[E])===g[E]?w+=B:(v[k]=w+B,z[k++]=w+g[E],w="");h=v;g=z;w&&(h.push(w),g.push(w))}c.speed&&f.duration(Math.min(.05/c.speed*b.length,c.maxDuration||9999));this.original=g;this.text=h;this._props.push("text")}else this.text=this.original=[""]},render:function(b,d){1<b?b=1:0>b&&(b=0);d.from&&(b=1-b);var c,e,f;f=
d.text;var h=d.newClass,g=d.oldClass,k=d.delimiter,w=d.target,B=d.fillChar,E=d.original,u=f.length,D=b*u+.5|0;f=d.hasClass?(e=g&&D!==u,((c=h&&D)?"\x3cspan class\x3d'"+h+"'\x3e":"")+f.slice(0,D).join(k)+(c?"\x3c/span\x3e":"")+(e?"\x3cspan class\x3d'"+g+"'\x3e":"")+k+E.slice(D).join(k)+(e?"\x3c/span\x3e":"")):f.slice(0,D).join(k)+k+E.slice(D).join(k);d.svg?w.textContent=f:w.innerHTML="\x26nbsp;"===B&&~f.indexOf("  ")?f.split("  ").join("\x26nbsp;\x26nbsp;"):f}};f.splitInnerHTML=e;f.emojiSafeSplit=b;
f.getText=function n(b){var d=b.nodeType,c="";if(1===d||9===d||11===d){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)c+=n(b)}else if(3===d||4===d)return b.nodeValue;return c};(h||"undefined"!=typeof window&&(h=window.gsap)&&h.registerPlugin&&h)&&h.registerPlugin(f);c.TextPlugin=f;c.default=f;"undefined"===typeof window||window!==c?Object.defineProperty(c,"__esModule",{value:!0}):delete c.default});
!function(c,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((c=c||self).window=c.window||{})}(this,function(c){function e(b){var d=b.ownerDocument||b;!(U in b.style)&&"msTransform"in b.style&&(Y=(U="msTransform")+"Origin");for(;d.parentNode&&(d=d.parentNode););if(T=window,K=new ga,d){W=(R=d).documentElement;ba=d.body;(ea=R.createElementNS("http://www.w3.org/2000/svg","g")).style.transform="none";b=d.createElement("div");
var c=d.createElement("div");ba.appendChild(b);b.appendChild(c);b.style.position="static";b.style[U]="translate3d(0,0,1px)";M=c.offsetParent!==b;ba.removeChild(b)}return d}function b(){return T.pageYOffset||R.scrollTop||W.scrollTop||ba.scrollTop||0}function g(){return T.pageXOffset||R.scrollLeft||W.scrollLeft||ba.scrollLeft||0}function k(b){return b.ownerSVGElement||("svg"===(b.tagName+"").toLowerCase()?b:null)}function h(b){return"fixed"===T.getComputedStyle(b).position||((b=b.parentNode)&&1===b.nodeType?
h(b):void 0)}function d(b,c){if(b.parentNode&&(R||e(b))){var f=k(b),h=f?f.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",g=f?c?"rect":"g":"div",l=2!==c?0:100,n=3===c?100:0,h=R.createElementNS?R.createElementNS(h.replace(/^https/,"http"),g):R.createElement(g);return c&&(f?(P=P||d(b),h.setAttribute("width",.01),h.setAttribute("height",.01),h.setAttribute("transform","translate("+l+","+n+")"),P.appendChild(h)):(qa||((qa=d(b)).style.cssText="position:absolute;display:block;pointer-events:none;margin:0;padding:0;"),
h.style.cssText="position:absolute;display:block;pointer-events:none;margin:0;padding:0;width:0.1px;height:0.1px;top:"+n+"px;left:"+l+"px",qa.appendChild(h))),h}throw"Need document and parent.";}function f(b){var d,c=b.getCTM();return c||(d=b.style[U],b.style[U]="none",b.appendChild(ea),c=ea.getCTM(),b.removeChild(ea),d?b.style[U]=d:b.style.removeProperty(U.replace(/([A-Z])/g,"-$1").toLowerCase())),c}function l(b,d,c,e,f,h,g){return b.a=d,b.b=c,b.c=e,b.d=f,b.e=h,b.f=g,b}function n(b,d,c,e,f,h){void 0===
b&&(b=1);void 0===d&&(d=0);void 0===c&&(c=0);void 0===e&&(e=1);void 0===f&&(f=0);void 0===h&&(h=0);l(this,b,d,c,e,f,h)}function p(c,l,n,p){if(!c||!c.parentNode||(R||e(c)).documentElement===c)return new ga;var q;q=c;for(var r,s;q&&q!==ba;)(s=q._gsap)&&s.uncache&&s.get(q,"x"),s&&!s.scaleX&&!s.scaleY&&s.renderTransform&&(s.scaleX=s.scaleY=1E-4,s.renderTransform(1,s),r?r.push(s):r=[s]),q=q.parentNode;q=r;r=k(c)?X:fa;var u,v,A,D,C,F;s=k(c);var z=c===s;u=s?X:fa;var t=c.parentNode;if(c===T)n=c;else{if(u.length||
u.push(d(c,1),d(c,2),d(c,3)),u=s?P:qa,s){if(z)D=-(A=f(c)).e/A.a,C=-A.f/A.d,v=K;else{A=c.getBBox();if((v=c.transform?c.transform.baseVal:{}).numberOfItems)if(1<v.numberOfItems){F=v;D=new ga;for(C=0;C<F.numberOfItems;C++)D.multiply(F.getItem(C).matrix);F=D}else F=v.getItem(0).matrix;else F=K;D=(v=F).a*A.x+v.c*A.y;C=v.b*A.x+v.d*A.y}n&&"g"===c.tagName.toLowerCase()&&(D=C=0);(z?s:t).appendChild(u);u.setAttribute("transform","matrix("+v.a+","+v.b+","+v.c+","+v.d+","+(v.e+D)+","+(v.f+C)+")")}else{if(D=C=
0,M)for(v=c.offsetParent,A=c;(A=A&&A.parentNode)&&A!==v&&A.parentNode;)4<(T.getComputedStyle(A)[U]+"").length&&(D=A.offsetLeft,C=A.offsetTop,A=0);if("absolute"!==(F=T.getComputedStyle(c)).position&&"fixed"!==F.position)for(v=c.offsetParent;t&&t!==v;)D+=t.scrollLeft||0,C+=t.scrollTop||0,t=t.parentNode;(A=u.style).top=c.offsetTop-C+"px";A.left=c.offsetLeft-D+"px";A[U]=F[U];A[Y]=F[Y];A.position="fixed"===F.position?"fixed":"absolute";c.parentNode.appendChild(u)}n=u}A=r[0].getBoundingClientRect();s=r[1].getBoundingClientRect();
z=r[2].getBoundingClientRect();r=n.parentNode;c=!p&&h(c);c=new ga((s.left-A.left)/100,(s.top-A.top)/100,(z.left-A.left)/100,(z.top-A.top)/100,A.left+(c?0:g()),A.top+(c?0:b()));if(r.removeChild(n),q)for(A=q.length;A--;)(s=q[A]).scaleX=s.scaleY=0,s.renderTransform(1,s);return l?c.inverse():c}function q(b){return ha(b)[0]||console.warn("Element not found:",b)}function r(b){return Math.round(1E4*b)/1E4||0}function s(b,d,c){return b.forEach(function(b){return b.classList[c](d)})}function v(b,d){var c,
e={};for(c in b)d[c]||(e[c]=b[c]);return e}function z(b){var d=ia,c;c="string"==typeof b?b.split(" ").join("").split(","):b;d=d[b]=c;return Ma[b]=d.concat(Fa),d}function w(b,d,c){return b.forEach(function(b){return b.d=function db(b,d,c){void 0===c&&(c=0);for(var e=b.parentNode,f=1E3*Math.pow(10,c)*(d?-1:1),h=d?900*-f:0;b;)h+=f,b=b.previousSibling;return e?h+db(e,d,c+1):h}(c?b.element:b.t,d)}),b.sort(function(b,d){return b.d-d.d}),b}function B(b,d){for(var c,e,f=b.element.style,h=b.css=b.css||[],
g=d.length;g--;)e=f[c=d[g]]||f.getPropertyValue(c),h.push(e?c:Ya[c]||(Ya[c]=c.replace(/([A-Z])/g,"-$1").toLowerCase()),e);return f}function E(b){var d=b.css,c=b.element.style,e=0;for(b.cache.uncache=1;e<d.length;e+=2)d[e+1]?c[d[e]]=d[e+1]:c.removeProperty(d[e])}function u(d,c){var e,f=d.element,h=d.width,k=d.height,l=d.uncache,n=d.getProp,q=f.style;if("object"!=typeof c&&(c=d),"absolute"!==n("position"))(e="none"===n("display"),d.isVisible&&!e||(e&&(B(d,["display"]).display=c.display),d.matrix=c.matrix,
d.width=h=d.width||c.width,d.height=k=d.height||c.height),q.position="absolute",q.width=h+"px",q.height=k+"px",q.top||(q.top="0px"),q.left||(q.left="0px"),l)?e=new oa(f):((e=v(d,t)).position="absolute",d.simple)?(h=f.getBoundingClientRect(),e.matrix=new ga(1,0,0,1,h.left+g(),h.top+b())):e.matrix=p(f,!1,!1,!0),e=Ca(e,d,!0),d.x=parseFloat(e.x),d.y=parseFloat(e.y);return f}function D(b,d){var c,e=b.style||b;for(c in d)e[c]=d[c]}function C(b){return b.map(function(b){return b.element})}function F(b,d,
c){return b&&d.length&&c.add(b(C(d),c,new da(d,0,!0)),0)}function A(b,d){return b instanceof da?b:new da(b,d)}function H(b,d,c){var e=b.idLookup[c];b=b.alt[c];return!b.isVisible||(d.getElementState(b.element)||b).isVisible&&e.isVisible?e:b}function L(b,d,c,e){b instanceof da&&d instanceof da||console.warn("Not a valid state object.");var f,h,g,k,l,n,q,r=(c=c||{}).clearProps,A=c.onEnter,D=c.onLeave,C=c.absolute,t=c.custom,B=c.delay,L=c.paused,J=c.repeat,P=c.repeatDelay,K=c.yoyo,M=c.toggleClass,Q=c.nested,
O=c.zIndex,N=c.scale,T=c.fade,qa=c.stagger,W=c.spin,ba=("props"in c?c:b).props,R=v(c,la),U=ja.timeline({delay:B,paused:L,repeat:J,repeatDelay:P,yoyo:K}),B=R,J=[],P=[],ea=[],ca=[],ha=!0===W?1:W||0,bb="function"==typeof W?W:function(){return ha},ta=b.interrupted||d.interrupted,K=U[1!==e?"to":"from"];for(f in e||(d=(new da(d.targets,ba)).fit(d,N)),d.idLookup)e=(q=d.alt[f]?H(d,b,f):d.idLookup[f]).element,n=b.idLookup[f],b.alt[f]&&e===n.element&&(n=b.alt[f]),n?(g={t:e,b:n,a:q,sd:n.element===e?0:q.isVisible?
1:-1},ea.push(g),g.sd&&(0>g.sd&&(g.b=q,g.a=n),T&&ea.push(g.swap={t:n.element,b:g.b,a:g.a,sd:-1*g.sd,swap:g})),e._flip=n.element._flip=U):q.isVisible&&(ea.push({t:e,b:v(q,{isVisible:1}),a:q,sd:0}),e._flip=U);ba&&(ia[ba]||z(ba)).forEach(function(b){return R[b]=function(d){return ea[d].a.props[b]}});ea.finalStates=n=[];C&&w(ea,!0).forEach(function(b){return(b.a.isVisible||b.b.isVisible)&&u(0>b.sd?b.b:b.a,b.b)});w(ea);for(d=0;d<ea.length;d++)e=(g=ea[d]).t,!Q||0>g.sd||(g.a.matrix=p(e,!1,!1,!0)),g.sd||
g.b.isVisible&&g.a.isVisible?(0>g.sd?(k=new oa(e,ba,b.simple),Ca(k,g.a,N,0,0,k),k.matrix=p(e,!1,!1,!0),k.css=g.b.css,g.a=k,T&&(e.style.opacity=ta?g.b.opacity:g.a.opacity),qa&&ca.push(e)):0<g.sd&&T&&(e.style.opacity=ta?g.a.opacity-g.b.opacity:"0"),Ca(g.a,g.b,N,ba)):g.b.isVisible?g.a.isVisible||(g.b.css=g.a.css,P.push(g.b),ea.splice(d--,1),C&&Q&&Ca(g.a,g.b,N,ba)):(g.a.isVisible&&J.push(g.a),ea.splice(d--,1)),n.push(g.a);if(N?(R.scaleX=function(b){return ea[b].a.scaleX},R.scaleY=function(b){return ea[b].a.scaleY}):
(R.width=function(b){return ea[b].a.width+"px"},R.height=function(b){return ea[b].a.height+"px"},R.autoRound=c.autoRound||!1),R.x=function(b){return ea[b].a.x+"px"},R.y=function(b){return ea[b].a.y+"px"},R.rotation=function(b){return ea[b].a.rotation+(W?360*bb(b,l[b],l):0)},R.skewX=function(b){return ea[b].a.skewX},l=ea.map(function(b){return b.t}),!O&&0!==O||(R.modifiers={zIndex:function(){return O}},R.zIndex=O,R.immediateRender=!1!==c.immediateRender),T&&(R.opacity=function(b){return 0>ea[b].sd?
0:0<ea[b].sd?ea[b].a.opacity:"+\x3d0"}),ca.length){var qa=ja.utils.distribute(qa),Y=l.slice(ca.length);R.stagger=function(b,d){return qa(~ca.indexOf(d)?l.indexOf(ea[b].swap.t):b,d,Y)}}if(Ta.forEach(function(b){return c[b]&&U.eventCallback(b,c[b],c[b+"Params"])}),t&&l.length)for(f in B=v(R,la),"scale"in t&&(t.scaleX=t.scaleY=t.scale,delete t.scale),t)(b=v(t[f],za))[f]=R[f],!("duration"in b)&&"duration"in R&&(b.duration=R.duration),b.stagger=R.stagger,K.call(U,l,b,0),delete B[f];return(l.length||P.length||
J.length)&&(M&&U.add(function(){return s(l,M,0>U._zTime?"remove":"add")},0)&&!L&&s(l,M,"add"),l.length&&K.call(U,l,B,0)),F(A,J,U),F(D,P,U),h=U.duration(),U.call(function(){var b=U.time()>=h;if(b){for(var d=!r,c=ea.length;c--;)ea[c].a.cache.uncache=1;d||ea.finalStates.forEach(E)}M&&s(l,M,b?"remove":"add")}),U}function J(b){var d,c=b.idLookup={},e=b.alt={};b=b.elementStates;for(var f=b.length;f--;)c[(d=b[f]).id]?e[d.id]=d:c[d.id]=d}function Q(b,d,c){this.props=d&&d.props;this.simple=!(!d||!d.simple);
c?(this.targets=C(b),this.elementStates=b,J(this)):(this.targets=ha(b),this.update(!d||!1!==d.clear))}function O(b,d,c){this.element=b;this.update(d,c)}function N(){}var R,T,W,ba,qa,P,K,ea,M,ca,U="transform",Y=U+"Origin",X=[],fa=[],ga=((ca=n.prototype).inverse=function(){var b=this.a,d=this.b,c=this.c,e=this.d,f=this.e,h=this.f,g=b*e-d*c||1E-10;return l(this,e/g,-d/g,-c/g,b/g,(c*h-e*f)/g,-(b*h-d*f)/g)},ca.multiply=function(b){var d=this.a,c=this.b,e=this.c,f=this.d,h=b.a,g=b.c,k=b.b,n=b.d,p=b.e;b=
b.f;return l(this,h*d+k*e,h*c+k*f,g*d+n*e,g*c+n*f,this.e+p*d+b*e,this.f+p*c+b*f)},ca.clone=function(){return new n(this.a,this.b,this.c,this.d,this.e,this.f)},ca.equals=function(b){var d=this.b,c=this.c,e=this.d,f=this.e,h=this.f;return this.a===b.a&&d===b.b&&c===b.c&&e===b.d&&f===b.e&&h===b.f},ca.apply=function(b,d){void 0===d&&(d={});var c=b.x,e=b.y,f=this.b,h=this.d,g=this.f;return d.x=c*this.a+e*this.c+this.e||0,d.y=c*f+e*h+g||0,d},n),ha,ja,ya,Aa,Ea=1,sa=180/Math.PI,aa=Math.PI/180,t={},Ya={},
Ma={},Ta=["onStart","onUpdate","onComplete","onReverseComplete","onInterrupt"],Fa="transform transformOrigin width height position top left opacity zIndex".split(" "),la={zIndex:1,clear:1,simple:1,spin:1,clearProps:1,targets:1,toggleClass:1,onComplete:1,onUpdate:1,onInterrupt:1,onStart:1,delay:1,repeat:1,repeatDelay:1,yoyo:1,scale:1,fade:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1},za={zIndex:1,simple:1,clearProps:1,scale:1,absolute:1,fitChild:1,getVars:1,props:1},ia={},ma=
function(b,d,c,e){return b instanceof oa?b:b instanceof da?e&&b.idLookup[ma(e).id]||b.elementStates[0]:new oa("string"==typeof b?q(b)||console.warn(b+" not found"):b,d,c)},Ca=function(d,c,e,f,h,k){var l,n,q,s,u,v,A,C=d.element,F=d.cache,z=d.parent,t=d.x,w=d.y,H=c.width,B=c.height,E=c.scaleX,L=c.scaleY,J=c.rotation,P=k&&C.style.cssText,K=k&&C.getBBox&&C.getAttribute("transform"),M=d,Q=c.matrix,O=Q.e,Q=Q.f,N=d.width!==H||d.height!==B||d.scaleX!==E||d.scaleY!==L||d.rotation!==J,T=!N&&d.simple&&c.simple&&
!h;T?(E=L=1,J=l=0):(u=z._gsap||ja.core.getCache(z),v=(u=u.gmCache===ja.ticker.frame?u.gMatrix:(u.gmCache=ja.ticker.frame,u.gMatrix=p(z,!0,!1,!0))).clone().multiply(c.ctm?c.matrix.clone().multiply(c.ctm):c.matrix),J=r(Math.atan2(v.b,v.a)*sa),l=r(Math.atan2(v.c,v.d)*sa+J)%360,E=Math.sqrt(Math.pow(v.a,2)+Math.pow(v.b,2)),L=Math.sqrt(Math.pow(v.c,2)+Math.pow(v.d,2))*Math.cos(l*aa),h&&(h=ha(h)[0],s=ja.getProperty(h),A=h.getBBox&&"function"==typeof h.getBBox&&h.getBBox(),M={scaleX:s("scaleX"),scaleY:s("scaleY"),
width:A?A.width:Math.ceil(parseFloat(s("width","px"))),height:A?A.height:parseFloat(s("height","px"))}),F.rotation=J+"deg",F.skewX=l+"deg");return e?(E*=H/(M.width||1E-9),L*=B/(M.height||1E-9),F.scaleX=E,F.scaleY=L):(H*=E/M.scaleX,B*=L/M.scaleY,C.style.width=H+"px",C.style.height=B+"px"),d.isFixed&&(O-=g(),Q-=b()),f&&D(C,c.props),T?(t+=O-d.matrix.e,w+=Q-d.matrix.f):N||z!==c.parent?(F.renderTransform(1,F),v=p(h||C),n=u.apply({x:v.e,y:v.f}),q=u.apply({x:O,y:Q}),t+=r(q.x-n.x),w+=r(q.y-n.y)):(u.e=u.f=
0,q=u.apply({x:O-d.matrix.e,y:Q-d.matrix.f}),t+=r(q.x),w+=r(q.y)),!k||k instanceof oa?(F.x=t+"px",F.y=w+"px",F.renderTransform(1,F)):(C.style.cssText=P,C.getBBox&&C.setAttribute("transform",K||""),F.uncache=1),k&&(k.x=t,k.y=w,k.rotation=J,k.skewX=l,e?(k.scaleX=E,k.scaleY=L):(k.width=H,k.height=B)),k||F},da=((Aa=Q.prototype).update=function(b){var d=this;return this.elementStates=this.targets.map(function(b){return new oa(b,d.props,d.simple)}),J(this),this.killFlips(b),this.recordInlineStyles(),this},
Aa.fit=function(b,d,c){for(var e,f=w(this.elementStates.slice(0),!1,!0),h=(b||this).idLookup,g=0;g<f.length;g++)b=f[g],c&&(b.matrix=p(b.element,!1,!1,!0)),(e=h[b.id])&&Ca(b,e,d,!0,0,b),b.matrix=p(b.element,!1,!1,!0);return this},Aa.getProperty=function(b,d){var c=this.getElementState(b)||t;return d in c?c[d]:(c.props||t)[d]},Aa.recordInlineStyles=function(){for(var b=Ma[this.props]||Fa,d=this.elementStates.length;d--;)B(this.elementStates[d],b)},Aa.killFlips=function(b){var d;this.targets.forEach(function(c){(c=
c._flip)&&1>c.progress()&&!c.paused()&&(d=1,c.vars.onInterrupt&&c.vars.onInterrupt.apply(c,c.vars.onInterruptParams||[]),b&&c.progress(1),c.kill())});d&&b&&this.elementStates.forEach(function(b){var d=b.element.getBoundingClientRect();b.isVisible=d.width||d.height||d.top||d.left;b.uncache=1});this.interrupted=!!d},Aa.getElementState=function(b){return this.elementStates[this.targets.indexOf(q(b))]},Aa.makeAbsolute=function(){return w(this.elementStates.slice(0),!0,!0).map(u)},Q),oa=(O.prototype.update=
function(d,c){var e=this.element,k=ja.getProperty(e),l=ja.core.getCache(e),n=e.getBoundingClientRect(),q=e.getBBox&&"function"==typeof e.getBBox&&"svg"!==e.nodeName.toLowerCase()&&e.getBBox(),s=c?new ga(1,0,0,1,n.left+g(),n.top+b()):p(e,!1,!1,!0);this.getProp=k;this.element=e;this.id=function(b){var d=b.getAttribute("data-flip-id");return d||b.setAttribute("data-flip-id",d="auto-"+Ea++),d}(e);this.matrix=s;this.cache=l;this.bounds=n;this.isVisible=!!(n.width||n.height||n.left||n.top);this.display=
k("display");this.position=k("position");this.isFixed=h(e);this.parent=e.parentNode;this.x=k("x");this.y=k("y");this.scaleX=l.scaleX;this.scaleY=l.scaleY;this.rotation=k("rotation");this.skewX=k("skewX");this.opacity=k("opacity");this.width=q?q.width:ya(parseFloat(k("width","px"))+.04);this.height=q?q.height:parseFloat(k("height","px"));d&&function(b,d){for(var c=ja.getProperty(b.element,null,"native"),e=b.props={},f=d.length;f--;)e[d[f]]=(c(d[f])+"").trim();e.zIndex&&(e.zIndex=parseFloat(e.zIndex)||
0)}(this,ia[d]||z(d));this.ctm=function(b){return b.getCTM&&"svg"===b.nodeName.toLowerCase()&&f(b).inverse()}(e);this.simple=c||1===r(s.a)&&!r(s.b)&&!r(s.c)&&1===r(s.d);this.uncache=0},O);ca=(N.getState=function(b,d){return A(b,"string"==typeof d?{props:d}:d)},N.from=function(b,d){return"clearProps"in(d=d||{})||(d.clearProps=!0),L(b,A(d.targets||b.targets,{props:d.props||b.props,simple:d.simple,clear:!!d.clear}),d,-1)},N.to=function(b,d){return L(b,A(d.targets||b.targets,{props:d.props||b.props,simple:d.simple,
clear:!!d.clear}),d,1)},N.fromTo=function(b,d,c){return L(b,d,c)},N.fit=function(b,d,c){var e=c?v(c,za):{},f=c||e,h=f.absolute,g=f.scale,k=f.getVars,l=f.props,n=f.runBackwards,p=f.onComplete,f=f.simple;c=c&&c.fitChild&&q(c.fitChild);d=ma(d,l,f,b);var r=ma(b,0,f,d);b=l?Ma[l]:Fa;return l&&D(e,d.props),n&&(B(r,b),"immediateRender"in e||(e.immediateRender=!0),e.onComplete=function(){E(r);p&&p.apply(this,arguments)}),h&&u(r,d),e=Ca(r,d,g||c,l,c,e.duration||k?e:0),k?e:e.duration?ja.to(r.element,e):null},
N.makeAbsolute=function(b,d){return(b instanceof da?b:new da(b,d)).makeAbsolute()},N.isFlipping=function(b){b=N.getByTarget(b);return!!b&&b.isActive()},N.getByTarget=function(b){return(q(b)||t)._flip},N.getElementState=function(b,d){return new oa(q(b),d)},N.convertCoordinates=function(b,d,c){b=p(d,!0,!0).multiply(p(b));return c?b.apply(c):b},N.register=function(b){ja=b;e(document.body||document.documentElement);ha=ja.utils.toArray;ya=ja.utils.snap(.1)},N);ca.version="3.7.1";"undefined"!=typeof window&&
window.gsap&&window.gsap.registerPlugin(ca);c.Flip=ca;c.default=ca;"undefined"===typeof window||window!==c?Object.defineProperty(c,"__esModule",{value:!0}):delete c.default});
!function(c,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((c=c||self).window=c.window||{})}(this,function(c){function e(b){return Math.round(1E5*b)/1E5||0}function b(b,d,c,e,f,h,g,k,l){if(b!==k||d!==l){c=v(c);e=v(e);var n=f%360*q;f=s(n);var n=r(n),p=Math.PI,u=2*p,D=(b-k)/2,C=(d-l)/2,w=f*D+n*C,D=-n*D+f*C,C=w*w,B=D*D,E=C/(c*c)+B/(e*e);1<E&&(c*=z(E),e*=z(E));var E=c*c,ca=e*e,C=(E*ca-E*B-ca*C)/(E*B+ca*C);0>C&&(C=0);h=(h===
g?-1:1)*z(C);B=c*D/e*h;E=-e*w/c*h;b=f*B-n*E+(b+k)/2;d=n*B+f*E+(d+l)/2;h=(w-B)/c;C=(D-E)/e;w=(-w-B)/c;D=(-D-E)/e;E=h*h+C*C;B=(0>C?-1:1)*Math.acos(h/z(E));w=(0>h*D-C*w?-1:1)*Math.acos((h*w+C*D)/z(E*(w*w+D*D)));isNaN(w)&&(w=p);!g&&0<w?w-=u:g&&0>w&&(w+=u);B%=u;w%=u;g=Math.ceil(v(w)/(u/4));p=[];u=w/g;E=4/3*r(u/2)/(1+s(u/2));ca=f*c;c*=n;var n=n*-e,U=f*e;for(e=0;e<g;e++)w=s(f=B+e*u),D=r(f),h=s(f+=u),C=r(f),p.push(w-E*D,D+E*w,h+E*C,C-E*h,h,C);for(e=0;e<p.length;e+=2)w=p[e],D=p[e+1],p[e]=w*ca+D*n+b,p[e+1]=
w*c+D*U+d;return p[e-2]=k,p[e-1]=l,p}}function g(d){function c(b,d,e,f){s=(e-b)/3;u=(f-d)/3;l.push(b+s,d+u,e-s,f-u,e,f)}var e,f,h,g,k,l,q,r,s,u,D,C,w,z,B=(d+"").replace(p,function(b){b=+b;return 1E-4>b&&-1E-4<b?0:b}).match(n)||[],E=[],U=0,Y=0,X=B.length,fa=0,ga="ERROR: malformed path: "+d;if(!d||!isNaN(B[0])||isNaN(B[1]))return console.log(ga),E;for(d=0;d<X;d++)if(C=g,isNaN(B[d])?k=(g=B[d].toUpperCase())!==B[d]:d--,f=+B[d+1],h=+B[d+2],k&&(f+=U,h+=Y),d||(q=f,r=h),"M"===g)l&&(8>l.length?--E.length:
fa+=l.length),U=q=f,Y=r=h,l=[f,h],E.push(l),d+=2,g="L";else if("C"===g)k||(U=Y=0),(l=l||[0,0]).push(f,h,U+1*B[d+3],Y+1*B[d+4],U+=1*B[d+5],Y+=1*B[d+6]),d+=6;else if("S"===g)s=U,u=Y,"C"!==C&&"S"!==C||(s+=U-l[l.length-4],u+=Y-l[l.length-3]),k||(U=Y=0),l.push(s,u,f,h,U+=1*B[d+3],Y+=1*B[d+4]),d+=4;else if("Q"===g)s=U+2/3*(f-U),u=Y+2/3*(h-Y),k||(U=Y=0),U+=1*B[d+3],Y+=1*B[d+4],l.push(s,u,U+2/3*(f-U),Y+2/3*(h-Y),U,Y),d+=4;else if("T"===g)s=U-l[l.length-4],u=Y-l[l.length-3],l.push(U+s,Y+u,f+2/3*(U+1.5*s-f),
h+2/3*(Y+1.5*u-h),U=f,Y=h),d+=2;else if("H"===g)c(U,Y,U=f,Y),d+=1;else if("V"===g)c(U,Y,U,Y=f+(k?Y-U:0)),d+=1;else if("L"===g||"Z"===g)"Z"===g&&(f=q,h=r,l.closed=!0),("L"===g||.5<v(U-f)||.5<v(Y-h))&&(c(U,Y,f,h),"L"===g&&(d+=2)),U=f,Y=h;else if("A"===g){if(w=B[d+4],z=B[d+5],s=B[d+6],u=B[d+7],e=7,1<w.length&&(3>w.length?(u=s,s=z,e--):(u=z,s=w.substr(2),e-=2),z=w.charAt(1),w=w.charAt(0)),D=b(U,Y,+B[d+1],+B[d+2],+B[d+3],+w,+z,(k?U:0)+1*s,(k?Y:0)+1*u),d+=e,D)for(e=0;e<D.length;e++)l.push(D[e]);U=l[l.length-
2];Y=l[l.length-1]}else console.log(ga);return 6>(d=l.length)?(E.pop(),d=0):l[0]===l[d-2]&&l[1]===l[d-1]&&(l.closed=!0),E.totalPoints=fa+d,E}function k(){return w||"undefined"!=typeof window&&(w=window.gsap)&&w.registerPlugin&&w}function h(){(w=k())?(w.registerEase("_CE",C.create),B=1):console.warn("Please gsap.registerPlugin(CustomEase)")}function d(b){return~~(1E3*b+(0>b?-.5:.5))/1E3}function f(b,d,c,e,h,g,k,l,n,p,q){var r,s=(b+c)/2,u=(d+e)/2,v=(c+h)/2,D=(e+g)/2,C=(h+k)/2,w=(g+l)/2,z=(s+v)/2,B=
(u+D)/2,v=(v+C)/2,D=(D+w)/2,E=(z+v)/2,fa=(B+D)/2,ga=k-b,ha=l-d;c=Math.abs((c-k)*ha-(e-l)*ga);h=Math.abs((h-k)*ha-(g-l)*ga);return p||(p=[{x:b,y:d},{x:k,y:l}],q=1),p.splice(q||p.length-1,0,{x:E,y:fa}),n*(ga*ga+ha*ha)<(c+h)*(c+h)&&(r=p.length,f(b,d,s,u,z,B,E,fa,n,p,q),f(E,fa,v,D,C,w,k,l,n,p,q+1+(p.length-r))),p}function l(b,d,c){B||h();this.id=b;this.setData(d,c)}var n=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,p=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,q=Math.PI/180,r=Math.sin,s=Math.cos,v=Math.abs,
z=Math.sqrt,w,B,E,u=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,D=/[cLlsSaAhHvVtTqQ]/g,C=((E=l.prototype).setData=function(b,d){d=d||{};var c,e,h,k,l,n,p;n=(b=b||"0,0,1,1").match(u);l=1;var q=[],r=[],s=d.precision||1;p=1>=s;if(this.data=b,(D.test(b)||~b.indexOf("M")&&0>b.indexOf("C"))&&(n=g(b)[0]),4===(c=n.length))n.unshift(0,0),n.push(1,1),c=8;else if((c-2)%6)throw"Invalid CustomEase";0==+n[0]&&1==+n[c-2]||function(b,d,c){c||0===c||(c=Math.max(+b[b.length-1],+b[1]));var e=-1*b[0];c=-c;var f=b.length,
h=1/(+b[f-2]+e);if(!(d=-d))if(Math.abs(b[f-1]-b[1])<.01*(b[f-2]-b[0])){var g=b.length,k=1E20;for(d=1;d<g;d+=6)+b[d]<k&&(k=+b[d]);d=k+c}else d=+b[f-1]+c;g=(g=d)?1/g:-h;for(d=0;d<f;d+=2)b[d]=(+b[d]+e)*h,b[d+1]=(+b[d+1]+c)*g}(n,d.height,d.originY);this.segment=n;for(k=2;k<c;k+=6)e={x:+n[k-2],y:+n[k-1]},h={x:+n[k+4],y:+n[k+5]},q.push(e,h),f(e.x,e.y,+n[k],+n[k+1],+n[k+2],+n[k+3],h.x,h.y,1/(2E5*s),q,q.length-1);c=q.length;for(k=0;k<c;k++)h=q[k],n=q[k-1]||h,(h.x>n.x||n.y!==h.y&&n.x===h.x||h===n)&&1>=h.x?
(n.cx=h.x-n.x,n.cy=h.y-n.y,n.n=h,n.nx=h.x,p&&1<k&&2<Math.abs(n.cy/n.cx-q[k-2].cy/q[k-2].cx)&&(p=0),n.cx<l&&(n.cx?l=n.cx:(n.cx=.001,k===c-1&&(n.x-=.001,l=Math.min(l,.001),p=0)))):(q.splice(k--,1),c--);if(l=1/(c=1/l+1|0),h=q[n=0],p){for(k=0;k<c;k++)p=k*l,h.nx<p&&(h=q[++n]),e=h.y+(p-h.x)/h.cx*h.cy,r[k]={x:p,cx:l,y:e,cy:0,nx:9},k&&(r[k-1].cy=e-r[k-1].y);r[c-1].cy=q[q.length-1].y-e}else{for(k=0;k<c;k++)h.nx<k*l&&(h=q[++n]),r[k]=h;n<q.length-1&&(r[k-1]=q[q.length-2])}return this.ease=function(b){var d=
r[b*c|0]||r[c-1];return d.nx<b&&(d=d.n),d.y+(b-d.x)/d.cx*d.cy},(this.ease.custom=this).id&&w&&w.registerEase(this.id,this.ease),this},E.getSVGData=function(b){return l.getSVGData(this,b)},l.create=function(b,d,c){return(new l(b,d,c)).ease},l.register=function(b){w=b;h()},l.get=function(b){return w.parseEase(b)},l.getSVGData=function(b,c){var f,h,g,k,n,p,q,r,s,u,v=(c=c||{}).width||100,D=c.height||100,C=c.x||0,z=(c.y||0)+D,B=w.utils.toArray(c.path)[0];if(c.invert&&(D=-D,z=0),"string"==typeof b&&(b=
w.parseEase(b)),b.custom&&(b=b.custom),b instanceof l)f=function(b){"number"!=typeof b[0]||(b=[b]);var d,c,f,h,g="",k=b.length;for(c=0;c<k;c++){h=b[c];g+="M"+e(h[0])+","+e(h[1])+" C";d=h.length;for(f=2;f<d;f++)g+=e(h[f++])+","+e(h[f++])+" "+e(h[f++])+","+e(h[f++])+" "+e(h[f++])+","+e(h[f])+" ";h.closed&&(g+="z")}return g}(function(b,d,c,e,f,h,g){for(var k,l,n,p,q,r=b.length;-1<--r;)for(l=(k=b[r]).length,n=0;n<l;n+=2)p=k[n],q=k[n+1],k[n]=p*d+q*e+h,k[n+1]=p*c+q*f+g;return b._dirty=1,b}([b.segment],
v,0,0,-D,C,z));else{f=[C,z];k=1/(q=Math.max(5,200*(c.precision||1)));r=5/(q+=2);s=d(C+k*v);h=((u=d(z+b(k)*-D))-z)/(s-C);for(g=2;g<q;g++)n=d(C+g*k*v),p=d(z+b(g*k)*-D),(Math.abs((p-u)/(n-s)-h)>r||g===q-1)&&(f.push(s,u),h=(p-u)/(n-s)),s=n,u=p;f="M"+f.join(",")}return B&&B.setAttribute("d",f),f},l);k()&&w.registerPlugin(C);C.version="3.7.1";c.CustomEase=C;c.default=C;"undefined"===typeof window||window!==c?Object.defineProperty(c,"__esModule",{value:!0}):delete c.default});
!function(c,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((c=c||self).window=c.window||{})}(this,function(c){function e(){return n||"undefined"!=typeof window&&(n=window.gsap)&&n.registerPlugin&&n}function b(b){return parseFloat(b)||0}function g(d,c){var e=b(d);return~d.indexOf("%")?e/100*c:e}function k(d,c,e,f,h,g){return w(Math.pow((b(e)-b(d))*h,2)+Math.pow((b(f)-b(c))*g,2))}function h(b){return"non-scaling-stroke"===
b.getAttribute("vector-effect")}function d(d){if(!(d=p(d)[0]))return 0;var c,e,f,g,l;f=d.tagName.toLowerCase();var n=d.style,q=1,r=1;h(d)&&(r=d.getScreenCTM(),q=w(r.a*r.a+r.b*r.b),r=w(r.d*r.d+r.c*r.c));try{e=d.getBBox()}catch(s){console.warn("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var B=e||{x:0,y:0,width:0,height:0},N=B.x,R=B.y,T=B.width,B=B.height;if(e&&(T||B)||!z[f]||(T=b(d.getAttribute(z[f][0])),B=b(d.getAttribute(z[f][1])),"rect"!==f&&"line"!==
f&&(T*=2,B*=2),"line"===f&&(N=b(d.getAttribute("x1")),R=b(d.getAttribute("y1")),T=Math.abs(T-N),B=Math.abs(B-R))),"path"===f)f=n.strokeDasharray,n.strokeDasharray="none",c=d.getTotalLength()||0,q!==r&&console.warn("Warning: \x3cpath\x3e length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),c*=(q+r)/2,n.strokeDasharray=f;else if("rect"===f)c=2*T*q+2*B*r;else if("line"===f)c=k(N,R,N+T,R+B,q,r);else if("polyline"===f||"polygon"===f)for(d=d.getAttribute("points").match(v)||
[],"polygon"===f&&d.push(d[0],d[1]),c=0,f=2;f<d.length;f+=2)c+=k(d[f-2],d[f-1],d[f],d[f+1],q,r)||0;else"circle"!==f&&"ellipse"!==f||(g=T/2*q,l=B/2*r,c=Math.PI*(3*(g+l)-w((3*g+l)*(g+3*l))));return c||0}function f(c,e){if(!(c=p(c)[0]))return[0,0];e=e||d(c)+1;var f=q.getComputedStyle(c),h=f.strokeDasharray||"",f=b(f.strokeDashoffset),g=h.indexOf(",");return 0>g&&(g=h.indexOf(" ")),e<(h=0>g?e:b(h.substr(0,g)))&&(h=e),[-f||0,h-f||0]}function l(){"undefined"!=typeof window&&(q=window,s=n=e(),p=n.utils.toArray,
r=-1!==((q.navigator||{}).userAgent||"").indexOf("Edge"))}var n,p,q,r,s,v=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,z={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},w=Math.sqrt,B={version:"3.7.1",name:"drawSVG",register:function(b){n=b;l()},init:function(c,e){if(!c.getBBox)return!1;s||l();var k,n,p,v=d(c);this._style=c.style;this._target=c;"true"==e+""?e="0 100%":e?-1===(e+"").indexOf(" ")&&(e="0 "+e):e="0 0";var w=e,z=(k=f(c,v))[0],B,Q,O=w.indexOf(" ");return n=(Q=
0>O?(B=void 0!==z?z+"":w,w):(B=w.substr(0,O),w.substr(O+1)),B=g(B,v),(Q=g(Q,v))<B?[Q,B]:[B,Q]),this._length=Math.round(1E4*v)/1E4,this._dash=Math.round(1E4*(k[1]-k[0]))/1E4,this._offset=Math.round(1E4*-k[0])/1E4,this._dashPT=this.add(this,"_dash",this._dash,Math.round(1E4*(n[1]-n[0]))/1E4),this._offsetPT=this.add(this,"_offset",this._offset,Math.round(1E4*-n[0])/1E4),r&&(p=q.getComputedStyle(c)).strokeLinecap!==p.strokeLinejoin&&(n=b(p.strokeMiterlimit),this.add(c.style,"strokeMiterlimit",n,n+.01)),
this._live=h(c)||~(e+"").indexOf("live"),this._nowrap=~(e+"").indexOf("nowrap"),this._props.push("drawSVG"),1},render:function(b,c){var e,f,h;h=c._pt;var g=c._style;if(h){for(c._live&&(e=d(c._target))!==c._length&&(f=e/c._length,c._length=e,c._offsetPT&&(c._offsetPT.s*=f,c._offsetPT.c*=f),c._dashPT?(c._dashPT.s*=f,c._dashPT.c*=f):c._dash*=f);h;)h.r(b,h.d),h=h._next;f=c._dash||b&&1!==b&&1E-4||0;e=c._length-f+.1;h=c._offset;f&&h&&f+Math.abs(h%c._length)>c._length-.2&&(h+=0>h?.1:-.1)&&(e+=.1);g.strokeDashoffset=
f?h:h+.001;g.strokeDasharray=.2>e?"none":f?f+"px,"+(c._nowrap?999999:e)+"px":"0px, 999999px"}},getLength:d,getPosition:f};e()&&n.registerPlugin(B);c.DrawSVGPlugin=B;c.default=B;"undefined"===typeof window||window!==c?Object.defineProperty(c,"__esModule",{value:!0}):delete c.default});
!function(c,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((c=c||self).window=c.window||{})}(this,function(c){function e(b,d,c,e){var f=b[d];if((e=1===e?6:l(f,c,e))&&e+c+2<f.length)return b.splice(d,0,f.slice(0,c+e+2)),f.splice(0,c+e),1}function b(b,d){var c=b.length,e=b[c-1]||[],f=e.length;c&&d[0]===e[f-2]&&d[1]===e[f-1]&&(d=e.concat(d.slice(2)),c--);b[c]=d}function g(b){var d,c=(b="string"==typeof b&&qa.test(b)&&document.querySelector(b)||
b).getAttribute?b:0;return c&&(b=b.getAttribute("d"))?(c._gsPath||(c._gsPath={}),(d=c._gsPath[b])&&!d._dirty?d:c._gsPath[b]=s(b)):b?"string"==typeof b?s(b):"number"==typeof b[0]?[b]:b:console.warn("Expecting a \x3cpath\x3e element or an SVG path data string")}function k(b,d){var c,e,f,h,g,k,l,n,p,q,r,v,u,A,D,C,z,t,F,B,H,E,L=b.tagName.toLowerCase();return"path"!==L&&b.getBBox?(k=function(b,d){var c,e=document.createElementNS("http://www.w3.org/2000/svg","path"),f=[].slice.call(b.attributes),h=f.length;
for(d=","+d+",";-1<--h;)c=f[h].nodeName.toLowerCase(),0>d.indexOf(","+c+",")&&e.setAttributeNS(null,c,f[h].nodeValue);return e}(b,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),E=function(b,d){for(var c=d?d.split(","):[],e={},f=c.length;-1<--f;)e[c[f]]=+b.getAttribute(c[f])||0;return e}(b,Aa[L]),"rect"===L?(h=E.rx,g=E.ry||h,e=E.x,f=E.y,q=E.width-2*h,r=E.height-2*g,c=h||g?"M"+(C=(A=(u=e+h)+q)+h)+","+(t=f+g)+" V"+(F=t+r)+" C"+[C,B=F+.552284749831*g,D=A+.552284749831*h,H=F+g,A,H,A-(A-u)/3,H,u+
(A-u)/3,H,u,H,v=e+h*(1-.552284749831),H,e,B,e,F,e,F-(F-t)/3,e,t+(F-t)/3,e,t,e,z=f+g*(1-.552284749831),v,f,u,f,u+(A-u)/3,f,A-(A-u)/3,f,A,f,D,f,C,z,C,t].join()+"z":"M"+(e+q)+","+f+" v"+r+" h"+-q+" v"+-r+" h"+q+"z"):"circle"===L||"ellipse"===L?(n="circle"===L?.552284749831*(h=g=E.r):(h=E.rx,.552284749831*(g=E.ry)),c="M"+((e=E.cx)+h)+","+(f=E.cy)+" C"+[e+h,f+n,e+(l=.552284749831*h),f+g,e,f+g,e-l,f+g,e-h,f+n,e-h,f,e-h,f-n,e-l,f-g,e,f-g,e+l,f-g,e+h,f-n,e+h,f].join()+"z"):"line"===L?c="M"+E.x1+","+E.y1+
" L"+E.x2+","+E.y2:"polyline"!==L&&"polygon"!==L||(c="M"+(e=(p=(b.getAttribute("points")+"").match(W)||[]).shift())+","+(f=p.shift())+" L"+p.join(","),"polygon"===L&&(c+=","+e+","+f+"z")),k.setAttribute("d",w(k._gsRawPath=s(c))),d&&b.parentNode&&(b.parentNode.insertBefore(k,b),b.parentNode.removeChild(b)),k):b}function h(b,d,c){var e,f=b[d],h=b[d+2],g=b[d+4];return f+=(h-f)*c,f+=((h+=(g-h)*c)-f)*c,e=h+(g+(b[d+6]-g)*c-h)*c-f,f=b[d+1],f+=((h=b[d+3])-f)*c,f+=((h+=((g=b[d+5])-h)*c)-f)*c,ha(Y(h+(g+(b[d+
7]-g)*c-h)*c-f,e)*K)}function d(d,c,g){g=void 0===g?1:Math.round(1E10*g)/1E10||0||0;c=Math.round(1E10*c)/1E10||0||0;var k=Math.max(0,~~(ca(g-c)-1E-8));d=function(b){for(var d=[],c=0;c<b.length;c++)d[c]=ya(b[c],b[c].slice(0));return ya(b,d)}(d);if(g<c&&(c=1-c,g=1-g,function(b,d){var c=b.length;for(d||b.reverse();c--;)if(!b[c].reversed){var e=b[c],f=void 0,h=0;for(e.reverse();h<e.length;h+=2)f=e[h],e[h]=e[h+1],e[h+1]=f;e.reversed=!e.reversed}}(d),d.totalLength=0),0>c||0>g){var p=Math.abs(~~Math.min(c,
g))+1;c+=p;g+=p}d.totalLength||f(d);var q,r,s,v=1<g,u=n(d,c,X,!0),A=n(d,g,fa);q=A.segment;var D=u.segment,p=A.segIndex;s=u.segIndex;r=A.i;var C=u.i,w=s===p,z=r===C&&w;if(v||k){q=p<s||w&&r<C||z&&A.t<u.t;e(d,s,C,u.t)&&(s++,q||(p++,z?(A.t=(A.t-u.t)/(1-u.t),r=0):w&&(r-=C)));1E-5>1-(g-c)?p=s-1:!A.t&&p?p--:e(d,p,r,A.t)&&q&&s++;1===u.t&&(s=(s+1)%d.length);c=[];r=1+(g=d.length)*k;r+=(g-s+p)%g;for(k=0;k<r;k++)b(c,d[s++%g]);d=c}else if(k=1===A.t?6:l(q,r,A.t),c!==g)for(c=l(D,C,z?u.t/A.t:u.t),w&&(k+=c),q.splice(r+
k+2),(c||C)&&D.splice(0,C+c),k=d.length;k--;)(k<s||p<k)&&d.splice(k,1);else q.angle=h(q,r+k,0),u=q[r+=k],A=q[r+1],q.length=q.totalLength=0,q.totalPoints=d.totalPoints=8,q.push(u,A,u,A,u,A,u,A);return d.totalLength=0,d}function f(b,d){var c,e,f;for(f=c=e=0;f<b.length;f++){b[f].resolution=~~d||12;e+=b[f].length;var h=b[f],g=void 0,g=g||0;h.samples||(h.samples=[],h.lookup=[]);var k=void 0,l=void 0,n=void 0,p=void 0,q=void 0,r=void 0,s=void 0,u=void 0,v=void 0,A=void 0,D=void 0,C=void 0,w=void 0,z=void 0,
t=l=void 0,F=void 0,B=~~h.resolution||12,H=1/B,E=h.length,L=h[g],P=h[g+1],J=g?g/6*B:0,K=h.samples,M=h.lookup,O=(g?h.minLength:1E8)||1E8,Q=K[J+NaN*B-1],T=g?K[J-1]:0;K.length=M.length=0;for(l=g+2;l<E;l+=6){if(n=h[l+4]-L,p=h[l+2]-L,q=h[l]-L,u=h[l+5]-P,v=h[l+3]-P,A=h[l+1]-P,s=C=0,.01>ca(n)&&.01>ca(u)&&.01>ca(q)+ca(A))8<h.length&&(h.splice(l,6),l-=6,E-=6);else for(k=1;k<=B;k++)r=s-(s=((z=H*k)*z*n+3*(w=1-z)*(z*p+w*q))*z),D=C-(C=(z*z*u+3*w*(z*v+w*A))*z),(t=U(D*D+r*r))<O&&(O=t),T+=t,K[J++]=T;L+=n;P+=u}if(Q)for(Q-=
T;J<K.length;J++)K[J]+=Q;if(K.length&&O){if(h.totalLength=F=K[K.length-1]||0,9999>F/(h.minLength=O))for(k=t=l=0;k<F;k+=O)M[t++]=K[l]<k?++l:l}else h.totalLength=K[0]=0;c+=g?T-K[g/2-1]:T}return b.totalPoints=e,b.totalLength=c,b}function l(b,d,c){if(0>=c||1<=c)return 0;var e=b[d],f=b[d+1],h=b[d+2],g=b[d+3],k=b[d+4],l=b[d+5],e=e+(h-e)*c,h=h+(k-h)*c,f=f+(g-f)*c,g=g+(l-g)*c,n=e+(h-e)*c,p=f+(g-f)*c,k=k+(b[d+6]-k)*c,l=l+(b[d+7]-l)*c;return h+=(k-h)*c,g+=(l-g)*c,b.splice(d+2,4,ha(e),ha(f),ha(n),ha(p),ha(n+
(h-n)*c),ha(p+(g-p)*c),ha(h),ha(g),ha(k),ha(l)),b.samples&&b.samples.splice(d/6*b.resolution|0,0,0,0,0,0,0,0),6}function n(b,d,c,e){c=c||{};b.totalLength||f(b);(0>d||1<d)&&(d=ga(d));var h,g,k,l,n,p,q=0,r=b[0];if(d)if(1===d)d=1,p=(r=b[q=b.length-1]).length-8;else{if(1<b.length){k=b.totalLength*d;for(n=p=0;(n+=b[p++].totalLength)<k;)q=p;d=(k-(l=n-(r=b[q]).totalLength))/(n-l)||0}h=r.samples;g=r.resolution;k=r.totalLength*d;l=(p=r.lookup.length?r.lookup[~~(k/r.minLength)]||0:ja(h,k,d))?h[p-1]:0;(n=h[p])<
k&&(l=n,n=h[++p]);d=1/g*((k-l)/(n-l)+p%g);p=6*~~(p/g);e&&1===d&&(p+6<r.length?(p+=6,d=0):q+1<b.length&&(p=d=0,r=b[++q]))}else d=p=q=0,r=b[0];return c.t=d,c.i=p,c.path=b,c.segment=r,c.segIndex=q,c}function p(b,d,c,e){var f,g,k,l,n,p,q,r,s,u=b[0];e=e||{};if((0>d||1<d)&&(d=ga(d)),1<b.length){k=b.totalLength*d;for(n=p=0;(n+=b[p++].totalLength)<k;)u=b[p];d=(k-(l=n-u.totalLength))/(n-l)||0}return f=u.samples,g=u.resolution,k=u.totalLength*d,l=(p=u.lookup.length?u.lookup[1>d?~~(k/u.minLength):u.lookup.length-
1]||0:ja(f,k,d))?f[p-1]:0,(n=f[p])<k&&(l=n,n=f[++p]),s=1-(q=1/g*((k-l)/(n-l)+p%g)||0),r=u[p=6*~~(p/g)],e.x=ha((q*q*(u[p+6]-r)+3*s*(q*(u[p+4]-r)+s*(u[p+2]-r)))*q+r),e.y=ha((q*q*(u[p+7]-(r=u[p+1]))+3*s*(q*(u[p+5]-r)+s*(u[p+3]-r)))*q+r),c&&(e.angle=u.totalLength?h(u,p,1<=q?1-1E-9:q||1E-9):u.angle||0),e}function q(b,d,c,e,f,h,g){for(var k,l,n,p,q,r=b.length;-1<--r;)for(l=(k=b[r]).length,n=0;n<l;n+=2)p=k[n],q=k[n+1],k[n]=p*d+q*e+h,k[n+1]=p*c+q*f+g;return b._dirty=1,b}function r(b,d,c,e,f,h,g,k,l){if(b!==
k||d!==l){c=ca(c);e=ca(e);var n=f%360*P;f=M(n);var n=ea(n),p=Math.PI,q=2*p,r=(b-k)/2,s=(d-l)/2,u=f*r+n*s,r=-n*r+f*s,s=u*u,v=r*r,A=s/(c*c)+v/(e*e);1<A&&(c*=U(A),e*=U(A));var A=c*c,D=e*e,s=(A*D-A*v-D*s)/(A*v+D*s);0>s&&(s=0);h=(h===g?-1:1)*U(s);v=c*r/e*h;A=-e*u/c*h;b=f*v-n*A+(b+k)/2;d=n*v+f*A+(d+l)/2;h=(u-v)/c;s=(r-A)/e;u=(-u-v)/c;r=(-r-A)/e;A=h*h+s*s;v=(0>s?-1:1)*Math.acos(h/U(A));u=(0>h*r-s*u?-1:1)*Math.acos((h*u+s*r)/U(A*(u*u+r*r)));isNaN(u)&&(u=p);!g&&0<u?u-=q:g&&0>u&&(u+=q);v%=q;u%=q;g=Math.ceil(ca(u)/
(q/4));p=[];q=u/g;A=4/3*ea(q/2)/(1+M(q/2));D=f*c;c*=n;var n=n*-e,C=f*e;for(e=0;e<g;e++)u=M(f=v+e*q),r=ea(f),h=M(f+=q),s=ea(f),p.push(u-A*r,r+A*u,h+A*s,s-A*h,h,s);for(e=0;e<p.length;e+=2)u=p[e],r=p[e+1],p[e]=u*D+r*n+b,p[e+1]=u*c+r*C+d;return p[e-2]=k,p[e-1]=l,p}}function s(b){function d(b,c,e,f){p=(e-b)/3;q=(f-c)/3;k.push(b+p,c+q,e-p,f-q,e,f)}var c,e,f,h,g,k,l,n,p,q,s,u,v,A,D=(b+"").replace(ba,function(b){b=+b;return 1E-4>b&&-1E-4<b?0:b}).match(T)||[],C=[],z=0,w=0,t=D.length,F=0,B="ERROR: malformed path: "+
b;if(!b||!isNaN(D[0])||isNaN(D[1]))return console.log(B),C;for(b=0;b<t;b++)if(u=h,isNaN(D[b])?g=(h=D[b].toUpperCase())!==D[b]:b--,e=+D[b+1],f=+D[b+2],g&&(e+=z,f+=w),b||(l=e,n=f),"M"===h)k&&(8>k.length?--C.length:F+=k.length),z=l=e,w=n=f,k=[e,f],C.push(k),b+=2,h="L";else if("C"===h)g||(z=w=0),(k=k||[0,0]).push(e,f,z+1*D[b+3],w+1*D[b+4],z+=1*D[b+5],w+=1*D[b+6]),b+=6;else if("S"===h)p=z,q=w,"C"!==u&&"S"!==u||(p+=z-k[k.length-4],q+=w-k[k.length-3]),g||(z=w=0),k.push(p,q,e,f,z+=1*D[b+3],w+=1*D[b+4]),b+=
4;else if("Q"===h)p=z+2/3*(e-z),q=w+2/3*(f-w),g||(z=w=0),z+=1*D[b+3],w+=1*D[b+4],k.push(p,q,z+2/3*(e-z),w+2/3*(f-w),z,w),b+=4;else if("T"===h)p=z-k[k.length-4],q=w-k[k.length-3],k.push(z+p,w+q,e+2/3*(z+1.5*p-e),f+2/3*(w+1.5*q-f),z=e,w=f),b+=2;else if("H"===h)d(z,w,z=e,w),b+=1;else if("V"===h)d(z,w,z,w=e+(g?w-z:0)),b+=1;else if("L"===h||"Z"===h)"Z"===h&&(e=l,f=n,k.closed=!0),("L"===h||.5<ca(z-e)||.5<ca(w-f))&&(d(z,w,e,f),"L"===h&&(b+=2)),z=e,w=f;else if("A"===h){if(v=D[b+4],A=D[b+5],p=D[b+6],q=D[b+
7],c=7,1<v.length&&(3>v.length?(q=p,p=A,c--):(q=A,p=v.substr(2),c-=2),A=v.charAt(1),v=v.charAt(0)),s=r(z,w,+D[b+1],+D[b+2],+D[b+3],+v,+A,(g?z:0)+1*p,(g?w:0)+1*q),b+=c,s)for(c=0;c<s.length;c++)k.push(s[c]);z=k[k.length-2];w=k[k.length-1]}else console.log(B);return 6>(b=k.length)?(C.pop(),b=0):k[0]===k[b-2]&&k[1]===k[b-1]&&(k.closed=!0),C.totalPoints=F+b,C}function v(b,d){void 0===d&&(d=1);for(var c=b[0],e=0,f=[c,e],h=2;h<b.length;h+=2)f.push(c,e,b[h],e=(b[h]-c)*d/2,c=b[h],-e);return f}function z(b,
d,c){1E-4>ca(b[0]-b[2])&&1E-4>ca(b[1]-b[3])&&(b=b.slice(2));var e,f,h,g,k,l,n,p,q,r,s,u,v,A,D=b.length-2,C=+b[0],z=+b[1],w=+b[2],t=+b[3],F=[C,z,C,z],B=w-C,H=t-z,E=.001>Math.abs(b[D]-C)&&.001>Math.abs(b[D+1]-z);isNaN(c)&&(c=Math.PI/10);E&&(b.push(w,t),w=C,t=z,C=b[D-2],z=b[D-1],b.unshift(C,z),D+=4);d=d||0===d?+d:1;for(k=2;k<D;k+=2)e=C,f=z,C=w,z=t,w=+b[k+2],t=+b[k+3],C===w&&z===t||(u=(l=B)*l+(p=H)*p,v=(B=w-C)*B+(H=t-z)*H,A=(n=w-e)*n+(q=t-f)*q,s=(h=Math.acos((u+v-A)/U(4*u*v)))/Math.PI*d,r=U(u)*s,s*=U(v),
C===e&&z===f||(c<h?(g=Y(q,n),F.push(ha(C-M(g)*r),ha(z-ea(g)*r),ha(C),ha(z),ha(C+M(g)*s),ha(z+ea(g)*s))):(g=Y(p,l),F.push(ha(C-M(g)*r),ha(z-ea(g)*r)),g=Y(H,B),F.push(ha(C),ha(z),ha(C+M(g)*s),ha(z+ea(g)*s)))));return C!==w||z!==t||4>F.length?F.push(ha(w),ha(t),ha(w),ha(t)):F.length-=2,E&&(F.splice(0,6),F.length-=6),F}function w(b){"number"==typeof b[0]&&(b=[b]);var d,c,e,f,h="",g=b.length;for(c=0;c<g;c++){f=b[c];h+="M"+ha(f[0])+","+ha(f[1])+" C";d=f.length;for(e=2;e<d;e++)h+=ha(f[e++])+","+ha(f[e++])+
" "+ha(f[e++])+","+ha(f[e++])+" "+ha(f[e++])+","+ha(f[e])+" ";f.closed&&(h+="z")}return h}function B(b){var d=b.ownerDocument||b;!(ia in b.style)&&"msTransform"in b.style&&(ma=(ia="msTransform")+"Origin");for(;d.parentNode&&(d=d.parentNode););if(sa=window,Ta=new oa,d){aa=(Ea=d).documentElement;t=d.body;(Fa=Ea.createElementNS("http://www.w3.org/2000/svg","g")).style.transform="none";b=d.createElement("div");var c=d.createElement("div");t.appendChild(b);b.appendChild(c);b.style.position="static";b.style[ia]=
"translate3d(0,0,1px)";la=c.offsetParent!==b;t.removeChild(b)}return d}function E(b){return b.ownerSVGElement||("svg"===(b.tagName+"").toLowerCase()?b:null)}function u(b,d){if(b.parentNode&&(Ea||B(b))){var c=E(b),e=c?c.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",f=c?d?"rect":"g":"div",h=2!==d?0:100,g=3===d?100:0,e=Ea.createElementNS?Ea.createElementNS(e.replace(/^https/,"http"),f):Ea.createElement(f);return d&&(c?(Ma=Ma||u(b),e.setAttribute("width",.01),e.setAttribute("height",
.01),e.setAttribute("transform","translate("+h+","+g+")"),Ma.appendChild(e)):(Ya||((Ya=u(b)).style.cssText="position:absolute;display:block;pointer-events:none;margin:0;padding:0;"),e.style.cssText="position:absolute;display:block;pointer-events:none;margin:0;padding:0;width:0.1px;height:0.1px;top:"+g+"px;left:"+h+"px",Ya.appendChild(e))),e}throw"Need document and parent.";}function D(b,d){var c,e,f,h,g,k,l=E(b),n=b===l;c=l?Ca:da;var p=b.parentNode;if(b===sa)return b;if(c.length||c.push(u(b,1),u(b,
2),u(b,3)),c=l?Ma:Ya,l)n?(h=-(f=function(b){var d,c=b.getCTM();return c||(d=b.style[ia],b.style[ia]="none",b.appendChild(Fa),c=Fa.getCTM(),b.removeChild(Fa),d?b.style[ia]=d:b.style.removeProperty(ia.replace(/([A-Z])/g,"-$1").toLowerCase())),c}(b)).e/f.a,g=-f.f/f.d,e=Ta):(f=b.getBBox(),h=(e=(e=b.transform?b.transform.baseVal:{}).numberOfItems?1<e.numberOfItems?function(b){for(var d=new oa,c=0;c<b.numberOfItems;c++)d.multiply(b.getItem(c).matrix);return d}(e):e.getItem(0).matrix:Ta).a*f.x+e.c*f.y,g=
e.b*f.x+e.d*f.y),d&&"g"===b.tagName.toLowerCase()&&(h=g=0),(n?l:p).appendChild(c),c.setAttribute("transform","matrix("+e.a+","+e.b+","+e.c+","+e.d+","+(e.e+h)+","+(e.f+g)+")");else{if(h=g=0,la)for(e=b.offsetParent,f=b;(f=f&&f.parentNode)&&f!==e&&f.parentNode;)4<(sa.getComputedStyle(f)[ia]+"").length&&(h=f.offsetLeft,g=f.offsetTop,f=0);if("absolute"!==(k=sa.getComputedStyle(b)).position&&"fixed"!==k.position)for(e=b.offsetParent;p&&p!==e;)h+=p.scrollLeft||0,g+=p.scrollTop||0,p=p.parentNode;(f=c.style).top=
b.offsetTop-g+"px";f.left=b.offsetLeft-h+"px";f[ia]=k[ia];f[ma]=k[ma];f.position="fixed"===k.position?"fixed":"absolute";b.parentNode.appendChild(c)}return c}function C(b,d,c,e,f,h,g){return b.a=d,b.b=c,b.c=e,b.d=f,b.e=h,b.f=g,b}function F(b,d,c,e,f,h){void 0===b&&(b=1);void 0===d&&(d=0);void 0===c&&(c=0);void 0===e&&(e=1);void 0===f&&(f=0);void 0===h&&(h=0);C(this,b,d,c,e,f,h)}function A(b,d,c,e){if(!b||!b.parentNode||(Ea||B(b)).documentElement===b)return new oa;var f=function(b){for(var d,c;b&&
b!==t;)(c=b._gsap)&&c.uncache&&c.get(b,"x"),c&&!c.scaleX&&!c.scaleY&&c.renderTransform&&(c.scaleX=c.scaleY=1E-4,c.renderTransform(1,c),d?d.push(c):d=[c]),b=b.parentNode;return d}(b),h=E(b)?Ca:da;c=D(b,c);var g=h[0].getBoundingClientRect(),k=h[1].getBoundingClientRect(),l=h[2].getBoundingClientRect(),h=c.parentNode;b=!e&&function Kb(b){return"fixed"===sa.getComputedStyle(b).position||((b=b.parentNode)&&1===b.nodeType?Kb(b):void 0)}(b);b=new oa((k.left-g.left)/100,(k.top-g.top)/100,(l.left-g.left)/
100,(l.top-g.top)/100,g.left+(b?0:sa.pageXOffset||Ea.scrollLeft||aa.scrollLeft||t.scrollLeft||0),g.top+(b?0:sa.pageYOffset||Ea.scrollTop||aa.scrollTop||t.scrollTop||0));if(h.removeChild(c),f)for(g=f.length;g--;)(k=f[g]).scaleX=k.scaleY=0,k.renderTransform(1,k);return d?b.inverse():b}function H(b,d,c,e){for(var f=d.length,h=2===e?0:e,g=0;g<f;g++)b[h]=parseFloat(d[g][c]),2===e&&(b[h+1]=0),h+=2;return b}function L(b,d,c){return parseFloat(b._gsap.get(b,d,c||"px"))||0}function J(b){var d,c=b[0],e=b[1];
for(d=2;d<b.length;d+=2)c=b[d]+=c,e=b[d+1]+=e}function Q(b,d,c,e,h,g,k,l,n){return d="cubic"===k.type?[d]:(!1!==k.fromCurrent&&d.unshift(L(c,e,l),h?L(c,h,n):0),k.relative&&J(d),[(h?z:v)(d,k.curviness)]),d=g(ub(d,c,k)),Xa(b,c,e,d,"x",l),h&&Xa(b,c,h,d,"y",n),f(d,k.resolution||(0===k.curviness?20:12))}function O(b){return b}function N(b,d,c){var e,f,h,g=A(b);return"svg"===(b.tagName+"").toLowerCase()?(f=(e=b.viewBox.baseVal).x,h=e.y,e.width||(e={width:+b.getAttribute("width"),height:+b.getAttribute("height")})):
(e=d&&b.getBBox&&b.getBBox(),f=h=0),d&&"auto"!==d&&(f+=d.push?d[0]*(e?e.width:b.offsetWidth||0):d.x,h+=d.push?d[1]*(e?e.height:b.offsetHeight||0):d.y),c.apply(f||h?g.apply({x:f,y:h}):{x:g.e,y:g.f})}function R(b,d,c,e){var f,h=A(b.parentNode,!0,!0),g=h.clone().multiply(A(d));c=N(b,c,h);var k=N(d,e,h),h=k.x,k=k.y;return g.e=g.f=0,"auto"===e&&d.getTotalLength&&"path"===d.tagName.toLowerCase()&&(f=d.getAttribute("d").match(pb)||[],h+=(f=g.apply({x:+f[0],y:+f[1]})).x,k+=f.y),(f||d.getBBox&&b.getBBox&&
d.ownerSVGElement===b.ownerSVGElement)&&(h-=(f=g.apply(d.getBBox())).x,k-=f.y),g.e=h-c.x,g.f=k-c.y,g}var T=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,W=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,ba=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,qa=/(^[#\.][a-z]|[a-y][a-z])/i,P=Math.PI/180,K=180/Math.PI,ea=Math.sin,M=Math.cos,ca=Math.abs,U=Math.sqrt,Y=Math.atan2,X={},fa={},ga=function(b){return Math.round((b+1E8)%1*1E5)/1E5||(0>b?0:1)},ha=function(b){return Math.round(1E5*b)/1E5||0},ja=function(b,d,c){var e=
b.length;c=~~(c*e);if(b[c]>d)for(;--c&&b[c]>d;);else for(;b[++c]<d&&c<e;);return c},ya=function(b,d){return d.totalLength=b.totalLength,b.samples?(d.samples=b.samples.slice(0),d.lookup=b.lookup.slice(0),d.minLength=b.minLength,d.resolution=b.resolution):b.totalPoints&&(d.totalPoints=b.totalPoints),d},Aa={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},Ea,sa,aa,t,Ya,Ma,Ta,Fa,la,za,ia="transform",ma=ia+"Origin",Ca=[],da=[],oa=((za=F.prototype).inverse=function(){var b=
this.a,d=this.b,c=this.c,e=this.d,f=this.e,h=this.f,g=b*e-d*c||1E-10;return C(this,e/g,-d/g,-c/g,b/g,(c*h-e*f)/g,-(b*h-d*f)/g)},za.multiply=function(b){var d=this.a,c=this.b,e=this.c,f=this.d,h=b.a,g=b.c,k=b.b,l=b.d,n=b.e;b=b.f;return C(this,h*d+k*e,h*c+k*f,g*d+l*e,g*c+l*f,this.e+n*d+b*e,this.f+n*c+b*f)},za.clone=function(){return new F(this.a,this.b,this.c,this.d,this.e,this.f)},za.equals=function(b){var d=this.b,c=this.c,e=this.d,f=this.e,h=this.f;return this.a===b.a&&d===b.b&&c===b.c&&e===b.d&&
f===b.e&&h===b.f},za.apply=function(b,d){void 0===d&&(d={});var c=b.x,e=b.y,f=this.b,h=this.d,g=this.f;return d.x=c*this.a+e*this.c+this.e||0,d.y=c*f+e*h+g||0,d},F),Ja,cb,Oa,va,Ua=["x","translateX","left","marginLeft","xPercent"],db=["y","translateY","top","marginTop","yPercent"],Wa=Math.PI/180,pb=/[-+\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/g,ub=function(b,d,c){var e,f,h,k=c.align,l=c.matrix,n=c.offsetX,p=c.offsetY;c=c.alignOrigin;var r=b[0][0],s=b[0][1],u=L(d,"x"),v=L(d,"y");return b&&b.length?(k&&("self"===
k||(e=va(k)[0]||d)===d?q(b,1,0,0,1,u-r,v-s):(c&&!1!==c[2]?Ja.set(d,{transformOrigin:100*c[0]+"% "+100*c[1]+"%"}):c=[L(d,"xPercent")/-100,L(d,"yPercent")/-100],h=(f=R(d,e,c,"auto")).apply({x:r,y:s}),q(b,f.a,f.b,f.c,f.d,u+f.e-(h.x-f.e),v+f.f-(h.y-f.f)))),l?q(b,l.a,l.b,l.c,l.d,l.e,l.f):(n||p)&&q(b,1,0,0,1,n||0,p||0),b):g("M0,0L0,0")},Xa=function(b,d,c,e,f,h){var g=d._gsap,k=g.harness;c=(k=k&&k.aliases&&k.aliases[c])&&0>k.indexOf(",")?k:c;k=b._pt=new cb(b._pt,d,c,0,0,O,0,g.set(d,c,b));k.u=Oa(g.get(d,
c,h))||0;k.path=e;k.pp=f;b._props.push(c)};za={version:"3.7.1",name:"motionPath",register:function(b,d,c){Oa=(Ja=b).utils.getUnit;va=Ja.utils.toArray;cb=c},init:function(b,c){if(!Ja)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;"object"==typeof c&&!c.style&&c.path||(c={path:c});var e,h=[],k=c.path,l=c.autoRotate,n=c.unitX,p=c.unitY,q=c.x,r=c.y,s=k[0],u=function(b,c){return function(e){return b||1!==c?d(e,b,c):e}}(c.start,"end"in c?c.end:1);if(this.rawPaths=h,this.target=b,
(this.rotate=l||0===l)&&(this.rOffset=parseFloat(l)||0,this.radians=!!c.useRadians,this.rProp=c.rotation||"rotation",this.rSet=b._gsap.set(b,this.rProp,this),this.ru=Oa(b._gsap.get(b,this.rProp))||0),!Array.isArray(k)||"closed"in k||"number"==typeof s)f(e=u(ub(g(c.path),b,c)),c.resolution),h.push(e),Xa(this,b,c.x||"x",e,"x",c.unitX||"px"),Xa(this,b,c.y||"y",e,"y",c.unitY||"px");else{for(e in s)!q&&~Ua.indexOf(e)?q=e:!r&&~db.indexOf(e)&&(r=e);for(e in q&&r?h.push(Q(this,H(H([],k,q,0),k,r,1),b,q,r,
u,c,n||Oa(k[0][q]),p||Oa(k[0][r]))):q=r=0,s)e!==q&&e!==r&&h.push(Q(this,H([],k,e,2),b,e,0,u,c,Oa(k[0][e])))}},render:function(b,d){var c=d.rawPaths,e=c.length,f=d._pt;for(1<b?b=1:0>b&&(b=0);e--;)p(c[e],b,!e&&d.rotate,c[e]);for(;f;)f.set(f.t,f.p,f.path[f.pp]+f.u,f.d,b),f=f._next;d.rotate&&d.rSet(d.target,d.rProp,c[0].angle*(d.radians?Wa:1)+d.rOffset+d.ru,d,b)},getLength:function(b){return f(g(b)).totalLength},sliceRawPath:d,getRawPath:g,pointsToSegment:z,stringToRawPath:s,rawPathToString:w,transformRawPath:q,
getGlobalMatrix:A,getPositionOnPath:p,cacheRawPathMeasurements:f,convertToPath:function(b,d){return va(b).map(function(b){return k(b,!1!==d)})},convertCoordinates:function(b,d,c){b=A(d,!0,!0).multiply(A(b));return c?b.apply(c):b},getAlignMatrix:R,getRelativePosition:function(b,d,c,e){b=R(b,d,c,e);return{x:b.e,y:b.f}},arrayToRawPath:function(b,d){var c=H(H([],b,(d=d||{}).x||"x",0),b,d.y||"y",1);return d.relative&&J(c),["cubic"===d.type?c:z(c,d.curviness)]}};!(Ja||"undefined"!=typeof window&&(Ja=window.gsap)&&
Ja.registerPlugin&&Ja)||Ja.registerPlugin(za);c.MotionPathPlugin=za;c.default=za;"undefined"===typeof window||window!==c?Object.defineProperty(c,"__esModule",{value:!0}):delete c.default});
!function(c,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((c=c||self).window=c.window||{})}(this,function(c){function e(b,d){if(b.parentNode&&(U||t(b))){var c=Ta(b),f=c?c.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",h=c?d?"rect":"g":"div",g=2!==d?0:100,k=3===d?100:0,f=U.createElementNS?U.createElementNS(f.replace(/^https/,"http"),h):U.createElement(h);return d&&(c?(ha=ha||e(b),
f.setAttribute("width",.01),f.setAttribute("height",.01),f.setAttribute("transform","translate("+g+","+k+")"),ha.appendChild(f)):(ga||((ga=e(b)).style.cssText="position:absolute;display:block;pointer-events:none;margin:0;padding:0;"),f.style.cssText="position:absolute;display:block;pointer-events:none;margin:0;padding:0;width:0.1px;height:0.1px;top:"+k+"px;left:"+g+"px",ga.appendChild(f))),f}throw"Need document and parent.";}function b(b,d,c,e,f,h,g){return b.a=d,b.b=c,b.c=e,b.d=f,b.e=h,b.f=g,b}function g(d,
c,e,f,h,g){void 0===d&&(d=1);void 0===c&&(c=0);void 0===e&&(e=0);void 0===f&&(f=1);void 0===h&&(h=0);void 0===g&&(g=0);b(this,d,c,e,f,h,g)}function k(b,d,c,e){if(!b||!b.parentNode||(U||t(b)).documentElement===b)return new za;var f;f=b;for(var h,g;f&&f!==fa;)(g=f._gsap)&&g.uncache&&g.get(f,"x"),g&&!g.scaleX&&!g.scaleY&&g.renderTransform&&(g.scaleX=g.scaleY=1E-4,g.renderTransform(1,g),h?h.push(g):h=[g]),f=f.parentNode;f=h;var k=Ta(b)?Ya:Ma;c=la(b,c);h=k[0].getBoundingClientRect();g=k[1].getBoundingClientRect();
var l=k[2].getBoundingClientRect(),k=c.parentNode;b=!e&&Fa(b);b=new za((g.left-h.left)/100,(g.top-h.top)/100,(l.left-h.left)/100,(l.top-h.top)/100,h.left+(b?0:Y.pageXOffset||U.scrollLeft||X.scrollLeft||fa.scrollLeft||0),h.top+(b?0:Y.pageYOffset||U.scrollTop||X.scrollTop||fa.scrollTop||0));if(k.removeChild(c),f)for(h=f.length;h--;)(g=f[h]).scaleX=g.scaleY=0,g.renderTransform(1,g);return d?b.inverse():b}function h(){return ia||"undefined"!=typeof window&&(ia=window.gsap)&&ia.registerPlugin&&ia}function d(b){return"function"==
typeof b}function f(b){return"object"==typeof b}function l(b){return void 0===b}function n(){return!1}function p(b){return Math.round(1E4*b)/1E4}function q(b,d){var c=Ca.createElementNS?Ca.createElementNS((d||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),b):Ca.createElement(b);return c.style?c:Ca.createElement(b)}function r(b,d){var c,e={};for(c in b)e[c]=d?b[c]*d:b[c];return e}function s(b,d){for(var c,e=b.length;e--;)d?b[e].style.touchAction=d:b[e].style.removeProperty("touch-action"),
(c=b[e].children)&&c.length&&s(c,d)}function v(){return hb.forEach(function(b){return b()})}function z(){return!hb.length&&ia.ticker.remove(v)}function w(b){for(var d=hb.length;d--;)hb[d]===b&&hb.splice(d,1);ia.to(z,{overwrite:!0,delay:15,duration:0,onComplete:z,data:"_draggable"})}function B(b,d,c,e){if(b.addEventListener){var f=pb[d];e=e||(db?{passive:!1}:null);b.addEventListener(f||d,c,e);f&&d!==f&&b.addEventListener(d,c,e)}}function E(b,d,c){if(b.removeEventListener){var e=pb[d];b.removeEventListener(e||
d,c);e&&d!==e&&b.removeEventListener(d,c)}}function u(b){b.preventDefault&&b.preventDefault();b.preventManipulation&&b.preventManipulation()}function D(b){Xa=b.touches&&ub<b.touches.length;E(b.target,"touchend",D)}function C(b){Xa=b.touches&&ub<b.touches.length;B(b.target,"touchend",D)}function F(b){return ma.pageYOffset||b.scrollTop||b.documentElement.scrollTop||b.body.scrollTop||0}function A(b){return ma.pageXOffset||b.scrollLeft||b.documentElement.scrollLeft||b.body.scrollLeft||0}function H(b,
d){B(b,"scroll",d);Rb(b.parentNode)||H(b.parentNode,d)}function L(b,d){E(b,"scroll",d);Rb(b.parentNode)||L(b.parentNode,d)}function J(b,d){var c="x"===d?"Width":"Height",e="scroll"+c,f="client"+c;return Math.max(0,Rb(b)?Math.max(da[e],oa[e])-(ma["inner"+c]||da[f]||oa[f]):b[e]-b[f])}function Q(b,d){var c=J(b,"x"),e=J(b,"y");Rb(b)?b=Gb:Q(b.parentNode,d);b._gsMaxScrollX=c;b._gsMaxScrollY=e;d||(b._gsScrollX=b.scrollLeft||0,b._gsScrollY=b.scrollTop||0)}function O(b,d,c){var e=b.style;e&&(l(e[d])&&(d=va(d,
b)||d),null==c?e.removeProperty&&e.removeProperty(d.replace(/([A-Z])/g,"-$1").toLowerCase()):e[d]=c)}function N(b){return ma.getComputedStyle(b instanceof Element?b:b.host||(b.parentNode||{}).host||b)}function R(b){if(b===ma)return Ra.left=Ra.top=0,Ra.width=Ra.right=da.clientWidth||b.innerWidth||oa.clientWidth||0,Ra.height=Ra.bottom=(b.innerHeight||0)-20<da.clientHeight?da.clientHeight:b.innerHeight||oa.clientHeight||0,Ra;var d=b.ownerDocument||Ca;b=l(b.pageX)?b.nodeType||l(b.left)||l(b.top)?Ua(b)[0].getBoundingClientRect():
b:{left:b.pageX-A(d),top:b.pageY-F(d),right:b.pageX-A(d)+1,bottom:b.pageY-F(d)+1};return l(b.right)&&!l(b.width)?(b.right=b.left+b.width,b.bottom=b.top+b.height):l(b.width)&&(b={width:b.right-b.left,height:b.bottom-b.top,right:b.right,left:b.left,bottom:b.bottom,top:b.top}),b}function T(b,c,e){var f,h=b.vars,g=h[e],k=b._listeners[c];return d(g)&&(f=g.apply(h.callbackScope||b,h[e+"Params"]||[b.pointerEvent])),k&&!1===b.dispatchEvent(c)&&(f=!1),f}function W(b,d){var c,e,f,h=Ua(b)[0];if(h.nodeType||
h===ma)a:{f=Ua(d)[0];var g,n,p,q,r,s,u,v,D,C,z=h.getBBox&&h.ownerSVGElement,w=h.ownerDocument||Ca;if(h===ma)e=F(w),g=(c=A(w))+(w.documentElement.clientWidth||h.innerWidth||w.body.clientWidth||0),n=e+((h.innerHeight||0)-20<w.documentElement.clientHeight?w.documentElement.clientHeight:h.innerHeight||w.body.clientHeight||0);else{if(f===ma||l(f)){h=h.getBoundingClientRect();break a}c=e=0;z?(v=(g=h.getBBox()).width,n=g.height):(h.viewBox&&(g=h.viewBox.baseVal)&&(c=g.x||0,e=g.y||0,v=g.width,n=g.height),
v||(g="border-box"===(D=N(h)).boxSizing,v=(parseFloat(D.width)||h.clientWidth||0)+(g?0:parseFloat(D.borderLeftWidth)+parseFloat(D.borderRightWidth)),n=(parseFloat(D.height)||h.clientHeight||0)+(g?0:parseFloat(D.borderTopWidth)+parseFloat(D.borderBottomWidth))));g=v}h=h===f?{left:c,top:e,width:g-c,height:n-e}:(q=(p=k(f,!0).multiply(k(h))).apply({x:c,y:e}),r=p.apply({x:g,y:e}),s=p.apply({x:g,y:n}),u=p.apply({x:c,y:n}),c=Math.min(q.x,r.x,s.x,u.x),e=Math.min(q.y,r.y,s.y,u.y),{left:c+((C=f.parentNode||
{}).scrollLeft||0),top:e+(C.scrollTop||0),width:Math.max(q.x,r.x,s.x,u.x)-c,height:Math.max(q.y,r.y,s.y,u.y)-e})}else h=l(b.left)?{left:e=b.min||b.minX||b.minRotation||0,top:c=b.min||b.minY||0,width:(b.max||b.maxX||b.maxRotation||0)-e,height:(b.max||b.maxY||0)-c}:(f={x:0,y:0},{left:b.left-f.x,top:b.top-f.y,width:b.width,height:b.height});return h}function ba(b,c,e,h,g,k){var l,n,p,q={};if(c)if(1!==g&&c instanceof Array){if(q.end=l=[],p=c.length,f(c[0]))for(n=0;n<p;n++)l[n]=r(c[n],g);else for(n=0;n<
p;n++)l[n]=c[n]*g;e+=1.1;h-=1.1}else d(c)?q.end=function(d){var e,h=c.call(b,d);if(1!==g)if(f(h)){for(e in d={},h)d[e]=h[e]*g;h=d}else h*=g;return h}:q.end=c;return!e&&0!==e||(q.max=e),!h&&0!==h||(q.min=h),k&&(q.velocity=0),q}function qa(b){var d;return!(!b||!b.getAttribute||b===oa)&&(!("true"!==(d=b.getAttribute("data-clickable"))&&("false"===d||!b.onclick&&!Na.test(b.nodeName+"")&&"true"!==b.getAttribute("contentEditable")))||qa(b.parentNode))}function P(b,d){for(var c,e=b.length;e--;)(c=b[e]).ondragstart=
c.onselectstart=d?null:n,ia.set(c,{lazy:!0,userSelect:d?"text":"none"})}function K(b,d){b=ia.utils.toArray(b)[0];d=d||{};var c,e,f,h,g,k,l=document.createElement("div"),n=l.style,p=b.firstChild,q=0,r=0,s=b.scrollTop,u=b.scrollLeft,v=b.scrollWidth,A=b.scrollHeight,D=0,C=0,z=0;mb&&!1!==d.force3D?(g="translate3d(",k="px,0px)"):Pa&&(g="translate(",k="px)");this.scrollTop=function(b,d){if(!arguments.length)return-this.top();this.top(-b,d)};this.scrollLeft=function(b,d){if(!arguments.length)return-this.left();
this.left(-b,d)};this.left=function(c,e){if(!arguments.length)return-(b.scrollLeft+r);var f=b.scrollLeft-u,h=r;if((2<f||-2>f)&&!e)return u=b.scrollLeft,ia.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-u),void(d.onKill&&d.onKill());0>(c=-c)?(r=c-.5|0,c=0):C<c?(r=c-C|0,c=C):r=0;(r||h)&&(this._skip||(n[Pa]=g+-r+"px,"+-q+k),0<=r+D&&(n.paddingRight=r+D+"px"));b.scrollLeft=0|c;u=b.scrollLeft};this.top=function(c,e){if(!arguments.length)return-(b.scrollTop+q);var f=b.scrollTop-s,h=q;if((2<f||-2>f)&&
!e)return s=b.scrollTop,ia.killTweensOf(this,{top:1,scrollTop:1}),this.top(-s),void(d.onKill&&d.onKill());0>(c=-c)?(q=c-.5|0,c=0):z<c?(q=c-z|0,c=z):q=0;(q||h)&&(this._skip||(n[Pa]=g+-r+"px,"+-q+k));b.scrollTop=0|c;s=b.scrollTop};this.maxScrollTop=function(){return z};this.maxScrollLeft=function(){return C};this.disable=function(){for(p=l.firstChild;p;)h=p.nextSibling,b.appendChild(p),p=h;b===l.parentNode&&b.removeChild(l)};this.enable=function(){if((p=b.firstChild)!==l){for(;p;)h=p.nextSibling,l.appendChild(p),
p=h;b.appendChild(l);this.calibrate()}};this.calibrate=function(d){var h,g,k,p=b.clientWidth===c;s=b.scrollTop;u=b.scrollLeft;p&&b.clientHeight===e&&l.offsetHeight===f&&v===b.scrollWidth&&A===b.scrollHeight&&!d||((q||r)&&(g=this.left(),k=this.top(),this.left(-b.scrollLeft),this.top(-b.scrollTop)),h=N(b),p&&!d||(n.display="block",n.width="auto",n.paddingRight="0px",(D=Math.max(0,b.scrollWidth-b.clientWidth))&&(D+=parseFloat(h.paddingLeft)+(eb?parseFloat(h.paddingRight):0))),n.display="inline-block",
n.position="relative",n.overflow="visible",n.verticalAlign="top",n.boxSizing="content-box",n.width="100%",n.paddingRight=D+"px",eb&&(n.paddingBottom=h.paddingBottom),c=b.clientWidth,e=b.clientHeight,v=b.scrollWidth,A=b.scrollHeight,C=b.scrollWidth-c,z=b.scrollHeight-e,f=l.offsetHeight,n.display="block",(g||k)&&(this.left(g),this.top(k)))};this.content=l;this.element=b;this._skip=!1;this.enable()}function ea(b){if("undefined"!=typeof window&&document.body){var d=window&&window.navigator;ma=window;
Ca=document;da=Ca.documentElement;oa=Ca.body;Ja=q("div");Bb=!!window.PointerEvent;(cb=q("div")).style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab";xa="grab"===cb.style.cursor?"grab":"move";ra=d&&-1!==d.userAgent.toLowerCase().indexOf("android");Wa="ontouchstart"in da&&"orientation"in ma||d&&(0<d.MaxTouchPoints||0<d.msMaxTouchPoints);d=q("div");c=q("div");e=c.style;f=oa;e.display="inline-block";e.position="relative";d.style.cssText=c.innerHTML=
"width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden";d.appendChild(c);f.appendChild(d);c=c.offsetHeight+18>d.scrollHeight;f.removeChild(d);eb=c;pb=function(b){var d=b.split(",");b=("onpointerdown"in Ja?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in Ja?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":b).split(",");for(var c={},e=4;-1<--e;)c[d[e]]=b[e],c[b[e]]=d[e];try{da.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){db=
1}}))}catch(f){}return c}("touchstart,touchmove,touchend,touchcancel");B(Ca,"touchcancel",n);B(ma,"touchmove",n);oa&&oa.addEventListener("touchstart",n);B(Ca,"contextmenu",function(){for(var b in rb)rb[b].isPressed&&rb[b].endDrag()});ia=Oa=h()}var c,e,f;ia?(ua=ia.plugins.inertia,va=ia.utils.checkPrefix,Pa=va(Pa),xb=va(xb),Ua=ia.utils.toArray,mb=!!va("perspective")):b&&console.warn("Please gsap.registerPlugin(Draggable)")}function M(b){this._listeners={};this.target=b||this}function ca(b,c){function e(b){return u(b),
b.stopImmediatePropagation&&b.stopImmediatePropagation(),!1}function h(d){if(I.autoScroll&&I.isDragging&&(Tb||V)){var c,e,f,g,k,l,n,p;c=b;var q=15*I.autoScroll;Tb=!1;Gb.scrollTop=null!=ma.pageYOffset?ma.pageYOffset:null!=Ka.documentElement.scrollTop?Ka.documentElement.scrollTop:Ka.body.scrollTop;Gb.scrollLeft=null!=ma.pageXOffset?ma.pageXOffset:null!=Ka.documentElement.scrollLeft?Ka.documentElement.scrollLeft:Ka.body.scrollLeft;g=I.pointerX-Gb.scrollLeft;for(k=I.pointerY-Gb.scrollTop;c&&!e;)c=(e=
Rb(c.parentNode))?Gb:c.parentNode,f=e?{bottom:Math.max(da.clientHeight,ma.innerHeight||0),right:Math.max(da.clientWidth,ma.innerWidth||0),left:0,top:0}:c.getBoundingClientRect(),l=n=0,ab&&(0>(p=c._gsMaxScrollY-c.scrollTop)?n=p:k>f.bottom-wc&&p?(Tb=!0,n=Math.min(p,q*(1-Math.max(0,f.bottom-k)/wc)|0)):k<f.top+Fb&&c.scrollTop&&(Tb=!0,n=-Math.min(c.scrollTop,q*(1-Math.max(0,k-f.top)/Fb)|0)),n&&(c.scrollTop+=n)),Qa&&(0>(p=c._gsMaxScrollX-c.scrollLeft)?l=p:g>f.right-La&&p?(Tb=!0,l=Math.min(p,q*(1-Math.max(0,
f.right-g)/La)|0)):g<f.left+ac&&c.scrollLeft&&(Tb=!0,l=-Math.min(c.scrollLeft,q*(1-Math.max(0,g-f.left)/ac)|0)),l&&(c.scrollLeft+=l)),e&&(l||n)&&(ma.scrollTo(c.scrollLeft,c.scrollTop),dc(I.pointerX+l,I.pointerY+n))}V&&(e=I.x,g=I.y,Ia?(I.deltaX=e-parseFloat(Sa.rotation),I.rotation=e,Sa.rotation=e+"deg",Sa.renderTransform(1,Sa)):X?(ab&&(I.deltaY=g-X.top(),X.top(g)),Qa&&(I.deltaX=e-X.left(),X.left(e))):Wb?(ab&&(I.deltaY=g-parseFloat(Sa.y),Sa.y=g+"px"),Qa&&(I.deltaX=e-parseFloat(Sa.x),Sa.x=e+"px"),Sa.renderTransform(1,
Sa)):(ab&&(I.deltaY=g-parseFloat(b.style.top||0),b.style.top=g+"px"),Qa&&(I.deltaX=e-parseFloat(b.style.left||0),b.style.left=e+"px")),!Ra||d||db||(!(db=!0)===T(I,"drag","onDrag")&&(Qa&&(I.x-=I.deltaX),ab&&(I.y-=I.deltaY),h(!0)),db=!1));V=!1}function g(d,c){var e,f,k=I.x,l=I.y;b._gsap||(Sa=ia.core.getCache(b));Sa.uncache&&ia.getProperty(b,"x");Wb?(I.x=parseFloat(Sa.x),I.y=parseFloat(Sa.y)):Ia?I.x=I.rotation=parseFloat(Sa.rotation):X?(I.y=X.top(),I.x=X.left()):(I.y=parseFloat(b.style.top||(f=N(b))&&
f.top)||0,I.x=parseFloat(b.style.left||(f||{}).left)||0);(Fa||Ma||S)&&!c&&(I.isDragging||I.isThrowing)&&(S&&(Zb.x=I.x,Zb.y=I.y,(e=S(Zb)).x!==I.x&&(I.x=e.x,V=!0),e.y!==I.y&&(I.y=e.y,V=!0)),Fa&&(e=Fa(I.x))!==I.x&&(I.x=e,Ia&&(I.rotation=e),V=!0),Ma&&((e=Ma(I.y))!==I.y&&(I.y=e),V=!0));V&&h(!0);d||(I.deltaX=I.x-k,I.deltaY=I.y-l,T(I,"throwupdate","onThrowUpdate"))}function n(b,c,e,f){return null==c&&(c=-1E20),null==e&&(e=1E20),d(b)?function(d){var h=I.isPressed?1-I.edgeResistance:1;return b.call(I,e<d?
e+(d-e)*h:d<c?c+(d-c)*h:d)*f}:Qb(b)?function(d){for(var f,h,g=b.length,k=0,l=1E20;-1<--g;)0>(h=(f=b[g])-d)&&(h=-h),h<l&&c<=f&&f<=e&&(k=g,l=h);return b[k]}:isNaN(b)?function(b){return b}:function(){return b*f}}function q(){var e,f,h,g;Aa=!1;X?(X.calibrate(),I.minX=Ha=-X.maxScrollLeft(),I.minY=oa=-X.maxScrollTop(),I.maxX=la=I.maxY=wa=0,Aa=!0):c.bounds&&(e=W(c.bounds,b.parentNode),Ia?(I.minX=Ha=e.left,I.maxX=la=e.left+e.width,I.minY=oa=I.maxY=wa=0):l(c.bounds.maxX)&&l(c.bounds.maxY)?(f=W(b,b.parentNode),
I.minX=Ha=Math.round(parseFloat(Sa.get(b,zb,"px"))+e.left-f.left-.5),I.minY=oa=Math.round(parseFloat(Sa.get(b,Ab,"px"))+e.top-f.top-.5),I.maxX=la=Math.round(Ha+(e.width-f.width)),I.maxY=wa=Math.round(oa+(e.height-f.height))):(e=c.bounds,I.minX=Ha=e.minX,I.minY=oa=e.minY,I.maxX=la=e.maxX,I.maxY=wa=e.maxY),la<Ha&&(I.minX=la,I.maxX=la=Ha,Ha=I.minX),wa<oa&&(I.minY=wa,I.maxY=wa=oa,oa=I.minY),Ia&&(I.minRotation=Ha,I.maxRotation=la),Aa=!0);c.liveSnap&&(h=!0===c.liveSnap?c.snap||{}:c.liveSnap,g=Qb(h)||d(h),
Ia?(Fa=n(g?h:h.rotation,Ha,la,1),Ma=null):h.points?S=function(b,c,e,f,h,g,k){return g=g&&1E20>g?g*g:1E20,d(b)?function(d){var l,n,p,q=I.isPressed?1-I.edgeResistance:1,r=d.x,s=d.y;return d.x=r=e<r?e+(r-e)*q:r<c?c+(r-c)*q:r,d.y=s=h<s?h+(s-h)*q:s<f?f+(s-f)*q:s,(l=b.call(I,d))!==d&&(d.x=l.x,d.y=l.y),1!==k&&(d.x*=k,d.y*=k),1E20>g&&(n=d.x-r,p=d.y-s,g<n*n+p*p&&(d.x=r,d.y=s)),d}:Qb(b)?function(d){for(var c,e,f,h,k=b.length,l=0,n=1E20;-1<--k;)(h=(c=(f=b[k]).x-d.x)*c+(e=f.y-d.y)*e)<n&&(l=k,n=h);return n<=g?
b[l]:d}:function(b){return b}}(g?h:h.points,Ha,la,oa,wa,h.radius,X?-1:1):(Qa&&(Fa=n(g?h:h.x||h.left||h.scrollLeft,Ha,la,X?-1:1)),ab&&(Ma=n(g?h:h.y||h.top||h.scrollTop,oa,wa,X?-1:1))))}function D(){I.isThrowing=!1;T(I,"throwcomplete","onThrowComplete")}function z(){I.isThrowing=!1}function t(e,h){var k,l,n,p;e&&ua?(!0===e&&(k=c.snap||c.liveSnap||{},l=Qb(k)||d(k),e={resistance:(c.throwResistance||c.resistance||1E3)/(Ia?10:1)},Ia?e.rotation=ba(I,l?k:k.rotation,la,Ha,1,h):(Qa&&(e[zb]=ba(I,l?k:k.points||
k.x||k.left,la,Ha,X?-1:1,h||"x"===I.lockedAxis)),ab&&(e[Ab]=ba(I,l?k:k.points||k.y||k.top,wa,oa,X?-1:1,h||"y"===I.lockedAxis)),(k.points||Qb(k)&&f(k[0]))&&(e.linkedProps=zb+","+Ab,e.radius=k.radius))),I.isThrowing=!0,p=isNaN(c.overshootTolerance)?1===c.edgeResistance?0:1-I.edgeResistance+.2:c.overshootTolerance,e.duration||(e.duration={max:Math.max(c.minDuration||0,"maxDuration"in c?c.maxDuration:2),min:isNaN(c.minDuration)?0===p||f(e)&&1E3<e.resistance?0:.5:c.minDuration,overshoot:p}),I.tween=n=
ia.to(X||b,{inertia:e,data:"_draggable",onComplete:D,onInterrupt:z,onUpdate:c.fastMode?T:g,onUpdateParams:c.fastMode?[I,"onthrowupdate","onThrowUpdate"]:k&&k.radius?[!1,!0]:[]}),c.fastMode||(X&&(X._skip=!0),n.render(1E9,!0,!0),g(!0,!0),I.endX=I.x,I.endY=I.y,Ia&&(I.endRotation=I.x),n.play(0),g(!0,!0),X&&(X._skip=!1))):Aa&&I.applyBounds()}function J(d){var c,e=pa;pa=k(b.parentNode,!0);d&&I.isPressed&&!pa.equals(e||new za)&&(c=e.inverse().apply({x:ya,y:Na}),pa.apply(c,c),ya=c.x,Na=c.y);pa.equals(vb)&&
(pa=null)}function M(){var d,c,e,f=1-I.edgeResistance,l=Da?A(Ka):0,n=Da?F(Ka):0;J(!1);ob.x=I.pointerX-l;ob.y=I.pointerY-n;pa&&pa.apply(ob,ob);ya=ob.x;Na=ob.y;V&&(dc(I.pointerX,I.pointerY),h(!0));yb=k(b);X?(q(),fa=X.top(),ga=X.left()):(Gc()?(g(!0,!0),q()):I.applyBounds(),Ia?(d=b.ownerSVGElement?[Sa.xOrigin-b.getBBox().x,Sa.yOrigin-b.getBBox().y]:(N(b)[xb]||"0 0").split(" "),na=I.rotationOrigin=k(b).apply({x:parseFloat(d[0])||0,y:parseFloat(d[1])||0}),g(!0,!0),c=I.pointerX-na.x-l,e=na.y-I.pointerY+
n,ga=I.x,fa=I.y=Math.atan2(e,c)*Kb):(fa=parseFloat(Sa.get(b,Ab,"px")),ga=parseFloat(Sa.get(b,zb,"px"))));Aa&&f&&(la<ga?ga=la+(ga-la)/f:ga<Ha&&(ga=Ha-(Ha-ga)/f),Ia||(wa<fa?fa=wa+(fa-wa)/f:fa<oa&&(fa=oa-(oa-fa)/f)));I.startX=ga=p(ga);I.startY=fa=p(fa)}function U(){!cb.parentNode||Gc()||I.isDragging||cb.parentNode.removeChild(cb)}function ha(d,e){var f;if(!sa||I.isPressed||!d||!("mousedown"!==d.type&&"pointerdown"!==d.type||e)&&30>nb()-gb&&pb[I.pointerEvent.type])Ga&&d&&sa&&u(d);else{if($a=Gc(),I.pointerEvent=
d,pb[d.type]?(va=~d.type.indexOf("touch")?d.currentTarget||d.target:Ka,B(va,"touchend",Ba),B(va,"touchmove",Ob),B(va,"touchcancel",Ba),B(Ka,"touchstart",C)):(va=null,B(Ka,"mousemove",Ob)),Pa=null,Bb&&va||(B(Ka,"mouseup",Ba),d&&d.target&&B(d.target,"mouseup",Ba)),Ja=$c.call(I,d.target)&&!1===c.dragClickables&&!e)return B(d.target,"change",Ba),T(I,"pressInit","onPressInit"),T(I,"press","onPress"),P(Va,!0),void(Ga=!1);lb=!(!va||Qa==ab||!1===I.vars.allowNativeTouchScrolling||I.vars.allowContextMenu&&
d&&(d.ctrlKey||2<d.which))&&(Qa?"y":"x");(Ga=!lb&&!I.allowEventDefault)&&(u(d),B(ma,"touchforcechange",u));d.changedTouches?(d=ka=d.changedTouches[0],G=d.identifier):d.pointerId?G=d.pointerId:ka=G=null;ub++;hb.push(h);1===hb.length&&ia.ticker.add(v);if(Na=I.pointerY=d.pageY,ya=I.pointerX=d.pageX,T(I,"pressInit","onPressInit"),(lb||I.autoScroll)&&Q(b.parentNode),!b.parentNode||!I.autoScroll||X||Ia||!b.parentNode._gsMaxScrollX||cb.parentNode||b.getBBox||(cb.style.width=b.parentNode.scrollWidth+"px",
b.parentNode.appendChild(cb)),M(),I.tween&&I.tween.kill(),I.isThrowing=!1,ia.killTweensOf(X||b,mc,!0),X&&ia.killTweensOf(b,{scrollTo:1},!0),I.tween=I.lockedAxis=null,!c.zIndexBoost&&(Ia||X||!1===c.zIndexBoost)||(b.style.zIndex=ca.zIndex++),I.isPressed=!0,Ra=!(!c.onDrag&&!I._listeners.drag),Ya=!(!c.onMove&&!I._listeners.move),!1!==c.cursor||c.activeCursor)for(f=Va.length;-1<--f;)ia.set(Va[f],{cursor:c.activeCursor||c.cursor||("grab"===xa?"grabbing":xa)});T(I,"press","onPress")}}function Y(d){if(d&&
I.isDragging&&!X){d=d.target||b.parentNode;var c=d.scrollLeft-d._gsScrollX,e=d.scrollTop-d._gsScrollY;(c||e)&&(pa?(ya-=c*pa.a+e*pa.c,Na-=e*pa.d+c*pa.b):(ya-=c,Na-=e),d._gsScrollX+=c,d._gsScrollY+=e,dc(I.pointerX,I.pointerY))}}function aa(b){var d=nb(),c=40>d-gb,d=40>d-Eb,e=c&&eb===gb,f=I.pointerEvent&&I.pointerEvent.defaultPrevented,h=c&&mb===gb,g=b.isTrusted||null==b.isTrusted&&c&&e;if((e||d&&!1!==I.vars.suppressClickOnDrag)&&b.stopImmediatePropagation&&b.stopImmediatePropagation(),!(!c||I.pointerEvent&&
I.pointerEvent.defaultPrevented||e&&(!g||h)))return g&&e&&(mb=gb),void(eb=gb);(I.isPressed||d||c)&&(g&&b.detail&&c&&!f||u(b));c||d||(b&&b.target&&(I.pointerEvent=b),T(I,"click","onClick"))}function Ea(b){return pa?{x:b.x*pa.a+b.y*pa.c+pa.e,y:b.x*pa.b+b.y*pa.d+pa.f}:{x:b.x,y:b.y}}var ja;ja=Xb.call(this)||this;Oa||ea(1);b=Ua(b)[0];ua=ua||ia.plugins.inertia;ja.vars=c=r(c||{});ja.target=b;ja.x=ja.y=ja.rotation=0;ja.dragResistance=parseFloat(c.dragResistance)||0;ja.edgeResistance=isNaN(c.edgeResistance)?
1:parseFloat(c.edgeResistance)||0;ja.lockAxis=c.lockAxis;ja.autoScroll=c.autoScroll||0;ja.lockedAxis=null;ja.allowEventDefault=!!c.allowEventDefault;ia.getProperty(b,"x");var sa,X,ya,Na,ga,fa,Aa,Ra,Ya,la,Ha,wa,oa,ka,G,na,V,Ta,Fa,Ma,S,Ja,va,pa,$a,lb,Pa,db,eb,mb,Ga,yb,Cb=(c.type||"x,y").toLowerCase(),Wb=~Cb.indexOf("x")||~Cb.indexOf("y"),Ia=-1!==Cb.indexOf("rotation"),zb=Ia?"rotation":Wb?"x":"left",Ab=Wb?"y":"top",Qa=!(!~Cb.indexOf("x")&&!~Cb.indexOf("left")&&"scroll"!==Cb),ab=!(!~Cb.indexOf("y")&&
!~Cb.indexOf("top")&&"scroll"!==Cb),sb=c.minimumMovement||2,I=function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(ja),Va=Ua(c.trigger||c.handle||b),mc={},Eb=0,Tb=!1,Fb=c.autoScrollMarginTop||40,La=c.autoScrollMarginRight||40,wc=c.autoScrollMarginBottom||40,ac=c.autoScrollMarginLeft||40,$c=c.clickableTest||qa,gb=0,Sa=b._gsap||ia.core.getCache(b),Da=function zc(b){return"fixed"===N(b).position||((b=b.parentNode)&&1===b.nodeType?zc(b):
void 0)}(b),Ka=b.ownerDocument||Ca,Gc=function(){return I.tween&&I.tween.isActive()},Ob=function(c){var e,f,h,g,k,l,n=c;if(sa&&!Xa&&I.isPressed&&c){if(e=(I.pointerEvent=c).changedTouches){if((c=e[0])!==ka&&c.identifier!==G){for(g=e.length;-1<--g&&(c=e[g]).identifier!==G&&c.target!==b;);if(0>g)return}}else if(c.pointerId&&G&&c.pointerId!==G)return;va&&lb&&!Pa&&(ob.x=c.pageX-(Da?A(Ka):0),ob.y=c.pageY-(Da?F(Ka):0),pa&&pa.apply(ob,ob),f=ob.x,h=ob.y,((k=Math.abs(f-ya))!==(l=Math.abs(h-Na))&&(sb<k||sb<
l)||ra&&lb===Pa)&&(Pa=l<k&&Qa?"x":"y",lb&&Pa!==lb&&B(ma,"touchforcechange",u),!1!==I.vars.lockAxisOnTouchScroll&&Qa&&ab&&(I.lockedAxis="x"===Pa?"y":"x",d(I.vars.onLockAxis)&&I.vars.onLockAxis.call(I,n)),ra&&lb===Pa))?Ba(n):(Ga=I.allowEventDefault||lb&&(!Pa||lb===Pa)||!1===n.cancelable?Ga&&!1:(u(n),!0),I.autoScroll&&(Tb=!0),dc(c.pageX,c.pageY,Ya))}else Ga&&c&&sa&&u(c)},dc=function(b,c,e){var f,h,g,k,l,n,q=1-I.dragResistance,r=1-I.edgeResistance,s=I.pointerX,u=I.pointerY,v=fa,D=I.x,C=I.y,z=I.endX,w=
I.endY,t=I.endRotation,B=V;I.pointerX=b;I.pointerY=c;Da&&(b-=A(Ka),c-=F(Ka));Ia?(k=Math.atan2(na.y-c,b-na.x)*Kb,180<(l=I.y-k)?(fa-=360,I.y=k):-180>l&&(fa+=360,I.y=k),g=I.x!==ga||Math.abs(fa-k)>sb?(I.y=k,ga+(fa-k)*q):ga):(pa&&(n=b*pa.a+c*pa.c+pa.e,c=b*pa.b+c*pa.d+pa.f,b=n),(h=c-Na)<sb&&-sb<h&&(h=0),(f=b-ya)<sb&&-sb<f&&(f=0),(I.lockAxis||I.lockedAxis)&&(f||h)&&((n=I.lockedAxis)||(I.lockedAxis=n=Qa&&Math.abs(f)>Math.abs(h)?"y":ab?"x":null,n&&d(I.vars.onLockAxis)&&I.vars.onLockAxis.call(I,I.pointerEvent)),
"y"===n?h=0:"x"===n&&(f=0)),g=p(ga+f*q),k=p(fa+h*q));(Fa||Ma||S)&&(I.x!==g||I.y!==k&&!Ia)?(S&&(Zb.x=g,Zb.y=k,n=S(Zb),g=p(n.x),k=p(n.y)),Fa&&(g=p(Fa(g))),Ma&&(k=p(Ma(k)))):Aa&&(la<g?g=la+Math.round((g-la)*r):g<Ha&&(g=Ha+Math.round((g-Ha)*r)),Ia||(wa<k?k=Math.round(wa+(k-wa)*r):k<oa&&(k=Math.round(oa+(k-oa)*r))));I.x===g&&(I.y===k||Ia)||(Ia?(I.endRotation=I.x=I.endX=g,V=!0):(ab&&(I.y=I.endY=k,V=!0),Qa&&(I.x=I.endX=g,V=!0)),e&&!1===T(I,"move","onMove")?(I.pointerX=s,I.pointerY=u,fa=v,I.x=D,I.y=C,I.endX=
z,I.endY=w,I.endRotation=t,V=B):!I.isDragging&&I.isPressed&&(I.isDragging=!0,T(I,"dragstart","onDragStart")))},Ba=function Za(d,e){if(sa&&I.isPressed&&(!d||null==G||e||!(d.pointerId&&d.pointerId!==G&&d.target!==b||d.changedTouches&&!function(b,d){for(var c=b.length;c--;)if(b[c].identifier===d)return!0}(d.changedTouches,G)))){I.isPressed=!1;var f,g,k,l,n,p=d,q=I.isDragging,r=I.vars.allowContextMenu&&d&&(d.ctrlKey||2<d.which),s=ia.delayedCall(.001,U);if(va?(E(va,"touchend",Za),E(va,"touchmove",Ob),
E(va,"touchcancel",Za),E(Ka,"touchstart",C)):E(Ka,"mousemove",Ob),E(ma,"touchforcechange",u),Bb&&va||(E(Ka,"mouseup",Za),d&&d.target&&E(d.target,"mouseup",Za)),V=!1,q&&(Eb=Kc=nb(),I.isDragging=!1),Ja&&!r)return d&&(E(d.target,"change",Za),I.pointerEvent=p),P(Va,!1),T(I,"release","onRelease"),T(I,"click","onClick"),void(Ja=!1);w(h);for(g=Va.length;-1<--g;)O(Va[g],"cursor",c.cursor||(!1!==c.cursor?xa:null));if(ub--,d){if((f=d.changedTouches)&&(d=f[0])!==ka&&d.identifier!==G){for(g=f.length;-1<--g&&
(d=f[g]).identifier!==G&&d.target!==b;);if(0>g)return}I.pointerEvent=p;I.pointerX=d.pageX;I.pointerY=d.pageY}return r&&p?(u(p),Ga=!0,T(I,"release","onRelease")):p&&!q?(Ga=!1,$a&&(c.snap||c.bounds)&&t(c.inertia||c.throwProps),T(I,"release","onRelease"),ra&&"touchmove"===p.type||-1!==p.type.indexOf("cancel")||(T(I,"click","onClick"),300>nb()-gb&&T(I,"doubleclick","onDoubleClick"),l=p.target||b,gb=nb(),n=function(){gb===eb||!I.enabled()||I.isPressed||p.defaultPrevented||(l.click?l.click():Ka.createEvent&&
((k=Ka.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,ma,1,I.pointerEvent.screenX,I.pointerEvent.screenY,I.pointerX,I.pointerY,!1,!1,!1,!1,0,null),l.dispatchEvent(k)))},ra||p.defaultPrevented||ia.delayedCall(.05,n))):(t(c.inertia||c.throwProps),I.allowEventDefault||!p||!1===c.dragClickables&&$c.call(I,p.target)||!q||lb&&(!Pa||lb!==Pa)||!1===p.cancelable?Ga=!1:(Ga=!0,u(p)),T(I,"release","onRelease")),Gc()&&s.duration(I.tween.duration()),q&&T(I,"dragend","onDragEnd"),!0}Ga&&d&&sa&&u(d)};return(Ta=
ca.get(b))&&Ta.kill(),ja.startDrag=function(d,c){var e,f,h,g;ha(d||I.pointerEvent,!0);c&&!I.hitTest(d||I.pointerEvent)&&(e=R(d||I.pointerEvent),f=R(b),h=Ea({x:e.left+e.width/2,y:e.top+e.height/2}),g=Ea({x:f.left+f.width/2,y:f.top+f.height/2}),ya-=h.x-g.x,Na-=h.y-g.y);I.isDragging||(I.isDragging=!0,T(I,"dragstart","onDragStart"))},ja.drag=Ob,ja.endDrag=function(b){return Ba(b||I.pointerEvent,!0)},ja.timeSinceDrag=function(){return I.isDragging?0:(nb()-Eb)/1E3},ja.timeSinceClick=function(){return(nb()-
gb)/1E3},ja.hitTest=function(b,d){return ca.hitTest(I.target,b,d)},ja.getDirection=function(d,c){var e,h,g,k,l,n,p="velocity"===d&&ua?d:f(d)&&!Ia?"element":"start";return"element"===p&&(l=R(I.target),n=R(d)),e="start"===p?I.x-ga:"velocity"===p?ua.getVelocity(b,zb):l.left+l.width/2-(n.left+n.width/2),Ia?0>e?"counter-clockwise":"clockwise":(c=c||2,h="start"===p?I.y-fa:"velocity"===p?ua.getVelocity(b,Ab):l.top+l.height/2-(n.top+n.height/2),k=(g=Math.abs(e/h))<1/c?"":0>e?"left":"right",g<c&&(""!==k&&
(k+="-"),k+=0>h?"up":"down"),k)},ja.applyBounds=function(d,e){var f,k,l,n;if(d&&c.bounds!==d)return c.bounds=d,I.update(!0,e);if(g(!0),q(),Aa&&!Gc()){if(f=I.x,k=I.y,la<f?f=la:f<Ha&&(f=Ha),wa<k?k=wa:k<oa&&(k=oa),(I.x!==f||I.y!==k)&&(l=!0,I.x=I.endX=f,Ia?I.endRotation=f:I.y=I.endY=k,h(V=!0),I.autoScroll&&!I.isDragging))for(Q(b.parentNode),f=b,Gb.scrollTop=null!=ma.pageYOffset?ma.pageYOffset:null!=Ka.documentElement.scrollTop?Ka.documentElement.scrollTop:Ka.body.scrollTop,Gb.scrollLeft=null!=ma.pageXOffset?
ma.pageXOffset:null!=Ka.documentElement.scrollLeft?Ka.documentElement.scrollLeft:Ka.body.scrollLeft;f&&!n;)f=(n=Rb(f.parentNode))?Gb:f.parentNode,ab&&f.scrollTop>f._gsMaxScrollY&&(f.scrollTop=f._gsMaxScrollY),Qa&&f.scrollLeft>f._gsMaxScrollX&&(f.scrollLeft=f._gsMaxScrollX);I.isThrowing&&(l||I.endX>la||I.endX<Ha||I.endY>wa||I.endY<oa)&&t(c.inertia||c.throwProps,l)}return I},ja.update=function(d,c,e){if(c&&I.isPressed){var f=k(b),l=yb.apply({x:I.x-ga,y:I.y-fa}),n=k(b.parentNode,!0);n.apply({x:f.e-l.x,
y:f.f-l.y},l);I.x-=l.x-n.e;I.y-=l.y-n.f;h(!0);M()}f=I.x;l=I.y;return J(!c),d?I.applyBounds():(V&&e&&h(!0),g(!0)),c&&(dc(I.pointerX,I.pointerY),V&&h(!0)),I.isPressed&&!c&&(Qa&&.01<Math.abs(f-I.x)||ab&&.01<Math.abs(l-I.y)&&!Ia)&&M(),I.autoScroll&&(Q(b.parentNode,I.isDragging),Tb=I.isDragging,h(!0),L(b,Y),H(b,Y)),I},ja.enable=function(d){var f,h,g,k={lazy:!0};if(!1!==c.cursor&&(k.cursor=c.cursor||xa),ia.utils.checkPrefix("touchCallout")&&(k.touchCallout="none"),"soft"!==d){s(Va,Qa==ab?"none":c.allowNativeTouchScrolling&&
b.scrollHeight===b.clientHeight==(b.scrollWidth===b.clientHeight)||c.allowEventDefault?"manipulation":Qa?"pan-y":"pan-x");for(h=Va.length;-1<--h;)g=Va[h],Bb||B(g,"mousedown",ha),B(g,"touchstart",ha),B(g,"click",aa,!0),ia.set(g,k),g.getBBox&&g.ownerSVGElement&&ia.set(g.ownerSVGElement,{touchAction:Qa==ab?"none":c.allowNativeTouchScrolling||c.allowEventDefault?"manipulation":Qa?"pan-y":"pan-x"}),c.allowContextMenu||B(g,"contextmenu",e);P(Va,!1)}return H(b,Y),sa=!0,ua&&"soft"!==d&&ua.track(X||b,Wb?"x,y":
Ia?"rotation":"top,left"),b._gsDragID=f="d"+fb++,rb[f]=I,X&&(X.enable(),X.element._gsDragID=f),(c.bounds||Ia)&&M(),c.bounds&&I.applyBounds(),I},ja.disable=function(d){for(var c,f=I.isDragging,g=Va.length;-1<--g;)O(Va[g],"cursor",null);if("soft"!==d){s(Va,null);for(g=Va.length;-1<--g;)c=Va[g],O(c,"touchCallout",null),E(c,"mousedown",ha),E(c,"touchstart",ha),E(c,"click",aa),E(c,"contextmenu",e);P(Va,!0);va&&(E(va,"touchcancel",Ba),E(va,"touchend",Ba),E(va,"touchmove",Ob));E(Ka,"mouseup",Ba);E(Ka,"mousemove",
Ob)}return L(b,Y),sa=!1,ua&&"soft"!==d&&ua.untrack(X||b,Wb?"x,y":Ia?"rotation":"top,left"),X&&X.disable(),w(h),I.isDragging=I.isPressed=Ja=!1,f&&T(I,"dragend","onDragEnd"),I},ja.enabled=function(b,d){return arguments.length?b?I.enable(d):I.disable(d):sa},ja.kill=function(){return I.isThrowing=!1,I.tween&&I.tween.kill(),I.disable(),ia.set(Va,{clearProps:"userSelect"}),delete rb[b._gsDragID],I},~Cb.indexOf("scroll")&&(X=ja.scrollProxy=new K(b,function(b,d){for(var c in d)c in b||(b[c]=d[c]);return b}({onKill:function(){I.isPressed&&
Ba(null)}},c)),b.style.overflowY=ab&&!Wa?"auto":"hidden",b.style.overflowX=Qa&&!Wa?"auto":"hidden",b=X.content),Ia?mc.rotation=1:(Qa&&(mc[zb]=1),ab&&(mc[Ab]=1)),Sa.force3D=!("force3D"in c)||c.force3D,ja.enable(),ja}var U,Y,X,fa,ga,ha,ja,ya,Aa,Ea,sa="transform",aa=sa+"Origin",t=function(b){var d=b.ownerDocument||b;!(sa in b.style)&&"msTransform"in b.style&&(aa=(sa="msTransform")+"Origin");for(;d.parentNode&&(d=d.parentNode););if(Y=window,ja=new za,d){X=(U=d).documentElement;fa=d.body;(ya=U.createElementNS("http://www.w3.org/2000/svg",
"g")).style.transform="none";b=d.createElement("div");var c=d.createElement("div");fa.appendChild(b);b.appendChild(c);b.style.position="static";b.style[sa]="translate3d(0,0,1px)";Aa=c.offsetParent!==b;fa.removeChild(b)}return d},Ya=[],Ma=[],Ta=function(b){return b.ownerSVGElement||("svg"===(b.tagName+"").toLowerCase()?b:null)},Fa=function ta(b){return"fixed"===Y.getComputedStyle(b).position||((b=b.parentNode)&&1===b.nodeType?ta(b):void 0)},la=function(b,d){var c,f,h,g,k,l,n=Ta(b),p=b===n;c=n?Ya:Ma;
var q=b.parentNode;if(b===Y)return b;if(c.length||c.push(e(b,1),e(b,2),e(b,3)),c=n?ha:ga,n)p?(g=-(h=function(b){var d,c=b.getCTM();return c||(d=b.style[sa],b.style[sa]="none",b.appendChild(ya),c=ya.getCTM(),b.removeChild(ya),d?b.style[sa]=d:b.style.removeProperty(sa.replace(/([A-Z])/g,"-$1").toLowerCase())),c}(b)).e/h.a,k=-h.f/h.d,f=ja):(h=b.getBBox(),g=(f=(f=b.transform?b.transform.baseVal:{}).numberOfItems?1<f.numberOfItems?function(b){for(var d=new za,c=0;c<b.numberOfItems;c++)d.multiply(b.getItem(c).matrix);
return d}(f):f.getItem(0).matrix:ja).a*h.x+f.c*h.y,k=f.b*h.x+f.d*h.y),d&&"g"===b.tagName.toLowerCase()&&(g=k=0),(p?n:q).appendChild(c),c.setAttribute("transform","matrix("+f.a+","+f.b+","+f.c+","+f.d+","+(f.e+g)+","+(f.f+k)+")");else{if(g=k=0,Aa)for(f=b.offsetParent,h=b;(h=h&&h.parentNode)&&h!==f&&h.parentNode;)4<(Y.getComputedStyle(h)[sa]+"").length&&(g=h.offsetLeft,k=h.offsetTop,h=0);if("absolute"!==(l=Y.getComputedStyle(b)).position&&"fixed"!==l.position)for(f=b.offsetParent;q&&q!==f;)g+=q.scrollLeft||
0,k+=q.scrollTop||0,q=q.parentNode;(h=c.style).top=b.offsetTop-k+"px";h.left=b.offsetLeft-g+"px";h[sa]=l[sa];h[aa]=l[aa];h.position="fixed"===l.position?"fixed":"absolute";b.parentNode.appendChild(c)}return c},za=((Ea=g.prototype).inverse=function(){var d=this.a,c=this.b,e=this.c,f=this.d,h=this.e,g=this.f,k=d*f-c*e||1E-10;return b(this,f/k,-c/k,-e/k,d/k,(e*g-f*h)/k,-(d*g-c*h)/k)},Ea.multiply=function(d){var c=this.a,e=this.b,f=this.c,h=this.d,g=d.a,k=d.c,l=d.b,n=d.d,p=d.e;d=d.f;return b(this,g*c+
l*f,g*e+l*h,k*c+n*f,k*e+n*h,this.e+p*c+d*f,this.f+p*e+d*h)},Ea.clone=function(){return new g(this.a,this.b,this.c,this.d,this.e,this.f)},Ea.equals=function(b){var d=this.b,c=this.c,e=this.d,f=this.e,h=this.f;return this.a===b.a&&d===b.b&&c===b.c&&e===b.d&&f===b.e&&h===b.f},Ea.apply=function(b,d){void 0===d&&(d={});var c=b.x,e=b.y,f=this.b,h=this.d,g=this.f;return d.x=c*this.a+e*this.c+this.e||0,d.y=c*f+e*h+g||0,d},g),ia,ma,Ca,da,oa,Ja,cb,Oa,va,Ua,db,Wa,pb,ub,Xa,ra,ua,xa,Bb,mb,eb,$a,Pa="transform",
xb="transformOrigin",Qb=Array.isArray,Kb=180/Math.PI,vb=new za,nb=Date.now||function(){return(new Date).getTime()},hb=[],rb={},fb=0,Na=/^(?:a|input|textarea|button|select)$/i,Kc=0,Zb={},Gb={},Rb=function(b){return!(b&&b!==da&&9!==b.nodeType&&b!==Ca.body&&b!==ma&&b.nodeType&&b.parentNode)},Ra={},ob={};Ea=(($a=M.prototype).addEventListener=function(b,d){var c=this._listeners[b]||(this._listeners[b]=[]);~c.indexOf(d)||c.push(d)},$a.removeEventListener=function(b,d){var c=this._listeners[b],e=c&&c.indexOf(d)||
-1;-1<e&&c.splice(e,1)},$a.dispatchEvent=function(b){var d,c=this;return(this._listeners[b]||[]).forEach(function(e){return!1===e.call(c,{type:b,target:c.target})&&(d=!1)}),d},M);var Xb;$a=(function(b,d){b.prototype=Object.create(d.prototype);(b.prototype.constructor=b).__proto__=d}(ca,Xb=Ea),ca.register=function(b){ia=b;ea()},ca.create=function(b,d){return Oa||ea(!0),Ua(b).map(function(b){return new ca(b,d)})},ca.get=function(b){return rb[(Ua(b)[0]||{})._gsDragID]},ca.timeSinceDrag=function(){return(nb()-
Kc)/1E3},ca.hitTest=function(b,d,c){if(b===d)return!1;var e,f,h,g=R(b);d=R(d);b=g.top;var k=g.left,l=g.right,n=g.bottom,p=g.width,g=g.height,q=d.left>l||d.right<k||d.top>n||d.bottom<b;return q||!c?!q:(h=-1!==(c+"").indexOf("%"),c=parseFloat(c)||0,(e={left:Math.max(k,d.left),top:Math.max(b,d.top)}).width=Math.min(l,d.right)-e.left,e.height=Math.min(n,d.bottom)-e.top,!(0>e.width||0>e.height)&&(h?p*g*(c*=.01)<=(f=e.width*e.height)||f>=d.width*d.height*c:e.width>c&&e.height>c))},ca);!function(b,d){for(var c in d)c in
b||(b[c]=d[c])}($a.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});$a.zIndex=1E3;$a.version="3.7.1";h()&&ia.registerPlugin($a);c.Draggable=$a;c.default=$a;"undefined"===typeof window||window!==c?Object.defineProperty(c,"__esModule",{value:!0}):delete c.default});
var cvpHandlers={canvasClickHandler:null,videoTimeUpdateHandler:null,videoCanPlayHandler:null,windowResizeHandler:null},CanvasVideoPlayer=function(c){var e;this.options={framesPerSecond:25,hideVideo:!0,autoplay:!1,audio:!1,timelineSelector:!1,resetOnLastFrame:!0,loop:!1};for(e in c)this.options[e]=c[e];this.video=document.querySelector(this.options.videoSelector);this.canvas=document.querySelector(this.options.canvasSelector);this.timeline=document.querySelector(this.options.timelineSelector);this.timelinePassed=
document.querySelector(this.options.timelineSelector+"\x3e div");if(this.options.videoSelector&&this.video)if(this.options.canvasSelector&&this.canvas)if(this.options.timelineSelector&&!this.timeline)console.error('Element for the "timelineSelector" selector not found');else if(this.options.timelineSelector&&!this.timelinePassed)console.error('Element for the "timelinePassed" not found');else{if(this.options.audio){if("string"===typeof this.options.audio){if(this.audio=document.querySelectorAll(this.options.audio)[0],
!this.audio){console.error('Element for the "audio" not found');return}}else this.audio=document.createElement("audio"),this.audio.innerHTML=this.video.innerHTML,this.video.parentNode.insertBefore(this.audio,this.video),this.audio.load();/iPad|iPhone|iPod/.test(navigator.platform)&&(this.options.autoplay=!1)}this.ctx=this.canvas.getContext("2d");this.resizeTimeoutReference=this.playing=!1;this.RESIZE_TIMEOUT=1E3;this.init();this.bind()}else console.error('No "canvasSelector" property, or the element is not found');
else console.error('No "videoSelector" property, or the element is not found')};CanvasVideoPlayer.prototype.init=function(){this.video.load();this.setCanvasSize();this.options.hideVideo&&(this.video.style.display="none")};CanvasVideoPlayer.prototype.getOffset=function(c){var e;if(c&&(e=c.getBoundingClientRect(),e.width||e.height||c.getClientRects().length))return c=c.ownerDocument,c=c.documentElement,{top:e.top+window.pageYOffset-c.clientTop,left:e.left+window.pageXOffset-c.clientLeft}};
CanvasVideoPlayer.prototype.jumpTo=function(c){this.video.currentTime=this.video.duration*c;this.options.audio&&(this.audio.currentTime=this.audio.duration*c)};
CanvasVideoPlayer.prototype.bind=function(){var c=this;this.canvas.addEventListener("click",cvpHandlers.canvasClickHandler=function(){c.playPause()});this.video.addEventListener("timeupdate",cvpHandlers.videoTimeUpdateHandler=function(){c.drawFrame();c.options.timelineSelector&&c.updateTimeline()});this.video.addEventListener("canplay",cvpHandlers.videoCanPlayHandler=function(){c.drawFrame()});2<=this.video.readyState&&c.drawFrame();c.options.autoplay&&c.play();c.options.timelineSelector&&this.timeline.addEventListener("click",
function(e){e=(e.clientX-c.getOffset(c.canvas).left)/c.timeline.offsetWidth;c.jumpTo(e)});window.addEventListener("resize",cvpHandlers.windowResizeHandler=function(){clearTimeout(c.resizeTimeoutReference);c.resizeTimeoutReference=setTimeout(function(){c.setCanvasSize();c.drawFrame()},c.RESIZE_TIMEOUT)});this.unbind=function(){this.canvas.removeEventListener("click",cvpHandlers.canvasClickHandler);this.video.removeEventListener("timeupdate",cvpHandlers.videoTimeUpdateHandler);this.video.removeEventListener("canplay",
cvpHandlers.videoCanPlayHandler);window.removeEventListener("resize",cvpHandlers.windowResizeHandler);this.options.audio&&this.audio.parentNode.removeChild(this.audio)}};CanvasVideoPlayer.prototype.updateTimeline=function(){var c=(100*this.video.currentTime/this.video.duration).toFixed(2);this.timelinePassed.style.width=c+"%"};
CanvasVideoPlayer.prototype.setCanvasSize=function(){this.width=this.canvas.clientWidth;this.height=this.canvas.clientHeight;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height)};CanvasVideoPlayer.prototype.play=function(){this.lastTime=Date.now();this.playing=!0;this.loop();this.options.audio&&(this.audio.currentTime=this.video.currentTime,this.audio.play())};CanvasVideoPlayer.prototype.pause=function(){this.playing=!1;this.options.audio&&this.audio.pause()};
CanvasVideoPlayer.prototype.playPause=function(){this.playing?this.pause():this.play()};
CanvasVideoPlayer.prototype.loop=function(){var c=this,e=Date.now(),b=(e-this.lastTime)/1E3;b>=1/this.options.framesPerSecond&&(this.video.currentTime+=b,this.lastTime=e,this.audio&&.3<Math.abs(this.audio.currentTime-this.video.currentTime)&&(this.audio.currentTime=this.video.currentTime));this.video.currentTime>=this.video.duration&&(this.playing=!1,!0===this.options.resetOnLastFrame&&(this.video.currentTime=0),!0===this.options.loop&&(this.video.currentTime=0,this.play()));this.playing?this.animationFrame=
requestAnimationFrame(function(){c.loop()}):cancelAnimationFrame(this.animationFrame)};CanvasVideoPlayer.prototype.drawFrame=function(){this.ctx.drawImage(this.video,0,0,this.width,this.height)};
(function(){function c(d,e){function h(b,d){return function(){return b.apply(d,arguments)}}var g;e=e||{};this.trackingClick=!1;this.trackingClickStart=0;this.targetElement=null;this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0;this.touchBoundary=e.touchBoundary||10;this.layer=d;this.tapDelay=e.tapDelay||200;this.tapTimeout=e.tapTimeout||700;if(!c.notNeeded(d)){for(var k="onMouse onClick onTouchStart onTouchMove onTouchEnd onTouchCancel".split(" "),r=0,s=k.length;r<s;r++)this[k[r]]=h(this[k[r]],
this);b&&(d.addEventListener("mouseover",this.onMouse,!0),d.addEventListener("mousedown",this.onMouse,!0),d.addEventListener("mouseup",this.onMouse,!0));d.addEventListener("click",this.onClick,!0);d.addEventListener("touchstart",this.onTouchStart,!1);d.addEventListener("touchmove",this.onTouchMove,!1);d.addEventListener("touchend",this.onTouchEnd,!1);d.addEventListener("touchcancel",this.onTouchCancel,!1);Event.prototype.stopImmediatePropagation||(d.removeEventListener=function(b,c,e){var h=Node.prototype.removeEventListener;
"click"===b?h.call(d,b,c.hijacked||c,e):h.call(d,b,c,e)},d.addEventListener=function(b,c,e){var h=Node.prototype.addEventListener;"click"===b?h.call(d,b,c.hijacked||(c.hijacked=function(b){b.propagationStopped||c(b)}),e):h.call(d,b,c,e)});"function"===typeof d.onclick&&(g=d.onclick,d.addEventListener("click",function(b){g(b)},!1),d.onclick=null)}}var e=0<=navigator.userAgent.indexOf("Windows Phone"),b=0<navigator.userAgent.indexOf("Android")&&!e,g=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,k=
g&&/OS 4_\d(_\d)?/.test(navigator.userAgent),h=g&&/OS [6-7]_\d/.test(navigator.userAgent),d=0<navigator.userAgent.indexOf("BB10");c.prototype.needsClick=function(b){switch(b.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(b.disabled)return!0;break;case "input":if(g&&"file"===b.type||b.disabled)return!0;break;case "label":case "iframe":case "video":return!0}return/\bneedsclick\b/.test(b.className)};c.prototype.needsFocus=function(d){switch(d.nodeName.toLowerCase()){case "textarea":return!0;
case "select":return!b;case "input":switch(d.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return!1}return!d.disabled&&!d.readOnly;default:return/\bneedsfocus\b/.test(d.className)}};c.prototype.sendClick=function(b,d){var c,e;document.activeElement&&document.activeElement!==b&&document.activeElement.blur();e=d.changedTouches[0];c=document.createEvent("MouseEvents");c.initMouseEvent(this.determineEventType(b),!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,
!1,!1,!1,!1,0,null);c.forwardedTouchEvent=!0;b.dispatchEvent(c)};c.prototype.determineEventType=function(d){return b&&"select"===d.tagName.toLowerCase()?"mousedown":"click"};c.prototype.focus=function(b){var d;g&&b.setSelectionRange&&0!==b.type.indexOf("date")&&"time"!==b.type&&"month"!==b.type?(d=b.value.length,b.setSelectionRange(d,d)):b.focus()};c.prototype.updateScrollParent=function(b){var d,c;d=b.fastClickScrollParent;if(!d||!d.contains(b)){c=b;do{if(c.scrollHeight>c.offsetHeight){d=c;b.fastClickScrollParent=
c;break}c=c.parentElement}while(c)}d&&(d.fastClickLastScrollTop=d.scrollTop)};c.prototype.getTargetElementFromEventTarget=function(b){return b.nodeType===Node.TEXT_NODE?b.parentNode:b};c.prototype.onTouchStart=function(b){var d,c,e;if(1<b.targetTouches.length)return!0;d=this.getTargetElementFromEventTarget(b.target);c=b.targetTouches[0];if(g){e=window.getSelection();if(e.rangeCount&&!e.isCollapsed)return!0;if(!k){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return b.preventDefault(),!1;
this.lastTouchIdentifier=c.identifier;this.updateScrollParent(d)}}this.trackingClick=!0;this.trackingClickStart=b.timeStamp;this.targetElement=d;this.touchStartX=c.pageX;this.touchStartY=c.pageY;b.timeStamp-this.lastClickTime<this.tapDelay&&b.preventDefault();return!0};c.prototype.touchHasMoved=function(b){b=b.changedTouches[0];var d=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>d||Math.abs(b.pageY-this.touchStartY)>d?!0:!1};c.prototype.onTouchMove=function(b){if(!this.trackingClick)return!0;
if(this.targetElement!==this.getTargetElementFromEventTarget(b.target)||this.touchHasMoved(b))this.trackingClick=!1,this.targetElement=null;return!0};c.prototype.findControl=function(b){return void 0!==b.control?b.control:b.htmlFor?document.getElementById(b.htmlFor):b.querySelector("button, input:not([type\x3dhidden]), keygen, meter, output, progress, select, textarea")};c.prototype.onTouchEnd=function(d){var c,e,p=this.targetElement;if(!this.trackingClick)return!0;if(d.timeStamp-this.lastClickTime<
this.tapDelay)return this.cancelNextClick=!0;if(d.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;this.cancelNextClick=!1;this.lastClickTime=d.timeStamp;c=this.trackingClickStart;this.trackingClick=!1;this.trackingClickStart=0;h&&(e=d.changedTouches[0],p=document.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset)||p,p.fastClickScrollParent=this.targetElement.fastClickScrollParent);e=p.tagName.toLowerCase();if("label"===e){if(c=this.findControl(p)){this.focus(p);if(b)return!1;
p=c}}else if(this.needsFocus(p)){if(100<d.timeStamp-c||g&&window.top!==window&&"input"===e)return this.targetElement=null,!1;this.focus(p);this.sendClick(p,d);g&&"select"===e||(this.targetElement=null,d.preventDefault());return!1}if(g&&!k&&(c=p.fastClickScrollParent)&&c.fastClickLastScrollTop!==c.scrollTop)return!0;this.needsClick(p)||(d.preventDefault(),this.sendClick(p,d));return!1};c.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};c.prototype.onMouse=function(b){return this.targetElement&&
!b.forwardedTouchEvent&&b.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(b.stopImmediatePropagation?b.stopImmediatePropagation():b.propagationStopped=!0,b.stopPropagation(),b.preventDefault(),!1):!0:!0};c.prototype.onClick=function(b){if(this.trackingClick)return this.targetElement=null,this.trackingClick=!1,!0;if("submit"===b.target.type&&0===b.detail)return!0;b=this.onMouse(b);b||(this.targetElement=null);return b};c.prototype.destroy=function(){var d=this.layer;b&&(d.removeEventListener("mouseover",
this.onMouse,!0),d.removeEventListener("mousedown",this.onMouse,!0),d.removeEventListener("mouseup",this.onMouse,!0));d.removeEventListener("click",this.onClick,!0);d.removeEventListener("touchstart",this.onTouchStart,!1);d.removeEventListener("touchmove",this.onTouchMove,!1);d.removeEventListener("touchend",this.onTouchEnd,!1);d.removeEventListener("touchcancel",this.onTouchCancel,!1)};c.notNeeded=function(c){var e,h;if("undefined"===typeof window.ontouchstart)return!0;if(h=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||
[,0])[1])if(b){if((e=document.querySelector("meta[name\x3dviewport]"))&&(-1!==e.content.indexOf("user-scalable\x3dno")||31<h&&document.documentElement.scrollWidth<=window.outerWidth))return!0}else return!0;return d&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),10<=e[1]&&3<=e[2]&&(e=document.querySelector("meta[name\x3dviewport]"))&&(-1!==e.content.indexOf("user-scalable\x3dno")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===c.style.msTouchAction||"manipulation"===
c.style.touchAction||27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(e=document.querySelector("meta[name\x3dviewport]"))&&(-1!==e.content.indexOf("user-scalable\x3dno")||document.documentElement.scrollWidth<=window.outerWidth)?!0:"none"===c.style.touchAction||"manipulation"===c.style.touchAction?!0:!1};c.attach=function(b,d){return new c(b,d)};"function"===typeof define&&"object"===typeof define.amd&&define.amd?define(function(){return c}):"undefined"!==typeof module&&module.exports?
(module.exports=c.attach,module.exports.FastClick=c):window.FastClick=c})();
!function(c,e){"undefined"!=typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):c.buzz=e()}(this,function(){var c=window.AudioContext||window.webkitAudioContext,e={defaults:{autoplay:!1,crossOrigin:null,duration:5E3,formats:[],loop:!1,placeholder:"--",preload:"metadata",volume:80,webAudioApi:!1,document:window.document},types:{mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},sounds:[],el:document.createElement("audio"),
getAudioContext:function(){if(void 0===this.audioCtx)try{this.audioCtx=c?new c:null}catch(b){this.audioCtx=null}return this.audioCtx},sound:function(b,c){function k(b){for(var d=[],c=b.length-1,e=0;c>=e;e++)d.push({start:b.start(e),end:b.end(e)});return d}c=c||{};var h=c.document||e.defaults.document,d=0,f=[],l={},n=e.isSupported();if(this.load=function(){return n?(this.sound.load(),this):this},this.play=function(){return n?(this.sound.play(),this):this},this.togglePlay=function(){return n?(this.sound.paused?
this.sound.play():this.sound.pause(),this):this},this.pause=function(){return n?(this.sound.pause(),this):this},this.isPaused=function(){return n?this.sound.paused:null},this.stop=function(){return n?(this.setTime(0),this.sound.pause(),this):this},this.isEnded=function(){return n?this.sound.ended:null},this.loop=function(){return n?(this.sound.loop="loop",this.bind("ended.buzzloop",function(){this.currentTime=0;this.play()}),this):this},this.unloop=function(){return n?(this.sound.removeAttribute("loop"),
this.unbind("ended.buzzloop"),this):this},this.mute=function(){return n?(this.sound.muted=!0,this):this},this.unmute=function(){return n?(this.sound.muted=!1,this):this},this.toggleMute=function(){return n?(this.sound.muted=!this.sound.muted,this):this},this.isMuted=function(){return n?this.sound.muted:null},this.setVolume=function(b){return n?(0>b&&(b=0),100<b&&(b=100),this.volume=b,this.sound.volume=b/100,this):this},this.getVolume=function(){return n?this.volume:this},this.increaseVolume=function(b){return this.setVolume(this.volume+
(b||1))},this.decreaseVolume=function(b){return this.setVolume(this.volume-(b||1))},this.setTime=function(b){if(!n)return this;var d=!0;return this.whenReady(function(){!0===d&&(d=!1,this.sound.currentTime=b)}),this},this.getTime=function(){if(!n)return null;var b=Math.round(100*this.sound.currentTime)/100;return isNaN(b)?e.defaults.placeholder:b},this.setPercent=function(b){return n?this.setTime(e.fromPercent(b,this.sound.duration)):this},this.getPercent=function(){if(!n)return null;var b=Math.round(e.toPercent(this.sound.currentTime,
this.sound.duration));return isNaN(b)?e.defaults.placeholder:b},this.setSpeed=function(b){return n?(this.sound.playbackRate=b,this):this},this.getSpeed=function(){return n?this.sound.playbackRate:null},this.getDuration=function(){if(!n)return null;var b=Math.round(100*this.sound.duration)/100;return isNaN(b)?e.defaults.placeholder:b},this.getPlayed=function(){return n?k(this.sound.played):null},this.getBuffered=function(){return n?k(this.sound.buffered):null},this.getSeekable=function(){return n?
k(this.sound.seekable):null},this.getErrorCode=function(){return n&&this.sound.error?this.sound.error.code:0},this.getErrorMessage=function(){if(!n)return null;switch(this.getErrorCode()){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return null}},this.getStateCode=function(){return n?this.sound.readyState:null},this.getStateMessage=function(){if(!n)return null;switch(this.getStateCode()){case 0:return"HAVE_NOTHING";
case 1:return"HAVE_METADATA";case 2:return"HAVE_CURRENT_DATA";case 3:return"HAVE_FUTURE_DATA";case 4:return"HAVE_ENOUGH_DATA";default:return null}},this.getNetworkStateCode=function(){return n?this.sound.networkState:null},this.getNetworkStateMessage=function(){if(!n)return null;switch(this.getNetworkStateCode()){case 0:return"NETWORK_EMPTY";case 1:return"NETWORK_IDLE";case 2:return"NETWORK_LOADING";case 3:return"NETWORK_NO_SOURCE";default:return null}},this.set=function(b,d){return n?(this.sound[b]=
d,this):this},this.get=function(b){return n?b?this.sound[b]:this.sound:null},this.bind=function(b,d){if(!n)return this;b=b.split(" ");for(var c=this,e=function(b){d.call(c,b)},h=0;h<b.length;h++){var g=b[h],k=g,g=k.split(".")[0];f.push({idx:k,func:e});this.sound.addEventListener(g,e,!0)}return this},this.unbind=function(b){if(!n)return this;b=b.split(" ");for(var d=0;d<b.length;d++)for(var c=b[d],e=c.split(".")[0],h=0;h<f.length;h++){var g=f[h].idx.split(".");(f[h].idx===c||g[1]&&g[1]===c.replace(".",
""))&&(this.sound.removeEventListener(e,f[h].func,!0),f.splice(h,1))}return this},this.bindOnce=function(b,c){if(!n)return this;var e=this;return l[d++]=!1,this.bind(b+"."+d,function(){l[d]||(l[d]=!0,c.call(e));e.unbind(b+"."+d)}),this},this.trigger=function(b,d){if(!n)return this;b=b.split(" ");for(var c=0;c<b.length;c++)for(var e=b[c],g=0;g<f.length;g++){var k=f[g].idx.split(".");if(f[g].idx===e||k[0]&&k[0]===e.replace(".","")){var l=h.createEvent("HTMLEvents");l.initEvent(k[0],!1,!0);l.originalEvent=
d;this.sound.dispatchEvent(l)}}return this},this.fadeTo=function(b,d,c){function f(){clearTimeout(h);h=setTimeout(function(){b>g&&l.volume<b?(l.setVolume(l.volume+=1),f()):g>b&&l.volume>b?(l.setVolume(l.volume-=1),f()):c instanceof Function&&c.apply(l)},k)}if(!n)return this;d instanceof Function?(c=d,d=e.defaults.duration):d=d||e.defaults.duration;var h,g=this.volume,k=d/Math.abs(g-b),l=this;return this.play(),this.whenReady(function(){f()}),this},this.fadeIn=function(b,d){return n?this.setVolume(0).fadeTo(100,
b,d):this},this.fadeOut=function(b,d){return n?this.fadeTo(0,b,d):this},this.fadeWith=function(b,d){return n?(this.fadeOut(d,function(){this.stop()}),b.play().fadeIn(d),this):this},this.whenReady=function(b){if(!n)return null;var d=this;0===this.sound.readyState?this.bind("canplay.buzzwhenready",function(){b.call(d)}):b.call(d)},this.addSource=function(b){var d=this,c=h.createElement("source");return c.src=b,e.types[b.split(".").pop()]&&(c.type=e.types[b.split(".").pop()]),this.sound.appendChild(c),
c.addEventListener("error",function(b){d.trigger("sourceerror",b)}),c},n&&b){for(var p in e.defaults)e.defaults.hasOwnProperty(p)&&void 0===c[p]&&(c[p]=e.defaults[p]);(this.sound=h.createElement("audio"),null!==c.crossOrigin&&(this.sound.crossOrigin=c.crossOrigin),c.webAudioApi)&&(p=e.getAudioContext())&&(this.source=p.createMediaElementSource(this.sound),this.source.connect(p.destination));if(b instanceof Array)for(var q in b)b.hasOwnProperty(q)&&this.addSource(b[q]);else if(c.formats.length)for(var r in c.formats)c.formats.hasOwnProperty(r)&&
this.addSource(b+"."+c.formats[r]);else this.addSource(b);c.loop&&this.loop();c.autoplay&&(this.sound.autoplay="autoplay");!0===c.preload?this.sound.preload="auto":!1===c.preload?this.sound.preload="none":this.sound.preload=c.preload;this.setVolume(c.volume);e.sounds.push(this)}},group:function(b){function c(){for(var h=e(null,arguments),d=h.shift(),f=0;f<b.length;f++)b[f][d].apply(b[f],h)}function e(b,d){return b instanceof Array?b:Array.prototype.slice.call(d)}b=e(b,arguments);this.getSounds=function(){return b};
this.add=function(c){c=e(c,arguments);for(var d=0;d<c.length;d++)b.push(c[d])};this.remove=function(c){c=e(c,arguments);for(var d=0;d<c.length;d++)for(var f=0;f<b.length;f++)if(b[f]===c[d]){b.splice(f,1);break}};this.load=function(){return c("load"),this};this.play=function(){return c("play"),this};this.togglePlay=function(){return c("togglePlay"),this};this.pause=function(b){return c("pause",b),this};this.stop=function(){return c("stop"),this};this.mute=function(){return c("mute"),this};this.unmute=
function(){return c("unmute"),this};this.toggleMute=function(){return c("toggleMute"),this};this.setVolume=function(b){return c("setVolume",b),this};this.increaseVolume=function(b){return c("increaseVolume",b),this};this.decreaseVolume=function(b){return c("decreaseVolume",b),this};this.loop=function(){return c("loop"),this};this.unloop=function(){return c("unloop"),this};this.setSpeed=function(b){return c("setSpeed",b),this};this.setTime=function(b){return c("setTime",b),this};this.set=function(b,
d){return c("set",b,d),this};this.bind=function(b,d){return c("bind",b,d),this};this.unbind=function(b){return c("unbind",b),this};this.bindOnce=function(b,d){return c("bindOnce",b,d),this};this.trigger=function(b){return c("trigger",b),this};this.fade=function(b,d,e,k){return c("fade",b,d,e,k),this};this.fadeIn=function(b,d){return c("fadeIn",b,d),this};this.fadeOut=function(b,d){return c("fadeOut",b,d),this}},all:function(){return new e.group(e.sounds)},isSupported:function(){return!!e.el.canPlayType},
isOGGSupported:function(){return!!e.el.canPlayType&&e.el.canPlayType('audio/ogg; codecs\x3d"vorbis"')},isWAVSupported:function(){return!!e.el.canPlayType&&e.el.canPlayType('audio/wav; codecs\x3d"1"')},isMP3Supported:function(){return!!e.el.canPlayType&&e.el.canPlayType("audio/mpeg;")},isAACSupported:function(){return!!e.el.canPlayType&&(e.el.canPlayType("audio/x-m4a;")||e.el.canPlayType("audio/aac;"))},toTimer:function(b,c){var e,h,d;return e=Math.floor(b/3600),e=isNaN(e)?"--":10<=e?e:"0"+e,h=c?Math.floor(b/
60%60):Math.floor(b/60),h=isNaN(h)?"--":10<=h?h:"0"+h,d=Math.floor(b%60),d=isNaN(d)?"--":10<=d?d:"0"+d,c?e+":"+h+":"+d:h+":"+d},fromTimer:function(b){var c=b.toString().split(":");return c&&3===c.length&&(b=3600*parseInt(c[0],10)+60*parseInt(c[1],10)+parseInt(c[2],10)),c&&2===c.length&&(b=60*parseInt(c[0],10)+parseInt(c[1],10)),b},toPercent:function(b,c,e){e=Math.pow(10,e||0);return Math.round(100*b/c*e)/e},fromPercent:function(b,c,e){e=Math.pow(10,e||0);return Math.round(c/100*b*e)/e}};return e});
!function(c,e,b,g){e="undefined"!=typeof e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();c.fn.sidebar=function(k){var h,d=c(this),f=c(e),l=c(b),n=c("html"),p=c("head"),q=d.selector||"",r=(new Date).getTime(),s=[],v=arguments[0],z="string"==typeof v,w=[].slice.call(arguments,1),B=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(b){setTimeout(b,0)};return d.each(function(){var d,u,D,C,F,
A,H=c.isPlainObject(k)?c.extend(!0,{},c.fn.sidebar.settings,k):c.extend({},c.fn.sidebar.settings),L=H.selector,J=H.className,Q=H.namespace,O=H.regExp,N=H.error,R="."+Q,T="module-"+Q,W=c(this),ba=c(H.context),qa=W.children(L.sidebar);ba.children(L.fixed);var P=ba.children(L.pusher),K=this,ea=W.data(T);A={initialize:function(){A.debug("Initializing sidebar",k);A.create.id();F=A.get.transitionEvent();A.is.ios()&&A.set.ios();H.delaySetup?B(A.setup.layout):A.setup.layout();B(function(){A.setup.cache()});
A.instantiate()},instantiate:function(){A.verbose("Storing instance of module",A);ea=A;W.data(T,A)},create:{id:function(){D=(Math.random().toString(16)+"000000000").substr(2,8);u="."+D;A.verbose("Creating unique id for element",D)}},destroy:function(){A.verbose("Destroying previous module for",W);W.off(R).removeData(T);A.is.ios()&&A.remove.ios();ba.off(u);f.off(u);l.off(u)},event:{clickaway:function(b){var d=0<P.find(b.target).length||P.is(b.target);b=ba.is(b.target);d&&(A.verbose("User clicked on dimmed page"),
A.hide());b&&(A.verbose("User clicked on dimmable context (scaled out page)"),A.hide())},touch:function(b){},containScroll:function(b){0>=K.scrollTop&&(K.scrollTop=1);K.scrollTop+K.offsetHeight>=K.scrollHeight&&(K.scrollTop=K.scrollHeight-K.offsetHeight-1)},scroll:function(b){0===c(b.target).closest(L.sidebar).length&&b.preventDefault()}},bind:{clickaway:function(){A.verbose("Adding clickaway events to context",ba);H.closable&&ba.on("click"+u,A.event.clickaway).on("touchend"+u,A.event.clickaway)},
scrollLock:function(){H.scrollLock&&(A.debug("Disabling page scroll"),f.on("DOMMouseScroll"+u,A.event.scroll));A.verbose("Adding events to contain sidebar scroll");l.on("touchmove"+u,A.event.touch);W.on("scroll"+R,A.event.containScroll)}},unbind:{clickaway:function(){A.verbose("Removing clickaway events from context",ba);ba.off(u)},scrollLock:function(){A.verbose("Removing scroll lock from page");l.off(u);f.off(u);W.off("scroll"+R)}},add:{inlineCSS:function(){var b,e=A.cache.width||W.outerWidth(),
f=A.cache.height||W.outerHeight();b=A.is.rtl();var h=A.get.direction(),f={left:e,right:-e,top:f,bottom:-f};b&&(A.verbose("RTL detected, flipping widths"),f.left=-e,f.right=e);b="\x3cstyle\x3e";"left"===h||"right"===h?(A.debug("Adding CSS rules for animation distance",e),b+=" .ui.visible."+h+".sidebar ~ .fixed, .ui.visible."+h+".sidebar ~ .pusher {   -webkit-transform: translate3d("+f[h]+"px, 0, 0);           transform: translate3d("+f[h]+"px, 0, 0); }"):("top"===h||"bottom"==h)&&(b+=" .ui.visible."+
h+".sidebar ~ .fixed, .ui.visible."+h+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+f[h]+"px, 0);           transform: translate3d(0, "+f[h]+"px, 0); }");A.is.ie()&&("left"===h||"right"===h?(A.debug("Adding CSS rules for animation distance",e),b+=" body.pushable \x3e .ui.visible."+h+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+f[h]+"px, 0, 0);           transform: translate3d("+f[h]+"px, 0, 0); }"):("top"===h||"bottom"==h)&&(b+=" body.pushable \x3e .ui.visible."+h+
".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+f[h]+"px, 0);           transform: translate3d(0, "+f[h]+"px, 0); }"),b+=" body.pushable \x3e .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable \x3e .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }");d=c(b+"\x3c/style\x3e").appendTo(p);A.debug("Adding sizing css to head",d)}},refresh:function(){A.verbose("Refreshing selector cache");
ba=c(H.context);qa=ba.children(L.sidebar);P=ba.children(L.pusher);ba.children(L.fixed);A.clear.cache()},refreshSidebars:function(){A.verbose("Refreshing other sidebars");qa=ba.children(L.sidebar)},repaint:function(){A.verbose("Forcing repaint event");K.style.display="none";K.offsetHeight;K.scrollTop=K.scrollTop;K.style.display=""},setup:{cache:function(){A.cache={width:W.outerWidth(),height:W.outerHeight(),rtl:"rtl"==W.css("direction")}},layout:function(){0===ba.children(L.pusher).length&&(A.debug("Adding wrapper element for sidebar"),
A.error(N.pusher),P=c('\x3cdiv class\x3d"pusher" /\x3e'),ba.children().not(L.omitted).not(qa).wrapAll(P),A.refresh());0!==W.nextAll(L.pusher).length&&W.nextAll(L.pusher)[0]===P[0]||(A.debug("Moved sidebar to correct parent element"),A.error(N.movedSidebar,K),W.detach().prependTo(ba),A.refresh());A.clear.cache();A.set.pushable();A.set.direction()}},attachEvents:function(b,d){var e=c(b);d=c.isFunction(A[d])?A[d]:A.toggle;0<e.length?(A.debug("Attaching sidebar events to element",b,d),e.on("click"+R,
d)):A.error(N.notFound,b)},show:function(b){if(b=c.isFunction(b)?b:function(){},A.is.hidden()){if(A.refreshSidebars(),H.overlay&&(A.error(N.overlay),H.transition="overlay"),A.refresh(),A.othersActive())if(A.debug("Other sidebars currently visible"),H.exclusive){if("overlay"!=H.transition)return void A.hideOthers(A.show);A.hideOthers()}else H.transition="overlay";A.pushPage(function(){b.call(K);H.onShow.call(K)});H.onChange.call(K);H.onVisible.call(K)}else A.debug("Sidebar is already visible")},hide:function(b){b=
c.isFunction(b)?b:function(){};(A.is.visible()||A.is.animating())&&(A.debug("Hiding sidebar",b),A.refreshSidebars(),A.pullPage(function(){b.call(K);H.onHidden.call(K)}),H.onChange.call(K),H.onHide.call(K))},othersAnimating:function(){return 0<qa.not(W).filter("."+J.animating).length},othersVisible:function(){return 0<qa.not(W).filter("."+J.visible).length},othersActive:function(){return A.othersVisible()||A.othersAnimating()},hideOthers:function(b){var d=qa.not(W).filter("."+J.visible),c=d.length,
e=0;b=b||function(){};d.sidebar("hide",function(){e++;e==c&&b()})},toggle:function(){A.verbose("Determining toggled direction");A.is.hidden()?A.show():A.hide()},pushPage:function(b){var d,e;d=A.get.transition();var f="overlay"===d||A.othersActive()?W:P;b=c.isFunction(b)?b:function(){};"scale down"==H.transition&&A.scrollToTop();A.set.transition(d);A.repaint();d=function(){A.set.dimmed()};e=function(d){d.target==f[0]&&(f.off(F+u,e),A.remove.animating(),A.bind.scrollLock(),b.call(K))};f.off(F+u);f.on(F+
u,e);B(function(){A.bind.clickaway();A.add.inlineCSS();A.set.animating();A.set.visible()});H.dimPage&&!A.othersVisible()&&B(d)},pullPage:function(b){var d,e=A.get.transition(),f="overlay"==e||A.othersActive()?W:P;b=c.isFunction(b)?b:function(){};A.verbose("Removing context push state",A.get.direction());A.unbind.clickaway();A.unbind.scrollLock();d=function(c){c.target==f[0]&&(f.off(F+u,d),A.remove.animating(),A.remove.transition(),A.remove.inlineCSS(),("scale down"==e||H.returnScroll&&A.is.mobile())&&
A.scrollBack(),b.call(K))};f.off(F+u);f.on(F+u,d);B(function(){A.set.transition(e);A.set.animating();A.remove.visible();H.dimPage&&!A.othersVisible()&&P.removeClass(J.dimmed)})},scrollToTop:function(){A.verbose("Scrolling to top of page to avoid animation issues");C=c(e).scrollTop();W.scrollTop(0);e.scrollTo(0,0)},scrollBack:function(){A.verbose("Scrolling back to original page position");e.scrollTo(0,C)},clear:{cache:function(){A.verbose("Clearing cached dimensions");A.cache={}}},set:{ios:function(){n.addClass(J.ios)},
pushed:function(){ba.addClass(J.pushed)},pushable:function(){ba.addClass(J.pushable)},dimmed:function(){P.addClass(J.dimmed)},active:function(){W.addClass(J.active)},animating:function(){W.addClass(J.animating)},transition:function(b){b=b||A.get.transition();W.addClass(b)},direction:function(b){b=b||A.get.direction();W.addClass(J[b])},visible:function(){W.addClass(J.visible)},overlay:function(){W.addClass(J.overlay)}},remove:{inlineCSS:function(){A.debug("Removing inline css styles",d);d&&0<d.length&&
d.remove()},ios:function(){n.removeClass(J.ios)},pushed:function(){ba.removeClass(J.pushed)},pushable:function(){ba.removeClass(J.pushable)},active:function(){W.removeClass(J.active)},animating:function(){W.removeClass(J.animating)},transition:function(b){b=b||A.get.transition();W.removeClass(b)},direction:function(b){b=b||A.get.direction();W.removeClass(J[b])},visible:function(){W.removeClass(J.visible)},overlay:function(){W.removeClass(J.overlay)}},get:{direction:function(){return W.hasClass(J.top)?
J.top:W.hasClass(J.right)?J.right:W.hasClass(J.bottom)?J.bottom:J.left},transition:function(){var b,d=A.get.direction();return b=A.is.mobile()?"auto"==H.mobileTransition?H.defaultTransition.mobile[d]:H.mobileTransition:"auto"==H.transition?H.defaultTransition.computer[d]:H.transition,A.verbose("Determined transition",b),b},transitionEvent:function(){var d,c=b.createElement("element"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};
for(d in e)if(c.style[d]!==g)return e[d]}},is:{ie:function(){var b="ActiveXObject"in e;return!e.ActiveXObject&&"ActiveXObject"in e||b},ios:function(){var b=navigator.userAgent,d=b.match(O.ios),c=b.match(O.mobileChrome);return d&&!c?(A.verbose("Browser was found to be iOS",b),!0):!1},mobile:function(){var b=navigator.userAgent;return b.match(O.mobile)?(A.verbose("Browser was found to be mobile",b),!0):(A.verbose("Browser is not mobile, using regular transition",b),!1)},hidden:function(){return!A.is.visible()},
visible:function(){return W.hasClass(J.visible)},open:function(){return A.is.visible()},closed:function(){return A.is.hidden()},vertical:function(){return W.hasClass(J.top)},animating:function(){return ba.hasClass(J.animating)},rtl:function(){return A.cache.rtl===g&&(A.cache.rtl="rtl"==W.css("direction")),A.cache.rtl}},setting:function(b,d){if(A.debug("Changing setting",b,d),c.isPlainObject(b))c.extend(!0,H,b);else{if(d===g)return H[b];c.isPlainObject(H[b])?c.extend(!0,H[b],d):H[b]=d}},internal:function(b,
d){if(c.isPlainObject(b))c.extend(!0,A,b);else{if(d===g)return A[b];A[b]=d}},debug:function(){!H.silent&&H.debug&&(H.performance?A.performance.log(arguments):(A.debug=Function.prototype.bind.call(console.info,console,H.name+":"),A.debug.apply(console,arguments)))},verbose:function(){!H.silent&&H.verbose&&H.debug&&(H.performance?A.performance.log(arguments):(A.verbose=Function.prototype.bind.call(console.info,console,H.name+":"),A.verbose.apply(console,arguments)))},error:function(){H.silent||(A.error=
Function.prototype.bind.call(console.error,console,H.name+":"),A.error.apply(console,arguments))},performance:{log:function(b){var d,c,e;H.performance&&(d=(new Date).getTime(),e=r||d,c=d-e,r=d,s.push({Name:b[0],Arguments:[].slice.call(b,1)||"",Element:K,"Execution Time":c}));clearTimeout(A.performance.timer);A.performance.timer=setTimeout(A.performance.display,500)},display:function(){var b=H.name+":",d=0;r=!1;clearTimeout(A.performance.timer);c.each(s,function(b,c){d+=c["Execution Time"]});b+=" "+
d+"ms";q&&(b+=" '"+q+"'");(console.group!==g||console.table!==g)&&0<s.length&&(console.groupCollapsed(b),console.table?console.table(s):c.each(s,function(b,d){console.log(d.Name+": "+d["Execution Time"]+"ms")}),console.groupEnd());s=[]}},invoke:function(b,d,e){var f,k,l,n=ea;return d=d||w,e=K||e,"string"==typeof b&&n!==g&&(b=b.split(/[\. ]/),f=b.length-1,c.each(b,function(d,e){var h=d!=f?e+b[d+1].charAt(0).toUpperCase()+b[d+1].slice(1):b;if(c.isPlainObject(n[h])&&d!=f)n=n[h];else{if(n[h]!==g)return k=
n[h],!1;if(!c.isPlainObject(n[e])||d==f)return n[e]!==g?(k=n[e],!1):(A.error(N.method,b),!1);n=n[e]}})),c.isFunction(k)?l=k.apply(e,d):k!==g&&(l=k),c.isArray(h)?h.push(l):h!==g?h=[h,l]:l!==g&&(h=l),k}};z?(ea===g&&A.initialize(),A.invoke(v)):(ea!==g&&A.invoke("destroy"),A.initialize())}),h!==g?h:this};c.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",
top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},
selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",
movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document);
var makeVideoPlayableInline=function(){function c(b){function d(f){c=requestAnimationFrame(d);b(f-(e||f));e=f}var c,e;this.start=function(){c||d(0)};this.stop=function(){cancelAnimationFrame(c);c=null;e=0}}function e(b,d,c,e){function f(d){Boolean(b[c])===Boolean(e)&&d.stopImmediatePropagation();delete b[c]}return b.addEventListener(d,f,!1),f}function b(b,d,c,e){function f(b){c[d]=b}e&&f(b[d]);Object.defineProperty(b,d,{get:function(){return c[d]},set:f})}function g(b,d,c){c.addEventListener(d,function(){return b.dispatchEvent(new Event(d))})}
function k(b,d){Promise.resolve().then(function(){b.dispatchEvent(new Event(d))})}function h(b){var d=new Audio;return g(b,"play",d),g(b,"playing",d),g(b,"pause",d),d.crossOrigin=b.crossOrigin,d.src=b.src||b.currentSrc||"data:",d}function d(b,d,c){(r||0)+200<Date.now()&&(b[w]=!0,r=Date.now());c||(b.currentTime=d);u[++D%3]=100*d|0}function f(b){this.video.readyState>=this.video.HAVE_FUTURE_DATA?(this.hasAudio||(this.driver.currentTime=this.video.currentTime+b*this.video.playbackRate/1E3,this.video.loop&&
this.driver.currentTime>=this.video.duration&&(this.driver.currentTime=0)),d(this.video,this.driver.currentTime)):this.video.networkState!==this.video.NETWORK_IDLE||this.video.buffered.length||this.video.load();this.video.ended&&(delete this.video[w],this.video.pause(!0))}function l(){var b=this[z];return this.webkitDisplayingFullscreen?void this[B]():("data:"!==b.driver.src&&b.driver.src!==this.src&&(d(this,0,!0),b.driver.src=this.src),void(this.paused&&(b.paused=!1,this.buffered.length||this.load(),
b.driver.play(),b.updater.start(),b.hasAudio||(k(this,"play"),b.video.readyState>=b.video.HAVE_ENOUGH_DATA&&k(this,"playing")))))}function n(b){var d=this[z];d.driver.pause();d.updater.stop();this.webkitDisplayingFullscreen&&this[E]();d.paused&&!b||(d.paused=!0,d.hasAudio||k(this,"pause"),this.ended&&(this[w]=!0,k(this,"ended")))}function p(b,e){var g=b[z]={};g.paused=!0;g.hasAudio=e;g.video=b;g.updater=new c(f.bind(g));e?g.driver=h(b):(b.addEventListener("canplay",function(){b.paused||k(b,"playing")}),
g.driver={src:b.src||b.currentSrc||"data:",muted:!0,paused:!0,pause:function(){g.driver.paused=!0},play:function(){g.driver.paused=!1;g.driver.currentTime>=g.video.duration&&d(b,0)},get ended(){return g.driver.currentTime>=g.video.duration}});b.addEventListener("emptied",function(){var c=!g.driver.src||"data:"===g.driver.src;g.driver.src&&g.driver.src!==b.src&&(d(b,0,!0),g.driver.src=b.src,c?g.driver.play():g.updater.stop())},!1);b.addEventListener("webkitbeginfullscreen",function(){b.paused?e&&!g.driver.buffered.length&&
g.driver.load():(b.pause(),b[B]())});e&&(b.addEventListener("webkitendfullscreen",function(){g.driver.currentTime=b.currentTime}),b.addEventListener("seeking",function(){0>u.indexOf(100*b.currentTime|0)&&(g.driver.currentTime=b.currentTime)}))}function q(d,c,f){void 0===c&&(c=!0);void 0===f&&(f=!0);f&&!v||d[z]||(p(d,c),f=d[z],d[B]=d.play,d[E]=d.pause,d.play=l,d.pause=n,b(d,"paused",f.driver),b(d,"muted",f.driver,!0),b(d,"playbackRate",f.driver,!0),b(d,"ended",f.driver),b(d,"loop",f.driver,!0),e(d,
"seeking"),e(d,"seeked"),e(d,"timeupdate",w,!1),e(d,"ended",w,!1),d.classList.add("IIV"),!c&&d.autoplay&&d.play(),"MacIntel"!==navigator.platform&&"Windows"!==navigator.platform||console.warn("iphone-inline-video is not guaranteed to work in emulated environments"))}var r,s="undefined"==typeof Symbol?function(b){return"@"+(b||"@")+Math.random()}:Symbol,v=/iPhone|iPod/i.test(navigator.userAgent)&&void 0===document.head.style.grid,z=s(),w=s(),B=s("nativeplay"),E=s("nativepause"),u=[],D=0;return q.isWhitelisted=
v,q}();
window.Modernizr=function(c,e,b){function g(d,c){for(var e in d){var f=d[e];if(!~(""+f).indexOf("-")&&l[f]!==b)return"pfx"==c?f:!0}return!1}function k(d,c,e){var f=d.charAt(0).toUpperCase()+d.slice(1),h=(d+" "+p.join(f+" ")+f).split(" ");if("string"===typeof c||"undefined"===typeof c)c=g(h,c);else a:{h=(d+" "+q.join(f+" ")+f).split(" "),d=h;for(var k in d)if(f=c[d[k]],f!==b){c=!1===e?d[k]:"function"===typeof f?f.bind(e||c):f;break a}c=!1}return c}var h={},d=e.documentElement,f=e.createElement("modernizr"),l=
f.style,n=" -webkit- -moz- -o- -ms- ".split(" "),p=["Webkit","Moz","O","ms"],q=["webkit","moz","o","ms"],f={},r=[],s=r.slice,v,z=function(b,c,f,h){var g,k,l,n,p=e.createElement("div"),q=e.body,r=q||e.createElement("body");if(parseInt(f,10))for(;f--;)l=e.createElement("div"),l.id=h?h[f]:"modernizr"+(f+1),p.appendChild(l);return g=['\x26#173;\x3cstyle id\x3d"smodernizr"\x3e',b,"\x3c/style\x3e"].join(""),p.id="modernizr",(q?p:r).innerHTML+=g,r.appendChild(p),q||(r.style.background="",r.style.overflow=
"hidden",n=d.style.overflow,d.style.overflow="hidden",d.appendChild(r)),k=c(p,b),q?p.parentNode.removeChild(p):(r.parentNode.removeChild(r),d.style.overflow=n),!!k},w={}.hasOwnProperty,B;"undefined"===typeof w||"undefined"===typeof w.call?B=function(b,d){return d in b&&"undefined"===typeof b.constructor.prototype[d]}:B=function(b,d){return w.call(b,d)};Function.prototype.bind||(Function.prototype.bind=function(b){var d=this;if("function"!=typeof d)throw new TypeError;var c=s.call(arguments,1),e=function(){if(this instanceof
e){var f=function(){};f.prototype=d.prototype;var f=new f,h=d.apply(f,c.concat(s.call(arguments)));return Object(h)===h?h:f}return d.apply(b,c.concat(s.call(arguments)))};return e});f.touch=function(){var b;return"ontouchstart"in c||c.DocumentTouch&&e instanceof DocumentTouch?b=!0:z(["@media (",n.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(d){b=9===d.offsetTop}),b};f.cssanimations=function(){return k("animationName")};f.csstransitions=function(){return k("transition")};
for(var E in f)B(f,E)&&(v=E.toLowerCase(),h[v]=f[E](),r.push((h[v]?"":"no-")+v));h.addTest=function(c,e){if("object"==typeof c)for(var f in c)B(c,f)&&h.addTest(f,c[f]);else{c=c.toLowerCase();if(h[c]!==b)return h;e="function"==typeof e?e():e;d.className+=" "+(e?"":"no-")+c;h[c]=e}return h};l.cssText="";return f=null,function(b,d){function c(){var b=z.elements;return"string"==typeof b?b.split(" "):b}function e(b){var d=s[b[q]];return d||(d={},r++,b[q]=r,s[r]=d),d}function f(b,c,h){c||(c=d);if(v)return c.createElement(b);
h||(h=e(c));var g;return h.cache[b]?g=h.cache[b].cloneNode():n.test(b)?g=(h.cache[b]=h.createElem(b)).cloneNode():g=h.createElem(b),g.canHaveChildren&&!l.test(b)?h.frag.appendChild(g):g}function h(b,d){d.cache||(d.cache={},d.createElem=b.createElement,d.createFrag=b.createDocumentFragment,d.frag=d.createFrag());b.createElement=function(c){return z.shivMethods?f(c,b,d):d.createElem(c)};b.createDocumentFragment=Function("h,f","return function(){var n\x3df.cloneNode(),c\x3dn.createElement;h.shivMethods\x26\x26("+
c().join().replace(/\w+/g,function(b){return d.createElem(b),d.frag.createElement(b),'c("'+b+'")'})+");return n}")(z,d.frag)}function g(b){b||(b=d);var c=e(b);if(z.shivCSS&&!p&&!c.hasCSS){var f,k=b;f=k.createElement("p");k=k.getElementsByTagName("head")[0]||k.documentElement;f=(f.innerHTML="x\x3cstyle\x3earticle,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}\x3c/style\x3e",k.insertBefore(f.lastChild,k.firstChild));c.hasCSS=!!f}return v||h(b,
c),b}var k=b.html5||{},l=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,n=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p,q="_html5shiv",r=0,s={},v;(function(){try{var b=d.createElement("a");b.innerHTML="\x3cxyz\x3e\x3c/xyz\x3e";p="hidden"in b;var c;if(!(c=1==b.childNodes.length)){d.createElement("a");var e=d.createDocumentFragment();c="undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||
"undefined"==typeof e.createElement}v=c}catch(f){v=p=!0}})();var z={elements:k.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==k.shivCSS,supportsUnknownElements:v,shivMethods:!1!==k.shivMethods,type:"default",shivDocument:g,createElement:f,createDocumentFragment:function(b,f){b||(b=d);if(v)return b.createDocumentFragment();f=f||e(b);for(var h=f.frag.cloneNode(),g=0,k=
c(),l=k.length;g<l;g++)h.createElement(k[g]);return h}};b.html5=z;g(d)}(this,e),h._version="2.6.2",h._prefixes=n,h._domPrefixes=q,h._cssomPrefixes=p,h.testProp=function(b){return g([b])},h.testAllProps=k,h.testStyles=z,h.prefixed=function(b,d,c){return d?k(b,d,c):k(b,"pfx")},d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+r.join(" ")),h}(this,this.document);
(function(c,e,b){function g(b){return"[object Function]"==v.call(b)}function k(b){return"string"==typeof b}function h(){}function d(b){return!b||"loaded"==b||"complete"==b||"uninitialized"==b}function f(){var b=z.shift();w=1;b?b.t?r(function(){("c"==b.t?Q.injectCss:Q.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),f()):w=0}function l(b,c,h,g,k,l,n){function p(e){if(!v&&d(q.readyState)&&(D.r=v=1,!w&&f(),q.onload=q.onreadystatechange=null,e)){"img"!=b&&r(function(){u.removeChild(q)},50);for(var h in H[c])H[c].hasOwnProperty(h)&&
H[c][h].onload()}}n=n||Q.errorTimeout;var q=e.createElement(b),v=0,A=0,D={t:h,s:c,e:k,a:l,x:n};1===H[c]&&(A=1,H[c]=[]);"object"==b?q.data=c:(q.src=c,q.type=b);q.width=q.height="0";q.onerror=q.onload=q.onreadystatechange=function(){p.call(this,A)};z.splice(g,0,D);"img"!=b&&(A||2===H[c]?(u.insertBefore(q,E?null:s),r(p,n)):H[c].push(q))}function n(b,d,c,e,h){return w=0,d=d||"j",k(b)?l("c"==d?C:D,b,d,this.i++,c,e,h):(z.splice(this.i++,0,b),1==z.length&&f()),this}function p(){var b=Q;return b.loader={load:n,
i:0},b}var q=e.documentElement,r=c.setTimeout,s=e.getElementsByTagName("script")[0],v={}.toString,z=[],w=0,B="MozAppearance"in q.style,E=B&&!!e.createRange().compareNode,u=E?q:s.parentNode,q=c.opera&&"[object Opera]"==v.call(c.opera),q=!!e.attachEvent&&!q,D=B?"object":q?"script":"img",C=q?"script":D,F=Array.isArray||function(b){return"[object Array]"==v.call(b)},A=[],H={},L={timeout:function(b,d){return d.length&&(b.timeout=d[0]),b}},J,Q;Q=function(d){function c(b){b=b.split("!");var d=A.length,e=
b.pop(),f=b.length,e={url:e,origUrl:e,prefixes:b},h,g,k;for(g=0;g<f;g++)k=b[g].split("\x3d"),(h=L[k.shift()])&&(e=h(e,k));for(g=0;g<d;g++)e=A[g](e);return e}function e(d,f,h,k,l){var n=c(d),q=n.autoCallback;n.url.split(".").pop().split("?").shift();n.bypass||(f&&(f=g(f)?f:f[d]||f[k]||f[d.split("/").pop().split("?")[0]]),n.instead?n.instead(d,f,h,k,l):(H[n.url]?n.noexec=!0:H[n.url]=1,h.load(n.url,n.forceCSS||!n.forceJS&&"css"==n.url.split(".").pop().split("?").shift()?"c":b,n.noexec,n.attrs,n.timeout),
(g(f)||g(q))&&h.load(function(){p();f&&f(n.origUrl,l,k);q&&q(n.origUrl,l,k);H[n.url]=2})))}function f(b,d){function c(b,f){if(b)if(k(b))f||(p=function(){var b=[].slice.call(arguments);q.apply(this,b);r()}),e(b,p,d,0,l);else{if(Object(b)===b)for(u in s=function(){var d=0,c;for(c in b)b.hasOwnProperty(c)&&d++;return d}(),b)b.hasOwnProperty(u)&&(!f&&!--s&&(g(p)?p=function(){var b=[].slice.call(arguments);q.apply(this,b);r()}:p[u]=function(b){return function(){var d=[].slice.call(arguments);b&&b.apply(this,
d);r()}}(q[u])),e(b[u],p,d,u,l))}else!f&&r()}var l=!!b.test,n=b.load||b.both,p=b.callback||h,q=p,r=b.complete||h,s,u;c(l?b.yep:b.nope,!!n);n&&c(n)}var l,n,q=this.yepnope.loader;if(k(d))e(d,0,q,0);else if(F(d))for(l=0;l<d.length;l++)n=d[l],k(n)?e(n,0,q,0):F(n)?Q(n):Object(n)===n&&f(n,q);else Object(d)===d&&f(d,q)};Q.addPrefix=function(b,d){L[b]=d};Q.addFilter=function(b){A.push(b)};Q.errorTimeout=1E4;null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",
J=function(){e.removeEventListener("DOMContentLoaded",J,0);e.readyState="complete"},0));c.yepnope=p();c.yepnope.executeStack=f;c.yepnope.injectJs=function(b,c,g,k,l,n){var p=e.createElement("script"),q,u;k=k||Q.errorTimeout;p.src=b;for(u in g)p.setAttribute(u,g[u]);c=n?f:c||h;p.onreadystatechange=p.onload=function(){!q&&d(p.readyState)&&(q=1,c(),p.onload=p.onreadystatechange=null)};r(function(){q||(q=1,c(1))},k);l?p.onload():s.parentNode.insertBefore(p,s)};c.yepnope.injectCss=function(b,d,c,g,k,l){g=
e.createElement("link");var n;d=l?f:d||h;g.href=b;g.rel="stylesheet";g.type="text/css";for(n in c)g.setAttribute(n,c[n]);k||(s.parentNode.insertBefore(g,s),r(d,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
(function(c,e,b){var g=e.Modernizr,k=c("body");c.DLMenu=function(b,d){this.$el=c(d);this._init(b)};c.DLMenu.defaults={animationClasses:{classin:"dl-animate-in-1",classout:"dl-animate-out-1"},onLevelClick:function(b,d){return!1},onLinkClick:function(b,d){return!1},backLabel:"Back",useActiveItemAsBackLabel:!1,useActiveItemAsLink:!1,resetOnClose:!0};c.DLMenu.prototype={_init:function(b){this.options=c.extend(!0,{},c.DLMenu.defaults,b);this._config();this.animEndEventName={WebkitAnimation:"webkitAnimationEnd",
OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[g.prefixed("animation")]+".dlmenu";this.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[g.prefixed("transition")]+".dlmenu";this.supportAnimations=g.cssanimations;this.supportTransitions=g.csstransitions;this._initEvents()},_config:function(){this.open=!1;this.$trigger=this.$el.children(".dl-trigger");
this.$menu=this.$el.children("ul.dl-menu");this.$menuitems=this.$menu.find("li:not(.dl-back)");this.$el.find("ul.dl-submenu").prepend('\x3cli class\x3d"dl-back"\x3e\x3ca href\x3d"#"\x3e'+this.options.backLabel+"\x3c/a\x3e\x3c/li\x3e");this.$back=this.$menu.find("li.dl-back");this.options.useActiveItemAsBackLabel&&this.$back.each(function(){var b=c(this),d=b.parents("li:first").find("a:first").text();b.find("a").html(d)});this.options.useActiveItemAsLink&&this.$el.find("ul.dl-submenu").prepend(function(){var b=
c(this).parents("li:not(.dl-back):first").find("a:first");return'\x3cli class\x3d"dl-parent"\x3e\x3ca href\x3d"'+b.attr("href")+'"\x3e'+b.text()+"\x3c/a\x3e\x3c/li\x3e"})},_initEvents:function(){var b=this;this.$trigger.on("click.dlmenu",function(){b.open?b._closeMenu():(b._openMenu(),c(document).on("click",function(d){b._closeMenu()}));return!1});this.$menuitems.on("click.dlmenu",function(d){d.stopPropagation();var e=c(this),g=e.children("ul.dl-submenu");if(0<g.length&&!c(d.currentTarget).hasClass("dl-subviewopen")){var k=
g.clone().css("opacity",0).insertAfter(b.$menu),p=function(){b.$menu.off(b.animEndEventName).removeClass(b.options.animationClasses.classout).addClass("dl-subview");e.addClass("dl-subviewopen").parents(".dl-subviewopen:first").removeClass("dl-subviewopen").addClass("dl-subview");k.remove()};setTimeout(function(){k.addClass(b.options.animationClasses.classin);b.$menu.addClass(b.options.animationClasses.classout);p.call();b.options.onLevelClick(e,e.children("a:first").text())});return!1}b.options.onLinkClick(e,
d)});this.$back.on("click.dlmenu",function(d){var e=c(this);d=e.parents("ul.dl-submenu:first");var g=d.parent(),k=d.clone().insertAfter(b.$menu),p=function(){b.$menu.off(b.animEndEventName).removeClass(b.options.animationClasses.classin);k.remove()};setTimeout(function(){k.addClass(b.options.animationClasses.classout);b.$menu.addClass(b.options.animationClasses.classin);if(b.supportAnimations)b.$menu.on(b.animEndEventName,p);else p.call();g.removeClass("dl-subviewopen");var d=e.parents(".dl-subview:first");
d.is("li")&&d.addClass("dl-subviewopen");d.removeClass("dl-subview")});return!1})},closeMenu:function(b){this.open&&this._closeMenu(b)},_closeMenu:function(b){var d=this,c=function(){d.$menu.off(d.transEndEventName);d.options.resetOnClose&&d._resetMenu();b&&b()};this.$menu.removeClass("dl-menuopen");this.$menu.addClass("dl-menu-toggle");this.$trigger.removeClass("dl-active");if(this.supportTransitions)this.$menu.on(this.transEndEventName,c);else c.call();this.open=!1},openMenu:function(){this.open||
this._openMenu()},_openMenu:function(){var b=this;k.delegate(".dlmenu","click",function(d){b._closeMenu()});this.$menu.addClass("dl-menuopen dl-menu-toggle").on(this.transEndEventName,function(){c(this).removeClass("dl-menu-toggle")});this.$trigger.addClass("dl-active");this.open=!0},_resetMenu:function(){this.$menu.removeClass("dl-subview");this.$menuitems.removeClass("dl-subview dl-subviewopen")},destroy:function(){this._closeMenu();this.$trigger.off("click.dlmenu");this.$menuitems.off("click.dlmenu");
this.$back.off("click.dlmenu");this.$menu.off(this.animEndEventName).off(this.transEndEventName);this.$el.removeData("dlmenu")}};c.fn.dlmenu=function(b){if("string"===typeof b){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var f=c.data(this,"dlmenu");f?c.isFunction(f[b])&&"_"!==b.charAt(0)?f[b].apply(f,d):e.console&&e.console.error("no such method '"+b+"' for dlmenu instance"):e.console&&e.console.error("cannot call methods on dlmenu prior to initialization; attempted to call method '"+
b+"'")})}else this.each(function(){var d=c.data(this,"dlmenu");d?d._init():c.data(this,"dlmenu",new c.DLMenu(b,this))});return this}})(jQuery,window);
(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):"object"===typeof exports?c(require("jquery")):c(jQuery)})(function(c){function e(b){b=b.split(/\s+/);for(var d=[],c=0,e;e=b[c];c++)e=e.charAt(0).toUpperCase(),d.push(e);return d}function b(b){return b.id&&c('label[for\x3d"'+b.id+'"]').val()||b.name}function g(d,e,f){f||(f=0);e.each(function(){var e=c(this),h=this,k=this.nodeName.toLowerCase(),l,n;"label"===k&&e.find("input, textarea, select").length&&(l=e.text(),e=e.children().first(),
h=e.get(0),k=h.nodeName.toLowerCase());switch(k){case "menu":n={name:e.attr("label"),items:{}};f=g(n.items,e.children(),f);break;case "a":case "button":n={name:e.text(),disabled:!!e.attr("disabled"),callback:function(){return function(){e.click()}}()};break;case "menuitem":case "command":switch(e.attr("type")){case void 0:case "command":case "menuitem":n={name:e.attr("label"),disabled:!!e.attr("disabled"),icon:e.attr("icon"),callback:function(){return function(){e.click()}}()};break;case "checkbox":n=
{type:"checkbox",disabled:!!e.attr("disabled"),name:e.attr("label"),selected:!!e.attr("checked")};break;case "radio":n={type:"radio",disabled:!!e.attr("disabled"),name:e.attr("label"),radio:e.attr("radiogroup"),value:e.attr("id"),selected:!!e.attr("checked")};break;default:n=void 0}break;case "hr":n="-------";break;case "input":switch(e.attr("type")){case "text":n={type:"text",name:l||b(h),disabled:!!e.attr("disabled"),value:e.val()};break;case "checkbox":n={type:"checkbox",name:l||b(h),disabled:!!e.attr("disabled"),
selected:!!e.attr("checked")};break;case "radio":n={type:"radio",name:l||b(h),disabled:!!e.attr("disabled"),radio:!!e.attr("name"),value:e.val(),selected:!!e.attr("checked")};break;default:n=void 0}break;case "select":n={type:"select",name:l||b(h),disabled:!!e.attr("disabled"),selected:e.val(),options:{}};e.children().each(function(){n.options[this.value]=c(this).text()});break;case "textarea":n={type:"textarea",name:l||b(h),disabled:!!e.attr("disabled"),value:e.val()};break;case "label":break;default:n=
{type:"html",html:e.clone(!0)}}n&&(f++,d["key"+f]=n)});return f}c.support.htmlMenuitem="HTMLMenuItemElement"in window;c.support.htmlCommand="HTMLCommandElement"in window;c.support.eventSelectstart="onselectstart"in document.documentElement;c.ui&&c.widget||(c.cleanData=function(b){return function(d){var e,f,h;for(h=0;null!=d[h];h++){f=d[h];try{(e=c._data(f,"events"))&&e.remove&&c(f).triggerHandler("remove")}catch(g){}}b(d)}}(c.cleanData));var k=null,h=!1,d=c(window),f=0,l={},n={},p={},q={selector:null,
appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit"},determinePosition:function(b){if(c.ui&&
c.ui.position)b.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var d=this.offset();d.top+=this.outerHeight();d.left+=this.outerWidth()/2-b.outerWidth()/2;b.css(d)}},position:function(b,c,e){if(c||e){c="maintain"===c&&"maintain"===e?b.$menu.position():{top:e,left:c};e=d.scrollTop()+d.height();var f=d.scrollLeft()+d.width(),h=b.$menu.outerHeight(),g=b.$menu.outerWidth();c.top+h>e&&(c.top-=h);0>c.top&&(c.top=0);c.left+
g>f&&(c.left-=g);0>c.left&&(c.left=0);b.$menu.css(c)}else b.determinePosition.call(this,b.$menu)},positionSubmenu:function(b){if(c.ui&&c.ui.position)b.css("display","block").position({my:"left top",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var d={top:0,left:this.outerWidth()};b.css(d)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:c.noop,hide:c.noop},callback:null,items:{}},r=null,s=null,v=null,z,w=function(b){for(var d=0;d=Math.max(d,
parseInt(b.css("z-index"),10)||0),b=b.parent(),b&&b.length&&!(-1<"html body".indexOf(b.prop("nodeName").toLowerCase())););return d},B={abortevent:function(b){b.preventDefault();b.stopImmediatePropagation()},contextmenu:function(b){var d=c(this);"right"===b.data.trigger&&(b.preventDefault(),b.stopImmediatePropagation());if(!("right"!==b.data.trigger&&"demand"!==b.data.trigger&&b.originalEvent||void 0!==b.mouseButton&&b.data&&!("left"===b.data.trigger&&0===b.mouseButton||"right"===b.data.trigger&&2===
b.mouseButton)||d.hasClass("context-menu-active")||d.hasClass("context-menu-disabled"))){k=d;if(b.data.build){var e=b.data.build(k,b);if(!1===e)return;b.data=c.extend(!0,{},q,b.data,e||{});if(!b.data.items||c.isEmptyObject(b.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),Error("No Items specified");b.data.$trigger=k;E.create(b.data)}var e=!1,f;for(f in b.data.items)b.data.items.hasOwnProperty(f)&&(c.isFunction(b.data.items[f].visible)?
b.data.items[f].visible.call(c(b.currentTarget),f,b.data):"undefined"!==typeof f.visible?!0===b.data.items[f].visible:1)&&(e=!0);e&&E.show.call(d,b.data,b.pageX,b.pageY)}},click:function(b){b.preventDefault();b.stopImmediatePropagation();c(this).trigger(c.Event("contextmenu",{data:b.data,pageX:b.pageX,pageY:b.pageY}))},mousedown:function(b){var d=c(this);k&&k.length&&!k.is(d)&&k.data("contextMenu").$menu.trigger("contextmenu:hide");2===b.button&&(k=d.data("contextMenuActive",!0))},mouseup:function(b){var d=
c(this);d.data("contextMenuActive")&&k&&k.length&&k.is(d)&&!d.hasClass("context-menu-disabled")&&(b.preventDefault(),b.stopImmediatePropagation(),k=d,d.trigger(c.Event("contextmenu",{data:b.data,pageX:b.pageX,pageY:b.pageY})));d.removeData("contextMenuActive")},mouseenter:function(b){var d=c(this),e=c(b.relatedTarget),f=c(document);e.is(".context-menu-list")||e.closest(".context-menu-list").length||k&&k.length||(s=b.pageX,v=b.pageY,z=b.data,f.on("mousemove.contextMenuShow",B.mousemove),r=setTimeout(function(){r=
null;f.off("mousemove.contextMenuShow");k=d;d.trigger(c.Event("contextmenu",{data:z,pageX:s,pageY:v}))},b.data.delay))},mousemove:function(b){s=b.pageX;v=b.pageY},mouseleave:function(b){b=c(b.relatedTarget);if(!b.is(".context-menu-list")&&!b.closest(".context-menu-list").length){try{clearTimeout(r)}catch(d){}r=null}},layerClick:function(b){var e=c(this).data("contextMenuRoot"),f=b.button,h=b.pageX,g=b.pageY,k,l;b.preventDefault();b.stopImmediatePropagation();setTimeout(function(){var n,p="left"===
e.trigger&&0===f||"right"===e.trigger&&2===f;document.elementFromPoint&&e.$layer&&(e.$layer.hide(),k=document.elementFromPoint(h-d.scrollLeft(),g-d.scrollTop()),e.$layer.show());if(e.reposition&&p)if(document.elementFromPoint){if(e.$trigger.is(k)||e.$trigger.has(k).length){e.position.call(e.$trigger,e,h,g);return}}else if(l=e.$trigger.offset(),n=c(window),l.top+=n.scrollTop(),l.top<=b.pageY&&(l.left+=n.scrollLeft(),l.left<=b.pageX&&(l.bottom=l.top+e.$trigger.outerHeight(),l.bottom>=b.pageY&&(l.right=
l.left+e.$trigger.outerWidth(),l.right>=b.pageX)))){e.position.call(e.$trigger,e,h,g);return}if(k&&p)e.$trigger.one("contextmenu:hidden",function(){c(k).contextMenu({x:h,y:g,button:f})});null!=e&&null!=e.$menu&&e.$menu.trigger("contextmenu:hide")},50)},keyStop:function(b,d){d.isInput||b.preventDefault();b.stopPropagation()},key:function(b){var d={};k&&(d=k.data("contextMenu")||{});void 0===d.zIndex&&(d.zIndex=0);var c=0,e=function(b){""!==b.style.zIndex?c=b.style.zIndex:null!==b.offsetParent&&void 0!==
b.offsetParent?e(b.offsetParent):null!==b.parentElement&&void 0!==b.parentElement&&e(b.parentElement)};e(b.target);if(!(c>d.zIndex)){switch(b.keyCode){case 9:case 38:B.keyStop(b,d);if(d.isInput){if(9===b.keyCode&&b.shiftKey){b.preventDefault();d.$selected&&d.$selected.find("input, textarea, select").blur();null!=d.$menu&&d.$menu.trigger("prevcommand");return}if(38===b.keyCode&&"checkbox"===d.$selected.find("input, textarea, select").prop("type")){b.preventDefault();return}}else if(9!==b.keyCode||
b.shiftKey){null!=d.$menu&&d.$menu.trigger("prevcommand");return}break;case 40:B.keyStop(b,d);if(d.isInput){if(9===b.keyCode){b.preventDefault();d.$selected&&d.$selected.find("input, textarea, select").blur();null!=d.$menu&&d.$menu.trigger("nextcommand");return}if(40===b.keyCode&&"checkbox"===d.$selected.find("input, textarea, select").prop("type")){b.preventDefault();return}}else{null!=d.$menu&&d.$menu.trigger("nextcommand");return}break;case 37:B.keyStop(b,d);if(d.isInput||!d.$selected||!d.$selected.length)break;
if(!d.$selected.parent().hasClass("context-menu-root")){b=d.$selected.parent().parent();d.$selected.trigger("contextmenu:blur");d.$selected=b;return}break;case 39:B.keyStop(b,d);if(d.isInput||!d.$selected||!d.$selected.length)break;var f=d.$selected.data("contextMenu")||{};if(f.$menu&&d.$selected.hasClass("context-menu-submenu")){d.$selected=null;f.$selected=null;f.$menu.trigger("nextcommand");return}break;case 35:case 36:d.$selected&&d.$selected.find("input, textarea, select").length||((d.$selected&&
d.$selected.parent()||d.$menu).children(":not(."+d.classNames.disabled+", ."+d.classNames.notSelectable+")")[36===b.keyCode?"first":"last"]().trigger("contextmenu:focus"),b.preventDefault());return;case 13:B.keyStop(b,d);if(d.isInput){if(d.$selected&&!d.$selected.is("textarea, select")){b.preventDefault();return}break}"undefined"!==typeof d.$selected&&null!==d.$selected&&d.$selected.trigger("mouseup");return;case 32:case 33:case 34:B.keyStop(b,d);return;case 27:B.keyStop(b,d);null!=d.$menu&&d.$menu.trigger("contextmenu:hide");
return;default:if(f=String.fromCharCode(b.keyCode).toUpperCase(),d.accesskeys&&d.accesskeys[f]){d.accesskeys[f].$node.trigger(d.accesskeys[f].$menu?"contextmenu:focus":"mouseup");return}}b.stopPropagation();"undefined"!==typeof d.$selected&&null!==d.$selected&&d.$selected.trigger(b)}},prevItem:function(b){b.stopPropagation();var d=c(this).data("contextMenu")||{},e=c(this).data("contextMenuRoot")||{};if(d.$selected){var f=d.$selected,d=d.$selected.parent().data("contextMenu")||{};d.$selected=f}for(var f=
d.$menu.children(),h=d.$selected&&d.$selected.prev().length?d.$selected.prev():f.last(),g=h;h.hasClass(e.classNames.disabled)||h.hasClass(e.classNames.notSelectable)||h.is(":hidden");)if(h=h.prev().length?h.prev():f.last(),h.is(g))return;d.$selected&&B.itemMouseleave.call(d.$selected.get(0),b);B.itemMouseenter.call(h.get(0),b);b=h.find("input, textarea, select");b.length&&b.focus()},nextItem:function(b){b.stopPropagation();var d=c(this).data("contextMenu")||{},e=c(this).data("contextMenuRoot")||{};
if(d.$selected){var f=d.$selected,d=d.$selected.parent().data("contextMenu")||{};d.$selected=f}for(var f=d.$menu.children(),h=d.$selected&&d.$selected.next().length?d.$selected.next():f.first(),g=h;h.hasClass(e.classNames.disabled)||h.hasClass(e.classNames.notSelectable)||h.is(":hidden");)if(h=h.next().length?h.next():f.first(),h.is(g))return;d.$selected&&B.itemMouseleave.call(d.$selected.get(0),b);B.itemMouseenter.call(h.get(0),b);b=h.find("input, textarea, select");b.length&&b.focus()},focusInput:function(){var b=
c(this).closest(".context-menu-item"),d=b.data(),e=d.contextMenu,d=d.contextMenuRoot;d.$selected=e.$selected=b;d.isInput=e.isInput=!0},blurInput:function(){var b=c(this).closest(".context-menu-item").data();b.contextMenuRoot.isInput=b.contextMenu.isInput=!1},menuMouseenter:function(){c(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(b){var d=c(this).data().contextMenuRoot;d.$layer&&d.$layer.is(b.relatedTarget)&&(d.hovering=!1)},itemMouseenter:function(b){var d=c(this),e=d.data(),
f=e.contextMenu,e=e.contextMenuRoot;e.hovering=!0;b&&e.$layer&&e.$layer.is(b.relatedTarget)&&(b.preventDefault(),b.stopImmediatePropagation());(f.$menu?f:e).$menu.children("."+e.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur");d.hasClass(e.classNames.disabled)||d.hasClass(e.classNames.notSelectable)?f.$selected=null:d.trigger("contextmenu:focus")},itemMouseleave:function(b){var d=c(this),e=d.data(),f=e.contextMenu,e=e.contextMenuRoot;e!==f&&e.$layer&&e.$layer.is(b.relatedTarget)?
("undefined"!==typeof e.$selected&&null!==e.$selected&&e.$selected.trigger("contextmenu:blur"),b.preventDefault(),b.stopImmediatePropagation(),e.$selected=f.$selected=f.$node):d.trigger("contextmenu:blur")},itemClick:function(b){var d=c(this),e=d.data(),f=e.contextMenu,h=e.contextMenuRoot,e=e.contextMenuKey;if(f.items[e]&&!d.is("."+h.classNames.disabled+", .context-menu-submenu, .context-menu-separator, ."+h.classNames.notSelectable)){b.preventDefault();b.stopImmediatePropagation();if(c.isFunction(f.callbacks[e])&&
Object.prototype.hasOwnProperty.call(f.callbacks,e))b=f.callbacks[e];else if(c.isFunction(h.callback))b=h.callback;else return;!1!==b.call(h.$trigger,e,h)?h.$menu.trigger("contextmenu:hide"):h.$menu.parent().length&&E.update.call(h.$trigger,h)}},inputClick:function(b){b.stopImmediatePropagation()},hideMenu:function(b,d){var e=c(this).data("contextMenuRoot");E.hide.call(e.$trigger,e,d&&d.force)},focusItem:function(b){b.stopPropagation();b=c(this);var d=b.data(),e=d.contextMenu,d=d.contextMenuRoot;
b.hasClass(d.classNames.disabled)||b.hasClass(d.classNames.notSelectable)||(b.addClass([d.classNames.hover,d.classNames.visible].join(" ")).parent().find(".context-menu-item").not(b).removeClass(d.classNames.visible).filter("."+d.classNames.hover).trigger("contextmenu:blur"),e.$selected=d.$selected=b,e.$node&&d.positionSubmenu.call(e.$node,e.$menu))},blurItem:function(b){b.stopPropagation();b=c(this);var d=b.data(),e=d.contextMenu,d=d.contextMenuRoot;e.autoHide&&b.removeClass(d.classNames.visible);
b.removeClass(d.classNames.hover);e.$selected=null}},E={show:function(b,d,e){var f=c(this),h={};c("#context-menu-layer").trigger("mousedown");b.$trigger=f;if(!1===b.events.show.call(f,b))k=null;else if(E.update.call(f,b),b.position.call(f,b,d,e),b.zIndex&&(d=b.zIndex,"function"===typeof b.zIndex&&(d=b.zIndex.call(f,b)),h.zIndex=w(f)+d),E.layer.call(b.$menu,b,h.zIndex),b.$menu.find("ul").css("zIndex",h.zIndex+1),b.$menu.css(h)[b.animation.show](b.animation.duration,function(){f.trigger("contextmenu:visible")}),
f.data("contextMenu",b).addClass("context-menu-active"),c(document).off("keydown.contextMenu").on("keydown.contextMenu",B.key),b.autoHide)c(document).on("mousemove.contextMenuAutoHide",function(d){var c=f.offset();c.right=c.left+f.outerWidth();c.bottom=c.top+f.outerHeight();!b.$layer||b.hovering||d.pageX>=c.left&&d.pageX<=c.right&&d.pageY>=c.top&&d.pageY<=c.bottom||setTimeout(function(){b.hovering||null==b.$menu||b.$menu.trigger("contextmenu:hide")},50)})},hide:function(b,d){var e=c(this);b||(b=e.data("contextMenu")||
{});if(d||!b.events||!1!==b.events.hide.call(e,b)){e.removeData("contextMenu").removeClass("context-menu-active");if(b.$layer){setTimeout(function(b){return function(){b.remove()}}(b.$layer),10);try{delete b.$layer}catch(f){b.$layer=null}}k=null;b.$menu.find("."+b.classNames.hover).trigger("contextmenu:blur");b.$selected=null;b.$menu.find("."+b.classNames.visible).removeClass(b.classNames.visible);c(document).off(".contextMenuAutoHide").off("keydown.contextMenu");if(b.$menu)b.$menu[b.animation.hide](b.animation.duration,
function(){b.build&&(b.$menu.remove(),c.each(b,function(d){switch(d){case "ns":case "selector":case "build":case "trigger":return!0;default:b[d]=void 0;try{delete b[d]}catch(c){}return!0}}));setTimeout(function(){e.trigger("contextmenu:hidden")},10)})}},create:function(b,d){function f(b){var d=c("\x3cspan\x3e\x3c/span\x3e");if(b._accesskey)b._beforeAccesskey&&d.append(document.createTextNode(b._beforeAccesskey)),c("\x3cspan\x3e\x3c/span\x3e").addClass("context-menu-accesskey").text(b._accesskey).appendTo(d),
b._afterAccesskey&&d.append(document.createTextNode(b._afterAccesskey));else if(b.isHtmlName){if("undefined"!==typeof b.accesskey)throw Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");d.html(b.name)}else d.text(b.name);return d}void 0===d&&(d=b);b.$menu=c('\x3cul class\x3d"context-menu-list"\x3e\x3c/ul\x3e').addClass(b.className||"").data({contextMenu:b,contextMenuRoot:d});c.each(["callbacks","commands","inputs"],function(c,e){b[e]={};d[e]||(d[e]=
{})});d.accesskeys||(d.accesskeys={});c.each(b.items,function(h,g){var k=c('\x3cli class\x3d"context-menu-item '+g.clazz+'"\x3e\x3c/li\x3e').addClass(g.className||""),l=null,n=null;k.on("click",c.noop);if("string"===typeof g||"cm_separator"===g.type)g={type:"cm_seperator"};g.$node=k.data({contextMenu:b,contextMenuRoot:d,contextMenuKey:h});if("undefined"!==typeof g.accesskey)for(var q=e(g.accesskey),r=0,s;s=q[r];r++)if(!d.accesskeys[s]){d.accesskeys[s]=g;if(q=g.name.match(new RegExp("^(.*?)("+s+")(.*)$",
"i")))g._beforeAccesskey=q[1],g._accesskey=q[2],g._afterAccesskey=q[3];break}if(g.type&&p[g.type])p[g.type].call(k,g,b,d),c.each([b,d],function(d,e){e.commands[h]=g;!c.isFunction(g.callback)||void 0!==e.callbacks[h]&&void 0!==b.type||(e.callbacks[h]=g.callback)});else{"cm_seperator"===g.type?k.addClass("context-menu-separator "+d.classNames.notSelectable):"html"===g.type?k.addClass("context-menu-html "+d.classNames.notSelectable):g.type?(l=c("\x3clabel\x3e\x3c/label\x3e").appendTo(k),f(g).appendTo(l),
k.addClass("context-menu-input"),b.hasTypes=!0,c.each([b,d],function(b,d){d.commands[h]=g;d.inputs[h]=g})):g.items&&(g.type="sub");switch(g.type){case "cm_seperator":break;case "text":n=c('\x3cinput type\x3d"text" value\x3d"1" name\x3d"" /\x3e').attr("name","context-menu-input-"+h).val(g.value||"").appendTo(l);break;case "textarea":n=c('\x3ctextarea name\x3d""\x3e\x3c/textarea\x3e').attr("name","context-menu-input-"+h).val(g.value||"").appendTo(l);g.height&&n.height(g.height);break;case "checkbox":n=
c('\x3cinput type\x3d"checkbox" value\x3d"1" name\x3d"" /\x3e').attr("name","context-menu-input-"+h).val(g.value||"").prop("checked",!!g.selected).prependTo(l);break;case "radio":n=c('\x3cinput type\x3d"radio" value\x3d"1" name\x3d"" /\x3e').attr("name","context-menu-input-"+g.radio).val(g.value||"").prop("checked",!!g.selected).prependTo(l);break;case "select":n=c('\x3cselect name\x3d""\x3e\x3c/select\x3e').attr("name","context-menu-input-"+h).appendTo(l);g.options&&(c.each(g.options,function(b,
d){c("\x3coption\x3e\x3c/option\x3e").val(b).text(d).appendTo(n)}),n.val(g.selected));break;case "sub":f(g).appendTo(k);g.appendTo=g.$node;E.create(g,d);k.data("contextMenu",g).addClass("context-menu-submenu");g.callback=null;break;case "html":c(g.html).appendTo(k);break;default:c.each([b,d],function(d,e){e.commands[h]=g;!c.isFunction(g.callback)||void 0!==e.callbacks[h]&&void 0!==b.type||(e.callbacks[h]=g.callback)}),f(g).appendTo(k)}if(g.type&&"sub"!==g.type&&"html"!==g.type&&"cm_seperator"!==g.type&&
(n.on("focus",B.focusInput).on("blur",B.blurInput),g.events))n.on(g.events,b);g.icon&&(c.isFunction(g.icon)?g._icon=g.icon.call(this,this,k,h,g):"string"===typeof g.icon&&"fa-"==g.icon.substring(0,3)?g._icon=d.classNames.icon+" "+d.classNames.icon+"--fa fa "+g.icon:g._icon=d.classNames.icon+" "+d.classNames.icon+"-"+g.icon,k.addClass(g._icon))}g.$input=n;g.$label=l;k.appendTo(b.$menu);if(!b.hasTypes&&c.support.eventSelectstart)k.on("selectstart.disableTextSelect",B.abortevent)});b.$node||b.$menu.css("display",
"none").addClass("context-menu-root");b.$menu.appendTo(b.appendTo||document.body)},resize:function(b,d){b.css({position:"absolute",display:"block"});b.data("width",b.get(0).getBoundingClientRect?Math.ceil(240):b.outerWidth()+1);b.css({position:"static",minWidth:"0px",maxWidth:"100000px"});b.find("\x3e li \x3e ul").each(function(){E.resize(c(this),!0)});d||b.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return c(this).data("width")})},update:function(b,
d){var e=this;void 0===d&&(d=b,E.resize(b.$menu));b.$menu.children().each(function(){var f=c(this),h=f.data("contextMenuKey"),g=b.items[h],k=c.isFunction(g.disabled)&&g.disabled.call(e,h,d)||!0===g.disabled,l;l=c.isFunction(g.visible)?g.visible.call(e,h,d):"undefined"!==typeof g.visible?!0===g.visible:!0;f[l?"show":"hide"]();f[k?"addClass":"removeClass"](d.classNames.disabled);c.isFunction(g.icon)&&(f.removeClass(g._icon),g._icon=g.icon.call(this,e,f,h,g),f.addClass(g._icon));if(g.type)switch(f.find("input, select, textarea").prop("disabled",
k),g.type){case "text":case "textarea":g.$input.val(g.value||"");break;case "checkbox":case "radio":g.$input.val(g.value||"").prop("checked",!!g.selected);break;case "select":g.$input.val(g.selected||"")}g.$menu&&E.update.call(e,g,d)})},layer:function(b,e){var f=b.$layer=c('\x3cdiv id\x3d"context-menu-layer" style\x3d"position:fixed; z-index:'+e+'; top:0; left:0; opacity: 0; filter: alpha(opacity\x3d0); background-color: #000;"\x3e\x3c/div\x3e').css({height:d.height(),width:d.width(),display:"block"}).data("contextMenuRoot",
b).insertBefore(this).on("contextmenu",B.abortevent).on("mousedown",B.layerClick);void 0===document.body.style.maxWidth&&f.css({position:"absolute",height:c(document).height()});return f}};c.fn.contextMenu=function(b){var d=this;if(0<this.length)if(void 0===b)this.first().trigger("contextmenu");else if(void 0!==b.x&&void 0!==b.y)this.first().trigger(c.Event("contextmenu",{pageX:b.x,pageY:b.y,mouseButton:b.button}));else if("hide"===b){var e=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:
null;e&&e.trigger("contextmenu:hide")}else"destroy"===b?c.contextMenu("destroy",{context:this}):c.isPlainObject(b)?(b.context=this,c.contextMenu("create",b)):b?this.removeClass("context-menu-disabled"):b||this.addClass("context-menu-disabled");else c.each(n,function(){this.selector===d.selector&&(b.data=this,c.extend(b.data,{trigger:"demand"}))}),B.contextmenu.call(b.target,b);return this};c.contextMenu=function(b,d){"string"!==typeof b&&(d=b,b="create");"string"===typeof d?d={selector:d}:void 0===
d&&(d={});var e=c.extend(!0,{},q,d||{}),g=c(document),k=g,p=!1;e.context&&e.context.length?(k=c(e.context).first(),e.context=k.get(0),p=!c(e.context).is(document)):e.context=document;switch(b){case "create":if(!e.selector)throw Error("No selector specified");if(e.selector.match(/.context-menu-(list|item|input)($|\s)/))throw Error('Cannot bind to selector "'+e.selector+'" as it contains a reserved className');if(!e.build&&(!e.items||c.isEmptyObject(e.items)))throw Error("No Items specified");f++;e.ns=
".contextMenu"+f;p||(l[e.selector]=e.ns);n[e.ns]=e;e.trigger||(e.trigger="right");if(!h){var r={"contextmenu:focus.contextMenu":B.focusItem,"contextmenu:blur.contextMenu":B.blurItem,"contextmenu.contextMenu":B.abortevent,"mouseenter.contextMenu":B.itemMouseenter,"mouseleave.contextMenu":B.itemMouseleave};r["click"===e.itemClickEvent?"click.contextMenu":"mouseup.contextMenu"]=B.itemClick;g.on({"contextmenu:hide.contextMenu":B.hideMenu,"prevcommand.contextMenu":B.prevItem,"nextcommand.contextMenu":B.nextItem,
"contextmenu.contextMenu":B.abortevent,"mouseenter.contextMenu":B.menuMouseenter,"mouseleave.contextMenu":B.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",B.inputClick).on(r,".context-menu-item");h=!0}k.on("contextmenu"+e.ns,e.selector,e,B.contextmenu);if(p)k.on("remove"+e.ns,function(){c(this).contextMenu("destroy")});switch(e.trigger){case "hover":k.on("mouseenter"+e.ns,e.selector,e,B.mouseenter).on("mouseleave"+e.ns,e.selector,e,B.mouseleave);break;case "left":k.on("click"+
e.ns,e.selector,e,B.click)}e.build||E.create(e);break;case "destroy":var s;if(p){var v=e.context;c.each(n,function(b,d){if(!c(v).is(d.selector))return!0;s=c(".context-menu-list").filter(":visible");s.length&&s.data().contextMenuRoot.$trigger.is(c(d.context).find(d.selector))&&s.trigger("contextmenu:hide",{force:!0});try{n[d.ns].$menu&&n[d.ns].$menu.remove(),delete n[d.ns]}catch(e){n[d.ns]=null}c(d.context).off(d.ns);return!0})}else if(!e.selector)g.off(".contextMenu .contextMenuAutoHide"),c.each(n,
function(b,d){c(d.context).off(d.ns)}),l={},n={},f=0,h=!1,c("#context-menu-layer, .context-menu-list").remove();else if(l[e.selector]){s=c(".context-menu-list").filter(":visible");s.length&&s.data().contextMenuRoot.$trigger.is(e.selector)&&s.trigger("contextmenu:hide",{force:!0});try{n[l[e.selector]].$menu&&n[l[e.selector]].$menu.remove(),delete n[l[e.selector]]}catch(z){n[l[e.selector]]=null}g.off(l[e.selector])}break;case "html5":(!c.support.htmlCommand&&!c.support.htmlMenuitem||"boolean"===typeof d&&
d)&&c('menu[type\x3d"context"]').each(function(){this.id&&c.contextMenu({selector:"[contextmenu\x3d"+this.id+"]",items:c.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw Error('Unknown operation "'+b+'"');}return this};c.contextMenu.setInputValues=function(b,d){void 0===d&&(d={});c.each(b.inputs,function(b,c){switch(c.type){case "text":case "textarea":c.value=d[b]||"";break;case "checkbox":c.selected=d[b]?!0:!1;break;case "radio":c.selected=(d[c.radio]||"")===c.value;break;
case "select":c.selected=d[b]||""}})};c.contextMenu.getInputValues=function(b,d){void 0===d&&(d={});c.each(b.inputs,function(b,c){switch(c.type){case "text":case "textarea":case "select":d[b]=c.$input.val();break;case "checkbox":d[b]=c.$input.prop("checked");break;case "radio":c.$input.prop("checked")&&(d[c.radio]=c.value)}});return d};c.contextMenu.fromMenu=function(b){b=c(b);var d={};g(d,b.children());return d};c.contextMenu.defaults=q;c.contextMenu.types=p;c.contextMenu.handle=B;c.contextMenu.op=
E;c.contextMenu.menus=n});
!function(c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=c()}(function(){return function e(b,g,k){function h(f,n){if(!g[f]){if(!b[f]){var p="function"==typeof require&&require;if(!n&&p)return p(f,!0);if(d)return d(f,!0);p=Error("Cannot find module '"+f+"'");throw p.code="MODULE_NOT_FOUND",p;}p=g[f]={exports:{}};
b[f][0].call(p.exports,function(d){var e=b[f][1][d];return h(e?e:d)},p,p.exports,e,b,g,k)}return g[f].exports}for(var d="function"==typeof require&&require,f=0;f<k.length;f++)h(k[f]);return h}({1:[function(e,b,g){Element&&!Element.prototype.matches&&(e=Element.prototype,e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector);b.exports=function(b,e){for(;b&&9!==b.nodeType;){if(b.matches(e))return b;b=b.parentNode}}},{}],2:[function(e,b,g){function k(b,
e,g,k){return function(g){g.delegateTarget=h(g.target,e);g.delegateTarget&&k.call(b,g)}}var h=e("./closest");b.exports=function(b,e,h,g,p){var q=k.apply(this,arguments);return b.addEventListener(h,q,p),{destroy:function(){b.removeEventListener(h,q,p)}}}},{"./closest":1}],3:[function(e,b,g){g.node=function(b){return void 0!==b&&b instanceof HTMLElement&&1===b.nodeType};g.nodeList=function(b){var e=Object.prototype.toString.call(b);return void 0!==b&&("[object NodeList]"===e||"[object HTMLCollection]"===
e)&&"length"in b&&(0===b.length||g.node(b[0]))};g.string=function(b){return"string"==typeof b||b instanceof String};g.fn=function(b){return"[object Function]"===Object.prototype.toString.call(b)}},{}],4:[function(e,b,g){function k(b,d,e){return b.addEventListener(d,e),{destroy:function(){b.removeEventListener(d,e)}}}function h(b,d,e){return Array.prototype.forEach.call(b,function(b){b.addEventListener(d,e)}),{destroy:function(){Array.prototype.forEach.call(b,function(b){b.removeEventListener(d,e)})}}}
var d=e("./is"),f=e("delegate");b.exports=function(b,e,g){if(!b&&!e&&!g)throw Error("Missing required arguments");if(!d.string(e))throw new TypeError("Second argument must be a String");if(!d.fn(g))throw new TypeError("Third argument must be a Function");if(d.node(b))return k(b,e,g);if(d.nodeList(b))return h(b,e,g);if(d.string(b))return f(document.body,b,e,g);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}},{"./is":3,delegate:2}],5:[function(e,b,
g){b.exports=function(b){if("SELECT"===b.nodeName)b.focus(),b=b.value;else if("INPUT"===b.nodeName||"TEXTAREA"===b.nodeName)b.focus(),b.setSelectionRange(0,b.value.length),b=b.value;else{b.hasAttribute("contenteditable")&&b.focus();var e=window.getSelection(),d=document.createRange();d.selectNodeContents(b);e.removeAllRanges();e.addRange(d);b=e.toString()}return b}},{}],6:[function(e,b,g){function k(){}k.prototype={on:function(b,d,e){var g=this.e||(this.e={});return(g[b]||(g[b]=[])).push({fn:d,ctx:e}),
this},once:function(b,d,e){function g(){k.off(b,g);d.apply(e,arguments)}var k=this;return g._=d,this.on(b,g,e)},emit:function(b){var d=[].slice.call(arguments,1),e=((this.e||(this.e={}))[b]||[]).slice(),g=0,k=e.length;for(g;g<k;g++)e[g].fn.apply(e[g].ctx,d);return this},off:function(b,d){var e=this.e||(this.e={}),g=e[b],k=[];if(g&&d)for(var p=0,q=g.length;p<q;p++)g[p].fn!==d&&g[p].fn._!==d&&k.push(g[p]);return k.length?e[b]=k:delete e[b],this}};b.exports=k},{}],7:[function(e,b,g){!function(k,h){if("undefined"!=
typeof g)h(b,e("select"));else{var d={exports:{}};h(d,k.select);k.clipboardAction=d.exports}}(this,function(b,e){var d=e&&e.__esModule?e:{default:e},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},g=function(){function b(d,e){for(var f=0;f<e.length;f++){var h=e[f];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(d,
h.key,h)}}return function(d,e,f){return e&&b(d.prototype,e),f&&b(d,f),d}}(),n=function(){function b(d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.resolveOptions(d);this.initSelection()}return g(b,[{key:"resolveOptions",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=b.action;this.emitter=b.emitter;this.target=b.target;this.text=b.text;this.trigger=b.trigger;this.selectedText=""}},{key:"initSelection",value:function(){this.text?
this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var b=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake();this.fakeHandlerCallback=function(){return b.removeFake()};this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0;this.fakeElem=document.createElement("textarea");this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position=
"absolute";this.fakeElem.style[e?"right":"left"]="-9999px";e=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,e));this.fakeElem.style.top=e+"px";this.fakeElem.setAttribute("readonly","");this.fakeElem.value=this.text;document.body.appendChild(this.fakeElem);this.selectedText=(0,d.default)(this.fakeElem);this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),
this.fakeHandler=null,this.fakeHandlerCallback=null);this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,d.default)(this.target);this.copyText()}},{key:"copyText",value:function(){var b=void 0;try{b=document.execCommand(this.action)}catch(d){b=!1}this.handleResult(b)}},{key:"handleResult",value:function(b){this.emitter.emit(b?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},
{key:"clearSelection",value:function(){this.target&&this.target.blur();window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if(this._action=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy","copy"!==this._action&&"cut"!==this._action)throw Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action}},{key:"target",set:function(b){if(void 0!==b){if(!b||"object"!==("undefined"==typeof b?
"undefined":f(b))||1!==b.nodeType)throw Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&b.hasAttribute("disabled"))throw Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(b.hasAttribute("readonly")||b.hasAttribute("disabled")))throw Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=b}},get:function(){return this._target}}]),b}();
b.exports=n})},{select:5}],8:[function(e,b,g){!function(k,h){if("undefined"!=typeof g)h(b,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var d={exports:{}};h(d,k.clipboardAction,k.tinyEmitter,k.goodListener);k.clipboard=d.exports}}(this,function(b,e,d,f){function g(b){return b&&b.__esModule?b:{default:b}}function n(b,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,
{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}function p(b,d){var e="data-clipboard-"+b;if(d.hasAttribute(e))return d.getAttribute(e)}var q=g(e);e=g(d);var r=g(f),s=function(){function b(d,e){for(var f=0;f<e.length;f++){var h=e[f];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(d,h.key,h)}}return function(d,e,f){return e&&b(d.prototype,e),f&&b(d,f),d}}();f=function(b){function d(b,
e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var f;f=(d.__proto__||Object.getPrototypeOf(d)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!=typeof f&&"function"!=typeof f?this:f;return f.resolveOptions(e),f.listenClick(b),f}return n(d,b),s(d,[{key:"resolveOptions",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof b.action?b.action:
this.defaultAction;this.target="function"==typeof b.target?b.target:this.defaultTarget;this.text="function"==typeof b.text?b.text:this.defaultText}},{key:"listenClick",value:function(b){var d=this;this.listener=(0,r.default)(b,"click",function(b){return d.onClick(b)})}},{key:"onClick",value:function(b){b=b.delegateTarget||b.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new q.default({action:this.action(b),target:this.target(b),text:this.text(b),trigger:b,emitter:this})}},
{key:"defaultAction",value:function(b){return p("action",b)}},{key:"defaultTarget",value:function(b){if(b=p("target",b))return document.querySelector(b)}},{key:"defaultText",value:function(b){return p("text",b)}},{key:"destroy",value:function(){this.listener.destroy();this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),d}(e.default);b.exports=f})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});var fabric=fabric||{version:"1.7.3"};
"undefined"!==typeof exports&&(exports.fabric=fabric);"undefined"!==typeof document&&"undefined"!==typeof window?(fabric.document=document,fabric.window=window,window.fabric=fabric):(fabric.document=require("jsdom").jsdom(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E")),fabric.window=fabric.document.createWindow?fabric.document.createWindow():fabric.document.parentWindow);fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement;
fabric.isLikelyNode="undefined"!==typeof Buffer&&"undefined"===typeof window;fabric.SHARED_ATTRIBUTES="display transform fill fill-opacity fill-rule opacity stroke stroke-dasharray stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width id".split(" ");fabric.DPI=96;fabric.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)";fabric.fontPaths={};fabric.charWidthsCache={};
fabric.devicePixelRatio=fabric.window.devicePixelRatio||fabric.window.webkitDevicePixelRatio||fabric.window.mozDevicePixelRatio||1;
(function(){function c(b,c){if(this.__eventListeners[b]){var d=this.__eventListeners[b];c?d[d.indexOf(c)]=!1:fabric.util.array.fill(d,!1)}}function e(b,c){this.__eventListeners||(this.__eventListeners={});if(1===arguments.length)for(var d in b)this.on(d,b[d]);else this.__eventListeners[b]||(this.__eventListeners[b]=[]),this.__eventListeners[b].push(c);return this}function b(b,e){if(this.__eventListeners){if(0===arguments.length)for(b in this.__eventListeners)c.call(this,b);else if(1===arguments.length&&
"object"===typeof arguments[0])for(var d in b)c.call(this,d,b[d]);else c.call(this,b,e);return this}}function g(b,c){if(this.__eventListeners){var d=this.__eventListeners[b];if(d){for(var e=0,g=d.length;e<g;e++)d[e]&&d[e].call(this,c||{});this.__eventListeners[b]=d.filter(function(b){return!1!==b});return this}}}fabric.Observable={observe:e,stopObserving:b,fire:g,on:e,off:b,trigger:g}})();
fabric.Collection={_objects:[],add:function(){this._objects.push.apply(this._objects,arguments);if(this._onObjectAdded)for(var c=0,e=arguments.length;c<e;c++)this._onObjectAdded(arguments[c]);this.renderOnAddRemove&&this.renderAll();return this},insertAt:function(c,e,b){var g=this.getObjects();b?g[e]=c:g.splice(e,0,c);this._onObjectAdded&&this._onObjectAdded(c);this.renderOnAddRemove&&this.renderAll();return this},remove:function(){for(var c=this.getObjects(),e,b=!1,g=0,k=arguments.length;g<k;g++)e=
c.indexOf(arguments[g]),-1!==e&&(b=!0,c.splice(e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[g]));this.renderOnAddRemove&&b&&this.renderAll();return this},forEachObject:function(c,e){for(var b=this.getObjects(),g=0,k=b.length;g<k;g++)c.call(e,b[g],g,b);return this},getObjects:function(c){return"undefined"===typeof c?this._objects:this._objects.filter(function(e){return e.type===c})},item:function(c){return this.getObjects()[c]},isEmpty:function(){return 0===this.getObjects().length},
size:function(){return this.getObjects().length},contains:function(c){return-1<this.getObjects().indexOf(c)},complexity:function(){return this.getObjects().reduce(function(c,e){return c+=e.complexity?e.complexity():0},0)}};
fabric.CommonMethods={_setOptions:function(c){for(var e in c)this.set(e,c[e])},_initGradient:function(c,e){!c||!c.colorStops||c instanceof fabric.Gradient||this.set(e,new fabric.Gradient(c))},_initPattern:function(c,e,b){!c||!c.source||c instanceof fabric.Pattern?b&&b():this.set(e,new fabric.Pattern(c,b))},_initClipping:function(c){c.clipTo&&"string"===typeof c.clipTo&&(c=fabric.util.getFunctionBody(c.clipTo),"undefined"!==typeof c&&(this.clipTo=new Function("ctx",c)))},_setObject:function(c){for(var e in c)this._set(e,
c[e])},set:function(c,e){"object"===typeof c?this._setObject(c):"function"===typeof e&&"clipTo"!==c?this._set(c,e(this.get(c))):this._set(c,e);return this},_set:function(c,e){this[c]=e},toggle:function(c){var e=this.get(c);"boolean"===typeof e&&this.set(c,!e);return this},get:function(c){return this[c]}};
(function(c){var e=Math.sqrt,b=Math.atan2,g=Math.pow,k=Math.abs,h=Math.PI/180;fabric.util={removeFromArray:function(b,c){var e=b.indexOf(c);-1!==e&&b.splice(e,1);return b},getRandomInt:function(b,c){return Math.floor(Math.random()*(c-b+1))+b},degreesToRadians:function(b){return b*h},radiansToDegrees:function(b){return b/h},rotatePoint:function(b,c,e){b.subtractEquals(c);b=fabric.util.rotateVector(b,e);return(new fabric.Point(b.x,b.y)).addEquals(c)},rotateVector:function(b,c){var e=Math.sin(c),h=Math.cos(c);
return{x:b.x*h-b.y*e,y:b.x*e+b.y*h}},transformPoint:function(b,c,e){return e?new fabric.Point(c[0]*b.x+c[2]*b.y,c[1]*b.x+c[3]*b.y):new fabric.Point(c[0]*b.x+c[2]*b.y+c[4],c[1]*b.x+c[3]*b.y+c[5])},makeBoundingBoxFromPoints:function(b){var c=[b[0].x,b[1].x,b[2].x,b[3].x],e=fabric.util.array.min(c),c=fabric.util.array.max(c),c=Math.abs(e-c),h=[b[0].y,b[1].y,b[2].y,b[3].y];b=fabric.util.array.min(h);h=fabric.util.array.max(h);h=Math.abs(b-h);return{left:e,top:b,width:c,height:h}},invertTransform:function(b){var c=
1/(b[0]*b[3]-b[1]*b[2]),c=[c*b[3],-c*b[1],-c*b[2],c*b[0]];b=fabric.util.transformPoint({x:b[4],y:b[5]},c,!0);c[4]=-b.x;c[5]=-b.y;return c},toFixed:function(b,c){return parseFloat(Number(b).toFixed(c))},parseUnit:function(b,c){var e=/\D{0,2}$/.exec(b),h=parseFloat(b);c||(c=fabric.Text.DEFAULT_SVG_FONT_SIZE);switch(e[0]){case "mm":return h*fabric.DPI/25.4;case "cm":return h*fabric.DPI/2.54;case "in":return h*fabric.DPI;case "pt":return h*fabric.DPI/72;case "pc":return h*fabric.DPI/72*12;case "em":return h*
c;default:return h}},falseFunction:function(){return!1},getKlass:function(b,c){b=fabric.util.string.camelize(b.charAt(0).toUpperCase()+b.slice(1));return fabric.util.resolveNamespace(c)[b]},resolveNamespace:function(b){if(!b)return fabric;b=b.split(".");var e=b.length,h,g=c||fabric.window;for(h=0;h<e;++h)g=g[b[h]];return g},loadImage:function(b,c,e,h){if(b){var g=fabric.util.createImage();g.onload=function(){c&&c.call(e,g);g=g.onload=g.onerror=null};g.onerror=function(){fabric.log("Error loading "+
g.src);c&&c.call(e,null,!0);g=g.onload=g.onerror=null};0!==b.indexOf("data")&&h&&(g.crossOrigin=h);g.src=b}else c&&c.call(e,b)},enlivenObjects:function(b,c,e,h){b=b||[];var g=[],k=0,r=b.length;r?b.forEach(function(b,d){b&&b.type?fabric.util.getKlass(b.type,e).fromObject(b,function(e,l){l||(g[d]=e);h&&h(b,e,l);++k===r&&c&&c(g)},!0):++k===r&&c&&c(g)}):c&&c(g)},enlivenPatterns:function(b,c){b=b||[];var e=[],h=0,g=b.length;g?b.forEach(function(b,d){b&&b.source?new fabric.Pattern(b,function(b){e[d]=b;
++h===g&&c&&c(e)}):(e[d]=b,++h===g&&c&&c(e))}):c&&c(e)},groupSVGElements:function(b,c,e){b=new fabric.PathGroup(b,c);"undefined"!==typeof e&&b.setSourcePath(e);return b},populateWithProperties:function(b,c,e){if(e&&"[object Array]"===Object.prototype.toString.call(e))for(var h=0,g=e.length;h<g;h++)e[h]in b&&(c[e[h]]=b[e[h]])},drawDashedLine:function(d,c,h,g,k,q){g-=c;var r=k-h;k=e(g*g+r*r);g=b(r,g);var r=q.length,s=0,v=!0;d.save();d.translate(c,h);d.moveTo(0,0);d.rotate(g);for(c=0;k>c;)c+=q[s++%r],
c>k&&(c=k),d[v?"lineTo":"moveTo"](c,0),v=!v;d.restore()},createCanvasElement:function(b){b||(b=fabric.document.createElement("canvas"));b.getContext||"undefined"===typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(b);return b},createImage:function(){return fabric.isLikelyNode?new (require("canvas").Image):fabric.document.createElement("img")},createAccessors:function(b){b=b.prototype;var c,e,h,g;for(c=b.stateProperties.length;c--;)e=b.stateProperties[c],h=e.charAt(0).toUpperCase()+e.slice(1),
g="set"+h,h="get"+h,b[h]||(b[h]=new Function('return this.get("'+e+'")')),b[g]||(b[g]=new Function("value",'return this.set("'+e+'", value)'))},clipContext:function(b,c){c.save();c.beginPath();b.clipTo(c);c.clip()},multiplyTransformMatrices:function(b,c,e){return[b[0]*c[0]+b[2]*c[1],b[1]*c[0]+b[3]*c[1],b[0]*c[2]+b[2]*c[3],b[1]*c[2]+b[3]*c[3],e?0:b[0]*c[4]+b[2]*c[5]+b[4],e?0:b[1]*c[4]+b[3]*c[5]+b[5]]},qrDecompose:function(d){var c=b(d[1],d[0]),k=g(d[0],2)+g(d[1],2),n=e(k),p=(d[0]*d[3]-d[2]*d[1])/n,
k=b(d[0]*d[2]+d[1]*d[3],k);return{angle:c/h,scaleX:n,scaleY:p,skewX:k/h,skewY:0,translateX:d[4],translateY:d[5]}},customTransformMatrix:function(b,c,e){e=[1,0,k(Math.tan(e*h)),1];b=[k(b),0,0,k(c)];return fabric.util.multiplyTransformMatrices(b,e,!0)},resetObjectTransform:function(b){b.scaleX=1;b.scaleY=1;b.skewX=0;b.skewY=0;b.flipX=!1;b.flipY=!1;b.setAngle(0)},getFunctionBody:function(b){return(String(b).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(b,c,e,h){0<h&&(c=c>h?c-h:
0,e=e>h?e-h:0);var g=!0;c=b.getImageData(c,e,2*h||1,2*h||1);e=c.data.length;for(b=3;b<e&&(g=c.data[b],g=0>=g,!1!==g);b+=4);return g},parsePreserveAspectRatioAttribute:function(b){var c="meet",e="Mid",h="Mid";b=b.split(" ");var g;b&&b.length&&(c=b.pop(),"meet"!==c&&"slice"!==c?(g=c,c="meet"):b.length&&(g=b.pop()));e="none"!==g?g.slice(1,4):"none";h="none"!==g?g.slice(5,8):"none";return{meetOrSlice:c,alignX:e,alignY:h}},clearFabricFontCache:function(b){b?fabric.charWidthsCache[b]&&delete fabric.charWidthsCache[b]:
fabric.charWidthsCache={}}}})("undefined"!==typeof exports?exports:this);
(function(){function c(d,c,h,g,r,s,v){var z=f.call(arguments);if(k[z])return k[z];var w=Math.PI,B=v*w/180,E=Math.sin(B),B=Math.cos(B),u=0,D=0;h=Math.abs(h);g=Math.abs(g);var C=-B*d*.5-E*c*.5,F=-B*c*.5+E*d*.5,A=h*h,H=g*g,L=F*F,J=C*C,Q=A*H-A*L-H*J,O=0;0>Q?(A=Math.sqrt(1-Q/(A*H)),h*=A,g*=A):O=(r===s?-1:1)*Math.sqrt(Q/(A*L+H*J));L=O*h*F/g;J=-O*g*C/h;O=B*L-E*J+.5*d;A=E*L+B*J+.5*c;H=b(1,0,(C-L)/h,(F-J)/g);F=b((C-L)/h,(F-J)/g,(-C-L)/h,(-F-J)/g);0===s&&0<F?F-=2*w:1===s&&0>F&&(F+=2*w);w=Math.ceil(Math.abs(F/
w*2));C=[];F/=w;L=8/3*Math.sin(F/4)*Math.sin(F/4)/Math.sin(F/2);J=H+F;for(Q=0;Q<w;Q++)C[Q]=e(H,J,B,E,h,g,O,A,L,u,D),u=C[Q][4],D=C[Q][5],H=J,J+=F;return k[z]=C}function e(b,d,c,e,g,k,v,z,w,B,E){var u=f.call(arguments);if(h[u])return h[u];var D=Math.cos(b),C=Math.sin(b),F=Math.cos(d),A=Math.sin(d),H=c*g*F-e*k*A+v,L=e*g*F+c*k*A+z;h[u]=[B+w*(-c*g*C-e*k*D),E+w*(-e*g*C+c*k*D),H+w*(c*g*A+e*k*F),L+w*(e*g*A-c*k*F),H,L];return h[u]}function b(b,d,c,e){b=Math.atan2(d,b);c=Math.atan2(e,c);return c>=b?c-b:2*Math.PI-
(b-c)}function g(b,c,e,h,g,k,v,z){var w=f.call(arguments);if(d[w])return d[w];var B=Math.sqrt,E=Math.min,u=Math.max,D=Math.abs,C=[],F=[[],[]],A,H,L,J,Q;H=6*b-12*e+6*g;A=-3*b+9*e-9*g+3*v;L=3*e-3*b;for(var O=0;2>O;++O)0<O&&(H=6*c-12*h+6*k,A=-3*c+9*h-9*k+3*z,L=3*h-3*c),1E-12>D(A)?1E-12>D(H)||(J=-L/H,0<J&&1>J&&C.push(J)):(J=H*H-4*L*A,0>J||(Q=B(J),J=(-H+Q)/(2*A),0<J&&1>J&&C.push(J),J=(-H-Q)/(2*A),0<J&&1>J&&C.push(J)));for(D=B=C.length;B--;)J=C[B],H=1-J,A=H*H*H*b+3*H*H*J*e+3*H*J*J*g+J*J*J*v,F[0][B]=A,A=
H*H*H*c+3*H*H*J*h+3*H*J*J*k+J*J*J*z,F[1][B]=A;F[0][D]=b;F[1][D]=c;F[0][D+1]=v;F[1][D+1]=z;E=[{x:E.apply(null,F[0]),y:E.apply(null,F[1])},{x:u.apply(null,F[0]),y:u.apply(null,F[1])}];return d[w]=E}var k={},h={},d={},f=Array.prototype.join;fabric.util.drawArc=function(b,d,e,f){var h=[[],[],[],[]];f=c(f[5]-d,f[6]-e,f[0],f[1],f[3],f[4],f[2]);for(var g=0,k=f.length;g<k;g++)h[g][0]=f[g][0]+d,h[g][1]=f[g][1]+e,h[g][2]=f[g][2]+d,h[g][3]=f[g][3]+e,h[g][4]=f[g][4]+d,h[g][5]=f[g][5]+e,b.bezierCurveTo.apply(b,
h[g])};fabric.util.getBoundsOfArc=function(b,d,e,f,h,k,v,z,w){var B=0,E=0,u=[];e=c(z-b,w-d,e,f,k,v,h);f=0;for(h=e.length;f<h;f++)B=g(B,E,e[f][0],e[f][1],e[f][2],e[f][3],e[f][4],e[f][5]),u.push({x:B[0].x+b,y:B[0].y+d}),u.push({x:B[1].x+b,y:B[1].y+d}),B=e[f][4],E=e[f][5];return u};fabric.util.getBoundsOfCurve=g})();
(function(){function c(b,c,e){if(b&&0!==b.length){var h=b.length-1,d=c?b[h][c]:b[h];if(c)for(;h--;)e(b[h][c],d)&&(d=b[h][c]);else for(;h--;)e(b[h],d)&&(d=b[h]);return d}}var e=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(b){if(void 0===this||null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if(0===e)return-1;var h=0;0<arguments.length&&(h=Number(arguments[1]),h!==h?h=0:0!==h&&h!==Number.POSITIVE_INFINITY&&h!==Number.NEGATIVE_INFINITY&&(h=(0<h||-1)*
Math.floor(Math.abs(h))));if(h>=e)return-1;for(h=0<=h?h:Math.max(e-Math.abs(h),0);h<e;h++)if(h in c&&c[h]===b)return h;return-1});Array.prototype.forEach||(Array.prototype.forEach=function(b,c){for(var e=0,h=this.length>>>0;e<h;e++)e in this&&b.call(c,this[e],e,this)});Array.prototype.map||(Array.prototype.map=function(b,c){for(var e=[],h=0,d=this.length>>>0;h<d;h++)h in this&&(e[h]=b.call(c,this[h],h,this));return e});Array.prototype.every||(Array.prototype.every=function(b,c){for(var e=0,h=this.length>>>
0;e<h;e++)if(e in this&&!b.call(c,this[e],e,this))return!1;return!0});Array.prototype.some||(Array.prototype.some=function(b,c){for(var e=0,h=this.length>>>0;e<h;e++)if(e in this&&b.call(c,this[e],e,this))return!0;return!1});Array.prototype.filter||(Array.prototype.filter=function(b,c){for(var e=[],h,d=0,f=this.length>>>0;d<f;d++)d in this&&(h=this[d],b.call(c,h,d,this)&&e.push(h));return e});Array.prototype.reduce||(Array.prototype.reduce=function(b){var c=this.length>>>0,e=0,h;if(1<arguments.length)h=
arguments[1];else{do{if(e in this){h=this[e++];break}if(++e>=c)throw new TypeError;}while(1)}for(;e<c;e++)e in this&&(h=b.call(null,h,this[e],e,this));return h});fabric.util.array={fill:function(b,c){for(var e=b.length;e--;)b[e]=c;return b},invoke:function(b,c){for(var k=e.call(arguments,2),h=[],d=0,f=b.length;d<f;d++)h[d]=k.length?b[d][c].apply(b[d],k):b[d][c].call(b[d]);return h},min:function(b,e){return c(b,e,function(b,c){return b<c})},max:function(b,e){return c(b,e,function(b,c){return b>=c})}}})();
(function(){function c(e,b,g){if(g)if(!fabric.isLikelyNode&&b instanceof Element)e=b;else if(b instanceof Array){e=[];for(var k=0,h=b.length;k<h;k++)e[k]=c({},b[k],g)}else if(b&&"object"===typeof b)for(k in b)b.hasOwnProperty(k)&&(e[k]=c({},b[k],g));else e=b;else for(k in b)e[k]=b[k];return e}fabric.util.object={extend:c,clone:function(e,b){return c({},e,b)}}})();
(function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")});fabric.util.string={camelize:function(c){return c.replace(/-+(.)?/g,function(c,b){return b?b.toUpperCase():""})},capitalize:function(c,e){return c.charAt(0).toUpperCase()+(e?c.slice(1):c.slice(1).toLowerCase())},escapeXml:function(c){return c.replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26apos;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")}}})();
(function(){var c=Array.prototype.slice,e=Function.prototype.apply,b=function(){};Function.prototype.bind||(Function.prototype.bind=function(g){var k=this,h=c.call(arguments,1),d;d=h.length?function(){return e.call(k,this instanceof b?this:g,h.concat(c.call(arguments)))}:function(){return e.call(k,this instanceof b?this:g,arguments)};b.prototype=this.prototype;d.prototype=new b;return d})})();
(function(){function c(){}function e(d){var c=this.constructor.superclass.prototype[d];return 1<arguments.length?c.apply(this,b.call(arguments,1)):c.call(this)}var b=Array.prototype.slice,g=function(){},k=function(){for(var b in{toString:1})if("toString"===b)return!1;return!0}(),h=function(b,c,e){for(var h in c)h in b.prototype&&"function"===typeof b.prototype[h]&&-1<(c[h]+"").indexOf("callSuper")?b.prototype[h]=function(b){return function(){var d=this.constructor.superclass;this.constructor.superclass=
e;var h=c[b].apply(this,arguments);this.constructor.superclass=d;if("initialize"!==b)return h}}(h):b.prototype[h]=c[h],k&&(c.toString!==Object.prototype.toString&&(b.prototype.toString=c.toString),c.valueOf!==Object.prototype.valueOf&&(b.prototype.valueOf=c.valueOf))};fabric.util.createClass=function(){function d(){this.initialize.apply(this,arguments)}var f=null,k=b.call(arguments,0);"function"===typeof k[0]&&(f=k.shift());d.superclass=f;d.subclasses=[];f&&(c.prototype=f.prototype,d.prototype=new c,
f.subclasses.push(d));for(var n=0,p=k.length;n<p;n++)h(d,k[n],f);d.prototype.initialize||(d.prototype.initialize=g);d.prototype.constructor=d;d.prototype.callSuper=e;return d}})();
(function(){function c(b){var d=Array.prototype.slice.call(arguments,1),c,e,f=d.length;for(e=0;e<f;e++)if(c=typeof b[d[e]],!/^(?:function|object|unknown)$/.test(c))return!1;return!0}function e(b,d){return function(c){d.call(k(b),c||fabric.window.event)}}function b(b,d){return function(c){if(p[b]&&p[b][d])for(var e=p[b][d],f=0,h=e.length;f<h;f++)e[f].call(this,c||fabric.window.event)}}function g(b,d,c){var e="touchend"===b.type?"changedTouches":"touches";return b[e]&&b[e][0]?b[e][0][d]-(b[e][0][d]-
b[e][0][c])||b[c]:b[c]}var k,h,d=function(){var b=0;return function(d){return d.__uniqueID||(d.__uniqueID="uniqueID__"+b++)}}();(function(){var b={};k=function(d){return b[d]};h=function(d,c){b[d]=c}})();var f=c(fabric.document.documentElement,"addEventListener","removeEventListener")&&c(fabric.window,"addEventListener","removeEventListener"),l=c(fabric.document.documentElement,"attachEvent","detachEvent")&&c(fabric.window,"attachEvent","detachEvent"),n={},p={};f?(f=function(b,d,c){b.addEventListener(d,
c,!1)},l=function(b,d,c){b.removeEventListener(d,c,!1)}):l?(f=function(b,c,f){var g=d(b);h(g,b);n[g]||(n[g]={});n[g][c]||(n[g][c]=[]);f={handler:f,wrappedHandler:e(g,f)};n[g][c].push(f);b.attachEvent("on"+c,f.wrappedHandler)},l=function(b,c,e){var f=d(b),h;if(n[f]&&n[f][c])for(var g=0,k=n[f][c].length;g<k;g++)(h=n[f][c][g])&&h.handler===e&&(b.detachEvent("on"+c,h.wrappedHandler),n[f][c][g]=null)}):(f=function(c,e,f){var h=d(c);p[h]||(p[h]={});if(!p[h][e]){p[h][e]=[];var g=c["on"+e];g&&p[h][e].push(g);
c["on"+e]=b(h,e)}p[h][e].push(f)},l=function(b,c,e){b=d(b);if(p[b]&&p[b][c]){c=p[b][c];b=0;for(var f=c.length;b<f;b++)c[b]===e&&c.splice(b,1)}});fabric.util.addListener=f;fabric.util.removeListener=l;var q=function(b){return"unknown"!==typeof b.clientX?b.clientX:0},r=function(b){return"unknown"!==typeof b.clientY?b.clientY:0};fabric.isTouchSupported&&(q=function(b){return g(b,"pageX","clientX")},r=function(b){return g(b,"pageY","clientY")});fabric.util.getPointer=function(b){b||(b=fabric.window.event);
var d=fabric.util.getScrollLeftTop(b.target||("unknown"!==typeof b.srcElement?b.srcElement:null));return{x:q(b)+d.left,y:r(b)+d.top}};fabric.util.object.extend(fabric.util,fabric.Observable)})();
(function(){var c=fabric.document.createElement("div"),e="string"===typeof c.style.filter,b=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,g=function(b){return b};"string"===typeof c.style.opacity?g=function(b,c){b.style.opacity=c;return b}:e&&(g=function(c,e){var d=c.style;c.currentStyle&&!c.currentStyle.hasLayout&&(d.zoom=1);b.test(d.filter)?d.filter=d.filter.replace(b,.9999<=e?"":"alpha(opacity\x3d"+100*e+")"):d.filter+=" alpha(opacity\x3d"+100*e+")";return c});fabric.util.setStyle=function(b,c){var d=
b.style;if(!d)return b;if("string"===typeof c)return b.style.cssText+=";"+c,-1<c.indexOf("opacity")?g(b,c.match(/opacity:\s*(\d?\.?\d*)/)[1]):b;for(var e in c)"opacity"===e?g(b,c[e]):d["float"===e||"cssFloat"===e?"undefined"===typeof d.styleFloat?"cssFloat":"styleFloat":e]=c[e];return b}})();
(function(){function c(b,d){var c=fabric.document.createElement(b),e;for(e in d)"class"===e?c.className=d[e]:"for"===e?c.htmlFor=d[e]:c.setAttribute(e,d[e]);return c}function e(b){for(var d=0,c=0,e=fabric.document.documentElement,h=fabric.document.body||{scrollLeft:0,scrollTop:0};b&&(b.parentNode||b.host)&&(b=b.parentNode||b.host,b===fabric.document?(d=h.scrollLeft||e.scrollLeft||0,c=h.scrollTop||e.scrollTop||0):(d+=b.scrollLeft||0,c+=b.scrollTop||0),1!==b.nodeType||"fixed"!==fabric.util.getElementStyle(b,
"position")););return{left:d,top:c}}var b=Array.prototype.slice,g,k=function(d){return b.call(d,0)};try{g=k(fabric.document.childNodes)instanceof Array}catch(h){}g||(k=function(b){for(var d=Array(b.length),c=b.length;c--;)d[c]=b[c];return d});var d;d=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(b,d){var c=fabric.document.defaultView.getComputedStyle(b,null);return c?c[d]:void 0}:function(b,d){var c=b.style[d];!c&&b.currentStyle&&(c=b.currentStyle[d]);return c};
(function(){var b=fabric.document.documentElement.style,d="userSelect"in b?"userSelect":"MozUserSelect"in b?"MozUserSelect":"WebkitUserSelect"in b?"WebkitUserSelect":"KhtmlUserSelect"in b?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=function(b){"undefined"!==typeof b.onselectstart&&(b.onselectstart=fabric.util.falseFunction);d?b.style[d]="none":"string"===typeof b.unselectable&&(b.unselectable="on");return b};fabric.util.makeElementSelectable=function(b){"undefined"!==typeof b.onselectstart&&
(b.onselectstart=null);d?b.style[d]="":"string"===typeof b.unselectable&&(b.unselectable="");return b}})();(function(){fabric.util.getScript=function(b,d){var c=fabric.document.getElementsByTagName("head")[0],e=fabric.document.createElement("script"),h=!0;e.onload=e.onreadystatechange=function(b){!h||"string"===typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(h=!1,d(b||fabric.window.event),e=e.onload=e.onreadystatechange=null)};e.src=b;c.appendChild(e)}})();fabric.util.getById=
function(b){return"string"===typeof b?fabric.document.getElementById(b):b};fabric.util.toArray=k;fabric.util.makeElement=c;fabric.util.addClass=function(b,d){b&&-1===(" "+b.className+" ").indexOf(" "+d+" ")&&(b.className+=(b.className?" ":"")+d)};fabric.util.wrapElement=function(b,d,e){"string"===typeof d&&(d=c(d,e));b.parentNode&&b.parentNode.replaceChild(d,b);d.appendChild(b);return d};fabric.util.getScrollLeftTop=e;fabric.util.getElementOffset=function(b){var c;c=b&&b.ownerDocument;var h={left:0,
top:0},g={left:0,top:0},k={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!c)return g;for(var r in k)g[k[r]]+=parseInt(d(b,r),10)||0;c=c.documentElement;"undefined"!==typeof b.getBoundingClientRect&&(h=b.getBoundingClientRect());b=e(b);return{left:h.left+b.left-(c.clientLeft||0)+g.left,top:h.top+b.top-(c.clientTop||0)+g.top}};fabric.util.getElementStyle=d})();fabric.log=function(){};fabric.warn=function(){};
"undefined"!==typeof console&&["log","warn"].forEach(function(c){"undefined"!==typeof console[c]&&"function"===typeof console[c].apply&&(fabric[c]=function(){return console[c].apply(console,arguments)})});
(function(){function c(){return e.apply(fabric.window,arguments)}var e=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(b){fabric.window.setTimeout(b,1E3/60)};fabric.util.animate=function(b){c(function(e){b||(b={});var k=e||+new Date,h=b.duration||500,d=k+h,f,l=b.onChange||function(){},n=b.abort||function(){return!1},p=b.easing||function(b,d,
c,e){return-c*Math.cos(b/e*(Math.PI/2))+c+d},q="startValue"in b?b.startValue:0;e="endValue"in b?b.endValue:100;var r=b.byValue||e-q;b.onStart&&b.onStart();(function v(e){f=e||+new Date;e=f>d?h:f-k;n()?b.onComplete&&b.onComplete():(l(p(e,q,r,h)),f>d?b.onComplete&&b.onComplete():c(v))})(k)})};fabric.util.requestAnimFrame=c})();
(function(){fabric.util.animateColor=function(c,e,b,g){c=(new fabric.Color(c)).getSource();e=(new fabric.Color(e)).getSource();g=g||{};fabric.util.animate(fabric.util.object.extend(g,{duration:b||500,startValue:c,endValue:e,byValue:e,easing:function(b,c,d,e){b=g.colorEasing?g.colorEasing(b,e):1-Math.cos(b/e*(Math.PI/2));e="rgba("+parseInt(c[0]+b*(d[0]-c[0]),10)+","+parseInt(c[1]+b*(d[1]-c[1]),10)+","+parseInt(c[2]+b*(d[2]-c[2]),10);e+=","+(c&&d?parseFloat(c[3]+b*(d[3]-c[3])):1);return e+")"}}))}})();
(function(){function c(b,c,d,e){b<Math.abs(c)?(b=c,e=d/4):e=0===c&&0===b?d/(2*Math.PI)*Math.asin(1):d/(2*Math.PI)*Math.asin(c/b);return{a:b,c:c,p:d,s:e}}function e(b,c,d){return b.a*Math.pow(2,10*(c-=1))*Math.sin(2*(c*d-b.s)*Math.PI/b.p)}function b(b,c,d,e){return d-g(e-b,0,d,e)+c}function g(b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c}fabric.util.ease={easeInQuad:function(b,
c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(b,c,d,e){b/=e/2;return 1>b?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(b,c,d,e){b/=e/2;return 1>b?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(b,
c,d,e){b/=e/2;return 1>b?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(b,c,d,e){b/=e/2;return 1>b?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(b,
c,d,e){return 0===b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(b,c,d,e){return b===e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(b,c,d,e){if(0===b)return c;if(b===e)return c+d;b/=e/2;return 1>b?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(b,c,d,e){b/=e/2;return 1>b?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-
(b-=2)*b)+1)+c},easeInElastic:function(b,h,d,f){var g=0;if(0===b)return h;b/=f;if(1===b)return h+d;g||(g=.3*f);d=c(d,d,g,1.70158);return-e(d,b,f)+h},easeOutElastic:function(b,e,d,f){var g=0;if(0===b)return e;b/=f;if(1===b)return e+d;g||(g=.3*f);d=c(d,d,g,1.70158);return d.a*Math.pow(2,-10*b)*Math.sin(2*(b*f-d.s)*Math.PI/d.p)+d.c+e},easeInOutElastic:function(b,h,d,f){var g=0;if(0===b)return h;b/=f/2;if(2===b)return h+d;g||(g=.3*f*1.5);d=c(d,d,g,1.70158);return 1>b?-.5*e(d,b,f)+h:d.a*Math.pow(2,-10*
(b-=1))*Math.sin(2*(b*f-d.s)*Math.PI/d.p)*.5+d.c+h},easeInBack:function(b,c,d,e,g){void 0===g&&(g=1.70158);return d*(b/=e)*b*((g+1)*b-g)+c},easeOutBack:function(b,c,d,e,g){void 0===g&&(g=1.70158);return d*((b=b/e-1)*b*((g+1)*b+g)+1)+c},easeInOutBack:function(b,c,d,e,g){void 0===g&&(g=1.70158);b/=e/2;return 1>b?d/2*b*b*(((g*=1.525)+1)*b-g)+c:d/2*((b-=2)*b*(((g*=1.525)+1)*b+g)+2)+c},easeInBounce:b,easeOutBounce:g,easeInOutBounce:function(c,e,d,f){return c<f/2?.5*b(2*c,0,d,f)+e:.5*g(2*c-f,0,d,f)+.5*
d+e}}})();
(function(c){function e(b){return b in D?D[b]:b}function b(b,d,c,e){var f="[object Array]"===Object.prototype.toString.call(d),h;"fill"!==b&&"stroke"!==b||"none"!==d?"strokeDashArray"===b?d="none"===d?null:d.replace(/,/g," ").split(/\s+/).map(function(b){return parseFloat(b)}):"transformMatrix"===b?d=c&&c.transformMatrix?z(c.transformMatrix,p.parseTransformAttribute(d)):p.parseTransformAttribute(d):"visible"===b?(d="none"===d||"hidden"===d?!1:!0,c&&!1===c.visible&&(d=!1)):"originX"===b?d="start"===
d?"left":"end"===d?"right":"center":h=f?d.map(v):v(d,e):d="";return!f&&isNaN(h)?d:h}function g(b){for(var d in C)if("undefined"!==typeof b[C[d]]&&""!==b[d]){if("undefined"===typeof b[d]){if(!p.Object.prototype[d])continue;b[d]=p.Object.prototype[d]}if(0!==b[d].indexOf("url(")){var c=new p.Color(b[d]);b[d]=c.setAlpha(s(c.getAlpha()*b[C[d]],2)).toRgba()}}return b}function k(b,d){for(var c,e=[],f=0;f<d.length;f++)c=d[f],c=b.getElementsByTagName(c),e=e.concat(Array.prototype.slice.call(c));return e}function h(d,
c){var f,h;d.replace(/;\s*$/,"").split(";").forEach(function(d){d=d.split(":");f=e(d[0].trim().toLowerCase());h=b(f,d[1].trim());c[f]=h})}function d(b,d){var c={},e;for(e in p.cssRules[d]){var h=b,g=e.split(" "),k=void 0,l=!0;if((k=f(h,g.pop()))&&g.length){for(var l=g,n=void 0,q=!0;h.parentNode&&1===h.parentNode.nodeType&&l.length;)q&&(n=l.pop()),h=h.parentNode,q=f(h,n);l=0===l.length}if(k&&l&&0===g.length)for(var r in p.cssRules[d][e])c[r]=p.cssRules[d][e][r]}return c}function f(b,d){var c=b.nodeName,
e=b.getAttribute("class"),f=b.getAttribute("id"),c=new RegExp("^"+c,"i");d=d.replace(c,"");f&&d.length&&(c=new RegExp("#"+f+"(?![a-zA-Z\\-]+)","i"),d=d.replace(c,""));if(e&&d.length)for(e=e.split(" "),f=e.length;f--;)c=new RegExp("\\."+e[f]+"(?![a-zA-Z\\-]+)","i"),d=d.replace(c,"");return 0===d.length}function l(b){for(var d=k(b,["use","svg:use"]),c=0;d.length&&c<d.length;){var e=d[c],f=e.getAttribute("xlink:href").substr(1),h=e.getAttribute("x")||0,g=e.getAttribute("y")||0,l;a:{l=b;var p=void 0;
l.getElementById&&(p=l.getElementById(f));if(p)l=p;else{var q=p=void 0;l=l.getElementsByTagName("*");for(q=0;q<l.length;q++)if(p=l[q],f===p.getAttribute("id")){l=p;break a}l=void 0}}l=l.cloneNode(!0);var h=(l.getAttribute("transform")||"")+" translate("+h+", "+g+")",g=d.length,r;n(l);if(/^svg$/i.test(l.nodeName)){var s=l.ownerDocument.createElement("g"),p=0,q=l.attributes;for(r=q.length;p<r;p++)f=q.item(p),s.setAttribute(f.nodeName,f.nodeValue);for(;l.firstChild;)s.appendChild(l.firstChild);l=s}p=
0;q=e.attributes;for(r=q.length;p<r;p++)f=q.item(p),"x"!==f.nodeName&&"y"!==f.nodeName&&"xlink:href"!==f.nodeName&&("transform"===f.nodeName?h=f.nodeValue+" "+h:l.setAttribute(f.nodeName,f.nodeValue));l.setAttribute("transform",h);l.setAttribute("instantiated_by_use","1");l.removeAttribute("id");e.parentNode.replaceChild(l,e);d.length===g&&c++}}function n(b){var d=b.getAttribute("viewBox"),c=1,e=1,f=0,h=0,g,k=b.getAttribute("width"),l=b.getAttribute("height"),n=b.getAttribute("x")||0,q=b.getAttribute("y")||
0,r=b.getAttribute("preserveAspectRatio")||"",f=!d||!B.test(b.nodeName)||!(d=d.match(F)),s=!k||!l||"100%"===k||"100%"===l,h=f&&s,u={},z="";u.width=0;u.height=0;if(u.toBeParsed=h)return u;if(f)return u.width=v(k),u.height=v(l),u;f=-parseFloat(d[1]);h=-parseFloat(d[2]);g=parseFloat(d[3]);d=parseFloat(d[4]);s?(u.width=g,u.height=d):(u.width=v(k),u.height=v(l),c=u.width/g,e=u.height/d);r=p.util.parsePreserveAspectRatioAttribute(r);"none"!==r.alignX&&(e=c=c>e?e:c);if(1===c&&1===e&&0===f&&0===h&&0===n&&
0===q)return u;if(n||q)z=" translate("+v(n)+" "+v(q)+") ";c=z+" matrix("+c+" 0 0 "+e+" "+f*c+" "+h*e+") ";if("svg"===b.nodeName){for(e=b.ownerDocument.createElement("g");b.firstChild;)e.appendChild(b.firstChild);b.appendChild(e)}else e=b,c=e.getAttribute("transform")+c;e.setAttribute("transform",c);return u}var p=c.fabric||(c.fabric={}),q=p.util.object.extend,r=p.util.object.clone,s=p.util.toFixed,v=p.util.parseUnit,z=p.util.multiplyTransformMatrices,w=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/i,
B=/^(symbol|image|marker|pattern|view|svg)$/i,E=/^(?:pattern|defs|symbol|metadata|clipPath|mask)$/i,u=/^(symbol|g|a|svg)$/i,D={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit",
"stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX"},C={stroke:"strokeOpacity",fill:"fillOpacity"};p.cssRules={};p.gradientDefs={};p.parseTransformAttribute=function(){function b(d,c){var e=Math.cos(c[0]),f=Math.sin(c[0]),h=0,g=0;3===c.length&&(h=c[1],g=c[2]);d[0]=e;d[1]=f;d[2]=-f;d[3]=e;d[4]=h-(e*h-f*g);d[5]=g-(f*h+e*g)}function d(b,c){var e=2===c.length?c[1]:c[0];b[0]=c[0];b[3]=e}function c(b,d){b[4]=d[0];2===d.length&&(b[5]=d[1])}
var e=[1,0,0,1,0,0],f=p.reNum,h="(?:"+("(?:(matrix)\\s*\\(\\s*("+f+")(?:\\s+,?\\s*|,\\s*)("+f+")(?:\\s+,?\\s*|,\\s*)("+f+")(?:\\s+,?\\s*|,\\s*)("+f+")(?:\\s+,?\\s*|,\\s*)("+f+")(?:\\s+,?\\s*|,\\s*)("+f+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+f+")(?:(?:\\s+,?\\s*|,\\s*)("+f+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+f+")(?:(?:\\s+,?\\s*|,\\s*)("+f+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+f+")(?:(?:\\s+,?\\s*|,\\s*)("+f+")(?:\\s+,?\\s*|,\\s*)("+f+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+
f+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+f+")\\s*\\))")+")",g=new RegExp("^\\s*(?:"+("(?:"+h+"(?:(?:\\s+,?\\s*|,\\s*)*"+h+")*)")+"?)\\s*$"),k=new RegExp(h,"g");return function(f){var l=e.concat(),n=[];if(!f||f&&!g.test(f))return l;f.replace(k,function(f){var g=(new RegExp(h)).exec(f).filter(function(b){return!!b});f=g[1];g=g.slice(2).map(parseFloat);switch(f){case "translate":c(l,g);break;case "rotate":g[0]=p.util.degreesToRadians(g[0]);b(l,g);break;case "scale":d(l,g);break;case "skewX":l[2]=
Math.tan(p.util.degreesToRadians(g[0]));break;case "skewY":l[1]=Math.tan(p.util.degreesToRadians(g[0]));break;case "matrix":l=g}n.push(l.concat());l=e.concat()});for(f=n[0];1<n.length;)n.shift(),f=p.util.multiplyTransformMatrices(f,n[0]);return f}}();var F=new RegExp("^\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*$");p.parseSVGDocument=function(b,d,c){if(b){l(b);var e=p.Object.__uid++,f=n(b),h=p.util.toArray(b.getElementsByTagName("*"));f.svgUid=e;
if(0===h.length&&p.isLikelyNode){for(var h=b.selectNodes('//*[name(.)!\x3d"svg"]'),g=[],k=0,q=h.length;k<q;k++)g[k]=h[k];h=g}h=h.filter(function(b){n(b);var d;if(d=w.test(b.nodeName.replace("svg:",""))){a:{for(;b&&(b=b.parentNode);)if(b.nodeName&&E.test(b.nodeName.replace("svg:",""))&&!b.getAttribute("instantiated_by_use")){b=!0;break a}b=!1}d=!b}return d});!h||h&&!h.length?d&&d([],{}):(p.gradientDefs[e]=p.getGradientDefs(b),p.cssRules[e]=p.getCSSRules(b),p.parseElements(h,function(b){d&&d(b,f)},
r(f),c))}};var A=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+p.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+p.reNum+"))?\\s+(.*)");q(p,{parseFontDeclaration:function(b,d){var c=b.match(A);if(c){var e=c[1],f=c[3],h=c[4],g=c[5],c=c[6];e&&(d.fontStyle=e);f&&(d.fontWeight=isNaN(parseFloat(f))?f:parseFloat(f));h&&(d.fontSize=v(h));c&&(d.fontFamily=c);g&&(d.lineHeight="normal"===g?1:g)}},getGradientDefs:function(b){for(var d=
k(b,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),c=0,e,f,h={},g={},c=d.length;c--;)b=d[c],f=b.getAttribute("xlink:href"),e=b.getAttribute("id"),f&&(g[e]=f.substr(1)),h[e]=b;for(e in g)for(d=h[g[e]].cloneNode(!0),b=h[e];d.firstChild;)b.appendChild(d.firstChild);return h},parseAttributes:function(c,f,h){if(c){var k,l={},n;"undefined"===typeof h&&(h=c.getAttribute("svgUid"));c.parentNode&&u.test(c.parentNode.nodeName)&&(l=p.parseAttributes(c.parentNode,f,h));n=l&&l.fontSize||
c.getAttribute("font-size")||p.Text.DEFAULT_SVG_FONT_SIZE;f=f.reduce(function(d,f){if(k=c.getAttribute(f))f=e(f),k=b(f,k,l,n),d[f]=k;return d},{});f=q(f,q(d(c,h),p.parseStyleAttribute(c)));f.font&&p.parseFontDeclaration(f.font,f);return g(q(l,f))}},parseElements:function(b,d,c,e){(new p.ElementsParser(b,d,c,e)).parse()},parseStyleAttribute:function(d){var c={};d=d.getAttribute("style");if(!d)return c;if("string"===typeof d)h(d,c);else{var f,g,k;for(k in d)"undefined"!==typeof d[k]&&(f=e(k.toLowerCase()),
g=b(f,d[k]),c[f]=g)}return c},parsePointsAttribute:function(b){if(!b)return null;b=b.replace(/,/g," ").trim();b=b.split(/\s+/);var d=[],c,e;c=0;for(e=b.length;c<e;c+=2)d.push({x:parseFloat(b[c]),y:parseFloat(b[c+1])});return d},getCSSRules:function(d){d=d.getElementsByTagName("style");for(var c={},f,h=0,g=d.length;h<g;h++)f=d[h].textContent||d[h].text,f=f.replace(/\/\*[\s\S]*?\*\//g,""),""!==f.trim()&&(f=f.match(/[^{]*\{[\s\S]*?\}/g),f=f.map(function(b){return b.trim()}),f.forEach(function(d){d=d.match(/([\s\S]*?)\s*\{([^}]*)\}/);
for(var f={},h=d[2].trim().replace(/;$/,"").split(/\s*;\s*/),g=0,k=h.length;g<k;g++){var l=h[g].split(/\s*:\s*/),n=e(l[0]),l=b(n,l[1],l[0]);f[n]=l}d=d[1];d.split(",").forEach(function(b){b=b.replace(/^svg/i,"").trim();""!==b&&(c[b]?p.util.object.extend(c[b],f):c[b]=p.util.object.clone(f))})}));return c},loadSVGFromURL:function(b,d,c){b=b.replace(/^\n\s*/,"").trim();new p.util.request(b,{method:"get",onComplete:function(b){var e=b.responseXML;e&&!e.documentElement&&p.window.ActiveXObject&&b.responseText&&
(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(b.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));e&&e.documentElement||d&&d(null);p.parseSVGDocument(e.documentElement,function(b,c){d&&d(b,c)},c)}})},loadSVGFromString:function(b,d,c){b=b.trim();var e;if("undefined"!==typeof DOMParser){var f=new DOMParser;f&&f.parseFromString&&(e=f.parseFromString(b,"text/xml"))}else p.window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(b.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,
"")));p.parseSVGDocument(e.documentElement,function(b,c){d(b,c)},c)}})})("undefined"!==typeof exports?exports:this);fabric.ElementsParser=function(c,e,b,g){this.elements=c;this.callback=e;this.options=b;this.reviver=g;this.svgUid=b&&b.svgUid||0};fabric.ElementsParser.prototype.parse=function(){this.instances=Array(this.elements.length);this.numElements=this.elements.length;this.createObjects()};
fabric.ElementsParser.prototype.createObjects=function(){for(var c=0,e=this.elements.length;c<e;c++)this.elements[c].setAttribute("svgUid",this.svgUid),function(b,c){setTimeout(function(){b.createObject(b.elements[c],c)},0)}(this,c)};fabric.ElementsParser.prototype.createObject=function(c,e){var b=fabric[fabric.util.string.capitalize(c.tagName.replace("svg:",""))];if(b&&b.fromElement)try{this._createObject(b,c,e)}catch(g){fabric.log(g)}else this.checkIfDone()};
fabric.ElementsParser.prototype._createObject=function(c,e,b){c.async?c.fromElement(e,this.createCallback(b,e),this.options):(c=c.fromElement(e,this.options),this.resolveGradient(c,"fill"),this.resolveGradient(c,"stroke"),this.reviver&&this.reviver(e,c),this.instances[b]=c,this.checkIfDone())};fabric.ElementsParser.prototype.createCallback=function(c,e){var b=this;return function(g){b.resolveGradient(g,"fill");b.resolveGradient(g,"stroke");b.reviver&&b.reviver(e,g);b.instances[c]=g;b.checkIfDone()}};
fabric.ElementsParser.prototype.resolveGradient=function(c,e){var b=c.get(e);/^url\(/.test(b)&&(b=b.slice(5,b.length-1),fabric.gradientDefs[this.svgUid][b]&&c.set(e,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][b],c)))};fabric.ElementsParser.prototype.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter(function(c){return null!=c}),this.callback(this.instances))};
(function(c){function e(b,c){this.x=b;this.y=c}c=c.fabric||(c.fabric={});c.Point?c.warn("fabric.Point is already defined"):(c.Point=e,e.prototype={type:"point",constructor:e,add:function(b){return new e(this.x+b.x,this.y+b.y)},addEquals:function(b){this.x+=b.x;this.y+=b.y;return this},scalarAdd:function(b){return new e(this.x+b,this.y+b)},scalarAddEquals:function(b){this.x+=b;this.y+=b;return this},subtract:function(b){return new e(this.x-b.x,this.y-b.y)},subtractEquals:function(b){this.x-=b.x;this.y-=
b.y;return this},scalarSubtract:function(b){return new e(this.x-b,this.y-b)},scalarSubtractEquals:function(b){this.x-=b;this.y-=b;return this},multiply:function(b){return new e(this.x*b,this.y*b)},multiplyEquals:function(b){this.x*=b;this.y*=b;return this},divide:function(b){return new e(this.x/b,this.y/b)},divideEquals:function(b){this.x/=b;this.y/=b;return this},eq:function(b){return this.x===b.x&&this.y===b.y},lt:function(b){return this.x<b.x&&this.y<b.y},lte:function(b){return this.x<=b.x&&this.y<=
b.y},gt:function(b){return this.x>b.x&&this.y>b.y},gte:function(b){return this.x>=b.x&&this.y>=b.y},lerp:function(b,c){"undefined"===typeof c&&(c=.5);c=Math.max(Math.min(1,c),0);return new e(this.x+(b.x-this.x)*c,this.y+(b.y-this.y)*c)},distanceFrom:function(b){var c=this.x-b.x;b=this.y-b.y;return Math.sqrt(c*c+b*b)},midPointFrom:function(b){return this.lerp(b)},min:function(b){return new e(Math.min(this.x,b.x),Math.min(this.y,b.y))},max:function(b){return new e(Math.max(this.x,b.x),Math.max(this.y,
b.y))},toString:function(){return this.x+","+this.y},setXY:function(b,c){this.x=b;this.y=c;return this},setX:function(b){this.x=b;return this},setY:function(b){this.y=b;return this},setFromPoint:function(b){this.x=b.x;this.y=b.y;return this},swap:function(b){var c=this.x,e=this.y;this.x=b.x;this.y=b.y;b.x=c;b.y=e},clone:function(){return new e(this.x,this.y)}})})("undefined"!==typeof exports?exports:this);
(function(c){function e(b){this.status=b;this.points=[]}var b=c.fabric||(c.fabric={});b.Intersection?b.warn("fabric.Intersection is already defined"):(b.Intersection=e,b.Intersection.prototype={constructor:e,appendPoint:function(b){this.points.push(b);return this},appendPoints:function(b){this.points=this.points.concat(b);return this}},b.Intersection.intersectLineLine=function(c,k,h,d){var f,l=(d.x-h.x)*(c.y-h.y)-(d.y-h.y)*(c.x-h.x);f=(k.x-c.x)*(c.y-h.y)-(k.y-c.y)*(c.x-h.x);h=(d.y-h.y)*(k.x-c.x)-
(d.x-h.x)*(k.y-c.y);0!==h?(l/=h,f/=h,0<=l&&1>=l&&0<=f&&1>=f?(f=new e("Intersection"),f.appendPoint(new b.Point(c.x+l*(k.x-c.x),c.y+l*(k.y-c.y)))):f=new e):f=0===l||0===f?new e("Coincident"):new e("Parallel");return f},b.Intersection.intersectLinePolygon=function(b,c,h){for(var d=new e,f=h.length,l,n,p=0;p<f;p++)l=h[p],n=h[(p+1)%f],l=e.intersectLineLine(b,c,l,n),d.appendPoints(l.points);0<d.points.length&&(d.status="Intersection");return d},b.Intersection.intersectPolygonPolygon=function(b,c){for(var h=
new e,d=b.length,f=0;f<d;f++){var l=e.intersectLinePolygon(b[f],b[(f+1)%d],c);h.appendPoints(l.points)}0<h.points.length&&(h.status="Intersection");return h},b.Intersection.intersectPolygonRectangle=function(c,k,h){var d=k.min(h),f=k.max(h);h=new b.Point(f.x,d.y);var l=new b.Point(d.x,f.y);k=e.intersectLinePolygon(d,h,c);h=e.intersectLinePolygon(h,f,c);f=e.intersectLinePolygon(f,l,c);c=e.intersectLinePolygon(l,d,c);d=new e;d.appendPoints(k.points);d.appendPoints(h.points);d.appendPoints(f.points);
d.appendPoints(c.points);0<d.points.length&&(d.status="Intersection");return d})})("undefined"!==typeof exports?exports:this);
(function(c){function e(b){b?this._tryParsingColor(b):this.setSource([0,0,0,1])}function b(b,c,d){0>d&&(d+=1);1<d&&(d-=1);return d<1/6?b+6*(c-b)*d:.5>d?c:d<2/3?b+(c-b)*(2/3-d)*6:b}var g=c.fabric||(c.fabric={});g.Color?g.warn("fabric.Color is already defined."):(g.Color=e,g.Color.prototype={_tryParsingColor:function(b){var c;b in e.colorNameMap&&(b=e.colorNameMap[b]);"transparent"===b&&(c=[255,255,255,0]);c||(c=e.sourceFromHex(b));c||(c=e.sourceFromRgb(b));c||(c=e.sourceFromHsl(b));c||(c=[0,0,0,1]);
c&&this.setSource(c)},_rgbToHsl:function(b,c,d){b/=255;c/=255;d/=255;var e,l,n,p=g.util.array.max([b,c,d]);l=g.util.array.min([b,c,d]);n=(p+l)/2;if(p===l)e=l=0;else{var q=p-l;l=.5<n?q/(2-p-l):q/(p+l);switch(p){case b:e=(c-d)/q+(c<d?6:0);break;case c:e=(d-b)/q+2;break;case d:e=(b-c)/q+4}e/=6}return[Math.round(360*e),Math.round(100*l),Math.round(100*n)]},getSource:function(){return this._source},setSource:function(b){this._source=b},toRgb:function(){var b=this.getSource();return"rgb("+b[0]+","+b[1]+
","+b[2]+")"},toRgba:function(){var b=this.getSource();return"rgba("+b[0]+","+b[1]+","+b[2]+","+b[3]+")"},toHsl:function(){var b=this.getSource(),b=this._rgbToHsl(b[0],b[1],b[2]);return"hsl("+b[0]+","+b[1]+"%,"+b[2]+"%)"},toHsla:function(){var b=this.getSource(),c=this._rgbToHsl(b[0],b[1],b[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+b[3]+")"},toHex:function(){var b=this.getSource(),c,d;c=b[0].toString(16);c=1===c.length?"0"+c:c;d=b[1].toString(16);d=1===d.length?"0"+d:d;b=b[2].toString(16);b=
1===b.length?"0"+b:b;return c.toUpperCase()+d.toUpperCase()+b.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(b){var c=this.getSource();c[3]=b;this.setSource(c);return this},toGrayscale:function(){var b=this.getSource(),c=parseInt((.3*b[0]+.59*b[1]+.11*b[2]).toFixed(0),10);this.setSource([c,c,c,b[3]]);return this},toBlackWhite:function(b){var c=this.getSource(),d=(.3*c[0]+.59*c[1]+.11*c[2]).toFixed(0),c=c[3],d=Number(d)<Number(b||127)?0:255;this.setSource([d,d,d,c]);
return this},overlayWith:function(b){b instanceof e||(b=new e(b));var c=[],d=this.getAlpha(),f=this.getSource();b=b.getSource();for(var g=0;3>g;g++)c.push(Math.round(.5*f[g]+.5*b[g]));c[3]=d;this.setSource(c);return this}},g.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,g.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,g.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,
g.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",grey:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},g.Color.fromRgb=function(b){return e.fromSource(e.sourceFromRgb(b))},g.Color.sourceFromRgb=function(b){if(b=b.match(e.reRGBa)){var c=parseInt(b[1],10)/(/%$/.test(b[1])?100:1)*(/%$/.test(b[1])?
255:1),d=parseInt(b[2],10)/(/%$/.test(b[2])?100:1)*(/%$/.test(b[2])?255:1),f=parseInt(b[3],10)/(/%$/.test(b[3])?100:1)*(/%$/.test(b[3])?255:1);return[parseInt(c,10),parseInt(d,10),parseInt(f,10),b[4]?parseFloat(b[4]):1]}},g.Color.fromRgba=e.fromRgb,g.Color.fromHsl=function(b){return e.fromSource(e.sourceFromHsl(b))},g.Color.sourceFromHsl=function(c){if(c=c.match(e.reHSLa)){var h=(parseFloat(c[1])%360+360)%360/360,d=parseFloat(c[2])/(/%$/.test(c[2])?100:1),f=parseFloat(c[3])/(/%$/.test(c[3])?100:1);
if(0===d)f=d=h=f;else var g=.5>=f?f*(d+1):f+d-f*d,n=2*f-g,f=b(n,g,h+1/3),d=b(n,g,h),h=b(n,g,h-1/3);return[Math.round(255*f),Math.round(255*d),Math.round(255*h),c[4]?parseFloat(c[4]):1]}},g.Color.fromHsla=e.fromHsl,g.Color.fromHex=function(b){return e.fromSource(e.sourceFromHex(b))},g.Color.sourceFromHex=function(b){if(b.match(e.reHex)){var c=b.slice(b.indexOf("#")+1),d=3===c.length||4===c.length,f=8===c.length||4===c.length;b=d?c.charAt(0)+c.charAt(0):c.substring(0,2);var g=d?c.charAt(1)+c.charAt(1):
c.substring(2,4),n=d?c.charAt(2)+c.charAt(2):c.substring(4,6),c=f?d?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(b,16),parseInt(g,16),parseInt(n,16),parseFloat((parseInt(c,16)/255).toFixed(2))]}},g.Color.fromSource=function(b){var c=new e;c.setSource(b);return c})})("undefined"!==typeof exports?exports:this);
(function(){function c(b){var c=b.getAttribute("style"),e=b.getAttribute("offset")||0,h,d,e=parseFloat(e)/(/%$/.test(e)?100:1),e=0>e?0:1<e?1:e;if(c){c=c.split(/\s*;\s*/);""===c[c.length-1]&&c.pop();for(var f=c.length;f--;){var l=c[f].split(/\s*:\s*/),n=l[0].trim(),l=l[1].trim();"stop-color"===n?h=l:"stop-opacity"===n&&(d=l)}}h||(h=b.getAttribute("stop-color")||"rgb(0,0,0)");d||(d=b.getAttribute("stop-opacity"));h=new fabric.Color(h);b=h.getAlpha();d=isNaN(parseFloat(d))?1:parseFloat(d);d*=b;return{offset:e,
color:h.toRgb(),opacity:d}}function e(b,c,e){var h,d=0,f=1,l="",n;for(n in c){"Infinity"===c[n]?c[n]=1:"-Infinity"===c[n]&&(c[n]=0);h=parseFloat(c[n],10);f="string"===typeof c[n]&&/^\d+%$/.test(c[n])?.01:1;if("x1"===n||"x2"===n||"r2"===n)f*="objectBoundingBox"===e?b.width:1,d="objectBoundingBox"===e?b.left||0:0;else if("y1"===n||"y2"===n)f*="objectBoundingBox"===e?b.height:1,d="objectBoundingBox"===e?b.top||0:0;c[n]=h*f+d}"ellipse"===b.type&&null!==c.r2&&"objectBoundingBox"===e&&b.rx!==b.ry&&(b=b.ry/
b.rx,l=" scale(1, "+b+")",c.y1&&(c.y1/=b),c.y2&&(c.y2/=b));return l}fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(b){b||(b={});var c={};this.id=fabric.Object.__uid++;this.type=b.type||"linear";c={x1:b.coords.x1||0,y1:b.coords.y1||0,x2:b.coords.x2||0,y2:b.coords.y2||0};"radial"===this.type&&(c.r1=b.coords.r1||0,c.r2=b.coords.r2||0);this.coords=c;this.colorStops=b.colorStops.slice();b.gradientTransform&&(this.gradientTransform=b.gradientTransform);this.offsetX=b.offsetX||
this.offsetX;this.offsetY=b.offsetY||this.offsetY},addColorStop:function(b){for(var c in b){var e=new fabric.Color(b[c]);this.colorStops.push({offset:c,color:e.toRgb(),opacity:e.getAlpha()})}return this},toObject:function(b){var c={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};fabric.util.populateWithProperties(this,c,b);return c},toSVG:function(b){var c=
fabric.util.object.clone(this.coords),e;this.colorStops.sort(function(b,c){return b.offset-c.offset});if(!b.group||"path-group"!==b.group.type)for(var h in c)if("x1"===h||"x2"===h||"r2"===h)c[h]+=this.offsetX-b.width/2;else if("y1"===h||"y2"===h)c[h]+=this.offsetY-b.height/2;b='id\x3d"SVGID_'+this.id+'" gradientUnits\x3d"userSpaceOnUse"';this.gradientTransform&&(b+=' gradientTransform\x3d"matrix('+this.gradientTransform.join(" ")+')" ');"linear"===this.type?e=["\x3clinearGradient ",b,' x1\x3d"',c.x1,
'" y1\x3d"',c.y1,'" x2\x3d"',c.x2,'" y2\x3d"',c.y2,'"\x3e\n']:"radial"===this.type&&(e=["\x3cradialGradient ",b,' cx\x3d"',c.x2,'" cy\x3d"',c.y2,'" r\x3d"',c.r2,'" fx\x3d"',c.x1,'" fy\x3d"',c.y1,'"\x3e\n']);for(c=0;c<this.colorStops.length;c++)e.push("\x3cstop ",'offset\x3d"',100*this.colorStops[c].offset+"%",'" style\x3d"stop-color:',this.colorStops[c].color,null!==this.colorStops[c].opacity?";stop-opacity: "+this.colorStops[c].opacity:";",'"/\x3e\n');e.push("linear"===this.type?"\x3c/linearGradient\x3e\n":
"\x3c/radialGradient\x3e\n");return e.join("")},toLive:function(b,c){var e,h,d=fabric.util.object.clone(this.coords);if(this.type){if(c.group&&"path-group"===c.group.type)for(h in d)if("x1"===h||"x2"===h)d[h]+=-this.offsetX+c.width/2;else if("y1"===h||"y2"===h)d[h]+=-this.offsetY+c.height/2;"linear"===this.type?e=b.createLinearGradient(d.x1,d.y1,d.x2,d.y2):"radial"===this.type&&(e=b.createRadialGradient(d.x1,d.y1,d.r1,d.x2,d.y2,d.r2));h=0;for(d=this.colorStops.length;h<d;h++){var f=this.colorStops[h].color,
l=this.colorStops[h].opacity,n=this.colorStops[h].offset;"undefined"!==typeof l&&(f=(new fabric.Color(f)).setAlpha(l).toRgba());e.addColorStop(parseFloat(n),f)}return e}}});fabric.util.object.extend(fabric.Gradient,{fromElement:function(b,g){var k=b.getElementsByTagName("stop"),h,d=b.getAttribute("gradientUnits")||"objectBoundingBox",f=b.getAttribute("gradientTransform"),l=[],n;h="linearGradient"===b.nodeName||"LINEARGRADIENT"===b.nodeName?"linear":"radial";"linear"===h?n={x1:b.getAttribute("x1")||
0,y1:b.getAttribute("y1")||0,x2:b.getAttribute("x2")||"100%",y2:b.getAttribute("y2")||0}:"radial"===h&&(n={x1:b.getAttribute("fx")||b.getAttribute("cx")||"50%",y1:b.getAttribute("fy")||b.getAttribute("cy")||"50%",r1:0,x2:b.getAttribute("cx")||"50%",y2:b.getAttribute("cy")||"50%",r2:b.getAttribute("r")||"50%"});for(var p=k.length;p--;)l.push(c(k[p]));k=e(g,n,d);h=new fabric.Gradient({type:h,coords:n,colorStops:l,offsetX:-g.left,offsetY:-g.top});if(f||""!==k)h.gradientTransform=fabric.parseTransformAttribute((f||
"")+k);return h},forObject:function(b,c){c||(c={});e(b,c.coords,"userSpaceOnUse");return new fabric.Gradient(c)}})})();
(function(){var c=fabric.util.toFixed;fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(c,b){c||(c={});this.id=fabric.Object.__uid++;this.setOptions(c);if(!c.source||c.source&&"string"!==typeof c.source)b&&b(this);else if("undefined"!==typeof fabric.util.getFunctionBody(c.source))this.source=new Function(fabric.util.getFunctionBody(c.source)),b&&b(this);else{var g=this;this.source=fabric.util.createImage();fabric.util.loadImage(c.source,function(c){g.source=
c;b&&b(g)})}},toObject:function(e){var b=fabric.Object.NUM_FRACTION_DIGITS,g;"function"===typeof this.source?g=String(this.source):"string"===typeof this.source.src?g=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(g=this.source.toDataURL());b={type:"pattern",source:g,repeat:this.repeat,offsetX:c(this.offsetX,b),offsetY:c(this.offsetY,b)};fabric.util.populateWithProperties(this,b,e);return b},toSVG:function(c){var b="function"===typeof this.source?this.source():this.source,
g=b.width/c.width,k=b.height/c.height,h=this.offsetX/c.width;c=this.offsetY/c.height;var d="";if("repeat-x"===this.repeat||"no-repeat"===this.repeat)k=1;if("repeat-y"===this.repeat||"no-repeat"===this.repeat)g=1;b.src?d=b.src:b.toDataURL&&(d=b.toDataURL());return'\x3cpattern id\x3d"SVGID_'+this.id+'" x\x3d"'+h+'" y\x3d"'+c+'" width\x3d"'+g+'" height\x3d"'+k+'"\x3e\n\x3cimage x\x3d"0" y\x3d"0" width\x3d"'+b.width+'" height\x3d"'+b.height+'" xlink:href\x3d"'+d+'"\x3e\x3c/image\x3e\n\x3c/pattern\x3e\n'},
setOptions:function(c){for(var b in c)this[b]=c[b]},toLive:function(c){var b="function"===typeof this.source?this.source():this.source;return b&&("undefined"===typeof b.src||b.complete&&0!==b.naturalWidth&&0!==b.naturalHeight)?c.createPattern(b,this.repeat):""}})})();
(function(){if(fabric.StaticCanvas)fabric.warn("fabric.StaticCanvas is already defined.");else{var c=fabric.util.object.extend,e=fabric.util.getElementOffset,b=fabric.util.removeFromArray,g=fabric.util.toFixed,k=Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass(fabric.CommonMethods,{initialize:function(b,c){c||(c={});this._initStatic(b,c)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,
clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:[1,0,0,1,0,0],backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,_initStatic:function(b,c){var e=fabric.StaticCanvas.prototype.renderAll.bind(this);this._objects=[];this._createLowerCanvas(b);this._initOptions(c);this._setImageSmoothing();this.interactive||this._initRetinaScaling();c.overlayImage&&this.setOverlayImage(c.overlayImage,e);c.backgroundImage&&this.setBackgroundImage(c.backgroundImage,
e);c.backgroundColor&&this.setBackgroundColor(c.backgroundColor,e);c.overlayColor&&this.setOverlayColor(c.overlayColor,e);this.calcOffset()},_isRetinaScaling:function(){return 1!==fabric.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?fabric.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*
fabric.devicePixelRatio),this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio))},calcOffset:function(){this._offset=e(this.lowerCanvasEl);return this},setOverlayImage:function(b,c,e){return this.__setBgOverlayImage("overlayImage",b,c,e)},setBackgroundImage:function(b,c,e){return this.__setBgOverlayImage("backgroundImage",b,c,e)},setOverlayColor:function(b,c){return this.__setBgOverlayColor("overlayColor",b,c)},setBackgroundColor:function(b,c){return this.__setBgOverlayColor("backgroundColor",
b,c)},_setImageSmoothing:function(){var b=this.getContext();b.imageSmoothingEnabled=b.imageSmoothingEnabled||b.webkitImageSmoothingEnabled||b.mozImageSmoothingEnabled||b.msImageSmoothingEnabled||b.oImageSmoothingEnabled;b.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(b,c,e,g){"string"===typeof c?fabric.util.loadImage(c,function(c){c&&(this[b]=new fabric.Image(c,g));e&&e(c)},this,g&&g.crossOrigin):(g&&c.setOptions(g),this[b]=c,e&&e(c));return this},__setBgOverlayColor:function(b,
c,e){this[b]=c;this._initGradient(c,b);this._initPattern(c,b,e);return this},_createCanvasElement:function(b){b=fabric.util.createCanvasElement(b);b.style||(b.style={});if(!b)throw k;if("undefined"===typeof b.getContext)throw k;return b},_initOptions:function(b){this._setOptions(b);this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0;this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0;this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=
this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(b){this.lowerCanvasEl=fabric.util.getById(b)||this._createCanvasElement(b);fabric.util.addClass(this.lowerCanvasEl,"lower-canvas");this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl);this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},
setWidth:function(b,c){return this.setDimensions({width:b},c)},setHeight:function(b,c){return this.setDimensions({height:b},c)},setDimensions:function(b,c){var e;c=c||{};for(var g in b)e=b[g],c.cssOnly||(this._setBackstoreDimension(g,b[g]),e+="px"),c.backstoreOnly||this._setCssDimension(g,e);this._initRetinaScaling();this._setImageSmoothing();this.calcOffset();c.cssOnly||this.renderAll();return this},_setBackstoreDimension:function(b,c){this.lowerCanvasEl[b]=c;this.upperCanvasEl&&(this.upperCanvasEl[b]=
c);this.cacheCanvasEl&&(this.cacheCanvasEl[b]=c);this[b]=c;return this},_setCssDimension:function(b,c){this.lowerCanvasEl.style[b]=c;this.upperCanvasEl&&(this.upperCanvasEl.style[b]=c);this.wrapperEl&&(this.wrapperEl.style[b]=c);return this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(b){var c=this._activeGroup;this.viewportTransform=b;for(var e=0,g=this._objects.length;e<g;e++)b=this._objects[e],b.group||b.setCoords(!1,!0);c&&c.setCoords(!1,!0);this.renderAll();
return this},zoomToPoint:function(b,c){var e=b,g=this.viewportTransform.slice(0);b=fabric.util.transformPoint(b,fabric.util.invertTransform(this.viewportTransform));g[0]=c;g[3]=c;var k=fabric.util.transformPoint(b,g);g[4]+=e.x-k.x;g[5]+=e.y-k.y;return this.setViewportTransform(g)},setZoom:function(b){this.zoomToPoint(new fabric.Point(0,0),b);return this},absolutePan:function(b){var c=this.viewportTransform.slice(0);c[4]=-b.x;c[5]=-b.y;return this.setViewportTransform(c)},relativePan:function(b){return this.absolutePan(new fabric.Point(-b.x-
this.viewportTransform[4],-b.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(b){this.stateful&&b.setupState();b._set("canvas",this);b.setCoords();this.fire("object:added",{target:b});b.fire("added")},_onObjectRemoved:function(b){this.fire("object:removed",{target:b});b.fire("removed");delete b.canvas},clearContext:function(b){b.clearRect(0,0,this.width,this.height);return this},getContext:function(){return this.contextContainer},clear:function(){this._objects.length=
0;this.overlayImage=this.backgroundImage=null;this.overlayColor=this.backgroundColor="";this._hasITextHandlers&&(this.off("selection:cleared",this._canvasITextSelectionClearedHanlder),this.off("object:selected",this._canvasITextSelectionClearedHanlder),this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1);this.clearContext(this.contextContainer);this.fire("canvas:cleared");this.renderAll();return this},renderAll:function(){this.renderCanvas(this.contextContainer,
this._objects);return this},renderCanvas:function(b,c){this.clearContext(b);this.fire("before:render");this.clipTo&&fabric.util.clipContext(this,b);this._renderBackground(b);b.save();b.transform.apply(b,this.viewportTransform);this._renderObjects(b,c);b.restore();!this.controlsAboveOverlay&&this.interactive&&this.drawControls(b);this.clipTo&&b.restore();this._renderOverlay(b);this.controlsAboveOverlay&&this.interactive&&this.drawControls(b);this.fire("after:render")},_renderObjects:function(b,c){for(var e=
0,g=c.length;e<g;++e)c[e]&&c[e].render(b)},_renderBackgroundOrOverlay:function(b,c){var e=this[c+"Color"];e&&(b.fillStyle=e.toLive?e.toLive(b,this):e,b.fillRect(e.offsetX||0,e.offsetY||0,this.width,this.height));if(e=this[c+"Image"])this[c+"Vpt"]&&(b.save(),b.transform.apply(b,this.viewportTransform)),e.render(b),this[c+"Vpt"]&&b.restore()},_renderBackground:function(b){this._renderBackgroundOrOverlay(b,"background")},_renderOverlay:function(b){this._renderBackgroundOrOverlay(b,"overlay")},getCenter:function(){return{top:this.getHeight()/
2,left:this.getWidth()/2}},centerObjectH:function(b){return this._centerObject(b,new fabric.Point(this.getCenter().left,b.getCenterPoint().y))},centerObjectV:function(b){return this._centerObject(b,new fabric.Point(b.getCenterPoint().x,this.getCenter().top))},centerObject:function(b){var c=this.getCenter();return this._centerObject(b,new fabric.Point(c.left,c.top))},viewportCenterObject:function(b){var c=this.getVpCenter();return this._centerObject(b,c)},viewportCenterObjectH:function(b){var c=this.getVpCenter();
this._centerObject(b,new fabric.Point(c.x,b.getCenterPoint().y));return this},viewportCenterObjectV:function(b){var c=this.getVpCenter();return this._centerObject(b,new fabric.Point(b.getCenterPoint().x,c.y))},getVpCenter:function(){var b=this.getCenter(),c=fabric.util.invertTransform(this.viewportTransform);return fabric.util.transformPoint({x:b.left,y:b.top},c)},_centerObject:function(b,c){b.setPositionByOrigin(c,"center","center");this.renderAll();return this},toDatalessJSON:function(b){return this.toDatalessObject(b)},
toObject:function(b){return this._toObjectMethod("toObject",b)},toDatalessObject:function(b){return this._toObjectMethod("toDatalessObject",b)},_toObjectMethod:function(b,d){var e={objects:this._toObjects(b,d)};c(e,this.__serializeBgOverlay(b,d));fabric.util.populateWithProperties(this,e,d);return e},_toObjects:function(b,c){return this.getObjects().filter(function(b){return!b.excludeFromExport}).map(function(e){return this._toObject(e,b,c)},this)},_toObject:function(b,c,e){var g;this.includeDefaultValues||
(g=b.includeDefaultValues,b.includeDefaultValues=!1);c=b[c](e);this.includeDefaultValues||(b.includeDefaultValues=g);return c},__serializeBgOverlay:function(b,c){var e={};this.backgroundColor&&(e.background=this.backgroundColor.toObject?this.backgroundColor.toObject(c):this.backgroundColor);this.overlayColor&&(e.overlay=this.overlayColor.toObject?this.overlayColor.toObject(c):this.overlayColor);this.backgroundImage&&(e.backgroundImage=this._toObject(this.backgroundImage,b,c));this.overlayImage&&(e.overlayImage=
this._toObject(this.overlayImage,b,c));return e},svgViewportTransformation:!0,toSVG:function(b,c){b||(b={});var e=[];this._setSVGPreamble(e,b);this._setSVGHeader(e,b);this._setSVGBgOverlayColor(e,"backgroundColor");this._setSVGBgOverlayImage(e,"backgroundImage",c);this._setSVGObjects(e,c);this._setSVGBgOverlayColor(e,"overlayColor");this._setSVGBgOverlayImage(e,"overlayImage",c);e.push("\x3c/svg\x3e");return e.join("")},_setSVGPreamble:function(b,c){c.suppressPreamble||b.push('\x3c?xml version\x3d"1.0" encoding\x3d"',
c.encoding||"UTF-8",'" standalone\x3d"no" ?\x3e\n','\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e\n')},_setSVGHeader:function(b,c){var e=c.width||this.width,k=c.height||this.height,n;n='viewBox\x3d"0 0 '+this.width+" "+this.height+'" ';var p=fabric.Object.NUM_FRACTION_DIGITS;c.viewBox?n='viewBox\x3d"'+c.viewBox.x+" "+c.viewBox.y+" "+c.viewBox.width+" "+c.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,n='viewBox\x3d"'+
g(-n[4]/n[0],p)+" "+g(-n[5]/n[3],p)+" "+g(this.width/n[0],p)+" "+g(this.height/n[3],p)+'" ');b.push("\x3csvg ",'xmlns\x3d"http://www.w3.org/2000/svg" ','xmlns:xlink\x3d"http://www.w3.org/1999/xlink" ','version\x3d"1.1" ','width\x3d"',e,'" ','height\x3d"',k,'" ',n,'xml:space\x3d"preserve"\x3e\n',"\x3cdesc\x3eCreated with Fabric.js ",fabric.version,"\x3c/desc\x3e\n","\x3cdefs\x3e\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),"\x3c/defs\x3e\n")},createSVGRefElementsMarkup:function(){var b=
this;return["backgroundColor","overlayColor"].map(function(c){if((c=b[c])&&c.toLive)return c.toSVG(b,!1)}).join("")},createSVGFontFacesMarkup:function(){for(var b="",c={},e,g,k,p,q,r=fabric.fontPaths,s=this.getObjects(),v=0,z=s.length;v<z;v++)if(e=s[v],g=e.fontFamily,-1!==e.type.indexOf("text")&&!c[g]&&r[g]&&(c[g]=!0,e.styles))for(p in e=e.styles,e)for(q in k=e[p],k)g=k[q],g=g.fontFamily,!c[g]&&r[g]&&(c[g]=!0);for(var w in c)b+=["\t\t@font-face {\n\t\t\tfont-family: '",w,"';\n\t\t\tsrc: url('",r[w],
"');\n\t\t}\n"].join("");b&&(b=['\t\x3cstyle type\x3d"text/css"\x3e\x3c![CDATA[\n',b,"]]\x3e\x3c/style\x3e\n"].join(""));return b},_setSVGObjects:function(b,c){for(var e,g=0,k=this.getObjects(),p=k.length;g<p;g++)e=k[g],e.excludeFromExport||this._setSVGObject(b,e,c)},_setSVGObject:function(b,c,e){b.push(c.toSVG(e))},_setSVGBgOverlayImage:function(b,c,e){this[c]&&this[c].toSVG&&b.push(this[c].toSVG(e))},_setSVGBgOverlayColor:function(b,c){var e=this[c];if(e)if(e.toLive){var g=e.repeat;b.push('\x3crect transform\x3d"translate(',
this.width/2,",",this.height/2,')"',' x\x3d"',e.offsetX-this.width/2,'" y\x3d"',e.offsetY-this.height/2,'" ','width\x3d"',"repeat-y"===g||"no-repeat"===g?e.source.width:this.width,'" height\x3d"',"repeat-x"===g||"no-repeat"===g?e.source.height:this.height,'" fill\x3d"url(#SVGID_'+e.id+')"',"\x3e\x3c/rect\x3e\n")}else b.push('\x3crect x\x3d"0" y\x3d"0" ','width\x3d"',this.width,'" height\x3d"',this.height,'" fill\x3d"',this[c],'"',"\x3e\x3c/rect\x3e\n")},sendToBack:function(c){if(!c)return this;var d=
this._activeGroup,e;if(c===d)for(e=d._objects,c=e.length;c--;)d=e[c],b(this._objects,d),this._objects.unshift(d);else b(this._objects,c),this._objects.unshift(c);return this.renderAll&&this.renderAll()},bringToFront:function(c){if(!c)return this;var d=this._activeGroup,e;if(c===d)for(e=d._objects,c=0;c<e.length;c++)d=e[c],b(this._objects,d),this._objects.push(d);else b(this._objects,c),this._objects.push(c);return this.renderAll&&this.renderAll()},sendBackwards:function(c,d){if(!c)return this;var e=
this._activeGroup,g,k,p;if(c===e)for(p=e._objects,e=0;e<p.length;e++)g=p[e],k=this._objects.indexOf(g),0!==k&&(k-=1,b(this._objects,g),this._objects.splice(k,0,g));else k=this._objects.indexOf(c),0!==k&&(k=this._findNewLowerIndex(c,k,d),b(this._objects,c),this._objects.splice(k,0,c));this.renderAll&&this.renderAll();return this},_findNewLowerIndex:function(b,c,e){if(e)for(e=c,c-=1;0<=c;--c){if(b.intersectsWithObject(this._objects[c])||b.isContainedWithinObject(this._objects[c])||this._objects[c].isContainedWithinObject(b)){e=
c;break}}else e=c-1;return e},bringForward:function(c,d){if(!c)return this;var e=this._activeGroup,g,k,p;if(c===e)for(p=e._objects,e=p.length;e--;)g=p[e],k=this._objects.indexOf(g),k!==this._objects.length-1&&(k+=1,b(this._objects,g),this._objects.splice(k,0,g));else k=this._objects.indexOf(c),k!==this._objects.length-1&&(k=this._findNewUpperIndex(c,k,d),b(this._objects,c),this._objects.splice(k,0,c));this.renderAll&&this.renderAll();return this},_findNewUpperIndex:function(b,c,e){if(e)for(e=c,c+=
1;c<this._objects.length;++c){if(b.intersectsWithObject(this._objects[c])||b.isContainedWithinObject(this._objects[c])||this._objects[c].isContainedWithinObject(b)){e=c;break}}else e=c+1;return e},moveTo:function(c,d){b(this._objects,c);this._objects.splice(d,0,c);return this.renderAll&&this.renderAll()},dispose:function(){this.clear();return this},toString:function(){return"#\x3cfabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }\x3e"}});c(fabric.StaticCanvas.prototype,
fabric.Observable);c(fabric.StaticCanvas.prototype,fabric.Collection);c(fabric.StaticCanvas.prototype,fabric.DataURLExporter);c(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(b){var c=fabric.util.createCanvasElement();if(!c||!c.getContext)return null;var e=c.getContext("2d");if(!e)return null;switch(b){case "getImageData":return"undefined"!==typeof e.getImageData;case "setLineDash":return"undefined"!==typeof e.setLineDash;case "toDataURL":return"undefined"!==
typeof c.toDataURL;case "toDataURLWithQuality":try{return c.toDataURL("image/jpeg",0),!0}catch(g){}return!1;default:return null}}});fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}})();
(function(){var c=fabric.util.getPointer,e=fabric.util.degreesToRadians,b=fabric.util.radiansToDegrees,g=Math.atan2,k=Math.abs,h=fabric.StaticCanvas.supports("setLineDash");fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(b,c){c||(c={});this._initStatic(b,c);this._initInteractive();this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",
altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,_initInteractive:function(){this._groupSelector=
this._currentTransform=null;this._initWrapperElement();this._createUpperCanvas();this._initEventListeners();this._initRetinaScaling();this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this);this.calcOffset()},_chooseObjectsToRender:function(){var b=this.getActiveGroup(),c=this.getActiveObject(),d,e=[],h=[];if(!b&&!c||this.preserveObjectStacking)e=this._objects;else{for(var g=0,k=this._objects.length;g<k;g++)d=this._objects[g],b&&b.contains(d)||d===c?h.push(d):e.push(d);b&&(b._set("_objects",
h),e.push(b));c&&e.push(c)}return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1);this.renderCanvas(this.contextContainer,this._chooseObjectsToRender());return this},renderTop:function(){var b=this.contextTop;this.clearContext(b);this.selection&&this._groupSelector&&this._drawSelection(b);this.fire("after:render");this.contextTopDirty=!0;return this},_resetCurrentTransform:function(){var b=this._currentTransform;
b.target.set({scaleX:b.original.scaleX,scaleY:b.original.scaleY,skewX:b.original.skewX,skewY:b.original.skewY,left:b.original.left,top:b.original.top});this._shouldCenterTransform(b.target)?"rotate"===b.action?this._setOriginToCenter(b.target):("center"!==b.originX&&(b.mouseXSign="right"===b.originX?-1:1),"center"!==b.originY&&(b.mouseYSign="bottom"===b.originY?-1:1),b.originX="center",b.originY="center"):(b.originX=b.original.originX,b.originY=b.original.originY)},containsPoint:function(b,c,d){b=
d||this.getPointer(b,!0);d=c.group&&c.group===this.getActiveGroup()?this._normalizePointer(c.group,b):{x:b.x,y:b.y};return c.containsPoint(d)||c._findTargetCorner(b)},_normalizePointer:function(b,c){var d=b.calcTransformMatrix(),d=fabric.util.invertTransform(d),e=this.restorePointerVpt(c);return fabric.util.transformPoint(e,d)},isTargetTransparent:function(b,c,d){var e=b.hasBorders,h=b.transparentCorners,g=this.contextCache,k=b.selectionBackgroundColor;b.hasBorders=b.transparentCorners=!1;b.selectionBackgroundColor=
"";g.save();g.transform.apply(g,this.viewportTransform);b.render(g);g.restore();b.active&&b._renderControls(g);b.hasBorders=e;b.transparentCorners=h;b.selectionBackgroundColor=k;b=fabric.util.isTransparent(g,c,d,this.targetFindTolerance);this.clearContext(g);return b},_shouldClearSelection:function(b,c){var d=this.getActiveGroup(),e=this.getActiveObject();return!c||c&&d&&!d.contains(c)&&d!==c&&!b[this.selectionKey]||c&&!c.evented||c&&!c.selectable&&e&&e!==c},_shouldCenterTransform:function(b){if(b){var c=
this._currentTransform,d;"scale"===c.action||"scaleX"===c.action||"scaleY"===c.action?d=this.centeredScaling||b.centeredScaling:"rotate"===c.action&&(d=this.centeredRotation||b.centeredRotation);return d?!c.altKey:c.altKey}},_getOriginFromCorner:function(b,c){var d={x:b.originX,y:b.originY};if("ml"===c||"tl"===c||"bl"===c)d.x="right";else if("mr"===c||"tr"===c||"br"===c)d.x="left";if("tl"===c||"mt"===c||"tr"===c)d.y="bottom";else if("bl"===c||"mb"===c||"br"===c)d.y="top";return d},_getActionFromCorner:function(b,
c,d){if(!c)return"drag";switch(c){case "mtr":return"rotate";case "ml":case "mr":return d[this.altActionKey]?"skewY":"scaleX";case "mt":case "mb":return d[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(b,c){if(c){var d=this.getPointer(b),h=c._findTargetCorner(this.getPointer(b,!0)),g=this._getActionFromCorner(c,h,b),k=this._getOriginFromCorner(c,h);this._currentTransform={target:c,action:g,corner:h,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,
offsetX:d.x-c.left,offsetY:d.y-c.top,originX:k.x,originY:k.y,ex:d.x,ey:d.y,lastX:d.x,lastY:d.y,left:c.left,top:c.top,theta:e(c.angle),width:c.width*c.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:b.shiftKey,altKey:b[this.centeredKey]};this._currentTransform.original={left:c.left,top:c.top,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,originX:k.x,originY:k.y};this._resetCurrentTransform()}},_translateObject:function(b,c){var d=this._currentTransform,e=d.target,h=b-d.offsetX,d=c-d.offsetY,
g=!e.get("lockMovementX")&&e.left!==h,k=!e.get("lockMovementY")&&e.top!==d;g&&e.set("left",h);k&&e.set("top",d);return g||k},_changeSkewTransformOrigin:function(b,c,d){var e="originX",h={0:"center"},g=c.target.skewX,k="left",v="right",z="mt"===c.corner||"ml"===c.corner?1:-1,w=1;b=0<b?1:-1;"y"===d&&(g=c.target.skewY,k="top",v="bottom",e="originY");h[-1]=k;h[1]=v;c.target.flipX&&(w*=-1);c.target.flipY&&(w*=-1);0===g?(c.skewSign=-z*b*w,c[e]=h[-b]):(g=0<g?1:-1,c.skewSign=g,c[e]=h[g*z*w])},_skewObject:function(b,
c,d){var e=this._currentTransform,h=e.target,g=!1,g=h.get("lockSkewingX"),k=h.get("lockSkewingY");if(g&&"x"===d||k&&"y"===d)return!1;var k=h.getCenterPoint(),v=h.toLocalPoint(new fabric.Point(b,c),"center","center")[d],z=h.toLocalPoint(new fabric.Point(e.lastX,e.lastY),"center","center")[d],g=h._getTransformedDimensions();this._changeSkewTransformOrigin(v-z,e,d);v=h.toLocalPoint(new fabric.Point(b,c),e.originX,e.originY)[d];k=h.translateToOriginPoint(k,e.originX,e.originY);g=this._setObjectSkew(v,
e,d,g);e.lastX=b;e.lastY=c;h.setPositionByOrigin(k,e.originX,e.originY);return g},_setObjectSkew:function(b,c,d,e){var h=c.target,g=!1,g=c.skewSign,k,v,z,w;"x"===d?(c="y",z="Y",k="X",v=0,w=h.skewY):(c="x",z="X",k="Y",v=h.skewX,w=0);v=h._getTransformedDimensions(v,w);b=2*Math.abs(b)-v[d];2>=b?b=0:(b=g*Math.atan(b/h["scale"+k]/(v[c]/h["scale"+z])),b=fabric.util.radiansToDegrees(b));g=h["skew"+k]!==b;h.set("skew"+k,b);0!==h["skew"+z]&&(k=h._getTransformedDimensions(),b=e[c]/k[c]*h["scale"+z],h.set("scale"+
z,b));return g},_scaleObject:function(b,c,d){var e=this._currentTransform,h=e.target,g=h.get("lockScalingX"),k=h.get("lockScalingY"),v=h.get("lockScalingFlip");if(g&&k)return!1;var z=h.translateToOriginPoint(h.getCenterPoint(),e.originX,e.originY);b=h.toLocalPoint(new fabric.Point(b,c),e.originX,e.originY);c=h._getTransformedDimensions();var w=!1;this._setLocalMouse(b,e);w=this._setObjectScale(b,e,g,k,d,v,c);h.setPositionByOrigin(z,e.originX,e.originY);return w},_setObjectScale:function(b,c,d,e,h,
g,k){var v=c.target,z=!1,w=!1,B=!1,E,u,D,C;D=b.x*v.scaleX/k.x;C=b.y*v.scaleY/k.y;E=v.scaleX!==D;u=v.scaleY!==C;g&&0>=D&&D<v.scaleX&&(z=!0);g&&0>=C&&C<v.scaleY&&(w=!0);"equally"!==h||d||e?h?"x"!==h||v.get("lockUniScaling")?"y"!==h||v.get("lockUniScaling")||w||e||v.set("scaleY",C)&&(B=B||u):z||d||v.set("scaleX",D)&&(B=B||E):(z||d||v.set("scaleX",D)&&(B=B||E),w||e||v.set("scaleY",C)&&(B=B||u)):z||w||(B=this._scaleObjectEqually(b,v,c,k));c.newScaleX=D;c.newScaleY=C;z||w||this._flipObject(c,h);return B},
_scaleObjectEqually:function(b,c,d,e){b=b.y+b.x;e=e.y*d.original.scaleY/c.scaleY+e.x*d.original.scaleX/c.scaleX;d.newScaleX=d.original.scaleX*b/e;d.newScaleY=d.original.scaleY*b/e;e=d.newScaleX!==c.scaleX||d.newScaleY!==c.scaleY;c.set("scaleX",d.newScaleX);c.set("scaleY",d.newScaleY);return e},_flipObject:function(b,c){0>b.newScaleX&&"y"!==c&&("left"===b.originX?b.originX="right":"right"===b.originX&&(b.originX="left"));0>b.newScaleY&&"x"!==c&&("top"===b.originY?b.originY="bottom":"bottom"===b.originY&&
(b.originY="top"))},_setLocalMouse:function(b,c){var d=c.target;"right"===c.originX?b.x*=-1:"center"===c.originX&&(b.x=2*b.x*c.mouseXSign,0>b.x&&(c.mouseXSign=-c.mouseXSign));"bottom"===c.originY?b.y*=-1:"center"===c.originY&&(b.y=2*b.y*c.mouseYSign,0>b.y&&(c.mouseYSign=-c.mouseYSign));k(b.x)>d.padding?b.x=0>b.x?b.x+d.padding:b.x-d.padding:b.x=0;k(b.y)>d.padding?b.y=0>b.y?b.y+d.padding:b.y-d.padding:b.y=0},_rotateObject:function(c,d){var e=this._currentTransform;if(e.target.get("lockRotation"))return!1;
var h=g(e.ey-e.top,e.ex-e.left),k=g(d-e.top,c-e.left),h=b(k-h+e.theta),k=!0;0>h&&(h=360+h);h%=360;if(0<e.target.snapAngle){var r=e.target.snapAngle,s=e.target.snapThreshold||r,v=Math.ceil(h/r)*r,r=Math.floor(h/r)*r;Math.abs(h-r)<s?h=r:Math.abs(h-v)<s&&(h=v);e.target.angle===h&&(k=!1)}e.target.angle=h;return k},setCursor:function(b){this.upperCanvasEl.style.cursor=b},_resetObjectTransform:function(b){b.scaleX=1;b.scaleY=1;b.skewX=0;b.skewY=0;b.setAngle(0)},_drawSelection:function(b){var c=this._groupSelector,
d=c.left,e=c.top,g=k(d),r=k(e);this.selectionColor&&(b.fillStyle=this.selectionColor,b.fillRect(c.ex-(0<d?0:-d),c.ey-(0<e?0:-e),g,r));this.selectionLineWidth&&this.selectionBorderColor&&(b.lineWidth=this.selectionLineWidth,b.strokeStyle=this.selectionBorderColor,1<this.selectionDashArray.length&&!h?(d=c.ex+.5-(0<d?0:g),c=c.ey+.5-(0<e?0:r),b.beginPath(),fabric.util.drawDashedLine(b,d,c,d+g,c,this.selectionDashArray),fabric.util.drawDashedLine(b,d,c+r-1,d+g,c+r-1,this.selectionDashArray),fabric.util.drawDashedLine(b,
d,c,d,c+r,this.selectionDashArray),fabric.util.drawDashedLine(b,d+g-1,c,d+g-1,c+r,this.selectionDashArray),b.closePath(),b.stroke()):(fabric.Object.prototype._setLineDash.call(this,b,this.selectionDashArray),b.strokeRect(c.ex+.5-(0<d?0:g),c.ey+.5-(0<e?0:r),g,r)))},findTarget:function(b,c){if(!this.skipTargetFind){var d=this.getPointer(b,!0),e=this.getActiveGroup(),h=this.getActiveObject(),g;if(e&&!c&&this._checkTarget(d,e))return this._fireOverOutEvents(e,b),e;if(h&&h._findTargetCorner(d))return this._fireOverOutEvents(h,
b),h;if(h&&this._checkTarget(d,h))if(this.preserveObjectStacking)g=h;else return this._fireOverOutEvents(h,b),h;this.targets=[];d=this._searchPossibleTargets(this._objects,d);b[this.altSelectionKey]&&d&&g&&d!==g&&(d=g);this._fireOverOutEvents(d,b);return d}},_fireOverOutEvents:function(b,c){b?this._hoveredTarget!==b&&(this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget,e:c}),this._hoveredTarget.fire("mouseout")),this.fire("mouse:over",{target:b,e:c}),b.fire("mouseover"),this._hoveredTarget=
b):this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget,e:c}),this._hoveredTarget.fire("mouseout"),this._hoveredTarget=null)},_checkTarget:function(b,c){if(c&&c.visible&&c.evented&&this.containsPoint(null,c,b)&&(!this.perPixelTargetFind&&!c.perPixelTargetFind||c.isEditing||!this.isTargetTransparent(c,b.x,b.y)))return!0},_searchPossibleTargets:function(b,c){for(var d,e=b.length;e--;)if(this._checkTarget(c,b[e])){d=b[e];"group"===d.type&&d.subTargetCheck&&(e=this._normalizePointer(d,
c),(e=this._searchPossibleTargets(d._objects,e))&&this.targets.push(e));break}return d},restorePointerVpt:function(b){return fabric.util.transformPoint(b,fabric.util.invertTransform(this.viewportTransform))},getPointer:function(b,d,e){e||(e=this.upperCanvasEl);b=c(b);var h=e.getBoundingClientRect(),g=h.width||0,k=h.height||0;g&&k||("top"in h&&"bottom"in h&&(k=Math.abs(h.top-h.bottom)),"right"in h&&"left"in h&&(g=Math.abs(h.right-h.left)));this.calcOffset();b.x-=this._offset.left;b.y-=this._offset.top;
d||(b=this.restorePointerVpt(b));0===g||0===k?e=d=1:(d=e.width/g,e=e.height/k);return{x:b.x*d,y:b.y*e}},_createUpperCanvas:function(){var b=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl=this._createCanvasElement();fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+b);this.wrapperEl.appendChild(this.upperCanvasEl);this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl);this._applyCanvasStyle(this.upperCanvasEl);this.contextTop=this.upperCanvasEl.getContext("2d")},
_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement();this.cacheCanvasEl.setAttribute("width",this.width);this.cacheCanvasEl.setAttribute("height",this.height);this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{"class":this.containerClass});fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"});fabric.util.makeElementUnselectable(this.wrapperEl)},
_applyCanvasStyle:function(b){var c=this.getWidth()||b.width,d=this.getHeight()||b.height;fabric.util.setStyle(b,{position:"absolute",width:c+"px",height:d+"px",left:0,top:0});b.width=c;b.height=d;fabric.util.makeElementUnselectable(b)},_copyCanvasStyle:function(b,c){c.style.cssText=b.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},_setActiveObject:function(b){this._activeObject&&this._activeObject.set("active",!1);this._activeObject=
b;b.set("active",!0)},setActiveObject:function(b,c){this._setActiveObject(b);this.renderAll();this.fire("object:selected",{target:b,e:c});b.fire("selected",{e:c});return this},getActiveObject:function(){return this._activeObject},_onObjectRemoved:function(b){this.getActiveObject()===b&&(this.fire("before:selection:cleared",{target:b}),this._discardActiveObject(),this.fire("selection:cleared",{target:b}),b.fire("deselected"));this.callSuper("_onObjectRemoved",b)},_discardActiveObject:function(){this._activeObject&&
this._activeObject.set("active",!1);this._activeObject=null},discardActiveObject:function(b){var c=this._activeObject;this.fire("before:selection:cleared",{target:c,e:b});this._discardActiveObject();this.fire("selection:cleared",{e:b});c&&c.fire("deselected",{e:b});return this},_setActiveGroup:function(b){(this._activeGroup=b)&&b.set("active",!0)},setActiveGroup:function(b,c){this._setActiveGroup(b);b&&(this.fire("object:selected",{target:b,e:c}),b.fire("selected",{e:c}));return this},getActiveGroup:function(){return this._activeGroup},
_discardActiveGroup:function(){var b=this.getActiveGroup();b&&b.destroy();this.setActiveGroup(null)},discardActiveGroup:function(b){var c=this.getActiveGroup();this.fire("before:selection:cleared",{e:b,target:c});this._discardActiveGroup();this.fire("selection:cleared",{e:b});return this},deactivateAll:function(){for(var b=this.getObjects(),c=0,d=b.length,e;c<d;c++)(e=b[c])&&e.set("active",!1);this._discardActiveGroup();this._discardActiveObject();return this},deactivateAllWithDispatch:function(b){var c=
this.getActiveGroup(),d=this.getActiveObject();(d||c)&&this.fire("before:selection:cleared",{target:d||c,e:b});this.deactivateAll();if(d||c)this.fire("selection:cleared",{e:b,target:d}),d&&d.fire("deselected");return this},dispose:function(){this.callSuper("dispose");var b=this.wrapperEl;this.removeListeners();b.removeChild(this.upperCanvasEl);b.removeChild(this.lowerCanvasEl);delete this.upperCanvasEl;b.parentNode&&b.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl);delete this.wrapperEl;
return this},clear:function(){this.discardActiveGroup();this.discardActiveObject();this.clearContext(this.contextTop);return this.callSuper("clear")},drawControls:function(b){var c=this.getActiveGroup();c?c._renderControls(b):this._drawObjectsControls(b)},_drawObjectsControls:function(b){for(var c=0,d=this._objects.length;c<d;++c)this._objects[c]&&this._objects[c].active&&this._objects[c]._renderControls(b)},_toObject:function(b,c,d){var e=this._realizeGroupTransformOnObject(b);c=this.callSuper("_toObject",
b,c,d);this._unwindGroupTransformOnObject(b,e);return c},_realizeGroupTransformOnObject:function(b){var c="angle flipX flipY height left scaleX scaleY top width".split(" ");if(b.group&&b.group===this.getActiveGroup()){var d={};c.forEach(function(c){d[c]=b[c]});this.getActiveGroup().realizeTransform(b);return d}return null},_unwindGroupTransformOnObject:function(b,c){c&&b.set(c)},_setSVGObject:function(b,c,d){var e;e=this._realizeGroupTransformOnObject(c);this.callSuper("_setSVGObject",b,c,d);this._unwindGroupTransformOnObject(c,
e)}});for(var d in fabric.StaticCanvas)"prototype"!==d&&(fabric.Canvas[d]=fabric.StaticCanvas[d]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){});fabric.Element=fabric.Canvas})();
(function(){var c={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=fabric.util.addListener,b=fabric.util.removeListener;fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:"n-resize ne-resize e-resize se-resize s-resize sw-resize w-resize nw-resize".split(" "),_initEventListeners:function(){this._bindEvents();e(fabric.window,"resize",this._onResize);e(this.upperCanvasEl,"mousedown",this._onMouseDown);e(this.upperCanvasEl,"mousemove",this._onMouseMove);e(this.upperCanvasEl,"mouseout",this._onMouseOut);
e(this.upperCanvasEl,"mouseenter",this._onMouseEnter);e(this.upperCanvasEl,"wheel",this._onMouseWheel);e(this.upperCanvasEl,"contextmenu",this._onContextMenu);e(this.upperCanvasEl,"touchstart",this._onMouseDown);e(this.upperCanvasEl,"touchmove",this._onMouseMove);"undefined"!==typeof eventjs&&"add"in eventjs&&(eventjs.add(this.upperCanvasEl,"gesture",this._onGesture),eventjs.add(this.upperCanvasEl,"drag",this._onDrag),eventjs.add(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.add(this.upperCanvasEl,
"shake",this._onShake),eventjs.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this._onMouseDown=this._onMouseDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this._onMouseUp=this._onMouseUp.bind(this);this._onResize=this._onResize.bind(this);this._onGesture=this._onGesture.bind(this);this._onDrag=this._onDrag.bind(this);this._onShake=this._onShake.bind(this);this._onLongPress=this._onLongPress.bind(this);this._onOrientationChange=this._onOrientationChange.bind(this);
this._onMouseWheel=this._onMouseWheel.bind(this);this._onMouseOut=this._onMouseOut.bind(this);this._onMouseEnter=this._onMouseEnter.bind(this);this._onContextMenu=this._onContextMenu.bind(this)},removeListeners:function(){b(fabric.window,"resize",this._onResize);b(this.upperCanvasEl,"mousedown",this._onMouseDown);b(this.upperCanvasEl,"mousemove",this._onMouseMove);b(this.upperCanvasEl,"mouseout",this._onMouseOut);b(this.upperCanvasEl,"mouseenter",this._onMouseEnter);b(this.upperCanvasEl,"wheel",this._onMouseWheel);
b(this.upperCanvasEl,"contextmenu",this._onContextMenu);b(this.upperCanvasEl,"touchstart",this._onMouseDown);b(this.upperCanvasEl,"touchmove",this._onMouseMove);"undefined"!==typeof eventjs&&"remove"in eventjs&&(eventjs.remove(this.upperCanvasEl,"gesture",this._onGesture),eventjs.remove(this.upperCanvasEl,"drag",this._onDrag),eventjs.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.remove(this.upperCanvasEl,"shake",this._onShake),eventjs.remove(this.upperCanvasEl,"longpress",
this._onLongPress))},_onGesture:function(b,c){this.__onTransformGesture&&this.__onTransformGesture(b,c)},_onDrag:function(b,c){this.__onDrag&&this.__onDrag(b,c)},_onMouseWheel:function(b){this.__onMouseWheel(b)},_onMouseOut:function(b){var c=this._hoveredTarget;this.fire("mouse:out",{target:c,e:b});this._hoveredTarget=null;c&&c.fire("mouseout",{e:b})},_onMouseEnter:function(b){this.findTarget(b)||(this.fire("mouse:over",{target:null,e:b}),this._hoveredTarget=null)},_onOrientationChange:function(b,
c){this.__onOrientationChange&&this.__onOrientationChange(b,c)},_onShake:function(b,c){this.__onShake&&this.__onShake(b,c)},_onLongPress:function(b,c){this.__onLongPress&&this.__onLongPress(b,c)},_onContextMenu:function(b){this.stopContextMenu&&(b.stopPropagation(),b.preventDefault());return!1},_onMouseDown:function(c){this.__onMouseDown(c);e(fabric.document,"touchend",this._onMouseUp);e(fabric.document,"touchmove",this._onMouseMove);b(this.upperCanvasEl,"mousemove",this._onMouseMove);b(this.upperCanvasEl,
"touchmove",this._onMouseMove);"touchstart"===c.type?b(this.upperCanvasEl,"mousedown",this._onMouseDown):(e(fabric.document,"mouseup",this._onMouseUp),e(fabric.document,"mousemove",this._onMouseMove))},_onMouseUp:function(c){this.__onMouseUp(c);b(fabric.document,"mouseup",this._onMouseUp);b(fabric.document,"touchend",this._onMouseUp);b(fabric.document,"mousemove",this._onMouseMove);b(fabric.document,"touchmove",this._onMouseMove);e(this.upperCanvasEl,"mousemove",this._onMouseMove);e(this.upperCanvasEl,
"touchmove",this._onMouseMove);if("touchend"===c.type){var k=this;setTimeout(function(){e(k.upperCanvasEl,"mousedown",k._onMouseDown)},400)}},_onMouseMove:function(b){!this.allowTouchScrolling&&b.preventDefault&&b.preventDefault();this.__onMouseMove(b)},_onResize:function(){this.calcOffset()},_shouldRender:function(b,c){var e=this.getActiveGroup()||this.getActiveObject();return e&&e.isEditing&&b===e?!1:!!(b&&(b.isMoving||b!==e)||!b&&e||!b&&!e&&!this._groupSelector||c&&this._previousPointer&&this.selection&&
(c.x!==this._previousPointer.x||c.y!==this._previousPointer.y))},__onMouseUp:function(b){var c;c=!0;var e=this._currentTransform,d=this._groupSelector,d=!d||0===d.left&&0===d.top;this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(b):(e&&(this._finalizeCurrentTransform(),c=!e.actionPerformed),c=c?this.findTarget(b,!0):e.target,e=this._shouldRender(c,this.getPointer(b)),c||!d?this._maybeGroupObjects(b):this._currentTransform=this._groupSelector=null,c&&(c.isMoving=!1),this._handleCursorAndEvent(b,
c,"up"),c&&(c.__corner=0),e&&this.renderAll())},_handleCursorAndEvent:function(b,c,e){this._setCursorFromEvent(b,c);this._handleEvent(b,e,c?c:null)},_handleEvent:function(b,c,e){var d="undefined"===typeof e?this.findTarget(b):e;e=this.targets||[];b={e:b,target:d,subTargets:e};this.fire("mouse:"+c,b);d&&d.fire("mouse"+c,b);for(d=0;d<e.length;d++)e[d].fire("mouse"+c,b)},_finalizeCurrentTransform:function(){var b=this._currentTransform,c=b.target;c._scaling&&(c._scaling=!1);c.setCoords();this._restoreOriginXY(c);
if(b.actionPerformed||this.stateful&&c.hasStateChanged())this.fire("object:modified",{target:c}),c.fire("modified")},_restoreOriginXY:function(b){if(this._previousOriginX&&this._previousOriginY){var c=b.translateToOriginPoint(b.getCenterPoint(),this._previousOriginX,this._previousOriginY);b.originX=this._previousOriginX;b.originY=this._previousOriginY;b.left=c.x;b.top=c.y;this._previousOriginY=this._previousOriginX=null}},_onMouseDownInDrawingMode:function(b){this._isCurrentlyDrawing=!0;this.discardActiveObject(b).renderAll();
this.clipTo&&fabric.util.clipContext(this,this.contextTop);var c=this.getPointer(b);this.freeDrawingBrush.onMouseDown(c);this._handleEvent(b,"down")},_onMouseMoveInDrawingMode:function(b){if(this._isCurrentlyDrawing){var c=this.getPointer(b);this.freeDrawingBrush.onMouseMove(c)}this.setCursor(this.freeDrawingCursor);this._handleEvent(b,"move")},_onMouseUpInDrawingMode:function(b){this._isCurrentlyDrawing=!1;this.clipTo&&this.contextTop.restore();this.freeDrawingBrush.onMouseUp();this._handleEvent(b,
"up")},__onMouseDown:function(b){var c=this.findTarget(b);if("which"in b?3===b.which:2===b.button)this.fireRightClick&&this._handleEvent(b,"down",c?c:null);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(b);else if(!this._currentTransform){var e=this.getPointer(b,!0);this._previousPointer=e;var d=this._shouldRender(c,e),f=this._shouldGroup(b,c);this._shouldClearSelection(b,c)?this._clearSelection(b,c,e):f&&(this._handleGrouping(b,c),c=this.getActiveGroup());c&&(!c.selectable||!c.__corner&&
f||(this._beforeTransform(b,c),this._setupCurrentTransform(b,c)),c!==this.getActiveGroup()&&c!==this.getActiveObject()&&(this.deactivateAll(),c.selectable&&this.setActiveObject(c,b)));this._handleEvent(b,"down",c?c:null);d&&this.renderAll()}},_beforeTransform:function(b,c){this.stateful&&c.saveState();if(c._findTargetCorner(this.getPointer(b)))this.onBeforeScaleRotate(c)},_clearSelection:function(b,c,e){this.deactivateAllWithDispatch(b);c&&c.selectable?this.setActiveObject(c,b):this.selection&&(this._groupSelector=
{ex:e.x,ey:e.y,top:0,left:0})},_setOriginToCenter:function(b){this._previousOriginX=this._currentTransform.target.originX;this._previousOriginY=this._currentTransform.target.originY;var c=b.getCenterPoint();b.originX="center";b.originY="center";b.left=c.x;b.top=c.y;this._currentTransform.left=b.left;this._currentTransform.top=b.top},_setCenterToOrigin:function(b){var c=b.translateToOriginPoint(b.getCenterPoint(),this._previousOriginX,this._previousOriginY);b.originX=this._previousOriginX;b.originY=
this._previousOriginY;b.left=c.x;b.top=c.y;this._previousOriginY=this._previousOriginX=null},__onMouseMove:function(b){var c,e;if(this.isDrawingMode)this._onMouseMoveInDrawingMode(b);else if(!("undefined"!==typeof b.touches&&1<b.touches.length)){var d=this._groupSelector;d?(e=this.getPointer(b,!0),d.left=e.x-d.ex,d.top=e.y-d.ey,this.renderTop()):this._currentTransform?this._transformObject(b):(c=this.findTarget(b),this._setCursorFromEvent(b,c));this._handleEvent(b,"move",c?c:null)}},__onMouseWheel:function(b){this._handleEvent(b,
"wheel")},_transformObject:function(b){var c=this.getPointer(b),e=this._currentTransform;e.reset=!1;e.target.isMoving=!0;e.shiftKey=b.shiftKey;e.altKey=b[this.centeredKey];this._beforeScaleTransform(b,e);this._performTransformAction(b,e,c);e.actionPerformed&&this.renderAll()},_performTransformAction:function(b,c,e){var d=e.x;e=e.y;var f=c.target,l=c.action,n=!1;if("rotate"===l)(n=this._rotateObject(d,e))&&this._fire("rotating",f,b);else if("scale"===l)(n=this._onScale(b,c,d,e))&&this._fire("scaling",
f,b);else if("scaleX"===l)(n=this._scaleObject(d,e,"x"))&&this._fire("scaling",f,b);else if("scaleY"===l)(n=this._scaleObject(d,e,"y"))&&this._fire("scaling",f,b);else if("skewX"===l)(n=this._skewObject(d,e,"x"))&&this._fire("skewing",f,b);else if("skewY"===l)(n=this._skewObject(d,e,"y"))&&this._fire("skewing",f,b);else if(n=this._translateObject(d,e))this._fire("moving",f,b),this.setCursor(f.moveCursor||this.moveCursor);c.actionPerformed=c.actionPerformed||n},_fire:function(b,c,e){this.fire("object:"+
b,{target:c,e:e});c.fire(b,{e:e})},_beforeScaleTransform:function(b,c){if("scale"===c.action||"scaleX"===c.action||"scaleY"===c.action){var e=this._shouldCenterTransform(c.target);if(e&&("center"!==c.originX||"center"!==c.originY)||!e&&"center"===c.originX&&"center"===c.originY)this._resetCurrentTransform(),c.reset=!0}},_onScale:function(b,c,e,d){if(!b[this.uniScaleKey]&&!this.uniScaleTransform||c.target.get("lockUniScaling"))return c.reset||"scale"!==c.currentAction||this._resetCurrentTransform(),
c.currentAction="scaleEqually",this._scaleObject(e,d,"equally");c.currentAction="scale";return this._scaleObject(e,d)},_setCursorFromEvent:function(b,c){if(!c)return this.setCursor(this.defaultCursor),!1;var e=c.hoverCursor||this.hoverCursor;if(c.selectable){var d=this.getActiveGroup();(d=c._findTargetCorner&&(!d||!d.contains(c))&&c._findTargetCorner(this.getPointer(b,!0)))?this._setCornerCursor(d,c,b):this.setCursor(e)}else this.setCursor(e);return!0},_setCornerCursor:function(b,e,h){if(b in c)this.setCursor(this._getRotatedCornerCursor(b,
e,h));else if("mtr"===b&&e.hasRotatingPoint)this.setCursor(this.rotationCursor);else return this.setCursor(this.defaultCursor),!1},_getRotatedCornerCursor:function(b,e,h){e=Math.round(e.getAngle()%360/45);0>e&&(e+=8);e+=c[b];h[this.altActionKey]&&0===c[b]%2&&(e+=2);return this.cursorMap[e%8]}})})();
fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(c,e,b){return this.loadFromJSON(c,e,b)},loadFromJSON:function(c,e,b){if(c){var g="string"===typeof c?JSON.parse(c):fabric.util.object.clone(c);this.clear();var k=this;this._enlivenObjects(g.objects,function(){k._setBgOverlay(g,function(){delete g.objects;delete g.backgroundImage;delete g.overlayImage;delete g.background;delete g.overlay;k._setOptions(g);e&&e()})},b);return this}},_setBgOverlay:function(c,e){var b=
this,g={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(c.backgroundImage||c.overlayImage||c.background||c.overlay){var k=function(){g.backgroundImage&&g.overlayImage&&g.backgroundColor&&g.overlayColor&&(b.renderAll(),e&&e())};this.__setBgOverlay("backgroundImage",c.backgroundImage,g,k);this.__setBgOverlay("overlayImage",c.overlayImage,g,k);this.__setBgOverlay("backgroundColor",c.background,g,k);this.__setBgOverlay("overlayColor",c.overlay,g,k)}else e&&e()},__setBgOverlay:function(c,
e,b,g){var k=this;if(e)if("backgroundImage"===c||"overlayImage"===c)fabric.util.enlivenObjects([e],function(e){k[c]=e[0];b[c]=!0;g&&g()});else this["set"+fabric.util.string.capitalize(c,!0)](e,function(){b[c]=!0;g&&g()});else b[c]=!0,g&&g()},_enlivenObjects:function(c,e,b){var g=this;if(c&&0!==c.length){var k=this.renderOnAddRemove;this.renderOnAddRemove=!1;fabric.util.enlivenObjects(c,function(b){b.forEach(function(b,c){g.insertAt(b,c)});g.renderOnAddRemove=k;e&&e()},null,b)}else e&&e()},_toDataURL:function(c,
e){this.clone(function(b){e(b.toDataURL(c))})},_toDataURLWithMultiplier:function(c,e,b){this.clone(function(g){b(g.toDataURLWithMultiplier(c,e))})},clone:function(c,e){var b=JSON.stringify(this.toJSON(e));this.cloneWithoutData(function(e){e.loadFromJSON(b,function(){c&&c(e)})})},cloneWithoutData:function(c){var e=fabric.document.createElement("canvas");e.width=this.getWidth();e.height=this.getHeight();var b=new fabric.Canvas(e);b.clipTo=this.clipTo;this.backgroundImage?(b.setBackgroundImage(this.backgroundImage.src,
function(){b.renderAll();c&&c(b)}),b.backgroundImageOpacity=this.backgroundImageOpacity,b.backgroundImageStretch=this.backgroundImageStretch):c&&c(b)}});
(function(c){var e=c.fabric||(c.fabric={});c=e.util.object.extend;var b=e.util.object.clone,g=e.util.toFixed,k=e.util.string.capitalize,h=e.util.degreesToRadians,d=e.StaticCanvas.supports("setLineDash"),f=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",
borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,
evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:f,statefullCache:!1,noScaleCache:!0,dirty:!1,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY".split(" "),
cacheProperties:"fill stroke strokeWidth strokeDashArray width height stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit fillRule backgroundColor".split(" "),initialize:function(b){b=b||{};this.setOptions(b);this.objectCaching&&(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"}))},_createCacheCanvas:function(){this._cacheCanvas=e.document.createElement("canvas");this._cacheContext=this._cacheCanvas.getContext("2d");this._updateCacheCanvas()},_getCacheCanvasDimensions:function(){var b=
this.canvas&&this.canvas.getZoom()||1,c=this.getObjectScaling(),d=this._getNonTransformedDimensions(),f=this.canvas&&this.canvas._isRetinaScaling()?e.devicePixelRatio:1,h=c.scaleX*b*f,b=c.scaleY*b*f,c=d.y*b;return{width:Math.ceil(d.x*h)+2,height:Math.ceil(c)+2,zoomX:h,zoomY:b}},_updateCacheCanvas:function(){if(this.noScaleCache&&this.canvas&&this.canvas._currentTransform&&"scale"===this.canvas._currentTransform.action.slice(0,5))return!1;var b=this._getCacheCanvasDimensions(),c=b.width,d=b.height,
e=b.zoomX,b=b.zoomY;return c!==this.cacheWidth||d!==this.cacheHeight?(this._cacheCanvas.width=c,this._cacheCanvas.height=d,this._cacheContext.translate(c/2,d/2),this._cacheContext.scale(e,b),this.cacheWidth=c,this.cacheHeight=d,this.zoomX=e,this.zoomY=b,!0):!1},setOptions:function(b){this._setOptions(b);this._initGradient(b.fill,"fill");this._initGradient(b.stroke,"stroke");this._initClipping(b);this._initPattern(b.fill,"fill");this._initPattern(b.stroke,"stroke")},transform:function(b,c){this.group&&
!this.group._transformDone&&this.group===this.canvas._activeGroup&&this.group.transform(b);var d=c?this._getLeftTopCoords():this.getCenterPoint();b.translate(d.x,d.y);b.rotate(h(this.angle));b.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1));b.transform(1,0,Math.tan(h(this.skewX)),1,0,0);b.transform(1,Math.tan(h(this.skewY)),0,1,0,0)},toObject:function(b){var c=e.Object.NUM_FRACTION_DIGITS,c={type:this.type,originX:this.originX,originY:this.originY,left:g(this.left,c),top:g(this.top,
c),width:g(this.width,c),height:g(this.height,c),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:g(this.strokeWidth,c),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:g(this.strokeMiterLimit,c),scaleX:g(this.scaleX,c),scaleY:g(this.scaleY,c),angle:g(this.getAngle(),c),flipX:this.flipX,
flipY:this.flipY,opacity:g(this.opacity,c),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:g(this.skewX,c),skewY:g(this.skewY,c)};e.util.populateWithProperties(this,c,b);this.includeDefaultValues||(c=this._removeDefaultValues(c));
return c},toDatalessObject:function(b){return this.toObject(b)},_removeDefaultValues:function(b){var c=e.util.getKlass(b.type).prototype;c.stateProperties.forEach(function(d){b[d]===c[d]&&delete b[d];"[object Array]"===Object.prototype.toString.call(b[d])&&"[object Array]"===Object.prototype.toString.call(c[d])&&0===b[d].length&&0===c[d].length&&delete b[d]});return b},toString:function(){return"#\x3cfabric."+k(this.type)+"\x3e"},getObjectScaling:function(){var b=this.scaleX,c=this.scaleY;if(this.group)var d=
this.group.getObjectScaling(),b=b*d.scaleX,c=c*d.scaleY;return{scaleX:b,scaleY:c}},_set:function(b,c){if("scaleX"===b||"scaleY"===b)c=this._constrainScale(c);"scaleX"===b&&0>c?(this.flipX=!this.flipX,c*=-1):"scaleY"===b&&0>c?(this.flipY=!this.flipY,c*=-1):"shadow"!==b||!c||c instanceof e.Shadow?"dirty"===b&&this.group&&this.group.set("dirty",c):c=new e.Shadow(c);this[b]=c;-1<this.cacheProperties.indexOf(b)&&(this.group&&this.group.set("dirty",!0),this.dirty=!0);if("width"===b||"height"===b)this.minScaleLimit=
Math.min(.1,1/Math.max(this.width,this.height));return this},setOnGroup:function(){},setSourcePath:function(b){this.sourcePath=b;return this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:[1,0,0,1,0,0]},render:function(b,c){0===this.width&&0===this.height||!this.visible||(b.save(),this._setupCompositeOperation(b),this.drawSelectionBackground(b),c||this.transform(b),this._setOpacity(b),this._setShadow(b),this.transformMatrix&&b.transform.apply(b,
this.transformMatrix),this.clipTo&&e.util.clipContext(this,b),this.objectCaching&&!this.group?(this.isCacheDirty(c)&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,c),this.dirty=!1),this.drawCacheOnCanvas(b)):(this.drawObject(b,c),c&&this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&b.restore(),b.restore())},drawObject:function(b,c){this._renderBackground(b);this._setStrokeStyles(b);this._setFillStyles(b);
this._render(b,c)},drawCacheOnCanvas:function(b){b.scale(1/this.zoomX,1/this.zoomY);b.drawImage(this._cacheCanvas,-this.cacheWidth/2,-this.cacheHeight/2)},isCacheDirty:function(b){return!b&&this._updateCacheCanvas()?!0:this.dirty||this.statefullCache&&this.hasStateChanged("cacheProperties")?(b||(b=this._getNonTransformedDimensions(),this._cacheContext.clearRect(-b.x/2,-b.y/2,b.x,b.y)),!0):!1},_renderBackground:function(b){if(this.backgroundColor){var c=this._getNonTransformedDimensions();b.fillStyle=
this.backgroundColor;b.fillRect(-c.x/2,-c.y/2,c.x,c.y);this._removeShadow(b)}},_setOpacity:function(b){b.globalAlpha*=this.opacity},_setStrokeStyles:function(b){this.stroke&&(b.lineWidth=this.strokeWidth,b.lineCap=this.strokeLineCap,b.lineJoin=this.strokeLineJoin,b.miterLimit=this.strokeMiterLimit,b.strokeStyle=this.stroke.toLive?this.stroke.toLive(b,this):this.stroke)},_setFillStyles:function(b){this.fill&&(b.fillStyle=this.fill.toLive?this.fill.toLive(b,this):this.fill)},_setLineDash:function(b,
c,e){c&&(1&c.length&&c.push.apply(c,c),d?b.setLineDash(c):e&&e(b))},_renderControls:function(b,c){if(!(!this.active||c||this.group&&this.group!==this.canvas.getActiveGroup())){var d=this.getViewportTransform(),f=this.calcTransformMatrix(),f=e.util.multiplyTransformMatrices(d,f),d=e.util.qrDecompose(f);b.save();b.translate(d.translateX,d.translateY);b.lineWidth=1*this.borderScaleFactor;this.group||(b.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1);this.group&&this.group===this.canvas.getActiveGroup()?
(b.rotate(h(d.angle)),this.drawBordersInGroup(b,d)):(b.rotate(h(this.angle)),this.drawBorders(b));this.drawControls(b);b.restore()}},_setShadow:function(b){if(this.shadow){var c=this.canvas&&this.canvas.viewportTransform[0]||1,d=this.canvas&&this.canvas.viewportTransform[3]||1,f=this.getObjectScaling();this.canvas&&this.canvas._isRetinaScaling()&&(c*=e.devicePixelRatio,d*=e.devicePixelRatio);b.shadowColor=this.shadow.color;b.shadowBlur=this.shadow.blur*(c+d)*(f.scaleX+f.scaleY)/4;b.shadowOffsetX=
this.shadow.offsetX*c*f.scaleX;b.shadowOffsetY=this.shadow.offsetY*d*f.scaleY}},_removeShadow:function(b){this.shadow&&(b.shadowColor="",b.shadowBlur=b.shadowOffsetX=b.shadowOffsetY=0)},_applyPatternGradientTransform:function(b,c){if(c.toLive){var d=c.gradientTransform||c.patternTransform;d&&b.transform.apply(b,d);b.translate(-this.width/2+c.offsetX||0,-this.height/2+c.offsetY||0)}},_renderFill:function(b){this.fill&&(b.save(),this._applyPatternGradientTransform(b,this.fill),"evenodd"===this.fillRule?
b.fill("evenodd"):b.fill(),b.restore())},_renderStroke:function(b){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(b),b.save(),this._setLineDash(b,this.strokeDashArray,this._renderDashedStroke),this._applyPatternGradientTransform(b,this.stroke),b.stroke(),b.restore())},clone:function(b,c){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(c),b):new e.Object(this.toObject(c))},cloneAsImage:function(b,c){var d=this.toDataURL(c);
e.util.loadImage(d,function(c){b&&b(new e.Image(c))});return this},toDataURL:function(b){b||(b={});var c=e.util.createCanvasElement(),d=this.getBoundingRect();c.width=d.width;c.height=d.height;e.util.wrapElement(c,"div");c=new e.StaticCanvas(c,{enableRetinaScaling:b.enableRetinaScaling});"jpg"===b.format&&(b.format="jpeg");"jpeg"===b.format&&(c.backgroundColor="#fff");d={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1);this.setPositionByOrigin(new e.Point(c.getWidth()/
2,c.getHeight()/2),"center","center");var f=this.canvas;c.add(this);b=c.toDataURL(b);this.set(d).setCoords();this.canvas=f;c.dispose();return b},isType:function(b){return this.type===b},complexity:function(){return 0},toJSON:function(b){return this.toObject(b)},setGradient:function(b,c){c||(c={});var d={colorStops:[]};d.type=c.type||(c.r1||c.r2?"radial":"linear");d.coords={x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2};if(c.r1||c.r2)d.coords.r1=c.r1,d.coords.r2=c.r2;d.gradientTransform=c.gradientTransform;e.Gradient.prototype.addColorStop.call(d,
c.colorStops);return this.set(b,e.Gradient.forObject(this,d))},setPatternFill:function(b){return this.set("fill",new e.Pattern(b))},setShadow:function(b){return this.set("shadow",b?new e.Shadow(b):null)},setColor:function(b){this.set("fill",b);return this},setAngle:function(b){var c=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;c&&this._setOriginToCenter();this.set("angle",b);c&&this._resetOrigin();return this},centerH:function(){this.canvas&&this.canvas.centerObjectH(this);
return this},viewportCenterH:function(){this.canvas&&this.canvas.viewportCenterObjectH(this);return this},centerV:function(){this.canvas&&this.canvas.centerObjectV(this);return this},viewportCenterV:function(){this.canvas&&this.canvas.viewportCenterObjectV(this);return this},center:function(){this.canvas&&this.canvas.centerObject(this);return this},viewportCenter:function(){this.canvas&&this.canvas.viewportCenterObject(this);return this},remove:function(){this.canvas&&this.canvas.remove(this);return this},
getLocalPointer:function(b,c){c=c||this.canvas.getPointer(b);var d=new e.Point(c.x,c.y),f=this._getLeftTopCoords();this.angle&&(d=e.util.rotatePoint(d,f,h(-this.angle)));return{x:d.x-f.x,y:d.y-f.y}},_setupCompositeOperation:function(b){this.globalCompositeOperation&&(b.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors(e.Object),e.Object.prototype.rotate=e.Object.prototype.setAngle,c(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=
function(c,d,f,h,g){var k=e[c];d=b(d,!0);if(h)e.util.enlivenPatterns([d.fill,d.stroke],function(b){d.fill=b[0];d.stroke=b[1];b=g?new k(d[g],d):new k(d);f&&f(b)});else return c=g?new k(d[g],d):new k(d),f&&f(c),c},e.Object.__uid=0)})("undefined"!==typeof exports?exports:this);
(function(){var c=fabric.util.degreesToRadians,e={left:-.5,center:0,right:.5},b={top:-.5,center:0,bottom:.5};fabric.util.object.extend(fabric.Object.prototype,{translateToGivenOrigin:function(c,k,h,d,f){var l=c.x,n=c.y;k="string"===typeof k?e[k]:k-.5;d="string"===typeof d?e[d]:d-.5;k=d-k;h="string"===typeof h?b[h]:h-.5;f="string"===typeof f?b[f]:f-.5;h=f-h;if(k||h)n=this._getTransformedDimensions(),l=c.x+k*n.x,n=c.y+h*n.y;return new fabric.Point(l,n)},translateToCenterPoint:function(b,e,h){e=this.translateToGivenOrigin(b,
e,h,"center","center");return this.angle?fabric.util.rotatePoint(e,b,c(this.angle)):e},translateToOriginPoint:function(b,e,h){e=this.translateToGivenOrigin(b,"center","center",e,h);return this.angle?fabric.util.rotatePoint(e,b,c(this.angle)):e},getCenterPoint:function(){var b=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(b,this.originX,this.originY)},getPointByOrigin:function(b,c){var e=this.getCenterPoint();return this.translateToOriginPoint(e,b,c)},toLocalPoint:function(b,
e,h){var d=this.getCenterPoint();e="undefined"!==typeof e&&"undefined"!==typeof h?this.translateToGivenOrigin(d,"center","center",e,h):new fabric.Point(this.left,this.top);b=new fabric.Point(b.x,b.y);this.angle&&(b=fabric.util.rotatePoint(b,d,-c(this.angle)));return b.subtractEquals(e)},setPositionByOrigin:function(b,c,e){b=this.translateToCenterPoint(b,c,e);b=this.translateToOriginPoint(b,this.originX,this.originY);this.set("left",b.x);this.set("top",b.y)},adjustPosition:function(b){var k=c(this.angle),
h=this.getWidth(),d=Math.cos(k)*h,k=Math.sin(k)*h,f,h="string"===typeof this.originX?e[this.originX]:this.originX-.5;f="string"===typeof b?e[b]:b-.5;this.left+=d*(f-h);this.top+=k*(f-h);this.setCoords();this.originX=b},_setOriginToCenter:function(){this._originalOriginX=this.originX;this._originalOriginY=this.originY;var b=this.getCenterPoint();this.originY=this.originX="center";this.left=b.x;this.top=b.y},_resetOrigin:function(){var b=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,
this._originalOriginY);this.originX=this._originalOriginX;this.originY=this._originalOriginY;this.left=b.x;this.top=b.y;this._originalOriginY=this._originalOriginX=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})})();
(function(){function c(b){return[new fabric.Point(b.tl.x,b.tl.y),new fabric.Point(b.tr.x,b.tr.y),new fabric.Point(b.br.x,b.br.y),new fabric.Point(b.bl.x,b.bl.y)]}var e=fabric.util.degreesToRadians,b=fabric.util.multiplyTransformMatrices;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,intersectsWithRect:function(b,e){var h=c(this.oCoords);return"Intersection"===fabric.Intersection.intersectPolygonRectangle(h,b,e).status},intersectsWithObject:function(b){return"Intersection"===fabric.Intersection.intersectPolygonPolygon(c(this.oCoords),
c(b.oCoords)).status||b.isContainedWithinObject(this)||this.isContainedWithinObject(b)},isContainedWithinObject:function(b){for(var e=c(this.oCoords),h=0;4>h;h++)if(!b.containsPoint(e[h]))return!1;return!0},isContainedWithinRect:function(b,c){var e=this.getBoundingRect();return e.left>=b.x&&e.left+e.width<=c.x&&e.top>=b.y&&e.top+e.height<=c.y},containsPoint:function(b){this.oCoords||this.setCoords();var c=this._getImageLines(this.oCoords);b=this._findCrossPoints(b,c);return 0!==b&&1===b%2},_getImageLines:function(b){return{topline:{o:b.tl,
d:b.tr},rightline:{o:b.tr,d:b.br},bottomline:{o:b.br,d:b.bl},leftline:{o:b.bl,d:b.tl}}},_findCrossPoints:function(b,c){var e,d,f,l=0,n;for(n in c)if(f=c[n],!(f.o.y<b.y&&f.d.y<b.y||f.o.y>=b.y&&f.d.y>=b.y)&&(f.o.x===f.d.x&&f.o.x>=b.x?e=f.o.x:(e=(f.d.y-f.o.y)/(f.d.x-f.o.x),d=b.y-0*b.x,f=f.o.y-e*f.o.x,e=-(d-f)/(0-e)),e>=b.x&&(l+=1),2===l))break;return l},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(b){b=
this.calcCoords(b);return fabric.util.makeBoundingBoxFromPoints([b.tl,b.tr,b.br,b.bl])},getWidth:function(){return this._getTransformedDimensions().x},getHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(b){return Math.abs(b)<this.minScaleLimit?0>b?-this.minScaleLimit:this.minScaleLimit:b},scale:function(b){b=this._constrainScale(b);0>b&&(this.flipX=!this.flipX,this.flipY=!this.flipY,b*=-1);this.scaleY=this.scaleX=b;return this.setCoords()},scaleToWidth:function(b){var c=
this.getBoundingRect().width/this.getWidth();return this.scale(b/this.width/c)},scaleToHeight:function(b){var c=this.getBoundingRect().height/this.getHeight();return this.scale(b/this.height/c)},calcCoords:function(b){var c=e(this.angle),h=this.getViewportTransform(),d=b?this._getTransformedDimensions():this._calculateCurrentDimensions(),f=d.x,l=d.y,d=Math.sin(c),n=Math.cos(c),p=0<f?Math.atan(l/f):0,q=f/Math.cos(p)/2,r=Math.cos(p+c)*q,c=Math.sin(p+c)*q,p=this.getCenterPoint(),p=b?p:fabric.util.transformPoint(p,
h),h=new fabric.Point(p.x-r,p.y-c),f=new fabric.Point(h.x+f*n,h.y+f*d),l=new fabric.Point(h.x-l*d,h.y+l*n),r=new fabric.Point(p.x+r,p.y+c);if(!b)var s=new fabric.Point((h.x+l.x)/2,(h.y+l.y)/2),v=new fabric.Point((f.x+h.x)/2,(f.y+h.y)/2),z=new fabric.Point((r.x+f.x)/2,(r.y+f.y)/2),w=new fabric.Point((r.x+l.x)/2,(r.y+l.y)/2),B=new fabric.Point(v.x+d*this.rotatingPointOffset,v.y-n*this.rotatingPointOffset);p={tl:h,tr:f,br:r,bl:l};b||(p.ml=s,p.mt=v,p.mr=z,p.mb=w,p.mtr=B);return p},setCoords:function(b,
c){this.oCoords=this.calcCoords(b);c||b||(this.absoluteCoords=this.calcCoords(!0));b||this._setCornerCoords&&this._setCornerCoords();return this},_calcRotateMatrix:function(){if(this.angle){var b=e(this.angle),c=Math.cos(b),b=Math.sin(b);return[c,b,-b,c,0,0]}return[1,0,0,1,0,0]},calcTransformMatrix:function(){var c=this.getCenterPoint(),c=[1,0,0,1,c.x,c.y],e=this._calcRotateMatrix(),h=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0),d=this.group?this.group.calcTransformMatrix():[1,0,
0,1,0,0],d=b(d,c),d=b(d,e);return d=b(d,h)},_calcDimensionsTransformMatrix:function(c,k,h){c=[1,0,Math.tan(e(c)),1];k=[1,Math.tan(e(k)),0,1];h=b([this.scaleX*(h&&this.flipX?-1:1),0,0,this.scaleY*(h&&this.flipY?-1:1)],c,!0);return b(h,k,!0)}})})();
fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this);return this},bringToFront:function(){this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this);return this},sendBackwards:function(c){this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,c):this.canvas.sendBackwards(this,c);return this},bringForward:function(c){this.group?
fabric.StaticCanvas.prototype.bringForward.call(this.group,this,c):this.canvas.bringForward(this,c);return this},moveTo:function(c){this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,c):this.canvas.moveTo(this,c);return this}});
(function(){function c(c,b){if(b){if(b.toLive)return c+": url(#SVGID_"+b.id+"); ";var g=new fabric.Color(b),k=c+": "+g.toRgb()+"; ",g=g.getAlpha();1!==g&&(k+=c+"-opacity: "+g.toString()+"; ");return k}return c+": none; "}fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(e){var b=this.fillRule,g=this.strokeWidth?this.strokeWidth:"0",k=this.strokeDashArray?this.strokeDashArray.join(" "):"none",h=this.strokeLineCap?this.strokeLineCap:"butt",d=this.strokeLineJoin?this.strokeLineJoin:
"miter",f=this.strokeMiterLimit?this.strokeMiterLimit:"4",l="undefined"!==typeof this.opacity?this.opacity:"1",n=this.visible?"":" visibility: hidden;";e=e?"":this.getSvgFilter();var p=c("fill",this.fill);return[c("stroke",this.stroke),"stroke-width: ",g,"; stroke-dasharray: ",k,"; stroke-linecap: ",h,"; stroke-linejoin: ",d,"; stroke-miterlimit: ",f,"; ",p,"fill-rule: ",b,"; opacity: ",l,";",e,n].join("")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgId:function(){return this.id?
'id\x3d"'+this.id+'" ':""},getSvgTransform:function(){if(this.group&&"path-group"===this.group.type)return"";var c=fabric.util.toFixed,b=this.getAngle(),g=this.getSkewX()%360,k=this.getSkewY()%360,h=this.getCenterPoint(),d=fabric.Object.NUM_FRACTION_DIGITS,h="path-group"===this.type?"":"translate("+c(h.x,d)+" "+c(h.y,d)+")",b=0!==b?" rotate("+c(b,d)+")":"",f=1===this.scaleX&&1===this.scaleY?"":" scale("+c(this.scaleX,d)+" "+c(this.scaleY,d)+")",g=0!==g?" skewX("+c(g,d)+")":"",c=0!==k?" skewY("+c(k,
d)+")":"",k="path-group"===this.type?this.width:0,d="path-group"===this.type?this.height:0;return[h,b,f,this.flipX?" matrix(-1 0 0 1 "+k+" 0) ":"",this.flipY?" matrix(1 0 0 -1 0 "+d+")":"",g,c].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_createBaseSVGMarkup:function(){var c=[];this.fill&&this.fill.toLive&&c.push(this.fill.toSVG(this,!1));this.stroke&&this.stroke.toLive&&c.push(this.stroke.toSVG(this,!1));this.shadow&&c.push(this.shadow.toSVG(this));
return c}})})();
(function(){function c(c,e,h){var d={};h.forEach(function(b){d[b]=c[b]});b(c[e],d,!0)}function e(b,c,h){if(!fabric.isLikelyNode&&b instanceof Element)return b===c;if(b instanceof Array){if(b.length!==c.length)return!1;h=0;for(var d=b.length;h<d;h++)if(b[h]!==c[h])return!1;return!0}if(b&&"object"===typeof b){if(!h&&Object.keys(b).length!==Object.keys(c).length)return!1;for(d in b)if(!e(b[d],c[d]))return!1;return!0}return b===c}var b=fabric.util.object.extend;fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(b){b=
"_"+(b||"stateProperties");return!e(this[b],this,!0)},saveState:function(b){var e=b&&b.propertySet||"stateProperties",h="_"+e;if(!this[h])return this.setupState(b);c(this,h,this[e]);b&&b.stateProperties&&c(this,h,b.stateProperties);return this},setupState:function(b){b=b||{};var c=b.propertySet||"stateProperties";b.propertySet=c;this["_"+c]={};this.saveState(b);return this}})})();
(function(){var c=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(c){if(!this.hasControls||!this.active)return!1;var b=c.x;c=c.y;var g;this.__corner=0;for(var k in this.oCoords)if(this.isControlVisible(k)&&("mtr"!==k||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==k&&"mr"!==k&&"mb"!==k&&"ml"!==k)&&(g=this._getImageLines(this.oCoords[k].corner),g=this._findCrossPoints({x:b,y:c},g),0!==g&&1===g%2))return this.__corner=
k;return!1},_setCornerCoords:function(){var e=this.oCoords,b=c(45-this.angle),g=.707106*this.cornerSize,k=g*Math.cos(b),b=g*Math.sin(b),h,d;for(d in e)g=e[d].x,h=e[d].y,e[d].corner={tl:{x:g-b,y:h-k},tr:{x:g+k,y:h-b},bl:{x:g-k,y:h+b},br:{x:g+b,y:h+k}}},_getNonTransformedDimensions:function(){var c=this.strokeWidth;return{x:this.width+c,y:this.height+c}},_getTransformedDimensions:function(c,b){"undefined"===typeof c&&(c=this.skewX);"undefined"===typeof b&&(b=this.skewY);for(var g=this._getNonTransformedDimensions(),
k=g.x/2,g=g.y/2,k=[{x:-k,y:-g},{x:k,y:-g},{x:-k,y:g},{x:k,y:g}],h=this._calcDimensionsTransformMatrix(c,b,!1),g=0;g<k.length;g++)k[g]=fabric.util.transformPoint(k[g],h);k=fabric.util.makeBoundingBoxFromPoints(k);return{x:k.width,y:k.height}},_calculateCurrentDimensions:function(){var c=this.getViewportTransform(),b=this._getTransformedDimensions();return fabric.util.transformPoint(b,c,!0).scalarAdd(2*this.padding)},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.group||
!this.active)return this;e.save();var b=this.getCenterPoint(),g=this._calculateCurrentDimensions(),k=this.canvas.viewportTransform;e.translate(b.x,b.y);e.scale(1/k[0],1/k[3]);e.rotate(c(this.angle));e.fillStyle=this.selectionBackgroundColor;e.fillRect(-g.x/2,-g.y/2,g.x,g.y);e.restore();return this},drawBorders:function(c){if(!this.hasBorders)return this;var b=this._calculateCurrentDimensions(),g=1/this.borderScaleFactor,k=b.x+g,b=b.y+g;c.save();c.strokeStyle=this.borderColor;this._setLineDash(c,this.borderDashArray,
null);c.strokeRect(-k/2,-b/2,k,b);this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&this.hasControls&&(k=-b/2,c.beginPath(),c.moveTo(0,k),c.lineTo(0,k-this.rotatingPointOffset),c.closePath(),c.stroke());c.restore();return this},drawBordersInGroup:function(c,b){if(!this.hasBorders)return this;var g=this._getNonTransformedDimensions(),k=fabric.util.customTransformMatrix(b.scaleX,b.scaleY,b.skewX),k=fabric.util.transformPoint(g,k),h=1/this.borderScaleFactor,g=k.x+h,k=k.y+
h;c.save();this._setLineDash(c,this.borderDashArray,null);c.strokeStyle=this.borderColor;c.strokeRect(-g/2,-k/2,g,k);c.restore();return this},drawControls:function(c){if(!this.hasControls)return this;var b=this._calculateCurrentDimensions(),g=b.x,b=b.y,k=this.cornerSize,h=-(g+k)/2,k=-(b+k)/2,d=this.transparentCorners?"stroke":"fill";c.save();c.strokeStyle=c.fillStyle=this.cornerColor;this.transparentCorners||(c.strokeStyle=this.cornerStrokeColor);this._setLineDash(c,this.cornerDashArray,null);this._drawControl("tl",
c,d,h,k);this._drawControl("tr",c,d,h+g,k);this._drawControl("bl",c,d,h,k+b);this._drawControl("br",c,d,h+g,k+b);this.get("lockUniScaling")||(this._drawControl("mt",c,d,h+g/2,k),this._drawControl("mb",c,d,h+g/2,k+b),this._drawControl("mr",c,d,h+g,k+b/2),this._drawControl("ml",c,d,h,k+b/2));this.hasRotatingPoint&&this._drawControl("mtr",c,d,h+g/2,k-this.rotatingPointOffset);c.restore();return this},_drawControl:function(c,b,g,k,h){if(this.isControlVisible(c)){c=this.cornerSize;var d=!this.transparentCorners&&
this.cornerStrokeColor;switch(this.cornerStyle){case "circle":b.beginPath();b.arc(k+c/2,h+c/2,c/2,0,2*Math.PI,!1);b[g]();d&&b.stroke();break;default:"undefined"!==typeof G_vmlCanvasManager||this.transparentCorners||b.clearRect(k,h,c,c),b[g+"Rect"](k,h,c,c),d&&b.strokeRect(k,h,c,c)}}},isControlVisible:function(c){return this._getControlsVisibility()[c]},setControlVisible:function(c,b){this._getControlsVisibility()[c]=b;return this},setControlsVisibility:function(c){c||(c={});for(var b in c)this.setControlVisible(b,
c[b]);return this},_getControlsVisibility:function(){this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0});return this._controlsVisibility}})})();
fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(c,e){e=e||{};var b=function(){},g=e.onComplete||b,k=e.onChange||b,h=this;fabric.util.animate({startValue:c.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(b){c.set("left",b);h.renderAll();k()},onComplete:function(){c.setCoords();g()}});return this},fxCenterObjectV:function(c,e){e=e||{};var b=function(){},g=e.onComplete||b,k=e.onChange||b,h=this;fabric.util.animate({startValue:c.get("top"),
endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(b){c.set("top",b);h.renderAll();k()},onComplete:function(){c.setCoords();g()}});return this},fxRemove:function(c,e){e=e||{};var b=function(){},g=e.onComplete||b,k=e.onChange||b,h=this;fabric.util.animate({startValue:c.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){c.set("active",!1)},onChange:function(b){c.set("opacity",b);h.renderAll();k()},onComplete:function(){h.remove(c);g()}});return this}});
fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var c=[],e,b;for(e in arguments[0])c.push(e);for(var g=0,k=c.length;g<k;g++)e=c[g],b=g!==k-1,this._animate(e,arguments[0][e],arguments[1],b)}else this._animate.apply(this,arguments);return this},_animate:function(c,e,b,g){var k=this,h;e=e.toString();b=b?fabric.util.object.clone(b):{};~c.indexOf(".")&&(h=c.split("."));var d=h?this.get(h[0])[h[1]]:this.get(c);"from"in b||(b.from=d);
e=~e.indexOf("\x3d")?d+parseFloat(e.replace("\x3d","")):parseFloat(e);fabric.util.animate({startValue:b.from,endValue:e,byValue:b.by,easing:b.easing,duration:b.duration,abort:b.abort&&function(){return b.abort.call(k)},onChange:function(d){h?k[h[0]][h[1]]=d:k.set(c,d);g||b.onChange&&b.onChange()},onComplete:function(){g||(k.setCoords(),b.onComplete&&b.onComplete())}})}});
(function(c){function e(b,c){var d=b.origin,e=b.axis1,h=b.axis2,g=b.dimension,k=c.nearest,v=c.center,z=c.farthest;return function(){switch(this.get(d)){case k:return Math.min(this.get(e),this.get(h));case v:return Math.min(this.get(e),this.get(h))+.5*this.get(g);case z:return Math.max(this.get(e),this.get(h))}}}var b=c.fabric||(c.fabric={}),g=b.util.object.extend,k=b.util.object.clone,h={x1:1,x2:1,y1:1,y2:1},d=b.StaticCanvas.supports("setLineDash");b.Line?b.warn("fabric.Line is already defined"):
(c=b.Object.prototype.cacheProperties.concat(),c.push("x1","x2","y1","y2"),b.Line=b.util.createClass(b.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:c,initialize:function(b,c){b||(b=[0,0,0,0]);this.callSuper("initialize",c);this.set("x1",b[0]);this.set("y1",b[1]);this.set("x2",b[2]);this.set("y2",b[3]);this._setWidthHeight(c)},_setWidthHeight:function(b){b||(b={});this.width=Math.abs(this.x2-this.x1);this.height=Math.abs(this.y2-this.y1);this.left="left"in b?b.left:this._getLeftToOriginX();
this.top="top"in b?b.top:this._getTopToOriginY()},_set:function(b,c){this.callSuper("_set",b,c);"undefined"!==typeof h[b]&&this._setWidthHeight();return this},_getLeftToOriginX:e({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:e({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(b,c){b.beginPath();if(c){var e=this.getCenterPoint();b.translate(e.x-
this.strokeWidth/2,e.y-this.strokeWidth/2)}if(!this.strokeDashArray||this.strokeDashArray&&d)e=this.calcLinePoints(),b.moveTo(e.x1,e.y1),b.lineTo(e.x2,e.y2);b.lineWidth=this.strokeWidth;e=b.strokeStyle;b.strokeStyle=this.stroke||b.fillStyle;this.stroke&&this._renderStroke(b);b.strokeStyle=e},_renderDashedStroke:function(c){var d=this.calcLinePoints();c.beginPath();b.util.drawDashedLine(c,d.x1,d.y1,d.x2,d.y2,this.strokeDashArray);c.closePath()},toObject:function(b){return g(this.callSuper("toObject",
b),this.calcLinePoints())},_getNonTransformedDimensions:function(){var b=this.callSuper("_getNonTransformedDimensions");"butt"===this.strokeLineCap&&(0===b.x&&(b.y-=this.strokeWidth),0===b.y&&(b.x-=this.strokeWidth));return b},calcLinePoints:function(){var b=this.x1<=this.x2?-1:1,c=this.y1<=this.y2?-1:1;return{x1:b*this.width*.5,x2:b*this.width*-.5,y1:c*this.height*.5,y2:c*this.height*-.5}},toSVG:function(b){var c=this._createBaseSVGMarkup(),d={x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};this.group&&
"path-group"===this.group.type||(d=this.calcLinePoints());c.push("\x3cline ",this.getSvgId(),'x1\x3d"',d.x1,'" y1\x3d"',d.y1,'" x2\x3d"',d.x2,'" y2\x3d"',d.y2,'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/\x3e\n');return b?b(c.join("")):c.join("")},complexity:function(){return 1}}),b.Line.ATTRIBUTE_NAMES=b.SHARED_ATTRIBUTES.concat(["x1","y1","x2","y2"]),b.Line.fromElement=function(c,d){d=d||{};var e=b.parseAttributes(c,b.Line.ATTRIBUTE_NAMES),
h=[e.x1||0,e.y1||0,e.x2||0,e.y2||0];d.originX="left";d.originY="top";return new b.Line(h,g(e,d))},b.Line.fromObject=function(c,d,e){var h=k(c,!0);h.points=[c.x1,c.y1,c.x2,c.y2];(c=b.Object._fromObject("Line",h,function(b){delete b.points;d&&d(b)},e,"points"))&&delete c.points;return c})})("undefined"!==typeof exports?exports:this);
(function(c){var e=c.fabric||(c.fabric={}),b=Math.PI,g=e.util.object.extend;e.Circle?e.warn("fabric.Circle is already defined."):(c=e.Object.prototype.cacheProperties.concat(),c.push("radius"),e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*b,cacheProperties:c,initialize:function(b){this.callSuper("initialize",b);this.set("radius",b&&b.radius||0)},_set:function(b,c){this.callSuper("_set",b,c);"radius"===b&&this.setRadius(c);return this},toObject:function(b){return this.callSuper("toObject",
["radius","startAngle","endAngle"].concat(b))},toSVG:function(c){var e=this._createBaseSVGMarkup(),d=0,f=0,g=(this.endAngle-this.startAngle)%(2*b);if(0===g)this.group&&"path-group"===this.group.type&&(d=this.left+this.radius,f=this.top+this.radius),e.push("\x3ccircle ",this.getSvgId(),'cx\x3d"'+d+'" cy\x3d"'+f+'" ','r\x3d"',this.radius,'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/\x3e\n');else{var d=Math.cos(this.startAngle)*this.radius,
f=Math.sin(this.startAngle)*this.radius,n=Math.cos(this.endAngle)*this.radius,p=Math.sin(this.endAngle)*this.radius;e.push('\x3cpath d\x3d"M '+d+" "+f," A "+this.radius+" "+this.radius," 0 ",+(g>b?1:0)+" 1"," "+n+" "+p,'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/\x3e\n')}return c?c(e.join("")):e.join("")},_render:function(b,c){b.beginPath();b.arc(c?this.left+this.radius:0,c?this.top+this.radius:0,this.radius,this.startAngle,this.endAngle,
!1);this._renderFill(b);this._renderStroke(b)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(b){this.radius=b;return this.set("width",2*b).set("height",2*b)},complexity:function(){return 1}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["cx","cy","r"]),e.Circle.fromElement=function(b,c){c||(c={});var d=e.parseAttributes(b,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in d&&0<=d.radius))throw Error("value of `r` attribute is required and can not be negative");
d.left=d.left||0;d.top=d.top||0;d=new e.Circle(g(d,c));d.left-=d.radius;d.top-=d.radius;return d},e.Circle.fromObject=function(b,c,d){return e.Object._fromObject("Circle",b,c,d)})})("undefined"!==typeof exports?exports:this);
(function(c){var e=c.fabric||(c.fabric={}),b=e.util.object.extend,g=e.util.array.min,k=e.util.array.max,h=e.util.toFixed;e.Polygon?e.warn("fabric.Polygon is already defined"):(c=e.Object.prototype.cacheProperties.concat(),c.push("points"),e.Polygon=e.util.createClass(e.Object,{type:"polygon",points:null,minX:0,minY:0,cacheProperties:c,initialize:function(b,c){c=c||{};this.points=b||[];this.callSuper("initialize",c);this._calcDimensions();"top"in c||(this.top=this.minY);"left"in c||(this.left=this.minX);
this.pathOffset={x:this.minX+this.width/2,y:this.minY+this.height/2}},_calcDimensions:function(){var b=this.points,c=g(b,"x"),e=g(b,"y"),h=k(b,"x"),b=k(b,"y");this.width=h-c||0;this.height=b-e||0;this.minX=c||0;this.minY=e||0},toObject:function(c){return b(this.callSuper("toObject",c),{points:this.points.concat()})},toSVG:function(b){for(var c=[],e,g=this._createBaseSVGMarkup(),k=0,q=this.points.length;k<q;k++)c.push(h(this.points[k].x,2),",",h(this.points[k].y,2)," ");this.group&&"path-group"===
this.group.type||(e=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") ");g.push("\x3c",this.type," ",this.getSvgId(),'points\x3d"',c.join(""),'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform(),e," ",this.getSvgTransformMatrix(),'"/\x3e\n');return b?b(g.join("")):g.join("")},_render:function(b,c){this.commonRender(b,c)&&(this._renderFill(b),this.stroke||this.strokeDashArray)&&(b.closePath(),this._renderStroke(b))},commonRender:function(b,c){var e,h=this.points.length,
g=c?0:this.pathOffset.x,k=c?0:this.pathOffset.y;if(!h||isNaN(this.points[h-1].y))return!1;b.beginPath();b.moveTo(this.points[0].x-g,this.points[0].y-k);for(var r=0;r<h;r++)e=this.points[r],b.lineTo(e.x-g,e.y-k);return!0},_renderDashedStroke:function(b){e.Polyline.prototype._renderDashedStroke.call(this,b);b.closePath()},complexity:function(){return this.points.length}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=function(c,f){if(!c)return null;f||(f={});var h=e.parsePointsAttribute(c.getAttribute("points")),
g=e.parseAttributes(c,e.Polygon.ATTRIBUTE_NAMES);return new e.Polygon(h,b(g,f))},e.Polygon.fromObject=function(b,c,h){return e.Object._fromObject("Polygon",b,c,h,"points")})})("undefined"!==typeof exports?exports:this);
(function(c){var e=c.fabric||(c.fabric={}),b=e.util.array.min,g=e.util.array.max,k=e.util.object.extend,h=Object.prototype.toString,d=e.util.drawArc,f={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},l={m:"l",M:"L"};e.Path?e.warn("fabric.Path is already defined"):(c=e.Object.prototype.cacheProperties.concat(),c.push("path"),e.Path=e.util.createClass(e.Object,{type:"path",path:null,minX:0,minY:0,cacheProperties:c,initialize:function(b,c){c=c||{};this.setOptions(c);b||(b=[]);var d="[object Array]"===h.call(b);
if(this.path=d?b:b.match&&b.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi))d||(this.path=this._parsePath()),this._setPositionDimensions(c),c.sourcePath&&this.setSourcePath(c.sourcePath),this.objectCaching&&(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"}))},_setPositionDimensions:function(b){var c=this._parseDimensions();this.minX=c.left;this.minY=c.top;this.width=c.width;this.height=c.height;"undefined"===typeof b.left&&(this.left=c.left+("center"===this.originX?this.width/2:"right"===
this.originX?this.width:0));"undefined"===typeof b.top&&(this.top=c.top+("center"===this.originY?this.height/2:"bottom"===this.originY?this.height:0));this.pathOffset=this.pathOffset||{x:this.minX+this.width/2,y:this.minY+this.height/2}},_renderPathCommands:function(b){var c,e=null,f=0,h=0,g=0,k=0,l=0,B=0,E,u,D=-this.pathOffset.x,C=-this.pathOffset.y;this.group&&"path-group"===this.group.type&&(C=D=0);b.beginPath();for(var F=0,A=this.path.length;F<A;++F){c=this.path[F];switch(c[0]){case "l":g+=c[1];
k+=c[2];b.lineTo(g+D,k+C);break;case "L":g=c[1];k=c[2];b.lineTo(g+D,k+C);break;case "h":g+=c[1];b.lineTo(g+D,k+C);break;case "H":g=c[1];b.lineTo(g+D,k+C);break;case "v":k+=c[1];b.lineTo(g+D,k+C);break;case "V":k=c[1];b.lineTo(g+D,k+C);break;case "m":g+=c[1];k+=c[2];f=g;h=k;b.moveTo(g+D,k+C);break;case "M":g=c[1];k=c[2];f=g;h=k;b.moveTo(g+D,k+C);break;case "c":E=g+c[5];u=k+c[6];l=g+c[3];B=k+c[4];b.bezierCurveTo(g+c[1]+D,k+c[2]+C,l+D,B+C,E+D,u+C);g=E;k=u;break;case "C":g=c[5];k=c[6];l=c[3];B=c[4];b.bezierCurveTo(c[1]+
D,c[2]+C,l+D,B+C,g+D,k+C);break;case "s":E=g+c[3];u=k+c[4];null===e[0].match(/[CcSs]/)?(l=g,B=k):(l=2*g-l,B=2*k-B);b.bezierCurveTo(l+D,B+C,g+c[1]+D,k+c[2]+C,E+D,u+C);l=g+c[1];B=k+c[2];g=E;k=u;break;case "S":E=c[3];u=c[4];null===e[0].match(/[CcSs]/)?(l=g,B=k):(l=2*g-l,B=2*k-B);b.bezierCurveTo(l+D,B+C,c[1]+D,c[2]+C,E+D,u+C);g=E;k=u;l=c[1];B=c[2];break;case "q":E=g+c[3];u=k+c[4];l=g+c[1];B=k+c[2];b.quadraticCurveTo(l+D,B+C,E+D,u+C);g=E;k=u;break;case "Q":E=c[3];u=c[4];b.quadraticCurveTo(c[1]+D,c[2]+
C,E+D,u+C);g=E;k=u;l=c[1];B=c[2];break;case "t":E=g+c[1];u=k+c[2];null===e[0].match(/[QqTt]/)?(l=g,B=k):(l=2*g-l,B=2*k-B);b.quadraticCurveTo(l+D,B+C,E+D,u+C);g=E;k=u;break;case "T":E=c[1];u=c[2];null===e[0].match(/[QqTt]/)?(l=g,B=k):(l=2*g-l,B=2*k-B);b.quadraticCurveTo(l+D,B+C,E+D,u+C);g=E;k=u;break;case "a":d(b,g+D,k+C,[c[1],c[2],c[3],c[4],c[5],c[6]+g+D,c[7]+k+C]);g+=c[6];k+=c[7];break;case "A":d(b,g+D,k+C,[c[1],c[2],c[3],c[4],c[5],c[6]+D,c[7]+C]);g=c[6];k=c[7];break;case "z":case "Z":g=f,k=h,b.closePath()}e=
c}},_render:function(b){this._renderPathCommands(b);this._renderFill(b);this._renderStroke(b)},toString:function(){return"#\x3cfabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }\x3e"},toObject:function(b){return k(this.callSuper("toObject",["sourcePath","pathOffset"].concat(b)),{path:this.path.map(function(b){return b.slice()})})},toDatalessObject:function(b){b=this.toObject(b);this.sourcePath&&(b.path=this.sourcePath);delete b.sourcePath;return b},toSVG:function(b){for(var c=
[],d=this._createBaseSVGMarkup(),e="",f=0,h=this.path.length;f<h;f++)c.push(this.path[f].join(" "));c=c.join(" ");this.group&&"path-group"===this.group.type||(e=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") ");d.push("\x3cpath ",this.getSvgId(),'d\x3d"',c,'" style\x3d"',this.getSvgStyles(),'" transform\x3d"',this.getSvgTransform(),e,this.getSvgTransformMatrix(),'" stroke-linecap\x3d"round" ',"/\x3e\n");return b?b(d.join("")):d.join("")},complexity:function(){return this.path.length},
_parsePath:function(){for(var b=[],c=[],d,e,h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/ig,g,k=0,w=this.path.length;k<w;k++){d=this.path[k];g=d.slice(1).trim();for(c.length=0;e=h.exec(g);)c.push(e[0]);d=[d.charAt(0)];g=0;for(var B=c.length;g<B;g++)e=parseFloat(c[g]),isNaN(e)||d.push(e);e=d[0];g=f[e.toLowerCase()];B=l[e]||e;if(d.length-1>g)for(var E=1,u=d.length;E<u;E+=g)b.push([e].concat(d.slice(E,E+g))),e=B;else b.push(d)}return b},_parseDimensions:function(){for(var c=[],d=[],f,h=null,
k=0,l=0,z=0,w=0,B=0,E=0,u,D,C,F=0,A=this.path.length;F<A;++F){f=this.path[F];switch(f[0]){case "l":z+=f[1];w+=f[2];C=[];break;case "L":z=f[1];w=f[2];C=[];break;case "h":z+=f[1];C=[];break;case "H":z=f[1];C=[];break;case "v":w+=f[1];C=[];break;case "V":w=f[1];C=[];break;case "m":z+=f[1];w+=f[2];k=z;l=w;C=[];break;case "M":z=f[1];w=f[2];k=z;l=w;C=[];break;case "c":u=z+f[5];D=w+f[6];B=z+f[3];E=w+f[4];C=e.util.getBoundsOfCurve(z,w,z+f[1],w+f[2],B,E,u,D);z=u;w=D;break;case "C":z=f[5];w=f[6];B=f[3];E=f[4];
C=e.util.getBoundsOfCurve(z,w,f[1],f[2],B,E,z,w);break;case "s":u=z+f[3];D=w+f[4];null===h[0].match(/[CcSs]/)?(B=z,E=w):(B=2*z-B,E=2*w-E);C=e.util.getBoundsOfCurve(z,w,B,E,z+f[1],w+f[2],u,D);B=z+f[1];E=w+f[2];z=u;w=D;break;case "S":u=f[3];D=f[4];null===h[0].match(/[CcSs]/)?(B=z,E=w):(B=2*z-B,E=2*w-E);C=e.util.getBoundsOfCurve(z,w,B,E,f[1],f[2],u,D);z=u;w=D;B=f[1];E=f[2];break;case "q":u=z+f[3];D=w+f[4];B=z+f[1];E=w+f[2];C=e.util.getBoundsOfCurve(z,w,B,E,B,E,u,D);z=u;w=D;break;case "Q":B=f[1];E=f[2];
C=e.util.getBoundsOfCurve(z,w,B,E,B,E,f[3],f[4]);z=f[3];w=f[4];break;case "t":u=z+f[1];D=w+f[2];null===h[0].match(/[QqTt]/)?(B=z,E=w):(B=2*z-B,E=2*w-E);C=e.util.getBoundsOfCurve(z,w,B,E,B,E,u,D);z=u;w=D;break;case "T":u=f[1];D=f[2];null===h[0].match(/[QqTt]/)?(B=z,E=w):(B=2*z-B,E=2*w-E);C=e.util.getBoundsOfCurve(z,w,B,E,B,E,u,D);z=u;w=D;break;case "a":C=e.util.getBoundsOfArc(z,w,f[1],f[2],f[3],f[4],f[5],f[6]+z,f[7]+w);z+=f[6];w+=f[7];break;case "A":C=e.util.getBoundsOfArc(z,w,f[1],f[2],f[3],f[4],
f[5],f[6],f[7]);z=f[6];w=f[7];break;case "z":case "Z":z=k,w=l}h=f;C.forEach(function(b){c.push(b.x);d.push(b.y)});c.push(z);d.push(w)}f=b(c)||0;h=b(d)||0;k=g(c)||0;l=g(d)||0;return{left:f,top:h,width:k-f,height:l-h}}}),e.Path.fromObject=function(b,c,d){var f;if("string"===typeof b.path)e.loadSVGFromURL(b.path,function(d){var h=b.path;f=d[0];delete b.path;e.util.object.extend(f,b);f.setSourcePath(h);c&&c(f)});else return e.Object._fromObject("Path",b,c,d,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),
e.Path.fromElement=function(b,c,d){b=e.parseAttributes(b,e.Path.ATTRIBUTE_NAMES);c&&c(new e.Path(b.d,k(b,d)))},e.Path.async=!0)})("undefined"!==typeof exports?exports:this);
(function(c){var e=c.fabric||(c.fabric={}),b=e.util.object.extend;e.PathGroup?e.warn("fabric.PathGroup is already defined"):(e.PathGroup=e.util.createClass(e.Object,{type:"path-group",fill:"",initialize:function(b,c){c=c||{};this.paths=b||[];for(var e=this.paths.length;e--;)this.paths[e].group=this;c.toBeParsed&&(this.parseDimensionsFromPaths(c),delete c.toBeParsed);this.setOptions(c);this.setCoords();c.sourcePath&&this.setSourcePath(c.sourcePath);this.objectCaching&&(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"}))},
parseDimensionsFromPaths:function(b){for(var c,h,d=[],f=[],l,n=this.paths.length;n--;){c=this.paths[n];h=c.height+c.strokeWidth;l=c.width+c.strokeWidth;c=[{x:c.left,y:c.top},{x:c.left+l,y:c.top},{x:c.left,y:c.top+h},{x:c.left+l,y:c.top+h}];l=this.paths[n].transformMatrix;for(var p=0;p<c.length;p++)h=c[p],l&&(h=e.util.transformPoint(h,l,!1)),d.push(h.x),f.push(h.y)}b.width=Math.max.apply(null,d);b.height=Math.max.apply(null,f)},drawObject:function(b){b.save();b.translate(-this.width/2,-this.height/
2);for(var c=0,e=this.paths.length;c<e;++c)this.paths[c].render(b,!0);b.restore()},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var b=0,c=this.paths.length;b<c;b++)if(this.paths[b].isCacheDirty(!0))return b=this._getNonTransformedDimensions(),this._cacheContext.clearRect(-b.x/2,-b.y/2,b.x,b.y),!0;return!1},_set:function(b,c){if("fill"===b&&c&&this.isSameColor())for(var e=this.paths.length;e--;)this.paths[e]._set(b,c);return this.callSuper("_set",
b,c)},toObject:function(c){var e=this.paths.map(function(b){var d=b.includeDefaultValues;b.includeDefaultValues=b.group.includeDefaultValues;var e=b.toObject(c);b.includeDefaultValues=d;return e});return b(this.callSuper("toObject",["sourcePath"].concat(c)),{paths:e})},toDatalessObject:function(b){b=this.toObject(b);this.sourcePath&&(b.paths=this.sourcePath);return b},toSVG:function(b){var c=this.getObjects(),e=this.getPointByOrigin("left","top"),d="translate("+e.x+" "+e.y+")",e=this._createBaseSVGMarkup();
e.push("\x3cg ",this.getSvgId(),'style\x3d"',this.getSvgStyles(),'" ','transform\x3d"',this.getSvgTransformMatrix(),d,this.getSvgTransform(),'" ',"\x3e\n");for(var d=0,f=c.length;d<f;d++)e.push("\t",c[d].toSVG(b));e.push("\x3c/g\x3e\n");return b?b(e.join("")):e.join("")},toString:function(){return"#\x3cfabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }\x3e"},isSameColor:function(){var b=this.getObjects()[0].get("fill")||"";if("string"!==typeof b)return!1;b=b.toLowerCase();
return this.getObjects().every(function(c){c=c.get("fill")||"";return"string"===typeof c&&c.toLowerCase()===b})},complexity:function(){return this.paths.reduce(function(b,c){return b+(c&&c.complexity?c.complexity():0)},0)},getObjects:function(){return this.paths}}),e.PathGroup.fromObject=function(b,c){"string"===typeof b.paths?e.loadSVGFromURL(b.paths,function(h){var d=b.paths;delete b.paths;h=e.util.groupSVGElements(h,b,d);c(h)}):e.util.enlivenObjects(b.paths,function(h){delete b.paths;c(new e.PathGroup(h,
b))})},e.PathGroup.async=!0)})("undefined"!==typeof exports?exports:this);
(function(c){var e=c.fabric||(c.fabric={}),b=e.util.object.extend,g=e.util.array.min,k=e.util.array.max;if(!e.Group){var h={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,initialize:function(b,c,e){c=c||{};this._objects=[];e&&this.callSuper("initialize",c);this._objects=b||[];for(b=this._objects.length;b--;)this._objects[b].group=this;this.originalState=
{};c.originX&&(this.originX=c.originX);c.originY&&(this.originY=c.originY);e?this._updateObjectsCoords(!0):(this._calcBounds(),this._updateObjectsCoords(),this.callSuper("initialize",c));this.setCoords();this.saveCoords()},_updateObjectsCoords:function(b){for(var c=this.getCenterPoint(),e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],c,b)},_updateObjectCoords:function(b,c,e){b.__origHasControls=b.hasControls;b.hasControls=!1;if(!e){e=b.getLeft();var h=b.getTop();b.set({originalLeft:e,
originalTop:h,left:e-c.x,top:h-c.y});b.setCoords(!0)}},toString:function(){return"#\x3cfabric.Group: ("+this.complexity()+")\x3e"},addWithUpdate:function(b){this._restoreObjectsState();e.util.resetObjectTransform(this);b&&(this._objects.push(b),b.group=this,b._set("canvas",this.canvas));this.forEachObject(this._setObjectActive,this);this._calcBounds();this._updateObjectsCoords();this.dirty=!0;return this},_setObjectActive:function(b){b.set("active",!0);b.group=this},removeWithUpdate:function(b){this._restoreObjectsState();
e.util.resetObjectTransform(this);this.forEachObject(this._setObjectActive,this);this.remove(b);this._calcBounds();this._updateObjectsCoords();this.dirty=!0;return this},_onObjectAdded:function(b){this.dirty=!0;b.group=this;b._set("canvas",this.canvas)},_onObjectRemoved:function(b){this.dirty=!0;delete b.group;b.set("active",!1)},delegatedProperties:{fill:!0,stroke:!0,strokeWidth:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},
_set:function(b,c){var e=this._objects.length;if(this.delegatedProperties[b]||"canvas"===b)for(;e--;)this._objects[e].set(b,c);else for(;e--;)this._objects[e].setOnGroup(b,c);this.callSuper("_set",b,c)},toObject:function(c){var e=this.getObjects().map(function(b){var e=b.includeDefaultValues;b.includeDefaultValues=b.group.includeDefaultValues;var f=b.toObject(c);b.includeDefaultValues=e;return f});return b(this.callSuper("toObject",c),{objects:e})},render:function(b){this._transformDone=!0;this.callSuper("render",
b);this._transformDone=!1},drawObject:function(b){for(var c=0,e=this._objects.length;c<e;c++)this._renderObject(this._objects[c],b)},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var b=0,c=this._objects.length;b<c;b++)if(this._objects[b].isCacheDirty(!0))return b=this._getNonTransformedDimensions(),this._cacheContext.clearRect(-b.x/2,-b.y/2,b.x,b.y),!0;return!1},_renderControls:function(b,c){b.save();b.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:
1;this.callSuper("_renderControls",b,c);for(var e=0,h=this._objects.length;e<h;e++)this._objects[e]._renderControls(b);b.restore()},_renderObject:function(b,c){if(b.visible){var e=b.hasRotatingPoint;b.hasRotatingPoint=!1;b.render(c);b.hasRotatingPoint=e}},_restoreObjectsState:function(){this._objects.forEach(this._restoreObjectState,this);return this},realizeTransform:function(b){var c=b.calcTransformMatrix(),c=e.util.qrDecompose(c),h=new e.Point(c.translateX,c.translateY);b.flipX=!1;b.flipY=!1;b.set("scaleX",
c.scaleX);b.set("scaleY",c.scaleY);b.skewX=c.skewX;b.skewY=c.skewY;b.angle=c.angle;b.setPositionByOrigin(h,"center","center");return b},_restoreObjectState:function(b){this.realizeTransform(b);b.setCoords();b.hasControls=b.__origHasControls;delete b.__origHasControls;b.set("active",!1);delete b.group;return this},destroy:function(){return this._restoreObjectsState()},saveCoords:function(){this._originalLeft=this.get("left");this._originalTop=this.get("top");return this},hasMoved:function(){return this._originalLeft!==
this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){this.forEachObject(function(b){b.setCoords(!0)});return this},_calcBounds:function(b){for(var c=[],e=[],h,g,k=["tr","br","bl","tl"],r=0,s=this._objects.length,v,z=k.length;r<s;++r)for(h=this._objects[r],h.setCoords(!0),v=0;v<z;v++)g=k[v],c.push(h.oCoords[g].x),e.push(h.oCoords[g].y);this.set(this._getBounds(c,e,b))},_getBounds:function(b,c,h){var n=new e.Point(g(b),g(c));b=new e.Point(k(b),k(c));b={width:b.x-n.x||0,
height:b.y-n.y||0};h||(b.left=n.x||0,b.top=n.y||0,"center"===this.originX&&(b.left+=b.width/2),"right"===this.originX&&(b.left+=b.width),"center"===this.originY&&(b.top+=b.height/2),"bottom"===this.originY&&(b.top+=b.height));return b},toSVG:function(b){var c=this._createBaseSVGMarkup();c.push("\x3cg ",this.getSvgId(),'transform\x3d"',this.getSvgTransform(),this.getSvgTransformMatrix(),'" style\x3d"',this.getSvgFilter(),'"\x3e\n');for(var e=0,h=this._objects.length;e<h;e++)c.push("\t",this._objects[e].toSVG(b));
c.push("\x3c/g\x3e\n");return b?b(c.join("")):c.join("")},get:function(b){if(b in h){if(this[b])return this[b];for(var c=0,e=this._objects.length;c<e;c++)if(this._objects[c][b])return!0;return!1}return b in this.delegatedProperties?this._objects[0]&&this._objects[0].get(b):this[b]}});e.Group.fromObject=function(b,c){e.util.enlivenObjects(b.objects,function(h){delete b.objects;c&&c(new e.Group(h,b,!0))})};e.Group.async=!0}})("undefined"!==typeof exports?exports:this);
fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var c=this.getAngle()%360;return 0<c?90*Math.round((c-1)/90):90*Math.round(c/90)},straighten:function(){this.setAngle(this._getAngleValueForStraighten());return this},fxStraighten:function(c){c=c||{};var e=function(){},b=c.onComplete||e,g=c.onChange||e,k=this;fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(b){k.setAngle(b);
g()},onComplete:function(){k.setCoords();b()},onStart:function(){k.set("active",!1)}});return this}});fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(c){c.straighten();this.renderAll();return this},fxStraightenObject:function(c){c.fxStraighten({onChange:this.renderAll.bind(this)});return this}});
(function(c){var e=c.fabric||(c.fabric={}),b=e.util.toFixed,g=e.Object.NUM_FRACTION_DIGITS;if(e.Text)e.warn("fabric.Text is already defined");else{c=e.Object.prototype.stateProperties.concat();c.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing");var k=e.Object.prototype.cacheProperties.concat();k.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor",
"charSpacing","styles");e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:"fontSize fontWeight fontFamily fontStyle lineHeight text charSpacing textAlign".split(" "),_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.16,textBackgroundColor:"",stateProperties:c,cacheProperties:k,stroke:null,shadow:null,_fontSizeFraction:.25,_fontSizeMult:1.13,charSpacing:0,initialize:function(b,
c){c=c||{};this.text=b;this.__skipDimension=!0;this.callSuper("initialize",c);this.__skipDimension=!1;this._initDimensions();this.setupState({propertySet:"_dimensionAffectingProps"})},_initDimensions:function(b){this.__skipDimension||(b||(b=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(b)),this._textLines=this._splitTextIntoLines(),this._clearCache(),this.width=this._getTextWidth(b)||this.cursorWidth||2,this.height=this._getTextHeight(b))},toString:function(){return"#\x3cfabric.Text ("+
this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }\x3e'},_getCacheCanvasDimensions:function(){var b=this.callSuper("_getCacheCanvasDimensions"),c=2*Math.ceil(this.fontSize);b.width+=c;b.height+=c;return b},_render:function(b){this._setTextStyles(b);this.group&&"path-group"===this.group.type&&b.translate(this.left,this.top);this._renderTextLinesBackground(b);this._renderText(b);this._renderTextDecoration(b)},_renderText:function(b){this._renderTextFill(b);this._renderTextStroke(b)},
_setTextStyles:function(b){b.textBaseline="alphabetic";b.font=this._getFontDeclaration()},_getTextHeight:function(){return this._getHeightOfSingleLine()+(this._textLines.length-1)*this._getHeightOfLine()},_getTextWidth:function(b){for(var c=this._getLineWidth(b,0),e=1,g=this._textLines.length;e<g;e++){var k=this._getLineWidth(b,e);k>c&&(c=k)}return c},_renderChars:function(b,c,e,g,k){var p=b.slice(0,-4),q,r;this[p].toLive&&(q=-this.width/2+this[p].offsetX||0,r=-this.height/2+this[p].offsetY||0,c.save(),
c.translate(q,r),g-=q,k-=r);if(0!==this.charSpacing){var s=this._getWidthOfCharSpacing();e=e.split("");for(var v=0,z=e.length;v<z;v++)q=e[v],r=c.measureText(q).width+s,c[b](q,g,k),g+=0<r?r:0}else c[b](e,g,k);this[p].toLive&&c.restore()},_renderTextLine:function(b,c,e,g,k,p){k-=this.fontSize*this._fontSizeFraction;var q=this._getLineWidth(c,p);if("justify"!==this.textAlign||this.width<q)this._renderChars(b,c,e,g,k,p);else for(var q=e.split(/\s+/),r=0,s=this._getWidthOfWords(c,q.join(" "),p,0),s=this.width-
s,v=q.length-1,s=0<v?s/v:0,v=0,z,w=0,B=q.length;w<B;w++){for(;" "===e[r]&&r<e.length;)r++;z=q[w];this._renderChars(b,c,z,g+v,k,p,r);v+=this._getWidthOfWords(c,z,p,r)+s;r+=z.length}},_getWidthOfWords:function(b,c){var e=b.measureText(c).width,g;0!==this.charSpacing&&(g=c.split("").length,g*=this._getWidthOfCharSpacing(),e+=g);return 0<e?e:0},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},isEmptyStyles:function(){return!0},_renderTextCommon:function(b,
c){for(var e=0,g=this._getLeftOffset(),k=this._getTopOffset(),p=0,q=this._textLines.length;p<q;p++){var r=this._getHeightOfLine(b,p),s=r/this.lineHeight,v=this._getLineWidth(b,p),v=this._getLineLeftOffset(v);this._renderTextLine(c,b,this._textLines[p],g+v,k+e+s,p);e+=r}},_renderTextFill:function(b){!this.fill&&this.isEmptyStyles()||this._renderTextCommon(b,"fillText")},_renderTextStroke:function(b){if(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())this.shadow&&!this.shadow.affectStroke&&
this._removeShadow(b),b.save(),this._setLineDash(b,this.strokeDashArray),b.beginPath(),this._renderTextCommon(b,"strokeText"),b.closePath(),b.restore()},_getHeightOfLine:function(){return this._getHeightOfSingleLine()*this.lineHeight},_getHeightOfSingleLine:function(){return this.fontSize*this._fontSizeMult},_renderTextLinesBackground:function(b){if(this.textBackgroundColor){var c=0,e,g,k,p=b.fillStyle;b.fillStyle=this.textBackgroundColor;for(var q=0,r=this._textLines.length;q<r;q++)e=this._getHeightOfLine(b,
q),g=this._getLineWidth(b,q),0<g&&(k=this._getLineLeftOffset(g),b.fillRect(this._getLeftOffset()+k,this._getTopOffset()+c,g,e/this.lineHeight)),c+=e;b.fillStyle=p;this._removeShadow(b)}},_getLineLeftOffset:function(b){return"center"===this.textAlign?(this.width-b)/2:"right"===this.textAlign?this.width-b:0},_clearCache:function(){this.__lineWidths=[];this.__lineHeights=[]},_shouldClearDimensionCache:function(){var b=this._forceClearCache;b||(b=this.hasStateChanged("_dimensionAffectingProps"));b&&(this.saveState({propertySet:"_dimensionAffectingProps"}),
this.dirty=!0);return b},_getLineWidth:function(b,c){if(this.__lineWidths[c])return-1===this.__lineWidths[c]?this.width:this.__lineWidths[c];var e,g;g=this._textLines[c];e=""===g?0:this._measureLine(b,c);(this.__lineWidths[c]=e)&&"justify"===this.textAlign&&(g=g.split(/\s+/),1<g.length&&(this.__lineWidths[c]=-1));return e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1E3:0},_measureLine:function(b,c){var e=this._textLines[c],g=b.measureText(e).width,
k=0;0!==this.charSpacing&&(e=e.split("").length,k=(e-1)*this._getWidthOfCharSpacing());g+=k;return 0<g?g:0},_renderTextDecoration:function(b){if(this.textDecoration){var c=this.height/2,e=[];-1<this.textDecoration.indexOf("underline")&&e.push(.85);-1<this.textDecoration.indexOf("line-through")&&e.push(.43);-1<this.textDecoration.indexOf("overline")&&e.push(-.12);if(0<e.length){var g,k=0,p,q,r,s,v,z;g=0;for(p=this._textLines.length;g<p;g++){s=this._getLineWidth(b,g);v=this._getLineLeftOffset(s);z=
this._getHeightOfLine(b,g);q=0;for(r=e.length;q<r;q++)b.fillRect(this._getLeftOffset()+v,k+(this._fontSizeMult-1+e[q])*this.fontSize-c,s,this.fontSize/15);k+=z}}}},_getFontDeclaration:function(){return[e.isLikelyNode?this.fontWeight:this.fontStyle,e.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",e.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(b,c){this.visible&&(this._shouldClearDimensionCache()&&(this._setTextStyles(b),this._initDimensions(b)),this.callSuper("render",
b,c))},_splitTextIntoLines:function(){return this.text.split(this._reNewline)},toObject:function(b){b="text fontSize fontWeight fontFamily fontStyle lineHeight textDecoration textAlign textBackgroundColor charSpacing".split(" ").concat(b);return this.callSuper("toObject",b)},toSVG:function(b){this.ctx||(this.ctx=e.util.createCanvasElement().getContext("2d"));var c=this._createBaseSVGMarkup(),f=this._getSVGLeftTopOffsets(this.ctx),f=this._getSVGTextAndBg(f.textTop,f.textLeft);this._wrapSVGTextAndBg(c,
f);return b?b(c.join("")):c.join("")},_getSVGLeftTopOffsets:function(b){b=this._getHeightOfLine(b,0);return{textLeft:-this.width/2+(this.group&&"path-group"===this.group.type?this.left:0),textTop:0+(this.group&&"path-group"===this.group.type?-this.top:0),lineTop:b}},_wrapSVGTextAndBg:function(b,c){var e=this.getSvgFilter(),e=""===e?"":' style\x3d"'+e+'"';b.push("\t\x3cg ",this.getSvgId(),'transform\x3d"',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',e,"\x3e\n",c.textBgRects.join(""),"\t\t\x3ctext ",
this.fontFamily?'font-family\x3d"'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size\x3d"'+this.fontSize+'" ':"",this.fontStyle?'font-style\x3d"'+this.fontStyle+'" ':"",this.fontWeight?'font-weight\x3d"'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration\x3d"'+this.textDecoration+'" ':"",'style\x3d"',this.getSvgStyles(!0),'" \x3e\n',c.textSpans.join(""),"\t\t\x3c/text\x3e\n","\t\x3c/g\x3e\n")},_getSVGTextAndBg:function(b,c){var e=[],g=[],k=0;this._setSVGBg(g);for(var p=
0,q=this._textLines.length;p<q;p++)this.textBackgroundColor&&this._setSVGTextLineBg(g,p,c,b,k),this._setSVGTextLineText(p,e,k,c,b,g),k+=this._getHeightOfLine(this.ctx,p);return{textSpans:e,textBgRects:g}},_setSVGTextLineText:function(c,d,f,k,n){f=this.fontSize*(this._fontSizeMult-this._fontSizeFraction)-n+f-this.height/2;"justify"===this.textAlign?this._setSVGTextLineJustifed(c,d,f,k):d.push('\t\t\t\x3ctspan x\x3d"',b(k+this._getLineLeftOffset(this._getLineWidth(this.ctx,c)),g),'" ','y\x3d"',b(f,
g),'" ',this._getFillAttributes(this.fill),"\x3e",e.util.string.escapeXml(this._textLines[c]),"\x3c/tspan\x3e\n")},_setSVGTextLineJustifed:function(c,d,f,k){var n=e.util.createCanvasElement().getContext("2d");this._setTextStyles(n);var p=this._textLines[c].split(/\s+/),q=this._getWidthOfWords(n,p.join("")),q=this.width-q,r=p.length-1,q=0<r?q/r:0,s=this._getFillAttributes(this.fill),v;k+=this._getLineLeftOffset(this._getLineWidth(n,c));c=0;for(v=p.length;c<v;c++)r=p[c],d.push('\t\t\t\x3ctspan x\x3d"',
b(k,g),'" ','y\x3d"',b(f,g),'" ',s,"\x3e",e.util.string.escapeXml(r),"\x3c/tspan\x3e\n"),k+=this._getWidthOfWords(n,r)+q},_setSVGTextLineBg:function(c,d,e,k,n){c.push("\t\t\x3crect ",this._getFillAttributes(this.textBackgroundColor),' x\x3d"',b(e+this._getLineLeftOffset(this._getLineWidth(this.ctx,d)),g),'" y\x3d"',b(n-this.height/2,g),'" width\x3d"',b(this._getLineWidth(this.ctx,d),g),'" height\x3d"',b(this._getHeightOfLine(this.ctx,d)/this.lineHeight,g),'"\x3e\x3c/rect\x3e\n')},_setSVGBg:function(c){this.backgroundColor&&
c.push("\t\t\x3crect ",this._getFillAttributes(this.backgroundColor),' x\x3d"',b(-this.width/2,g),'" y\x3d"',b(-this.height/2,g),'" width\x3d"',b(this.width,g),'" height\x3d"',b(this.height,g),'"\x3e\x3c/rect\x3e\n')},_getFillAttributes:function(b){var c=b&&"string"===typeof b?new e.Color(b):"";return c&&c.getSource()&&1!==c.getAlpha()?'opacity\x3d"'+c.getAlpha()+'" fill\x3d"'+c.setAlpha(1).toRgb()+'"':'fill\x3d"'+b+'"'},_set:function(b,c){this.callSuper("_set",b,c);-1<this._dimensionAffectingProps.indexOf(b)&&
(this._initDimensions(),this.setCoords())},complexity:function(){return 1}});e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" "));e.Text.DEFAULT_SVG_FONT_SIZE=16;e.Text.fromElement=function(b,c){if(!b)return null;var f=e.parseAttributes(b,e.Text.ATTRIBUTE_NAMES);c=e.util.object.extend(c?e.util.object.clone(c):{},f);c.top=c.top||0;c.left=c.left||0;"dx"in f&&(c.left+=f.dx);"dy"in f&&(c.top+=f.dy);"fontSize"in
c||(c.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);c.originX||(c.originX="left");f="";"textContent"in b?f=b.textContent:"firstChild"in b&&null!==b.firstChild&&"data"in b.firstChild&&null!==b.firstChild.data&&(f=b.firstChild.data);var f=f.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),f=new e.Text(f,c),g=f.getHeight()/f.height,g=((f.height+f.strokeWidth)*f.lineHeight-f.height)*g,g=f.getHeight()+g,k=0;"left"===f.originX&&(k=f.getWidth()/2);"right"===f.originX&&(k=-f.getWidth()/2);f.set({left:f.getLeft()+
k,top:f.getTop()-g/2+f.fontSize*(.18+f._fontSizeFraction)/f.lineHeight});return f};e.Text.fromObject=function(b,c,f){return e.Object._fromObject("Text",b,c,f,"text")};e.util.createAccessors(e.Text)}})("undefined"!==typeof exports?exports:this);
(function(){var c=fabric.util.object.clone;fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1E3,cursorDuration:600,styles:null,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],initialize:function(c,b){this.styles=
b?b.styles||{}:{};this.callSuper("initialize",c,b);this.initBehavior()},_clearCache:function(){this.callSuper("_clearCache");this.__widthOfSpace=[]},isEmptyStyles:function(){if(!this.styles)return!0;var c=this.styles,b;for(b in c)for(var g in c[b])for(var k in c[b][g])return!1;return!0},setSelectionStart:function(c){c=Math.max(c,0);this._updateAndFire("selectionStart",c)},setSelectionEnd:function(c){c=Math.min(c,this.text.length);this._updateAndFire("selectionEnd",c)},_updateAndFire:function(c,b){this[c]!==
b&&(this._fireSelectionChanged(),this[c]=b);this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed");this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},getSelectionStyles:function(c,b){if(2===arguments.length){for(var g=[],k=c;k<b;k++)g.push(this.getSelectionStyles(k));return g}g=this.get2DCursorLocation(c);return this._getStyleDeclaration(g.lineIndex,g.charIndex)||{}},setSelectionStyles:function(c){if(this.selectionStart===this.selectionEnd)this._extendStyles(this.selectionStart,
c);else for(var b=this.selectionStart;b<this.selectionEnd;b++)this._extendStyles(b,c);this._forceClearCache=!0;return this},_extendStyles:function(c,b){var g=this.get2DCursorLocation(c);this._getLineStyle(g.lineIndex)||this._setLineStyle(g.lineIndex,{});this._getStyleDeclaration(g.lineIndex,g.charIndex)||this._setStyleDeclaration(g.lineIndex,g.charIndex,{});fabric.util.object.extend(this._getStyleDeclaration(g.lineIndex,g.charIndex),b)},_initDimensions:function(c){c||this.clearContextTop();this.callSuper("_initDimensions",
c)},render:function(c,b){this.clearContextTop();this.callSuper("render",c,b);this.cursorOffsetCache={};this.renderCursorOrSelection()},_render:function(c){this.callSuper("_render",c);this.ctx=c},clearContextTop:function(){if(this.active&&this.isEditing&&this.canvas&&this.canvas.contextTop){var c=this.canvas.contextTop;c.save();c.transform.apply(c,this.canvas.viewportTransform);this.transform(c);this.transformMatrix&&c.transform.apply(c,this.transformMatrix);this._clearTextArea(c);c.restore()}},renderCursorOrSelection:function(){if(this.active&&
this.isEditing){var c=this.text.split(""),b,g;this.canvas&&this.canvas.contextTop?(g=this.canvas.contextTop,g.save(),g.transform.apply(g,this.canvas.viewportTransform),this.transform(g),this.transformMatrix&&g.transform.apply(g,this.transformMatrix),this._clearTextArea(g)):(g=this.ctx,g.save());this.selectionStart===this.selectionEnd?(b=this._getCursorBoundaries(c,"cursor"),this.renderCursor(b,g)):(b=this._getCursorBoundaries(c,"selection"),this.renderSelection(c,b,g));g.restore()}},_clearTextArea:function(c){var b=
this.width+4,g=this.height+4;c.clearRect(-b/2,-g/2,b,g)},get2DCursorLocation:function(c){"undefined"===typeof c&&(c=this.selectionStart);for(var b=this._textLines.length,g=0;g<b;g++){if(c<=this._textLines[g].length)return{lineIndex:g,charIndex:c};c-=this._textLines[g].length+1}return{lineIndex:g-1,charIndex:this._textLines[g-1].length<c?this._textLines[g-1].length:c}},getCurrentCharStyle:function(c,b){var g=this._getStyleDeclaration(c,0===b?0:b-1);return{fontSize:g&&g.fontSize||this.fontSize,fill:g&&
g.fill||this.fill,textBackgroundColor:g&&g.textBackgroundColor||this.textBackgroundColor,textDecoration:g&&g.textDecoration||this.textDecoration,fontFamily:g&&g.fontFamily||this.fontFamily,fontWeight:g&&g.fontWeight||this.fontWeight,fontStyle:g&&g.fontStyle||this.fontStyle,stroke:g&&g.stroke||this.stroke,strokeWidth:g&&g.strokeWidth||this.strokeWidth}},getCurrentCharFontSize:function(c,b){var g=this._getStyleDeclaration(c,0===b?0:b-1);return g&&g.fontSize?g.fontSize:this.fontSize},getCurrentCharColor:function(c,
b){var g=this._getStyleDeclaration(c,0===b?0:b-1);return g&&g.fill?g.fill:this.cursorColor},_getCursorBoundaries:function(c,b){var g=Math.round(this._getLeftOffset()),k=this._getTopOffset(),h=this._getCursorBoundariesOffsets(c,b);return{left:g,top:k,leftOffset:h.left+h.lineLeft,topOffset:h.top}},_getCursorBoundariesOffsets:function(c,b){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;for(var g=0,k=0,h=0,d=0,f=0,l=0;l<this.selectionStart;l++)"\n"===c[l]?(f=0,
d+=this._getHeightOfLine(this.ctx,k),k++,h=0):(f+=this._getWidthOfChar(this.ctx,c[l],k,h),h++),g=this._getLineLeftOffset(this._getLineWidth(this.ctx,k));"cursor"===b&&(d+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,k)/this.lineHeight-this.getCurrentCharFontSize(k,h)*(1-this._fontSizeFraction));0!==this.charSpacing&&h===this._textLines[k].length&&(f-=this._getWidthOfCharSpacing());return this.cursorOffsetCache={top:d,left:0<f?f:0,lineLeft:g}},renderCursor:function(c,b){var g=this.get2DCursorLocation(),
k=g.lineIndex,g=g.charIndex,h=this.getCurrentCharFontSize(k,g),d=0===k&&0===g?this._getLineLeftOffset(this._getLineWidth(b,k)):c.leftOffset,f=this.scaleX*this.canvas.getZoom(),f=this.cursorWidth/f;b.fillStyle=this.getCurrentCharColor(k,g);b.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity;b.fillRect(c.left+d-f/2,c.top+c.topOffset,f,h)},renderSelection:function(c,b,g){g.fillStyle=this.selectionColor;c=this.get2DCursorLocation(this.selectionStart);for(var k=this.get2DCursorLocation(this.selectionEnd),
h=c.lineIndex,d=k.lineIndex,f=h;f<=d;f++){var l=this._getLineLeftOffset(this._getLineWidth(g,f))||0,n=this._getHeightOfLine(this.ctx,f),p=0,q=0,p=this._textLines[f];if(f===h){for(var r=0,s=p.length;r<s;r++)r>=c.charIndex&&(f!==d||r<k.charIndex)&&(q+=this._getWidthOfChar(g,p[r],f,r)),r<c.charIndex&&(l+=this._getWidthOfChar(g,p[r],f,r));r===p.length&&(q-=this._getWidthOfCharSpacing())}else if(f>h&&f<d)q+=this._getLineWidth(g,f)||5;else if(f===d){r=0;for(s=k.charIndex;r<s;r++)q+=this._getWidthOfChar(g,
p[r],f,r);k.charIndex===p.length&&(q-=this._getWidthOfCharSpacing())}p=n;if(1>this.lineHeight||f===d&&1<this.lineHeight)n/=this.lineHeight;g.fillRect(b.left+l,b.top+b.topOffset,0<q?q:0,n);b.topOffset+=p}},_renderChars:function(c,b,g,k,h,d,f){if(this.isEmptyStyles())return this._renderCharsFast(c,b,g,k,h);f=f||0;var l=this._getHeightOfLine(b,d),n,p,q="";b.save();h-=l/this.lineHeight*this._fontSizeFraction;for(var r=f,s=g.length+f;r<=s;r++){n=n||this.getCurrentCharStyle(d,r);p=this.getCurrentCharStyle(d,
r+1);if(this._hasStyleChanged(n,p)||r===s)this._renderChar(c,b,d,r-1,q,k,h,l),q="",n=p;q+=g[r-f]}b.restore()},_renderCharsFast:function(c,b,g,k,h){"fillText"===c&&this.fill&&this.callSuper("_renderChars",c,b,g,k,h);"strokeText"===c&&(this.stroke&&0<this.strokeWidth||this.skipFillStrokeCheck)&&this.callSuper("_renderChars",c,b,g,k,h)},_renderChar:function(c,b,g,k,h,d,f,l){var n,p,q,r=this._getStyleDeclaration(g,k),s,v;r?(n=this._getHeightOfChar(b,h,g,k),q=r.stroke,p=r.fill,s=r.textDecoration):n=this.fontSize;
q=(q||this.stroke)&&"strokeText"===c;p=(p||this.fill)&&"fillText"===c;r&&b.save();c=this._applyCharStylesGetWidth(b,h,g,k,r||null);s=s||this.textDecoration;r&&r.textBackgroundColor&&this._removeShadow(b);if(0!==this.charSpacing){g=this._getWidthOfCharSpacing();h=h.split("");k=c=0;for(var z=h.length;k<z;k++)v=h[k],p&&b.fillText(v,d+c,f),q&&b.strokeText(v,d+c,f),v=b.measureText(v).width+g,c+=0<v?v:0}else p&&b.fillText(h,d,f),q&&b.strokeText(h,d,f);if(s||""!==s)l=this._fontSizeFraction*l/this.lineHeight,
this._renderCharDecoration(b,s,d,f,l,c,n);r&&b.restore();b.translate(c,0)},_hasStyleChanged:function(c,b){return c.fill!==b.fill||c.fontSize!==b.fontSize||c.textBackgroundColor!==b.textBackgroundColor||c.textDecoration!==b.textDecoration||c.fontFamily!==b.fontFamily||c.fontWeight!==b.fontWeight||c.fontStyle!==b.fontStyle||c.stroke!==b.stroke||c.strokeWidth!==b.strokeWidth},_renderCharDecoration:function(c,b,g,k,h,d,f){if(b){h=f/15;k={underline:k+f/10,"line-through":k-f*(this._fontSizeFraction+this._fontSizeMult-
1)+h,overline:k-(this._fontSizeMult-this._fontSizeFraction)*f};f=["underline","line-through","overline"];var l,n;for(l=0;l<f.length;l++)n=f[l],-1<b.indexOf(n)&&c.fillRect(g,k[n],d,h)}},_renderTextLine:function(c,b,g,k,h,d){this.isEmptyStyles()||(h+=this.fontSize*(this._fontSizeFraction+.03));this.callSuper("_renderTextLine",c,b,g,k,h,d)},_renderTextDecoration:function(c){if(this.isEmptyStyles())return this.callSuper("_renderTextDecoration",c)},_renderTextLinesBackground:function(c){this.callSuper("_renderTextLinesBackground",
c);var b=0,g,k,h=this._getLeftOffset(),d=this._getTopOffset(),f,l,n;c.save();for(var p=0,q=this._textLines.length;p<q;p++){g=this._getHeightOfLine(c,p);f=this._textLines[p];if(""!==f&&this.styles&&this._getLineStyle(p)){k=this._getLineWidth(c,p);k=this._getLineLeftOffset(k);for(var r=0,s=f.length;r<s;r++)(n=this._getStyleDeclaration(p,r))&&n.textBackgroundColor&&(l=f[r],c.fillStyle=n.textBackgroundColor,c.fillRect(h+k+this._getWidthOfCharsAt(c,p,r),d+b,this._getWidthOfChar(c,l,p,r),g/this.lineHeight))}b+=
g}c.restore()},_getCacheProp:function(c,b){return c+b.fontSize+b.fontWeight+b.fontStyle},_getFontCache:function(c){fabric.charWidthsCache[c]||(fabric.charWidthsCache[c]={});return fabric.charWidthsCache[c]},_applyCharStylesGetWidth:function(e,b,g,k,h){var d=h||this._getStyleDeclaration(g,k);h=c(d);this._applyFontStyles(h);k=this._getFontCache(h.fontFamily);g=this._getCacheProp(b,h);if(!d&&k[g]&&this.caching)return k[g];"string"===typeof h.shadow&&(h.shadow=new fabric.Shadow(h.shadow));d=h.fill||this.fill;
e.fillStyle=d.toLive?d.toLive(e,this):d;h.stroke&&(e.strokeStyle=h.stroke&&h.stroke.toLive?h.stroke.toLive(e,this):h.stroke);e.lineWidth=h.strokeWidth||this.strokeWidth;e.font=this._getFontDeclaration.call(h);h.shadow&&(h.scaleX=this.scaleX,h.scaleY=this.scaleY,h.canvas=this.canvas,h.getObjectScaling=this.getObjectScaling,this._setShadow.call(h,e));return this.caching&&k[g]?k[g]:(e=e.measureText(b).width,this.caching&&(k[g]=e),e)},_applyFontStyles:function(c){c.fontFamily||(c.fontFamily=this.fontFamily);
c.fontSize||(c.fontSize=this.fontSize);c.fontWeight||(c.fontWeight=this.fontWeight);c.fontStyle||(c.fontStyle=this.fontStyle)},_getStyleDeclaration:function(e,b,g){return g?this.styles[e]&&this.styles[e][b]?c(this.styles[e][b]):{}:this.styles[e]&&this.styles[e][b]?this.styles[e][b]:null},_setStyleDeclaration:function(c,b,g){this.styles[c][b]=g},_deleteStyleDeclaration:function(c,b){delete this.styles[c][b]},_getLineStyle:function(c){return this.styles[c]},_setLineStyle:function(c,b){this.styles[c]=
b},_deleteLineStyle:function(c){delete this.styles[c]},_getWidthOfChar:function(c,b,g,k){if(!this._isMeasuring&&"justify"===this.textAlign&&this._reSpacesAndTabs.test(b))return this._getWidthOfSpace(c,g);c.save();b=this._applyCharStylesGetWidth(c,b,g,k);0!==this.charSpacing&&(b+=this._getWidthOfCharSpacing());c.restore();return 0<b?b:0},_getHeightOfChar:function(c,b,g){return(c=this._getStyleDeclaration(b,g))&&c.fontSize?c.fontSize:this.fontSize},_getWidthOfCharsAt:function(c,b,g){var k=0,h,d;for(h=
0;h<g;h++)d=this._textLines[b][h],k+=this._getWidthOfChar(c,d,b,h);return k},_measureLine:function(c,b){this._isMeasuring=!0;var g=this._getWidthOfCharsAt(c,b,this._textLines[b].length);0!==this.charSpacing&&(g-=this._getWidthOfCharSpacing());this._isMeasuring=!1;return 0<g?g:0},_getWidthOfSpace:function(c,b){if(this.__widthOfSpace[b])return this.__widthOfSpace[b];var g=this._textLines[b],k=this._getWidthOfWords(c,g,b,0),k=this.width-k,g=g.length-g.replace(this._reSpacesAndTabs,"").length,g=Math.max(k/
g,c.measureText(" ").width);return this.__widthOfSpace[b]=g},_getWidthOfWords:function(c,b,g,k){for(var h=0,d=0;d<b.length;d++){var f=b[d];f.match(/\s/)||(h+=this._getWidthOfChar(c,f,g,d+k))}return h},_getHeightOfLine:function(c,b){if(this.__lineHeights[b])return this.__lineHeights[b];for(var g=this._textLines[b],k=this._getHeightOfChar(c,b,0),h=1,g=g.length;h<g;h++){var d=this._getHeightOfChar(c,b,h);d>k&&(k=d)}this.__lineHeights[b]=k*this.lineHeight*this._fontSizeMult;return this.__lineHeights[b]},
_getTextHeight:function(c){for(var b,g=0,k=0,h=this._textLines.length;k<h;k++)b=this._getHeightOfLine(c,k),g+=k===h-1?b/this.lineHeight:b;return g},toObject:function(e){return fabric.util.object.extend(this.callSuper("toObject",e),{styles:c(this.styles,!0)})}});fabric.IText.fromObject=function(c,b,g){return fabric.Object._fromObject("IText",c,b,g,"text")}})();
(function(){var c=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler();this.initRemovedHandler();this.initCursorSelectionHandlers();this.initDoubleClickSimulation();this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},initSelectedHandler:function(){this.on("selected",function(){var c=this;setTimeout(function(){c.selected=!0},100)})},initAddedHandler:function(){var c=this;this.on("added",function(){var b=c.canvas;b&&(b._hasITextHandlers||
(b._hasITextHandlers=!0,c._initCanvasHandlers(b)),b._iTextInstances=b._iTextInstances||[],b._iTextInstances.push(c))})},initRemovedHandler:function(){var c=this;this.on("removed",function(){var b=c.canvas;b&&(b._iTextInstances=b._iTextInstances||[],fabric.util.removeFromArray(b._iTextInstances,c),0===b._iTextInstances.length&&(b._hasITextHandlers=!1,c._removeCanvasHandlers(b)))})},_initCanvasHandlers:function(c){c._canvasITextSelectionClearedHanlder=function(){fabric.IText.prototype.exitEditingOnOthers(c)}.bind(this);
c._mouseUpITextHandler=function(){c._iTextInstances&&c._iTextInstances.forEach(function(b){b.__isMousedown=!1})}.bind(this);c.on("selection:cleared",c._canvasITextSelectionClearedHanlder);c.on("object:selected",c._canvasITextSelectionClearedHanlder);c.on("mouse:up",c._mouseUpITextHandler)},_removeCanvasHandlers:function(c){c.off("selection:cleared",c._canvasITextSelectionClearedHanlder);c.off("object:selected",c._canvasITextSelectionClearedHanlder);c.off("mouse:up",c._mouseUpITextHandler)},_tick:function(){this._currentTickState=
this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(c,b,g,k){var h;h={isAborted:!1,abort:function(){this.isAborted=!0}};c.animate("_currentCursorOpacity",b,{duration:g,onComplete:function(){if(!h.isAborted)c[k]()},onChange:function(){c.canvas&&c.selectionStart===c.selectionEnd&&c.renderCursorOrSelection()},abort:function(){return h.isAborted}});return h},_onTickComplete:function(){var c=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1);this._cursorTimeout1=
setTimeout(function(){c._currentTickCompleteState=c._animateCursor(c,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(c){var b=this;c=c?0:this.cursorDelay;this.abortCursorAnimation();this._currentCursorOpacity=1;this._cursorTimeout2=setTimeout(function(){b._tick()},c)},abortCursorAnimation:function(){var c=this._currentTickState||this._currentTickCompleteState;this._currentTickState&&this._currentTickState.abort();this._currentTickCompleteState&&this._currentTickCompleteState.abort();
clearTimeout(this._cursorTimeout1);clearTimeout(this._cursorTimeout2);this._currentCursorOpacity=0;c&&this.canvas&&this.canvas.clearContext(this.canvas.contextTop||this.ctx)},selectAll:function(){this.selectionStart=0;this.selectionEnd=this.text.length;this._fireSelectionChanged();this._updateTextarea()},getSelectedText:function(){return this.text.slice(this.selectionStart,this.selectionEnd)},findWordBoundaryLeft:function(c){var b=0,g=c-1;if(this._reSpace.test(this.text.charAt(g)))for(;this._reSpace.test(this.text.charAt(g));)b++,
g--;for(;/\S/.test(this.text.charAt(g))&&-1<g;)b++,g--;return c-b},findWordBoundaryRight:function(c){var b=0,g=c;if(this._reSpace.test(this.text.charAt(g)))for(;this._reSpace.test(this.text.charAt(g));)b++,g++;for(;/\S/.test(this.text.charAt(g))&&g<this.text.length;)b++,g++;return c+b},findLineBoundaryLeft:function(c){for(var b=0,g=c-1;!/\n/.test(this.text.charAt(g))&&-1<g;)b++,g--;return c-b},findLineBoundaryRight:function(c){for(var b=0,g=c;!/\n/.test(this.text.charAt(g))&&g<this.text.length;)b++,
g++;return c+b},getNumNewLinesInSelectedText:function(){for(var c=this.getSelectedText(),b=0,g=0,k=c.length;g<k;g++)"\n"===c[g]&&b++;return b},searchWordBoundary:function(c,b){for(var g=this._reSpace.test(this.text.charAt(c))?c-1:c,k=this.text.charAt(g),h=/[ \n\.,;!\?\-]/;!h.test(k)&&0<g&&g<this.text.length;)g+=b,k=this.text.charAt(g);h.test(k)&&"\n"!==k&&(g+=1===b?0:1);return g},selectWord:function(c){c=c||this.selectionStart;var b=this.searchWordBoundary(c,-1);c=this.searchWordBoundary(c,1);this.selectionStart=
b;this.selectionEnd=c;this._fireSelectionChanged();this._updateTextarea();this.renderCursorOrSelection()},selectLine:function(c){c=c||this.selectionStart;var b=this.findLineBoundaryLeft(c);c=this.findLineBoundaryRight(c);this.selectionStart=b;this.selectionEnd=c;this._fireSelectionChanged();this._updateTextarea()},enterEditing:function(c){if(!this.isEditing&&this.editable){this.canvas&&this.exitEditingOnOthers(this.canvas);this.isEditing=!0;this.initHiddenTextarea(c);this.hiddenTextarea.focus();this._updateTextarea();
this._saveEditingProps();this._setEditingProps();this._textBeforeEdit=this.text;this._tick();this.fire("editing:entered");if(!this.canvas)return this;this.canvas.fire("text:editing:entered",{target:this});this.initMouseMoveHandler();this.canvas.renderAll();return this}},exitEditingOnOthers:function(c){c._iTextInstances&&c._iTextInstances.forEach(function(b){b.selected=!1;b.isEditing&&b.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(c){if(this.__isMousedown&&
this.isEditing){c=this.getSelectionStartFromPointer(c.e);var b=this.selectionStart,g=this.selectionEnd;c!==this.__selectionStartOnMouseDown&&(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart!==b||this.selectionEnd!==g)&&(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection())}},_setEditingProps:function(){this.hoverCursor=
"text";this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text");this.borderColor=this.editingBorderColor;this.hasControls=this.selectable=!1;this.lockMovementX=this.lockMovementY=!0},_updateTextarea:function(){if(this.hiddenTextarea&&!this.inCompositionMode&&(this.cursorOffsetCache={},this.hiddenTextarea.value=this.text,this.hiddenTextarea.selectionStart=this.selectionStart,this.hiddenTextarea.selectionEnd=this.selectionEnd,this.selectionStart===this.selectionEnd)){var c=this._calcTextareaPosition();
this.hiddenTextarea.style.left=c.left;this.hiddenTextarea.style.top=c.top;this.hiddenTextarea.style.fontSize=c.fontSize}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var c=this.text.split(""),b=this._getCursorBoundaries(c,"cursor"),c=this.get2DCursorLocation(),g=c.lineIndex,k=c.charIndex,c=this.getCurrentCharFontSize(g,k),k=0===g&&0===k?this._getLineLeftOffset(this._getLineWidth(this.ctx,g)):b.leftOffset,g=this.calcTransformMatrix(),b={x:b.left+k,y:b.top+b.topOffset+c},h=this.canvas.upperCanvasEl,
k=h.width-c,h=h.height-c,b=fabric.util.transformPoint(b,g),b=fabric.util.transformPoint(b,this.canvas.viewportTransform);0>b.x&&(b.x=0);b.x>k&&(b.x=k);0>b.y&&(b.y=0);b.y>h&&(b.y=h);b.x+=this.canvas._offset.left;b.y+=this.canvas._offset.top;return{left:b.x+"px",top:b.y+"px",fontSize:c}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&
this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var c=
this._textBeforeEdit!==this.text;this.isEditing=this.selected=!1;this.selectable=!0;this.selectionEnd=this.selectionStart;this.hiddenTextarea.blur&&this.hiddenTextarea.blur();this.hiddenTextarea&&this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea);this.hiddenTextarea=null;this.abortCursorAnimation();this._restoreEditingProps();this._currentCursorOpacity=0;this.fire("editing:exited");c&&this.fire("modified");this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),
this.canvas.fire("text:editing:exited",{target:this}),c&&this.canvas.fire("object:modified",{target:this}));return this},_removeExtraneousStyles:function(){for(var c in this.styles)this._textLines[c]||delete this.styles[c]},_removeCharsFromTo:function(c,b){for(;b!==c;)this._removeSingleCharAndStyle(c+1),b--;this.selectionEnd=this.selectionStart=c},_removeSingleCharAndStyle:function(c){var b="\n"===this.text[c-1];this.removeStyleObject(b,b?c:c-1);this.text=this.text.slice(0,c-1)+this.text.slice(c);
this._textLines=this._splitTextIntoLines()},insertChars:function(c,b){var g;1<this.selectionEnd-this.selectionStart&&this._removeCharsFromTo(this.selectionStart,this.selectionEnd);if(!b&&this.isEmptyStyles())this.insertChar(c,!1);else for(var k=0,h=c.length;k<h;k++)b&&(g=fabric.util.object.clone(fabric.copiedTextStyle[k],!0)),this.insertChar(c[k],k<h-1,g)},insertChar:function(c,b,g){var k="\n"===this.text[this.selectionStart];this.text=this.text.slice(0,this.selectionStart)+c+this.text.slice(this.selectionEnd);
this._textLines=this._splitTextIntoLines();this.insertStyleObjects(c,k,g);this.selectionEnd=this.selectionStart+=c.length;b||(this._updateTextarea(),this.setCoords(),this._fireSelectionChanged(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this}),this.canvas&&this.canvas.renderAll())},insertNewlineStyleObject:function(e,b,g){this.shiftLineStyles(e,1);this.styles[e+1]||(this.styles[e+1]={});var k={},h={};this.styles[e]&&this.styles[e][b-1]&&(k=this.styles[e][b-1]);if(g)h[0]=
c(k);else for(var d in this.styles[e])parseInt(d,10)>=b&&(h[parseInt(d,10)-b]=this.styles[e][d],delete this.styles[e][d]);this.styles[e+1]=h;this._forceClearCache=!0},insertCharStyleObject:function(e,b,g){var k=this.styles[e],h=c(k);0!==b||g||(b=1);for(var d in h){var f=parseInt(d,10);f>=b&&(k[f+1]=h[f],h[f-1]||delete k[f])}this.styles[e][b]=g||c(k[b-1]);this._forceClearCache=!0},insertStyleObjects:function(c,b,g){var k=this.get2DCursorLocation(),h=k.lineIndex,k=k.charIndex;this._getLineStyle(h)||
this._setLineStyle(h,{});"\n"===c?this.insertNewlineStyleObject(h,k,b):this.insertCharStyleObject(h,k,g)},shiftLineStyles:function(e,b){var g=c(this.styles),k;for(k in this.styles){var h=parseInt(k,10);h>e&&(this.styles[h+b]=g[h],g[h-b]||delete this.styles[h])}},removeStyleObject:function(c,b){var g=this.get2DCursorLocation(b);this._removeStyleObject(c,g,g.lineIndex,g.charIndex)},_getTextOnPreviousLine:function(c){return this._textLines[c-1]},_removeStyleObject:function(e,b,g,k){if(e){var h=this._getTextOnPreviousLine(b.lineIndex),
h=h?h.length:0;this.styles[g-1]||(this.styles[g-1]={});for(k in this.styles[g])this.styles[g-1][parseInt(k,10)+h]=this.styles[g][k];this.shiftLineStyles(b.lineIndex,-1)}else for(h in(b=this.styles[g])&&delete b[k],g=c(b),g)e=parseInt(h,10),e>=k&&0!==e&&(b[e-1]=g[e],delete b[e])},insertNewline:function(){this.insertChars("\n")},setSelectionStartEndWithShift:function(c,b,g){g<=c?(b===c?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=
c),this.selectionStart=g):g>c&&g<b?"right"===this._selectionDirection?this.selectionEnd=g:this.selectionStart=g:(b===c?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=b),this.selectionEnd=g)},setSelectionInBoundaries:function(){var c=this.text.length;this.selectionStart>c?this.selectionStart=c:0>this.selectionStart&&(this.selectionStart=0);this.selectionEnd>c?this.selectionEnd=c:0>this.selectionEnd&&(this.selectionEnd=0)}})})();
(function(){function c(b,c,d){var e=g.parse(b);e.port||(e.port=0===e.protocol.indexOf("https:")?443:80);b=(0===e.protocol.indexOf("https:")?h:k).request({hostname:e.hostname,port:e.port,path:e.path,method:"GET"},function(b){var e="";c&&b.setEncoding(c);b.on("end",function(){d(e)});b.on("data",function(c){200===b.statusCode&&(e+=c)})});b.on("error",function(b){b.errno===process.ECONNREFUSED?fabric.log("ECONNREFUSED: connection refused to "+e.hostname+":"+e.port):fabric.log(b.message);d(null)});b.end()}
function e(b,c){require("fs").readFile(b,function(b,d){if(b)throw fabric.log(b),b;c(d)})}if("undefined"===typeof document||"undefined"===typeof window){var b=require("xmldom").DOMParser,g=require("url"),k=require("http"),h=require("https"),d=require("canvas"),f=require("canvas").Image;fabric.util.loadImage=function(b,d,h){function g(c){c?(k.src=new Buffer(c,"binary"),k._src=b,d&&d.call(h,k)):(k=null,d&&d.call(h,null,!0))}var k=new f;b&&(b instanceof Buffer||0===b.indexOf("data"))?(k.src=k._src=b,
d&&d.call(h,k)):b&&0!==b.indexOf("http")?e(b,g):b?c(b,"binary",g):d&&d.call(h,b)};fabric.loadSVGFromURL=function(b,d,f){b=b.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim();0!==b.indexOf("http")?e(b,function(b){fabric.loadSVGFromString(b.toString(),d,f)}):c(b,"",function(b){fabric.loadSVGFromString(b,d,f)})};fabric.loadSVGFromString=function(c,d,e){c=(new b).parseFromString(c);fabric.parseSVGDocument(c.documentElement,function(b,c){d&&d(b,c)},e)};fabric.util.getScript=function(b,d){c(b,"",function(b){eval(b);
d&&d()})};fabric.createCanvasForNode=function(b,c,e,f){f=f||e;var h=fabric.document.createElement("canvas"),g=new d(b||600,c||600,f);b=new d(b||600,c||600,f);h.style={};h.width=g.width;h.height=g.height;e=e||{};e.nodeCanvas=g;e.nodeCacheCanvas=b;e=new (fabric.Canvas||fabric.StaticCanvas)(h,e);e.nodeCanvas=g;e.nodeCacheCanvas=b;e.contextContainer=g.getContext("2d");e.contextCache=b.getContext("2d");e.Font=d.Font;return e};var l=fabric.StaticCanvas.prototype._initStatic;fabric.StaticCanvas.prototype._initStatic=
function(b,c){b=b||fabric.document.createElement("canvas");this.nodeCanvas=new d(b.width,b.height);this.nodeCacheCanvas=new d(b.width,b.height);l.call(this,b,c);this.contextContainer=this.nodeCanvas.getContext("2d");this.contextCache=this.nodeCacheCanvas.getContext("2d");this.Font=d.Font};fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()};fabric.StaticCanvas.prototype.createJPEGStream=function(b){return this.nodeCanvas.createJPEGStream(b)};fabric.StaticCanvas.prototype._initRetinaScaling=
function(){if(this._isRetinaScaling())return this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.nodeCanvas.width=this.width*fabric.devicePixelRatio,this.nodeCanvas.height=this.height*fabric.devicePixelRatio,this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio),this};fabric.Canvas&&(fabric.Canvas.prototype._initRetinaScaling=fabric.StaticCanvas.prototype._initRetinaScaling);
var n=fabric.StaticCanvas.prototype._setBackstoreDimension;fabric.StaticCanvas.prototype._setBackstoreDimension=function(b,c){n.call(this,b,c);this.nodeCanvas[b]=c;return this};fabric.Canvas&&(fabric.Canvas.prototype._setBackstoreDimension=fabric.StaticCanvas.prototype._setBackstoreDimension)}})();
var _MathPI=Math.PI,_MathLN=Math.LN2,_Mathsqrt=Math.sqrt,_Mathlog=Math.log,_Mathabs=Math.abs,_Mathpow=Math.pow,_Mathexp=Math.exp,_Mathexpm=Math.expm1,_Mathmax=Math.max,_Mathceil=Math.ceil,_Mathmin=Math.min,_Mathfloor=Math.floor;
!function(c){function e(g){if(b[g])return b[g].exports;var k=b[g]={i:g,l:!1,exports:{}};return c[g].call(k.exports,k,k.exports,e),k.l=!0,k.exports}var b={};e.m=c;e.c=b;e.i=function(b){return b};e.d=function(b,c,h){e.o(b,c)||Object.defineProperty(b,c,{configurable:!1,enumerable:!0,get:h})};e.n=function(b){var c=b&&b.__esModule?function(){return b.default}:function(){return b};return e.d(c,"a",c),c};e.o=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};e.p="/assets/js/";e(e.s=154)}([function(c,
e,b){var g=b(2),k=b(24),h=b(13),d=b(14),f=b(21),l=function(b,c,e){var r,s,v=b&l.F;s=b&l.G;var z=b&l.S,w=b&l.P,B=b&l.B,z=s?g:z?g[c]||(g[c]={}):(g[c]||{}).prototype,E=s?k:k[c]||(k[c]={}),u=E.prototype||(E.prototype={});for(r in s&&(e=c),e)s=!v&&z&&void 0!==z[r],c=(s?z:e)[r],s=B&&s?f(c,g):w&&"function"==typeof c?f(Function.call,c):c,z&&d(z,r,c,b&l.U),E[r]!=c&&h(E,r,s),w&&u[r]!=c&&(u[r]=c)};g.core=k;l.F=1;l.G=2;l.S=4;l.P=8;l.B=16;l.W=32;l.U=64;l.R=128;c.exports=l},function(c,e,b){var g=b(4);c.exports=
function(b){if(!g(b))throw TypeError(b+" is not an object!");return b}},function(c){c=c.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(c){c.exports=function(c){try{return!!c()}catch(b){return!0}}},function(c){c.exports=function(c){return"object"==typeof c?null!==c:"function"==typeof c}},function(c,e,b){var g=b(74)("wks"),k=b(46),h=b(2).Symbol,d="function"==typeof h;(c.exports=
function(b){return g[b]||(g[b]=d&&h[b]||(d?h:k)("Symbol."+b))}).store=g},function(c,e,b){Object.defineProperty(e,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},k=function(){function b(c,d){for(var e,f=0;f<d.length;f++)e=d[f],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(c,
e.key,e)}return function(c,d,e){return d&&b(c.prototype,d),e&&b(c,e),c}}(),h=(c=b(19))&&c.__esModule?c:{default:c},d=(b=b(29))&&b.__esModule?b:{default:b};b=function(){function b(c,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.rawConfig=$.extend({},c);c=$.extend({},c);this.preview=d;delete c.isPreview;this.preview&&delete c.required;for(var e=["label","description","subtype","required"],h=Array.isArray(e),g=0,e=h?e:e[Symbol.iterator]();;){var k;if(h){if(g>=
e.length)break;k=e[g++]}else{if(g=e.next(),g.done)break;k=g.value}this[k]=c[k];delete c[k]}c.id||(c.name?c.id=c.name:c.id="control-"+_Mathfloor(1E7*Math.random()+1));this.id=c.id;this.type=c.type;this.description&&(c.title=this.description);b.controlConfig||(b.controlConfig={});this.classConfig=$.extend({},b.controlConfig[this.subtype?this.type+"."+this.subtype:this.type]||{});this.subtype&&(c.type=this.subtype);this.required&&(c.required="required",c["aria-required"]="true");this.config=c;this.configure()}
return b.register=function(c,d,e){e=e?e+".":"";b.classRegister||(b.classRegister={});Array.isArray(c)||(c=[c]);var h=Array.isArray(c),g=0;for(c=h?c:c[Symbol.iterator]();;){var k;if(h){if(g>=c.length)break;k=c[g++]}else{if(g=c.next(),g.done)break;k=g.value}-1<k.indexOf(".")?b.error("Ignoring type "+k+". Cannot use the character '.' in a type name."):b.classRegister[e+k]=d}},b.getRegistered=function(){var c=0<arguments.length&&void 0!==arguments[0]&&arguments[0],d=Object.keys(b.classRegister);return d.length?
d.filter(function(b){return c?-1<b.indexOf(c+"."):-1==b.indexOf(".")}):d},b.getRegisteredSubtypes=function(){var c={},d;for(d in b.classRegister)if(b.classRegister.hasOwnProperty(d)){var e=d.split("."),h=e[0];if(e=e[1])c[h]||(c[h]=[]),c[h].push(e)}return c},b.getClass=function(c,d){return b.classRegister[d?c+"."+d:c]||b.classRegister[c]||b.error("Invalid control type. (Type: "+c+", Subtype: "+d+"). Please ensure you have registered it, and imported it correctly.")},b.loadCustom=function(c){var d=
[];if(c&&(d=d.concat(c)),window.fbControls&&(d=d.concat(window.fbControls)),!window.fbControlsLoaded){c=d;var d=Array.isArray(c),e=0;for(c=d?c:c[Symbol.iterator]();;){var h;if(d){if(e>=c.length)break;h=c[e++]}else{if(e=c.next(),e.done)break;h=e.value}h(b,b.classRegister)}window.fbControlsLoaded=!0}},b.mi18n=function(b,c){var e=this.definition,f=e.i18n||{},f=f[d.default.locale]||f.default||f,h=this.camelCase(b);if(f="object"==(void 0===f?"undefined":g(f))?f[h]||f[b]:f)return f;e=e.mi18n;return"object"===
(void 0===e?"undefined":g(e))&&(e=e[h]||e[b]),e||(e=h),d.default.get(e,c)},b.active=function(b){return!Array.isArray(this.definition.inactive)||-1==this.definition.inactive.indexOf(b)},b.label=function(b){return this.mi18n(b)},b.icon=function(b){var c=this.definition;return c&&"object"===g(c.icon)?c.icon[b]:c.icon},b.prototype.configure=function(){},b.prototype.build=function(){var b=this.config,c=b.label,d=b.type,e=["label","type"],f={},g;for(g in b)0<=e.indexOf(g)||Object.prototype.hasOwnProperty.call(b,
g)&&(f[g]=b[g]);return this.markup(d,h.default.parsedHtml(c),f)},b.prototype.on=function(b){var c=this,d={prerender:function(){},render:function(){var b=function(){c.onRender&&c.onRender()};c.css&&h.default.getStyles(c.css);c.js&&!h.default.isCached(c.js)?h.default.getScripts(c.js).done(b):b()}};return b?d[b]:d},b.error=function(b){throw Error(b);},b.prototype.markup=function(b){return this.element=h.default.markup(b,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{}),this.element},b.prototype.parsedHtml=function(b){return h.default.parsedHtml(b)},b.camelCase=function(b){return h.default.camelCase(b)},k(b,null,[{key:"definition",get:function(){return{}}}]),b}();e.default=b},function(c,e,b){c.exports=!b(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(c,e,b){var g=b(1),k=b(125),h=b(28),d=Object.defineProperty;e.f=b(7)?Object.defineProperty:function(b,c,e){if(g(b),c=h(c,!0),g(e),k)try{return d(b,
c,e)}catch(p){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(b[c]=e.value),b}},function(c,e,b){var g=b(27);c.exports=function(b){return 0<b?_Mathmin(g(b),9007199254740991):0}},function(c,e,b){var g=b(25);c.exports=function(b){return Object(g(b))}},function(c){c.exports=function(c){if("function"!=typeof c)throw TypeError(c+" is not a function!");return c}},function(c){var e={}.hasOwnProperty;c.exports=function(b,c){return e.call(b,c)}},function(c,e,b){var g=
b(8),k=b(42);c.exports=b(7)?function(b,c,e){return g.f(b,c,k(1,e))}:function(b,c,e){return b[c]=e,b}},function(c,e,b){var g=b(2),k=b(13),h=b(12),d=b(46)("src"),f=Function.toString,l=(""+f).split("toString");b(24).inspectSource=function(b){return f.call(b)};(c.exports=function(b,c,e,f){var s="function"==typeof e;s&&(h(e,"name")||k(e,"name",c));b[c]===e||(s&&(h(e,d)||k(e,d,b[c]?""+b[c]:l.join(c+""))),b===g?b[c]=e:f?b[c]?b[c]=e:k(b,c,e):(delete b[c],k(b,c,e)))})(Function.prototype,"toString",function(){return"function"==
typeof this&&this[d]||f.call(this)})},function(c,e,b){var g=b(0),k=b(3),h=b(25),d=/"/g,f=function(b,c,e,f){b=h(b)+"";var g="\x3c"+c;return""!==e&&(g+=" "+e+'\x3d"'+(f+"").replace(d,"\x26quot;")+'"'),g+"\x3e"+b+"\x3c/"+c+"\x3e"};c.exports=function(b,c){var d={};d[b]=c(f);g(g.P+g.F*k(function(){var c=""[b]('"');return c!==c.toLowerCase()||3<c.split('"').length}),"String",d)}},function(c,e,b){var g=b(56),k=b(25);c.exports=function(b){return g(k(b))}},function(c,e,b){var g=b(57),k=b(42),h=b(16),d=b(28),
f=b(12),l=b(125),n=Object.getOwnPropertyDescriptor;e.f=b(7)?n:function(b,c){if(b=h(b),c=d(c,!0),l)try{return n(b,c)}catch(e){}return f(b,c)?k(!g.f.call(b,c),b[c]):void 0}},function(c,e,b){var g=b(12),k=b(10),h=b(101)("IE_PROTO"),d=Object.prototype;c.exports=Object.getPrototypeOf||function(b){return b=k(b),g(b,h)?b[h]:"function"==typeof b.constructor&&b instanceof b.constructor?b.constructor.prototype:b instanceof Object?d:null}},function(c,e){function b(b,c){var e={},g;for(g in b)0<=c.indexOf(g)||
Object.prototype.hasOwnProperty.call(b,g)&&(e[g]=b[g]);return e}Object.defineProperty(e,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},k={};window.fbLoaded={js:[],css:[]};window.fbEditors={quill:{},tinymce:{}};k.inArray=function(b,c){return-1!==c.indexOf(b)};k.trimObj=function(b){var c=[null,void 0,"",!1,"false"],
e;for(e in b)k.inArray(b[e],c)?delete b[e]:Array.isArray(b[e])&&(b[e].length||delete b[e]);return b};k.validAttr=function(b){return!k.inArray(b,["values","enableOther","other","label","subtype"])};k.attrString=function(b){var c=[],e;for(e in b)b.hasOwnProperty(e)&&k.validAttr(e)&&(e=k.safeAttr(e,b[e]),c.push(e.name+e.value));return c.join(" ")};k.safeAttr=function(b,c){b=k.safeAttrName(b);var e;return c&&(Array.isArray(c)?e=k.escapeAttr(c.join(" ")):("boolean"==typeof c&&(c=c.toString()),e=k.escapeAttr(c.replace(",",
" ").trim()))),c=c?'\x3d"'+e+'"':"",{name:b,value:c}};k.safeAttrName=function(b){return{className:"class"}[b]||k.hyphenCase(b)};k.hyphenCase=function(b){return b=b.replace(/[^\w\s\-]/gi,""),b=b.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()}),b.replace(/\s/g,"-").replace(/^-+/g,"")};k.camelCase=function(b){return b.replace(/-([a-z])/g,function(b,c){return c.toUpperCase()})};k.contentType=function(b){var c=void 0===b?"undefined":g(b);return b instanceof Node||b instanceof HTMLElement?c="node":
Array.isArray(b)&&(c="array"),c};k.bindEvents=function(b,c){if(c)for(var e in c)!function(e){c.hasOwnProperty(e)&&b.addEventListener(e,function(b){return c[e](b)})}(e)};k.nameAttr=function(b){var c=(new Date).getTime();return(b.type||k.hyphenCase(b.label))+"-"+c};k.markup=function(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},g=k.contentType(d),n=e.events,e=b(e,["events"]),p=document.createElement(c),q={string:function(b){p.innerHTML+=
b},object:function(c){var d=c.tag,e=c.content;c=b(c,["tag","content"]);return p.appendChild(k.markup(d,e,c))},node:function(b){return p.appendChild(b)},array:function(b){for(var c=0;c<b.length;c++)g=k.contentType(b[c]),q[g](b[c])},function:function(b){b=b();g=k.contentType(b);q[g](b)},undefined:function(){}},r;for(r in e)if(e.hasOwnProperty(r)){var s=k.safeAttrName(r);p.setAttribute(s,e[r])}return d&&q[g].call(this,d),k.bindEvents(p,n),p};k.parseAttrs=function(b){var c=b.attributes,e={};return k.forEach(c,
function(b){var h=c[b].value||"";h.match(/false|true/g)?h="true"===h:h.match(/undefined/g)&&(h=void 0);h&&(e[c[b].name]=h)}),e};k.parseOptions=function(b){for(var c={},e=[],g=0;g<b.length;g++)c=k.parseAttrs(b[g]),c.label=b[g].textContent,e.push(c);return e};k.parseXML=function(b){var c=(new window.DOMParser).parseFromString(b,"text/xml");b=[];if(c)for(var c=c.getElementsByTagName("field"),e=0;e<c.length;e++){var g=k.parseAttrs(c[e]),n=c[e].getElementsByTagName("option");n&&n.length&&(g.values=k.parseOptions(n));
b.push(g)}return b};k.parsedHtml=function(b){var c=document.createElement("textarea");return c.innerHTML=b,c.textContent};k.escapeHtml=function(b){var c=document.createElement("textarea");return c.textContent=b,c.innerHTML};k.escapeAttr=function(b){var c={'"':"\x26quot;","\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;"};return"string"==typeof b?b.replace(/["&<>]/g,function(b){return c[b]||b}):b};k.escapeAttrs=function(b){for(var c in b)b.hasOwnProperty(c)&&(b[c]=k.escapeAttr(b[c]));return b};k.forEach=
function(b,c,e){for(var g=0;g<b.length;g++)c.call(e,g,b[g])};k.unique=function(b){return b.filter(function(b,c,e){return e.indexOf(b)===c})};k.remove=function(b,c){var e=c.indexOf(b);-1<e&&c.splice(e,1)};k.getScripts=function(b,c){var e=jQuery,g=[];return Array.isArray(b)||(b=[b]),k.isCached(b)||(g=e.map(b,function(b){return e.ajax({dataType:"script",cache:!0,url:(c||"")+b}).done(function(){return window.fbLoaded.js.push(b)})})),g.push(e.Deferred(function(b){return e(b.resolve)})),e.when.apply(e,
g)};k.isCached=function(b){var c=window.fbLoaded[1<arguments.length&&void 0!==arguments[1]?arguments[1]:"js"];return Array.isArray(b)?b.every(function(b){return k.inArray(b,c)}):k.inArray(b,c)};k.getStyles=function(b,c){Array.isArray(b)||(b=[b]);b.forEach(function(b){var e="href",h=b,p="";("object"==(void 0===b?"undefined":g(b))&&(e=b.type||(b.style?"inline":"href"),p=b.id,b="inline"==e?b.style:b.href,h=p||b.href||b.style),k.isCached(h,"css"))||("href"==e?(e=document.createElement("link"),e.type=
"text/css",e.rel="stylesheet",e.href=(c||"")+b,document.head.appendChild(e)):$('\x3cstyle type\x3d"text/css"\x3e'+b+"\x3c/style\x3e").attr("id",p).appendTo($(document.head)),window.fbLoaded.css.push(h))})};k.capitalize=function(b){return b.replace(/\b\w/g,function(b){return b.toUpperCase()})};k.merge=function(b,c){var e=Object.assign({},b,c),l;for(l in c)e.hasOwnProperty(l)&&(e[l]=Array.isArray(c[l])?Array.isArray(b[l])?k.unique(b[l].concat(c[l])):c[l]:"object"===g(c[l])?k.merge(b[l],c[l]):c[l]);
return e};k.addEventListeners=function(b,c,e){return c.split(" ").forEach(function(c){return b.addEventListener(c,e,!1)})};k.closest=function(b,c){for(var e=c.replace(".","");(b=b.parentElement)&&!b.classList.contains(e););return b};k.noop=function(){return null};k.debounce=function(b){var c,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:250,g=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return function(){for(var k=arguments.length,p=Array(k),q=0;q<k;q++)p[q]=arguments[q];var r=
this,k=g&&!c;clearTimeout(c);c=setTimeout(function(){c=null;g||b.apply(r,p)},e);k&&b.apply(r,p)}};k.mobileClass=function(){var b="",c=navigator.userAgent||navigator.vendor||window.opera;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(c)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))&&(b=" fb-mobile");return b};k.makeClassName=function(b){return k.hyphenCase(b.replace(/[^\w\s\-]/gi,""))};k.safename=function(b){return b.replace(/\s/g,"-").replace(/[^a-zA-Z0-9\[\]\_-]/g,"").toLowerCase()};k.forceNumber=function(b){return b.replace(/[^0-9]/g,"")};e.default=k},function(c){var e={}.toString;c.exports=function(b){return e.call(b).slice(8,-1)}},function(c,e,b){var g=b(11);c.exports=function(b,c,d){return g(b),void 0===c?b:1===d?function(d){return b.call(c,d)}:2===d?function(d,e){return b.call(c,
d,e)}:3===d?function(d,e,g){return b.call(c,d,e,g)}:function(){return b.apply(c,arguments)}}},function(c,e,b){var g=b(3);c.exports=function(b,c){return!!b&&g(function(){c?b.call(null,function(){},1):b.call(null)})}},function(c,e,b){var g=b(21),k=b(56),h=b(10),d=b(9),f=b(86);c.exports=function(b,c){var e=1==b,q=4==b,r=6==b,s=c||f;return function(c,f,n){var B,E,u=h(c),D=k(u);f=g(f,n,3);n=d(D.length);var C=0;for(c=e?s(c,n):2==b?s(c,0):void 0;n>C;C++)if((5==b||r||C in D)&&(B=D[C],E=f(B,C,u),b))if(e)c[C]=
E;else if(E)switch(b){case 3:return!0;case 5:return B;case 6:return C;case 2:c.push(B)}else if(q)return!1;return r?-1:3==b||q?q:c}}},function(c){c=c.exports={version:"2.5.0"};"number"==typeof __e&&(__e=c)},function(c){c.exports=function(c){if(void 0==c)throw TypeError("Can't call method on  "+c);return c}},function(c,e,b){var g=b(0),k=b(24),h=b(3);c.exports=function(b,c){var e=(k.Object||{})[b]||Object[b],n={};n[b]=c(e);g(g.S+g.F*h(function(){e(1)}),"Object",n)}},function(c){c.exports=function(c){return isNaN(c=
+c)?0:(0<c?_Mathfloor:_Mathceil)(c)}},function(c,e,b){var g=b(4);c.exports=function(b,c){if(!g(b))return b;var d,e;if(c&&"function"==typeof(d=b.toString)&&!g(e=d.call(b))||"function"==typeof(d=b.valueOf)&&!g(e=d.call(b))||!c&&"function"==typeof(d=b.toString)&&!g(e=d.call(b)))return e;throw TypeError("Can't convert object to primitive value");}},function(c){c.exports=function(c){function b(k){if(g[k])return g[k].exports;var h=g[k]={i:k,l:!1,exports:{}};return c[k].call(h.exports,h,h.exports,b),h.l=
!0,h.exports}var g={};return b.m=c,b.c=g,b.i=function(b){return b},b.d=function(c,e,d){b.o(c,e)||Object.defineProperty(c,e,{configurable:!1,enumerable:!0,get:d})},b.n=function(c){var e=c&&c.__esModule?function(){return c.default}:function(){return c};return b.d(e,"a",e),e},b.o=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)},b.p="",b(b.s=0)}([function(c,b){function g(b){return function(){var c=b.apply(this,arguments);return new Promise(function(b,d){function e(f,h){try{var g=c[f](h),
k=g.value}catch(w){return void d(w)}return g.done?void b(k):Promise.resolve(k).then(function(b){e("next",b)},function(b){e("throw",b)})}return e("next")})}}Object.defineProperty(b,"__esModule",{value:!0});var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},h=function(){function b(c,d){for(var e,f=0;f<d.length;f++)e=d[f],e.enumerable=e.enumerable||
!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(c,e.key,e)}return function(c,d,e){return d&&b(c.prototype,d),e&&b(c,e),c}}(),d=function(){function b(){var c=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d={extension:".lang",location:"assets/lang/",langs:["en-US"],locale:"en-US",preloaded:{}};this.init=function(b){return c.config=Object.assign({},d,b),c.langs=Object.assign({},c.config.preloaded),c.locale=c.config.locale||c.config.langs[0],
c.setCurrent(c.locale)}}return b.prototype.getValue=function(b){return this.current&&this.current[b]||b},b.prototype.makeSafe=function(b){var c={"{":"\\{","}":"\\}","|":"\\|"};return b=b.replace(/\{|\}|\|/g,function(b){return c[b]}),new RegExp(b,"g")},b.prototype.put=function(b,c){return this.current[b]=c},b.prototype.get=function(b,c){var d,e=this.getValue(b),f=e.match(/\{[^\}]+?\}/g);if(c&&f)if("object"===(void 0===c?"undefined":k(c)))for(var h=0;h<f.length;h++)d=f[h].substring(1,f[h].length-1),
e=e.replace(this.makeSafe(f[h]),c[d]||"");else e=e.replace(/\{[^\}]+?\}/g,c);return e},b.prototype.fromFile=function(b){for(var c=b.split("\n"),d={},e=0;e<c.length;e++)if(b=c[e].match(/^(.+?) *?= *?([^\n]+)/)){var f=b[2].replace(/^\s+|\s+$/,"");d[b[1]]=f}return d},b.prototype.processFile=function(b){b=b.replace(/\n\n/g,"\n");return this.fromFile(b)},b.prototype.loadLang=function(b){var c=this;return new Promise(function(d,e){if(c.langs[b])d(c.langs[b]);else{var f=new XMLHttpRequest;f.open("GET",c.config.location+
b+c.config.extension,!0);f.onload=function(){if(304>=this.status){var h=c.processFile(f.responseText);c.langs[b]=h;d(h)}else e({status:this.status,statusText:f.statusText})};f.onerror=function(){e({status:this.status,statusText:f.statusText})};f.send()}})},b.prototype.setCurrent=function(){var b=g(regeneratorRuntime.mark(function p(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en-US";return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.loadLang(b);
case 2:return this.locale=b,this.current=this.langs[b],c.abrupt("return",this.current);case 5:case "end":return c.stop()}},p,this)}));return function(){return b.apply(this,arguments)}}(),h(b,[{key:"getLangs",get:function(){return this.config.langs}}]),b}();b.default=new d}])},function(c,e,b){var g=b(145),k=b(0);e=b(74)("metadata");var h=e.store||(e.store=new (b(148))),d=function(b,c,d){var e=h.get(b);if(!e){if(!d)return;h.set(b,e=new g)}b=e.get(c);if(!b){if(!d)return;e.set(c,b=new g)}return b};c.exports=
{store:h,map:d,has:function(b,c,e){c=d(c,e,!1);return void 0!==c&&c.has(b)},get:function(b,c,e){c=d(c,e,!1);return void 0===c?void 0:c.get(b)},set:function(b,c,e,h){d(e,h,!0).set(b,c)},keys:function(b,c){var e=d(b,c,!1),h=[];return e&&e.forEach(function(b,c){h.push(c)}),h},key:function(b){return void 0===b||"symbol"==typeof b?b:b+""},exp:function(b){k(k.S,"Reflect",b)}}},function(c,e,b){if(b(7)){var g=b(39),k=b(2),h=b(3),d=b(0),f=b(76),l=b(107),n=b(21),p=b(37),q=b(42),r=b(13);e=b(43);var s=b(27),
v=b(9),z=b(143),w=b(45),B=b(28),E=b(12),u=b(55),D=b(4),C=b(10),F=b(93),A=b(40),H=b(18),L=b(41).f,J=b(109),Q=b(46),O=b(5),N=b(23),R=b(62),T=b(75),W=b(110),ba=b(47),qa=b(69),P=b(44),K=b(85),ea=b(117),M=b(8);b=b(17);var ca=M.f,U=b.f,Y=k.RangeError,X=k.TypeError,fa=k.Uint8Array,ga=Array.prototype,ha=l.ArrayBuffer,ja=l.DataView,ya=N(0),Aa=N(2),Ea=N(3),sa=N(4),aa=N(5),t=N(6),Ya=R(!0),Ma=R(!1),Ta=W.values,Fa=W.keys,la=W.entries,za=ga.lastIndexOf,ia=ga.reduce,ma=ga.reduceRight,Ca=ga.join,da=ga.sort,oa=ga.slice,
Ja=ga.toString,cb=ga.toLocaleString,Oa=O("iterator"),va=O("toStringTag"),Ua=Q("typed_constructor"),db=Q("def_constructor"),l=f.CONSTR,Wa=f.TYPED,pb=f.VIEW,ub=N(1,function(b,c){return Bb(T(b,b[db]),c)}),Xa=h(function(){return 1===(new fa((new Uint16Array([1])).buffer))[0]}),ra=!!fa&&!!fa.prototype.set&&h(function(){(new fa(1)).set({})}),ua=function(b,c){var d=s(b);if(0>d||d%c)throw Y("Wrong offset!");return d},xa=function(b){if(D(b)&&Wa in b)return b;throw X(b+" is not a typed array!");},Bb=function(b,
c){if(!(D(b)&&Ua in b))throw X("It is not a typed array constructor!");return new b(c)},mb=function(b,c){return eb(T(b,b[db]),c)},eb=function(b,c){for(var d=0,e=c.length,f=Bb(b,e);e>d;)f[d]=c[d++];return f},N=function(b,c,d){ca(b,c,{get:function(){return this._d[d]}})},$a=function(b){var c,d,e,f,h;e=C(b);d=arguments.length;var g=1<d?arguments[1]:void 0,k=void 0!==g;c=J(e);if(void 0!=c&&!F(c))for(h=c.call(e),e=[],c=0;!(f=h.next()).done;c++)e.push(f.value);k&&2<d&&(g=n(g,arguments[2],2));c=0;d=v(e.length);
for(f=Bb(this,d);d>c;c++)f[c]=k?g(e[c],c):e[c];return f},Pa=function(){for(var b=0,c=arguments.length,d=Bb(this,c);c>b;)d[b]=arguments[b++];return d},xb=!!fa&&h(function(){cb.call(new fa(1))}),Qb=function(){return cb.apply(xb?oa.call(xa(this)):xa(this),arguments)},Kb={copyWithin:function(b,c){return ea.call(xa(this),b,c,2<arguments.length?arguments[2]:void 0)},every:function(b){return sa(xa(this),b,1<arguments.length?arguments[1]:void 0)},fill:function(){return K.apply(xa(this),arguments)},filter:function(b){return mb(this,
Aa(xa(this),b,1<arguments.length?arguments[1]:void 0))},find:function(b){return aa(xa(this),b,1<arguments.length?arguments[1]:void 0)},findIndex:function(b){return t(xa(this),b,1<arguments.length?arguments[1]:void 0)},forEach:function(b){ya(xa(this),b,1<arguments.length?arguments[1]:void 0)},indexOf:function(b){return Ma(xa(this),b,1<arguments.length?arguments[1]:void 0)},includes:function(b){return Ya(xa(this),b,1<arguments.length?arguments[1]:void 0)},join:function(){return Ca.apply(xa(this),arguments)},
lastIndexOf:function(){return za.apply(xa(this),arguments)},map:function(b){return ub(xa(this),b,1<arguments.length?arguments[1]:void 0)},reduce:function(){return ia.apply(xa(this),arguments)},reduceRight:function(){return ma.apply(xa(this),arguments)},reverse:function(){for(var b,c=xa(this).length,d=_Mathfloor(c/2),e=0;e<d;)b=this[e],this[e++]=this[--c],this[c]=b;return this},some:function(b){return Ea(xa(this),b,1<arguments.length?arguments[1]:void 0)},sort:function(b){return da.call(xa(this),b)},
subarray:function(b,c){var d=xa(this),e=d.length,f=w(b,e);return new (T(d,d[db]))(d.buffer,d.byteOffset+f*d.BYTES_PER_ELEMENT,v((void 0===c?e:w(c,e))-f))}},vb=function(b,c){return mb(this,oa.call(xa(this),b,c))},nb=function(b,c){xa(this);var d=ua(c,1),e=this.length,f=C(b),h=v(f.length),g=0;if(h+d>e)throw Y("Wrong length!");for(;g<h;)this[d+g]=f[g++]},hb={entries:function(){return la.call(xa(this))},keys:function(){return Fa.call(xa(this))},values:function(){return Ta.call(xa(this))}},rb=function(b,
c){return D(b)&&b[Wa]&&"symbol"!=typeof c&&c in b&&+c+""==c+""},Q=function(b,c){return rb(b,c=B(c,!0))?q(2,b[c]):U(b,c)},O=function(b,c,d){return!(rb(b,c=B(c,!0))&&D(d)&&E(d,"value"))||E(d,"get")||E(d,"set")||d.configurable||E(d,"writable")&&!d.writable||E(d,"enumerable")&&!d.enumerable?ca(b,c,d):(b[c]=d.value,b)};l||(b.f=Q,M.f=O);d(d.S+d.F*!l,"Object",{getOwnPropertyDescriptor:Q,defineProperty:O});h(function(){Ja.call({})})&&(Ja=cb=function(){return Ca.call(this)});var fb=e({},Kb);e(fb,hb);r(fb,
Oa,hb.values);e(fb,{slice:vb,set:nb,constructor:function(){},toString:Ja,toLocaleString:Qb});N(fb,"buffer","b");N(fb,"byteOffset","o");N(fb,"byteLength","l");N(fb,"length","e");ca(fb,va,{get:function(){return this[Wa]}});c.exports=function(b,c,e,l){l=!!l;var n=b+(l?"Clamped":"")+"Array",q=k[n],s=q||{},t=q&&H(q),w={},B=q&&q.prototype,C=function(d,e){ca(d,e,{get:function(){var d=this._d;return d.v["get"+b](e*c+d.o,Xa)},set:function(d){var f=this._d;l&&(d=0>(d=Math.round(d))?0:255<d?255:255&d);f.v["set"+
b](e*c+f.o,d,Xa)},enumerable:!0})};q&&f.ABV?h(function(){q(1)})&&h(function(){new q(-1)})&&qa(function(b){new q;new q(null);new q(1.5);new q(b)},!0)||(q=e(function(b,d,e,f){p(b,q,n);var h;return D(d)?d instanceof ha||"ArrayBuffer"==(h=u(d))||"SharedArrayBuffer"==h?void 0===f?void 0===e?new s(d):new s(d,ua(e,c)):new s(d,ua(e,c),f):Wa in d?eb(q,d):$a.call(q,d):new s(z(d))}),ya(t===Function.prototype?L(s):L(s).concat(L(t)),function(b){b in q||r(q,b,s[b])}),q.prototype=B,g||(B.constructor=q)):(q=e(function(b,
d,e,f){p(b,q,n,"_d");var h,g=0,k=0;if(D(d)){if(!(d instanceof ha||"ArrayBuffer"==(h=u(d))||"SharedArrayBuffer"==h))return Wa in d?eb(q,d):$a.call(q,d);h=d;k=ua(e,c);d=d.byteLength;if(void 0===f){if(d%c)throw Y("Wrong length!");if(0>(f=d-k))throw Y("Wrong length!");}else if((f=v(f)*c)+k>d)throw Y("Wrong length!");d=f/c}else d=z(d),f=d*c,h=new ha(f);for(r(b,"_d",{b:h,o:k,l:f,e:d,v:new ja(h)});g<d;)C(b,g++)}),B=q.prototype=A(fb),r(B,"constructor",q));e=B[Oa];var t=!!e&&("values"==e.name||void 0==e.name),
F=hb.values;r(q,Ua,!0);r(B,Wa,n);r(B,pb,!0);r(B,db,q);(l?(new q(1))[va]==n:va in B)||ca(B,va,{get:function(){return n}});w[n]=q;d(d.G+d.W+d.F*(q!=s),w);d(d.S,n,{BYTES_PER_ELEMENT:c});d(d.S+d.F*h(function(){s.of.call(q,1)}),n,{from:$a,of:Pa});"BYTES_PER_ELEMENT"in B||r(B,"BYTES_PER_ELEMENT",c);d(d.P,n,Kb);P(n);d(d.P+d.F*ra,n,{set:nb});d(d.P+d.F*!t,n,hb);g||B.toString==Ja||(B.toString=Ja);d(d.P+d.F*h(function(){(new q(1)).slice()}),n,{slice:vb});d(d.P+d.F*(h(function(){return[1,2].toLocaleString()!=
(new q([1,2])).toLocaleString()})||!h(function(){B.toLocaleString.call([1,2])})),n,{toLocaleString:Qb});ba[n]=t?e:F;g||t||r(B,Oa,F)}}else c.exports=function(){}},function(c,e,b){var g=b(5)("unscopables"),k=Array.prototype;void 0==k[g]&&b(13)(k,g,{});c.exports=function(b){k[g][b]=!0}},function(c,e,b){var g=b(46)("meta"),k=b(4),h=b(12),d=b(8).f,f=0,l=Object.isExtensible||function(){return!0},n=!b(3)(function(){return l(Object.preventExtensions({}))}),p=function(b){d(b,g,{value:{i:"O"+ ++f,w:{}}})},
q=c.exports={KEY:g,NEED:!1,fastKey:function(b,c){if(!k(b))return"symbol"==typeof b?b:("string"==typeof b?"S":"P")+b;if(!h(b,g)){if(!l(b))return"F";if(!c)return"E";p(b)}return b[g].i},getWeak:function(b,c){if(!h(b,g)){if(!l(b))return!0;if(!c)return!1;p(b)}return b[g].w},onFreeze:function(b){return n&&q.NEED&&l(b)&&!h(b,g)&&p(b),b}}},function(c,e,b){var g=b(135),k=b(89);c.exports=Object.keys||function(b){return g(b,k)}},function(c,e,b){function g(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}Object.defineProperty(e,"__esModule",{value:!0});var k=function(){function b(c,d){for(var e,f=0;f<d.length;f++)e=d[f],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(c,e.key,e)}return function(c,d,e){return d&&b(c.prototype,d),e&&b(c,e),c}}(),h=(c=b(6))&&c.__esModule?
c:{default:c},d=(b=b(29))&&b.__esModule?b:{default:b};b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var d=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?this:d}return g(c,b),c.register=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
[];c.def||(c.def={icon:{},i18n:{}});c.templates=b;var f=d.default.locale;c.def.i18n[f]||(c.def.i18n[f]={});h.default.register(Object.keys(b),c);for(var g=Array.isArray(e),k=0,e=g?e:e[Symbol.iterator]();;){var v;if(g){if(k>=e.length)break;v=e[k++]}else{if(k=e.next(),k.done)break;v=k.value}var z=v.type;if(v.attrs=v.attrs||{},!z){if(!v.attrs.type){this.error("Ignoring invalid custom field definition. Please specify a type property.");continue}z=v.attrs.type}var w=v.subtype||z;if(!b[z]){var B=h.default.getClass(z,
v.subtype);if(!B){this.error("Error while registering custom field: "+z+(v.subtype?":"+v.subtype:"")+". Unable to find any existing defined control or template for rendering.");continue}w=z+"-"+_Mathfloor(9E3*Math.random()+1E3);c.customRegister[w]=$.extend(v,{type:z,class:B})}c.def.i18n[f][w]=v.label;c.def.icon[w]=v.icon}},c.getRegistered=function(){var b=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return b?h.default.getRegistered(b):Object.keys(c.customRegister)},c.lookup=function(b){return c.customRegister[b]},
c.prototype.build=function(){var b=c.templates[this.type];if(!b)return this.error("Invalid custom control type. Please ensure you have registered it correctly as a template option.");for(var d=Object.assign(this.config),e="label description subtype id isPreview required title aria-required type".split(" "),f=Array.isArray(e),h=0,e=f?e:e[Symbol.iterator]();;){var g;if(f){if(h>=e.length)break;g=e[h++]}else{if(h=e.next(),h.done)break;g=h.value}d[g]=this.config[g]||this[g]}return b=b.bind(this),b=b(d),
b.js&&(this.js=b.js),b.css&&(this.css=b.css),this.onRender=b.onRender,{field:b.field,layout:b.layout}},k(c,null,[{key:"definition",get:function(){return c.def}}]),c}(h.default);e.default=b;b.customRegister={}},function(c,e,b){function g(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
c):b.__proto__=c)}Object.defineProperty(e,"__esModule",{value:!0});var k=function(){function b(c,e){for(var h,g=0;g<e.length;g++)h=e[g],h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}return function(c,e,g){return e&&b(c.prototype,e),g&&b(c,g),c}}();c=(c=b(6))&&c.__esModule?c:{default:c};b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var e=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!e||"object"!=typeof e&&"function"!=typeof e?this:e}return g(c,b),c.prototype.build=function(){var b=this.config,c=b.value,c=void 0===c?"":c,d=["value"],e={},h;for(h in b)0<=d.indexOf(h)||Object.prototype.hasOwnProperty.call(b,h)&&(e[h]=b[h]);return this.field=this.markup("textarea",this.parsedHtml(c),e),this.field},c.prototype.on=function(c){var d=this;return"prerender"==c&&this.preview?function(b){d.field&&(b=d.field);$(b).on("mousedown",function(b){b.stopPropagation()})}:b.prototype.on.call(this,
c)},k(c,null,[{key:"definition",get:function(){return{mi18n:{textarea:"textArea"}}}}]),c}(c.default);e.default=b;c.default.register("textarea",b);c.default.register("textarea",b,"textarea")},function(c){c.exports=function(c,b,g,k){if(!(c instanceof b)||void 0!==k&&k in c)throw TypeError(g+": incorrect invocation!");return c}},function(c,e,b){var g=b(21),k=b(127),h=b(93),d=b(1),f=b(9),l=b(109),n={},p={};e=c.exports=function(b,c,e,v,z){var w,B;z=z?function(){return b}:l(b);e=g(e,v,c?2:1);v=0;if("function"!=
typeof z)throw TypeError(b+" is not iterable!");if(h(z))for(z=f(b.length);z>v;v++){if((B=c?e(d(w=b[v])[0],w[1]):e(b[v]))===n||B===p)return B}else for(z=z.call(b);!(w=z.next()).done;)if((B=k(z,e,w.value,c))===n||B===p)return B};e.BREAK=n;e.RETURN=p},function(c){c.exports=!1},function(c,e,b){var g=b(1),k=b(133),h=b(89),d=b(101)("IE_PROTO"),f=function(){},l=function(){var c;c=b(88)("iframe");var d=h.length;c.style.display="none";b(91).appendChild(c);c.src="javascript:";c=c.contentWindow.document;c.open();
c.write("\x3cscript\x3edocument.F\x3dObject\x3c/script\x3e");c.close();for(l=c.F;d--;)delete l.prototype[h[d]];return l()};c.exports=Object.create||function(b,c){var e;return null===b?e=l():(f.prototype=g(b),e=new f,f.prototype=null,e[d]=b),void 0===c?e:k(e,c)}},function(c,e,b){var g=b(135),k=b(89).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(b){return g(b,k)}},function(c){c.exports=function(c,b){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:b}}},function(c,
e,b){var g=b(14);c.exports=function(b,c,d){for(var e in c)g(b,e,c[e],d);return b}},function(c,e,b){var g=b(2),k=b(8),h=b(7),d=b(5)("species");c.exports=function(b){b=g[b];h&&b&&!b[d]&&k.f(b,d,{configurable:!0,get:function(){return this}})}},function(c,e,b){var g=b(27);c.exports=function(b,c){return b=g(b),0>b?_Mathmax(b+c,0):_Mathmin(b,c)}},function(c){var e=0,b=Math.random();c.exports=function(c){return"Symbol(".concat(void 0===c?"":c,")_",(++e+b).toString(36))}},function(c){c.exports={}},function(c,
e,b){var g=b(8).f,k=b(12),h=b(5)("toStringTag");c.exports=function(b,c,e){b&&!k(b=e?b:b.prototype,h)&&g(b,h,{configurable:!0,value:c})}},function(c,e,b){var g=b(0),k=b(25),h=b(3),d=b(105);e="["+d+"]";var f=RegExp("^"+e+e+"*"),l=RegExp(e+e+"*$");e=function(b,c,e){var f={},k=h(function(){return!!d[b]()||""!=""[b]()});c=f[b]=k?c(n):d[b];e&&(f[e]=c);g(g.P+g.F*k,"String",f)};var n=e.trim=function(b,c){return b=k(b)+"",1&c&&(b=b.replace(f,"")),2&c&&(b=b.replace(l,"")),b};c.exports=e},function(c,e,b){var g=
b(4);c.exports=function(b,c){if(!g(b)||b._t!==c)throw TypeError("Incompatible receiver, "+c+" required!");return b}},function(c,e){Object.defineProperty(e,"__esModule",{value:!0});var b=e.instanceDom={},g=e.defaultSubtypes={text:["text","password","email","color","tel"],header:["h1","h2","h3"],button:["button","submit","reset"],paragraph:["p","address","blockquote","canvas","output"],textarea:["textarea","quill"]},k=(e.remove=function(b){b.parentNode&&b.parentNode.removeChild(b)},e.empty=function(b){for(;b.firstChild;)b.removeChild(b.firstChild);
return b}),h=e.filter=function(b,c){var d=[],e=["none","block"];2<arguments.length&&void 0!==arguments[2]&&!arguments[2]||(e=e.reverse());for(var f,h=b.length-1;0<=h;h--)f=b[h].textContent.toLowerCase(),-1===f.indexOf(c.toLowerCase())?b[h].style.display=e[1]:(b[h].style.display=e[0],d.push(b[h]));return d},d=e.optionFields=["select","checkbox-group","checkbox","radio-group","autocomplete"],f=e.optionFieldsRegEx=new RegExp("("+d.join("|")+")");e.default=function n(c){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");
return this.optionFields=d,this.optionFieldsRegEx=f,this.subtypes=g,this.empty=k,this.filter=h,b[c]=this,b[c]}},function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.defaultOptions={controlPosition:"right",append:!1,actionButtons:[],controlOrder:"autocomplete button checkbox checkbox-group date file header hidden paragraph number radio-group select text textarea".split(" "),dataType:"json",disableFields:[],disabledAttrs:[],disabledActionButtons:[],disabledFieldButtons:{},editOnAdd:!1,defaultFields:[],
fields:[],fieldRemoveWarn:!1,inputSets:[],replaceFields:[],roles:{1:"Administrator"},notify:{error:function(b){return console.error(b)},success:function(b){},warning:function(b){return console.warn(b)}},onSave:function(){return null},onClearAll:function(){return null},prepend:!1,sortableControls:!1,stickyControls:{enable:!0,offset:{top:5,bottom:"auto",right:"auto"}},templates:{},showActionButtons:!0,typeUserDisabledAttrs:{},typeUserAttrs:{},typeUserEvents:{},prefix:"form-builder-"};e.styles={btn:"default danger info primary success warning".split(" ")};
e.defaultI18n={location:"https://formbuilder.online/assets/lang/",langs:["en-US"],preloaded:{"en-US":{addOption:"Add Option +",allFieldsRemoved:"All fields were removed.",allowMultipleFiles:"Allow users to upload multiple files",autocomplete:"Autocomplete",button:"Button",cannotBeEmpty:"This field cannot be empty",checkboxGroup:"Checkbox Group",checkbox:"Checkbox",checkboxes:"Checkboxes",className:"Class",clearAllMessage:"Are you sure you want to clear all fields?",clear:"Clear",close:"Close",content:"Content",
copy:"Copy To Clipboard",copyButton:"\x26#43;",copyButtonTooltip:"Copy",dateField:"Date Field",description:"Help Text",descriptionField:"Description",devMode:"Developer Mode",editNames:"Edit Names",editorTitle:"Form Elements",editXML:"Edit XML",enableOther:"Enable \x26quot;Other\x26quot;",enableOtherMsg:"Let users to enter an unlisted option",fieldNonEditable:"This field cannot be edited.",fieldRemoveWarning:"Are you sure you want to remove this field?",fileUpload:"File Upload",formUpdated:"Form Updated",
getStarted:"Drag a field from the right to this area",header:"Header",hide:"Edit",hidden:"Hidden Input",inline:"Inline",inlineDesc:"Display {type} inline",label:"Label",labelEmpty:"Field Label cannot be empty",limitRole:"Limit access to one or more of the following roles:",mandatory:"Mandatory",maxlength:"Max Length",minOptionMessage:"This field requires a minimum of 2 options",minSelectionRequired:"Minimum {min} selections required",multipleFiles:"Multiple Files",name:"Name",no:"No",noFieldsToClear:"There are no fields to clear",
number:"Number",off:"Off",on:"On",option:"Option",options:"Options",optional:"optional",optionLabelPlaceholder:"Label",optionValuePlaceholder:"Value",optionEmpty:"Option value required",other:"Other",paragraph:"Paragraph",placeholder:"Placeholder","placeholder.value":"Value","placeholder.label":"Label","placeholder.text":"","placeholder.textarea":"","placeholder.email":"Enter you email","placeholder.placeholder":"","placeholder.className":"space separated classes","placeholder.password":"Enter your password",
preview:"Preview",radioGroup:"Radio Group",radio:"Radio",removeMessage:"Remove Element",removeOption:"Remove Option",remove:"\x26#215;",required:"Required",richText:"Rich Text Editor",roles:"Access",rows:"Rows",save:"Save",selectOptions:"Options",select:"Select",selectColor:"Select Color",selectionsMessage:"Allow Multiple Selections",size:"Size","size.xs":"Extra Small","size.sm":"Small","size.m":"Default","size.lg":"Large",style:"Style","styles.btn.default":"Default","styles.btn.danger":"Danger",
"styles.btn.info":"Info","styles.btn.primary":"Primary","styles.btn.success":"Success","styles.btn.warning":"Warning",subtype:"Type",text:"Text Field",textArea:"Text Area",toggle:"Toggle",warning:"Warning!",value:"Value",viewJSON:"{  }",viewXML:"\x26lt;/\x26gt;",yes:"Yes"}}};e.config={}},function(c,e){function b(b){var c;return"function"==typeof Event?c=new Event(b):(c=document.createEvent("Event"),c.initEvent(b,!0,!0)),c}Object.defineProperty(e,"__esModule",{value:!0});var g={loaded:b("loaded"),
viewData:b("viewData"),userDeclined:b("userDeclined"),modalClosed:b("modalClosed"),modalOpened:b("modalOpened"),formSaved:b("formSaved"),fieldAdded:b("fieldAdded"),fieldRemoved:b("fieldRemoved"),fieldRendered:b("fieldRendered")};e.default=g},function(c,e,b){function g(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});
c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}Object.defineProperty(e,"__esModule",{value:!0});var k=function(){function b(c,e){for(var h,g=0;g<e.length;g++)h=e[g],h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}return function(c,e,g){return e&&b(c.prototype,e),g&&b(c,g),c}}();c=(c=b(6))&&c.__esModule?c:{default:c};b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var e=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?this:e}return g(c,b),c.prototype.build=function(){return this.markup("input",null,this.config)},k(c,null,[{key:"definition",get:function(){return{mi18n:{date:"dateField",file:"fileUpload"}}}}]),c}(c.default);e.default=b;c.default.register(["text","file","date","number"],b);c.default.register(["text","password","email","color",
"tel"],b,"text")},function(c,e,b){var g=b(20),k=b(5)("toStringTag"),h="Arguments"==g(function(){return arguments}());c.exports=function(b){var c,e;if(void 0===b)c="Undefined";else{var n;if(null===b)n="Null";else{a:{var p=b=Object(b);try{n=p[k];break a}catch(q){}n=void 0}n="string"==typeof(c=n)?c:h?g(b):"Object"==(e=g(b))&&"function"==typeof b.callee?"Arguments":e}c=n}return c}},function(c,e,b){var g=b(20);c.exports=Object("z").propertyIsEnumerable(0)?Object:function(b){return"String"==g(b)?b.split(""):
Object(b)}},function(c,e){e.f={}.propertyIsEnumerable},function(c){var e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(b){"object"==typeof window&&(e=window)}c.exports=e},function(c,e,b){function g(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(e,"__esModule",{value:!0});c=b(77);c=g(c);var k=b(78),k=g(k),h=b(35),h=g(h),d=b(80),d=g(d),f=b(81),f=g(f),l=b(82),l=g(l),n=b(54),n=g(n),p=b(79),p=g(p),q=b(36),q=g(q),r=b(84),r=g(r);b=b(83);b=g(b);e.default=
{controlAutocomplete:c.default,controlButton:k.default,controlCustom:h.default,controlHidden:d.default,controlParagraph:f.default,controlSelect:l.default,controlText:n.default,controlFineUploader:p.default,controlTextarea:q.default,controlTinymce:r.default,controlQuill:b.default}},function(c,e,b){Object.defineProperty(e,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===
Symbol&&b!==Symbol.prototype?"symbol":typeof b},k=(c=b(19))&&c.__esModule?c:{default:c};c=function(){function b(c,e){var g=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.preview=e;this.templates={label:null,help:null,default:function(b,c,d,e){d&&c.appendChild(d);return g.markup("div",[c,b],{className:e.id?"fb-"+e.type+" form-group field-"+e.id:""})},noLabel:function(b,c,d,e){return g.markup("div",b,{className:e.id?"fb-"+e.type+" form-group field-"+e.id:
""})},hidden:function(b){return b}};c&&(this.templates=$.extend(this.templates,c));this.configure()}return b.prototype.configure=function(){},b.prototype.build=function(b,c,e){this.preview&&(c.name?c.name+="-preview":c.name=k.default.nameAttr(c)+"-preview");c.id=c.name;this.data=$.extend({},c);b=new b(c,this.preview);c=b.build();"object"===(void 0===c?"undefined":g(c))&&c.field||(c={field:c});var h=this.label(),p=this.help();e=e&&this.isTemplate(e)?e:this.isTemplate(c.layout)?c.layout:"default";e=
this.processTemplate(e,c.field,h,p);return b.on("prerender")(e),e.addEventListener("fieldRendered",b.on("render")),e},b.prototype.label=function(){var b=[k.default.parsedHtml(this.data.label||"")];return this.data.required&&b.push(this.markup("span","*",{className:"fb-required"})),this.isTemplate("label")?this.processTemplate("label",b):this.markup("label",b,{for:this.data.id,className:"fb-"+this.data.type+"-label"})},b.prototype.help=function(){return this.data.description?this.isTemplate("help")?
this.processTemplate("help",this.data.description):this.markup("span","?",{className:"tooltip-element",tooltip:this.data.description}):null},b.prototype.isTemplate=function(b){return"function"==typeof this.templates[b]},b.prototype.processTemplate=function(b){for(var c,e=arguments.length,h=Array(1<e?e-1:0),g=1;g<e;g++)h[g-1]=arguments[g];e=(c=this.templates)[b].apply(c,h.concat([this.data]));return e.jquery&&(e=e[0]),e},b.prototype.markup=function(b){return k.default.markup(b,1<arguments.length&&
void 0!==arguments[1]?arguments[1]:"",2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})},b}();e.default=c},function(c,e,b){(function(b,e){!function(b){function d(b,c,d,e){c=Object.create((c||g).prototype);e=new B(e||[]);return c._invoke=v(b,d,e),c}function f(b,c,d){try{return{type:"normal",arg:b.call(c,d)}}catch(e){return{type:"throw",arg:e}}}function g(){}function n(){}function p(){}function q(b){["next","throw","return"].forEach(function(c){b[c]=function(b){return this._invoke(c,b)}})}
function r(b){this.arg=b}function s(b){function c(d,e){var g=b[d](e),k=g.value;return k instanceof r?Promise.resolve(k.arg).then(f,h):Promise.resolve(k).then(function(b){return g.value=b,g})}"object"==typeof e&&e.domain&&(c=e.domain.bind(c));var d,f=c.bind(b,"next"),h=c.bind(b,"throw");c.bind(b,"return");this._invoke=function(b,e){function f(){return c(b,e)}return d=d?d.then(f,f):new Promise(function(b){b(f())})}}function v(b,c,d){var e=L;return function(h,g){if(e==Q)throw Error("Generator is already running");
if(e==O){if("throw"===h)throw g;return u()}for(;;){var k=d.delegate;if(k){if("return"===h||"throw"===h&&k.iterator[h]===D){d.delegate=null;var l=k.iterator.return;if(l&&(l=f(l,k.iterator,g),"throw"===l.type)){h="throw";g=l.arg;continue}if("return"===h)continue}l=f(k.iterator[h],k.iterator,g);if("throw"===l.type){d.delegate=null;h="throw";g=l.arg;continue}h="next";g=D;var n=l.arg;if(!n.done)return e=J,n;d[k.resultName]=n.value;d.next=k.nextLoc;d.delegate=null}if("next"===h)d._sent=g,d.sent=e==J?g:
D;else if("throw"===h){if(e==L)throw e=O,g;d.dispatchException(g)&&(h="next",g=D)}else"return"===h&&d.abrupt("return",g);e=Q;l=f(b,c,d);if("normal"===l.type){e=d.done?O:J;n={value:l.arg,done:d.done};if(l.arg!==N)return n;d.delegate&&"next"===h&&(g=D)}else"throw"===l.type&&(e=O,h="throw",g=l.arg)}}}function z(b){var c={tryLoc:b[0]};1 in b&&(c.catchLoc=b[1]);2 in b&&(c.finallyLoc=b[2],c.afterLoc=b[3]);this.tryEntries.push(c)}function w(b){var c=b.completion||{};c.type="normal";delete c.arg;b.completion=
c}function B(b){this.tryEntries=[{tryLoc:"root"}];b.forEach(z,this);this.reset(!0)}function E(b){if(b){var c=b[F];if(c)return c.call(b);if("function"==typeof b.next)return b;if(!isNaN(b.length)){var d=-1,c=function P(){for(;++d<b.length;)if(C.call(b,d))return P.value=b[d],P.done=!1,P;return P.value=D,P.done=!0,P};return c.next=c}}return{next:u}}function u(){return{value:D,done:!0}}var D,C=Object.prototype.hasOwnProperty,F="function"==typeof Symbol&&Symbol.iterator||"@@iterator",A="object"==typeof c,
H=b.regeneratorRuntime;if(H)return void(A&&(c.exports=H));H=b.regeneratorRuntime=A?c.exports:{};H.wrap=d;var L="suspendedStart",J="suspendedYield",Q="executing",O="completed",N={},R=p.prototype=g.prototype;n.prototype=R.constructor=p;p.constructor=n;n.displayName="GeneratorFunction";H.isGeneratorFunction=function(b){b="function"==typeof b&&b.constructor;return!!b&&(b===n||"GeneratorFunction"===(b.displayName||b.name))};H.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=
p,b.prototype=Object.create(R),b};H.awrap=function(b){return new r(b)};q(s.prototype);H.async=function(b,c,e,f){var h=new s(d(b,c,e,f));return H.isGeneratorFunction(c)?h:h.next().then(function(b){return b.done?b.value:h.next()})};q(R);R[F]=function(){return this};R.toString=function(){return"[object Generator]"};H.keys=function(b){var c=[],d;for(d in b)c.push(d);return c.reverse(),function P(){for(;c.length;){var d=c.pop();if(d in b)return P.value=d,P.done=!1,P}return P.done=!0,P}};H.values=E;B.prototype=
{constructor:B,reset:function(b){if(this.prev=0,this.next=0,this.sent=D,this.done=!1,this.delegate=null,this.tryEntries.forEach(w),!b)for(var c in this)"t"===c.charAt(0)&&C.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=D)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(b){function c(e,f){return h.type="throw",h.arg=b,d.next=e,!!f}if(this.done)throw b;for(var d=this,e=this.tryEntries.length-1;0<=e;--e){var f=
this.tryEntries[e],h=f.completion;if("root"===f.tryLoc)return c("end");if(f.tryLoc<=this.prev){var g=C.call(f,"catchLoc"),k=C.call(f,"finallyLoc");if(g&&k){if(this.prev<f.catchLoc)return c(f.catchLoc,!0);if(this.prev<f.finallyLoc)return c(f.finallyLoc)}else if(g){if(this.prev<f.catchLoc)return c(f.catchLoc,!0)}else{if(!k)throw Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return c(f.finallyLoc)}}}},abrupt:function(b,c){for(var d,e=this.tryEntries.length-1;0<=e;--e)if(d=
this.tryEntries[e],d.tryLoc<=this.prev&&C.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var f=d;break}f&&("break"===b||"continue"===b)&&f.tryLoc<=c&&c<=f.finallyLoc&&(f=null);d=f?f.completion:{};return d.type=b,d.arg=c,f?this.next=f.finallyLoc:this.complete(d),N},complete:function(b,c){if("throw"===b.type)throw b.arg;"break"===b.type||"continue"===b.type?this.next=b.arg:"return"===b.type?(this.rval=b.arg,this.next="end"):"normal"===b.type&&c&&(this.next=c)},finish:function(b){for(var c,d=this.tryEntries.length-
1;0<=d;--d)if(c=this.tryEntries[d],c.finallyLoc===b)return this.complete(c.completion,c.afterLoc),w(c),N},catch:function(b){for(var c,d=this.tryEntries.length-1;0<=d;--d)if(c=this.tryEntries[d],c.tryLoc===b){b=c.completion;if("throw"===b.type){var e=b.arg;w(c)}return e}throw Error("illegal catch attempt");},delegateYield:function(b,c,d){return this.delegate={iterator:E(b),resultName:c,nextLoc:d},N}}}("object"==typeof b?b:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,b(58),
b(112))},function(c,e,b){var g=b(16),k=b(9),h=b(45);c.exports=function(b){return function(c,e,n){var p;c=g(c);var q=k(c.length);n=h(n,q);if(b&&e!=e)for(;q>n;){if((p=c[n++])!=p)return!0}else for(;q>n;n++)if((b||n in c)&&c[n]===e)return b||n||0;return!b&&-1}}},function(c,e,b){var g=b(2),k=b(0),h=b(14),d=b(43),f=b(33),l=b(38),n=b(37),p=b(4),q=b(3),r=b(69),s=b(48),v=b(92);c.exports=function(b,c,e,E,u,D){var C=g[b],F=C,A=u?"set":"add",H=F&&F.prototype,L={},J=function(b){var c=H[b];h(H,b,"delete"==b?function(b){return!(D&&
!p(b))&&c.call(this,0===b?0:b)}:"has"==b?function(b){return!(D&&!p(b))&&c.call(this,0===b?0:b)}:"get"==b?function(b){return D&&!p(b)?void 0:c.call(this,0===b?0:b)}:"add"==b?function(b){return c.call(this,0===b?0:b),this}:function(b,d){return c.call(this,0===b?0:b,d),this})};if("function"==typeof F&&(D||H.forEach&&!q(function(){(new F).entries().next()}))){var Q=new F;e=Q[A](D?{}:-0,1)!=Q;var O=q(function(){Q.has(1)}),N=r(function(b){new F(b)}),R=!D&&q(function(){for(var b=new F,c=5;c--;)b[A](c,c);
return!b.has(-0)});N||(F=c(function(c,d){n(c,F,b);var e=v(new C,c,F);return void 0!=d&&l(d,u,e[A],e),e}),F.prototype=H,H.constructor=F);(O||R)&&(J("delete"),J("has"),u&&J("get"));(R||e)&&J(A);D&&H.clear&&delete H.clear}else F=E.getConstructor(c,b,u,A),d(F.prototype,e),f.NEED=!0;return s(F,b),L[b]=F,k(k.G+k.W+k.F*(F!=C),L),D||E.setStrong(F,b,u),F}},function(c,e,b){var g=b(13),k=b(14),h=b(3),d=b(25),f=b(5);c.exports=function(b,c,e){var q=f(b);e=e(d,q,""[b]);var r=e[0],s=e[1];h(function(){var c={};return c[q]=
function(){return 7},7!=""[b](c)})&&(k(String.prototype,b,r),g(RegExp.prototype,q,2==c?function(b,c){return s.call(b,this,c)}:function(b){return s.call(b,this)}))}},function(c,e,b){var g=b(1);c.exports=function(){var b=g(this),c="";return b.global&&(c+="g"),b.ignoreCase&&(c+="i"),b.multiline&&(c+="m"),b.unicode&&(c+="u"),b.sticky&&(c+="y"),c}},function(c){c.exports=function(c,b,g){var k=void 0===g;switch(b.length){case 0:return k?c():c.call(g);case 1:return k?c(b[0]):c.call(g,b[0]);case 2:return k?
c(b[0],b[1]):c.call(g,b[0],b[1]);case 3:return k?c(b[0],b[1],b[2]):c.call(g,b[0],b[1],b[2]);case 4:return k?c(b[0],b[1],b[2],b[3]):c.call(g,b[0],b[1],b[2],b[3])}return c.apply(g,b)}},function(c,e,b){var g=b(20);c.exports=Array.isArray||function(b){return"Array"==g(b)}},function(c,e,b){var g=b(4),k=b(20),h=b(5)("match");c.exports=function(b){var c;return g(b)&&(void 0===(c=b[h])?"RegExp"==k(b):!!c)}},function(c,e,b){var g=b(5)("iterator"),k=!1;try{var h=[7][g]();h.return=function(){k=!0};Array.from(h,
function(){throw 2;})}catch(d){}c.exports=function(b,c){if(!c&&!k)return!1;var d=!1;try{var e=[7],h=e[g]();h.next=function(){return{done:d=!0}};e[g]=function(){return h};b(e)}catch(r){}return d}},function(c,e,b){c.exports=b(39)||!b(3)(function(){var c=Math.random();__defineSetter__.call(null,c,function(){});delete b(2)[c]})},function(c,e){e.f=Object.getOwnPropertySymbols},function(c,e,b){var g=b(0),k=b(11),h=b(21),d=b(38);c.exports=function(b){g(g.S,b,{from:function(b,c,e){var f,g,s,v;return k(this),
f=void 0!==c,f&&k(c),void 0==b?new this:(g=[],f?(s=0,v=h(c,e,2),d(b,!1,function(b){g.push(v(b,s++))})):d(b,!1,g.push,g),new this(g))}})}},function(c,e,b){var g=b(0);c.exports=function(b){g(g.S,b,{of:function(){for(var b=arguments.length,c=Array(b);b--;)c[b]=arguments[b];return new this(c)}})}},function(c,e,b){e=b(2);var g=e["__core-js_shared__"]||(e["__core-js_shared__"]={});c.exports=function(b){return g[b]||(g[b]={})}},function(c,e,b){var g=b(1),k=b(11),h=b(5)("species");c.exports=function(b,c){var e,
n=g(b).constructor;return void 0===n||void 0==(e=g(n)[h])?c:k(e)}},function(c,e,b){var g;e=b(2);var k=b(13),h=b(46);b=h("typed_array");for(var h=h("view"),d=!(!e.ArrayBuffer||!e.DataView),f=d,l=0,n="Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" ");9>l;)(g=e[n[l++]])?(k(g.prototype,b,!0),k(g.prototype,h,!0)):f=!1;c.exports={ABV:d,CONSTR:f,TYPED:b,VIEW:h}},function(c,e,b){function g(b,c){var e={},h;for(h in b)0<=c.indexOf(h)||
Object.prototype.hasOwnProperty.call(b,h)&&(e[h]=b[h]);return e}function k(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}Object.defineProperty(e,"__esModule",{value:!0});c=(c=b(6))&&c.__esModule?c:{default:c};var h=b(51);b=function(b){function c(){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");var e=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?this:e}return k(c,b),c.prototype.build=function(){var b=this,c=this.config,d=c.values,e=c.type,c=g(c,["values","type"]),f=function(c){var d=c.target.nextSibling.nextSibling,e=c.target.nextSibling,f=b.getActiveOption(d),h=(new Map([[38,function(){var c=b.getPreviousOption(f);
c&&b.selectOption(d,c)}],[40,function(){var c=b.getNextOption(f);c&&b.selectOption(d,c)}],[13,function(){f&&(c.target.value=f.innerHTML,e.value=f.getAttribute("value"),"none"===d.style.display?b.showList(d,f):b.hideList(d));c.preventDefault()}],[27,function(){b.hideList(d)}]])).get(c.keyCode);return h||(h=function(){return!1}),h()},k=Object.assign({},c,{id:c.id+"-input",autocomplete:"off",events:{focus:function(c){var d=c.target.nextSibling.nextSibling,e=(0,h.filter)(d.querySelectorAll("li"),c.target.value);
(c.target.addEventListener("keydown",f),0<c.target.value.length)&&b.showList(d,0<e.length?e[e.length-1]:null)},blur:function(b){b.target.removeEventListener("keydown",f);setTimeout(function(){b.target.nextSibling.nextSibling.style.display="none"},200)},input:function(c){var d=c.target.nextSibling.nextSibling;c.target.nextSibling.value=c.target.value;c=(0,h.filter)(d.querySelectorAll("li"),c.target.value);if(0==c.length)b.hideList(d);else{var e=b.getActiveOption(d);e||(e=c[c.length-1]);b.showList(d,
e)}}}}),v=Object.assign({},c,{type:"hidden"});delete k.name;k=[this.markup("input",null,k),this.markup("input",null,v)];d=d.map(function(c){return b.markup("li",c.label,{events:{click:function(d){d=d.target.parentElement;var e=d.previousSibling.previousSibling;e.value=c.label;e.nextSibling.value=c.value;b.hideList(d)}},value:c.value})});return k.push(this.markup("ul",d,{id:c.id+"-list",className:"fb-"+e+"-list"})),k},c.prototype.hideList=function(b){this.selectOption(b,null);b.style.display="none"},
c.prototype.showList=function(b,c){this.selectOption(b,c);b.style.display="block";b.style.width=b.parentElement.offsetWidth+"px"},c.prototype.getActiveOption=function(b){return(b=b.getElementsByClassName("active-option")[0])&&"none"!==b.style.display?b:null},c.prototype.getPreviousOption=function(b){do b=b?b.previousSibling:null;while(null!=b&&"none"===b.style.display);return b},c.prototype.getNextOption=function(b){do b=b?b.nextSibling:null;while(null!=b&&"none"===b.style.display);return b},c.prototype.selectOption=
function(b,c){b.querySelectorAll("li").forEach(function(b){b.classList.remove("active-option")});c&&c.classList.add("active-option")},c.prototype.onRender=function(){},c}(c.default);e.default=b;c.default.register("autocomplete",b)},function(c,e,b){function g(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?
Object.setPrototypeOf(b,c):b.__proto__=c)}Object.defineProperty(e,"__esModule",{value:!0});c=(c=b(6))&&c.__esModule?c:{default:c};b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var d=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?this:d}return g(c,b),c.prototype.build=function(){return{field:this.markup("button",this.label,
this.config),layout:"noLabel"}},c}(c.default);e.default=b;c.default.register("button",b);c.default.register(["button","submit","reset"],b,"button")},function(c,e,b){function g(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}Object.defineProperty(e,
"__esModule",{value:!0});var k=function(){function b(c,e){for(var h,g=0;g<e.length;g++)h=e[g],h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}return function(c,e,g){return e&&b(c.prototype,e),g&&b(c,g),c}}();c=(c=b(54))&&c.__esModule?c:{default:c};b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var e=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!e||"object"!=typeof e&&"function"!=typeof e?this:e}return g(c,b),c.prototype.configure=function(){var b=this;this.js=this.classConfig.js||"//cdnjs.cloudflare.com/ajax/libs/file-uploader/5.14.2/jquery.fine-uploader/jquery.fine-uploader.min.js";this.css=[this.classConfig.css||"//cdnjs.cloudflare.com/ajax/libs/file-uploader/5.14.2/jquery.fine-uploader/fine-uploader-gallery.min.css",{type:"inline",id:"fineuploader-inline",style:"\n          .qq-uploader .qq-error-message {\n            position: absolute;\n            left: 20%;\n            top: 20px;\n            width: 60%;\n            color: #a94442;\n            background: #f2dede;\n            border: solid 1px #ebccd1;\n            padding: 15px;\n            line-height: 1.5em;\n            text-align: center;\n            z-index: 99999;\n          }\n          .qq-uploader .qq-error-message span {\n            display: inline-block;\n            text-align: left;\n          }"}];
this.handler=this.classConfig.handler||"/upload";["js","css","handler"].forEach(function(c){return delete b.classConfig[c]});var c=this.classConfig.template||'\n      \x3cdiv class\x3d"qq-uploader-selector qq-uploader qq-gallery" qq-drop-area-text\x3d"Drop files here"\x3e\n        \x3cdiv class\x3d"qq-total-progress-bar-container-selector qq-total-progress-bar-container"\x3e\n          \x3cdiv role\x3d"progressbar" aria-valuenow\x3d"0" aria-valuemin\x3d"0" aria-valuemax\x3d"100" class\x3d"qq-total-progress-bar-selector qq-progress-bar qq-total-progress-bar"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"qq-upload-drop-area-selector qq-upload-drop-area" qq-hide-dropzone\x3e\n          \x3cspan class\x3d"qq-upload-drop-area-text-selector"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"qq-upload-button-selector qq-upload-button"\x3e\n          \x3cdiv\x3eUpload a file\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cspan class\x3d"qq-drop-processing-selector qq-drop-processing"\x3e\n          \x3cspan\x3eProcessing dropped files...\x3c/span\x3e\n          \x3cspan class\x3d"qq-drop-processing-spinner-selector qq-drop-processing-spinner"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n        \x3cul class\x3d"qq-upload-list-selector qq-upload-list" role\x3d"region" aria-live\x3d"polite" aria-relevant\x3d"additions removals"\x3e\n          \x3cli\x3e\n            \x3cspan role\x3d"status" class\x3d"qq-upload-status-text-selector qq-upload-status-text"\x3e\x3c/span\x3e\n            \x3cdiv class\x3d"qq-progress-bar-container-selector qq-progress-bar-container"\x3e\n              \x3cdiv role\x3d"progressbar" aria-valuenow\x3d"0" aria-valuemin\x3d"0" aria-valuemax\x3d"100" class\x3d"qq-progress-bar-selector qq-progress-bar"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cspan class\x3d"qq-upload-spinner-selector qq-upload-spinner"\x3e\x3c/span\x3e\n            \x3cdiv class\x3d"qq-thumbnail-wrapper"\x3e\n              \x3cimg class\x3d"qq-thumbnail-selector" qq-max-size\x3d"120" qq-server-scale\x3e\n            \x3c/div\x3e\n            \x3cbutton type\x3d"button" class\x3d"qq-upload-cancel-selector qq-upload-cancel"\x3eX\x3c/button\x3e\n            \x3cbutton type\x3d"button" class\x3d"qq-upload-retry-selector qq-upload-retry"\x3e\n              \x3cspan class\x3d"qq-btn qq-retry-icon" aria-label\x3d"Retry"\x3e\x3c/span\x3e\n              Retry\n            \x3c/button\x3e\n            \x3cdiv class\x3d"qq-file-info"\x3e\n              \x3cdiv class\x3d"qq-file-name"\x3e\n                \x3cspan class\x3d"qq-upload-file-selector qq-upload-file"\x3e\x3c/span\x3e\n                \x3cspan class\x3d"qq-edit-filename-icon-selector qq-btn qq-edit-filename-icon" aria-label\x3d"Edit filename"\x3e\x3c/span\x3e\n              \x3c/div\x3e\n              \x3cinput class\x3d"qq-edit-filename-selector qq-edit-filename" tabindex\x3d"0" type\x3d"text"\x3e\n              \x3cspan class\x3d"qq-upload-size-selector qq-upload-size"\x3e\x3c/span\x3e\n              \x3cbutton type\x3d"button" class\x3d"qq-btn qq-upload-delete-selector qq-upload-delete"\x3e\n                \x3cspan class\x3d"qq-btn qq-delete-icon" aria-label\x3d"Delete"\x3e\x3c/span\x3e\n              \x3c/button\x3e\n              \x3cbutton type\x3d"button" class\x3d"qq-btn qq-upload-pause-selector qq-upload-pause"\x3e\n                \x3cspan class\x3d"qq-btn qq-pause-icon" aria-label\x3d"Pause"\x3e\x3c/span\x3e\n              \x3c/button\x3e\n              \x3cbutton type\x3d"button" class\x3d"qq-btn qq-upload-continue-selector qq-upload-continue"\x3e\n                \x3cspan class\x3d"qq-btn qq-continue-icon" aria-label\x3d"Continue"\x3e\x3c/span\x3e\n              \x3c/button\x3e\n            \x3c/div\x3e\n          \x3c/li\x3e\n        \x3c/ul\x3e\n        \x3cdialog class\x3d"qq-alert-dialog-selector"\x3e\n          \x3cdiv class\x3d"qq-dialog-message-selector"\x3e\x3c/div\x3e\n          \x3cdiv class\x3d"qq-dialog-buttons"\x3e\n            \x3cbutton type\x3d"button" class\x3d"qq-cancel-button-selector"\x3eClose\x3c/button\x3e\n          \x3c/div\x3e\n        \x3c/dialog\x3e\n        \x3cdialog class\x3d"qq-confirm-dialog-selector"\x3e\n          \x3cdiv class\x3d"qq-dialog-message-selector"\x3e\x3c/div\x3e\n          \x3cdiv class\x3d"qq-dialog-buttons"\x3e\n            \x3cbutton type\x3d"button" class\x3d"qq-cancel-button-selector"\x3eNo\x3c/button\x3e\n            \x3cbutton type\x3d"button" class\x3d"qq-ok-button-selector"\x3eYes\x3c/button\x3e\n          \x3c/div\x3e\n        \x3c/dialog\x3e\n        \x3cdialog class\x3d"qq-prompt-dialog-selector"\x3e\n          \x3cdiv class\x3d"qq-dialog-message-selector"\x3e\x3c/div\x3e\n          \x3cinput type\x3d"text"\x3e\n          \x3cdiv class\x3d"qq-dialog-buttons"\x3e\n            \x3cbutton type\x3d"button" class\x3d"qq-cancel-button-selector"\x3eCancel\x3c/button\x3e\n            \x3cbutton type\x3d"button" class\x3d"qq-ok-button-selector"\x3eOk\x3c/button\x3e\n          \x3c/div\x3e\n        \x3c/dialog\x3e\n      \x3c/div\x3e';
this.fineTemplate=$("\x3cdiv/\x3e").attr("id","qq-template").html(c)},c.prototype.build=function(){return this.input=this.markup("input",null,{type:"hidden",name:this.config.name,id:this.config.name}),this.wrapper=this.markup("div","",{id:this.config.name+"-wrapper"}),[this.input,this.wrapper]},c.prototype.onRender=function(){var b=$(this.wrapper),c=$(this.input),d=$.extend(!0,{request:{endpoint:this.handler},deleteFile:{enabled:!0,endpoint:this.handler},chunking:{enabled:!0,concurrent:{enabled:!0},
success:{endpoint:this.handler+(-1==this.handler.indexOf("?")?"?":"\x26")+"done"}},resume:{enabled:!0},retry:{enableAuto:!0,showButton:!0},callbacks:{onError:function(c,d,e){"."!=e.slice(-1)&&(e+=".");var h=$("\x3cdiv /\x3e").addClass("qq-error-message").html("\x3cspan\x3eError processing upload: \x3cb\x3e"+d+"\x3c/b\x3e.\x3cbr /\x3eReason: "+e+"\x3c/span\x3e").prependTo(b.find(".qq-uploader"));setTimeout(function(){h.fadeOut(function(){h.remove()})},6E3)},onStatusChange:function(){for(var d=[],e=
b.fineUploader("getUploads"),h=Array.isArray(e),g=0,e=h?e:e[Symbol.iterator]();;){var k;if(h){if(g>=e.length)break;k=e[g++]}else{if(g=e.next(),g.done)break;k=g.value}"upload successful"==k.status&&d.push(k.name)}c.val(d.join(", "))}},template:this.fineTemplate},this.classConfig);b.fineUploader(d)},k(c,null,[{key:"definition",get:function(){return{i18n:{default:"Fine Uploader"}}}}]),c}(c.default);e.default=b;c.default.register("file",c.default,"file");c.default.register("fineuploader",b,"file")},function(c,
e,b){function g(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}Object.defineProperty(e,"__esModule",{value:!0});c=(c=b(6))&&c.__esModule?c:{default:c};b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var d=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?this:d}return g(c,b),c.prototype.build=function(){return{field:this.markup("input",null,this.config),layout:"hidden"}},c}(c.default);e.default=b;c.default.register("hidden",b)},function(c,e,b){function g(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);
b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}Object.defineProperty(e,"__esModule",{value:!0});c=(c=b(6))&&c.__esModule?c:{default:c};var k=(b=b(19))&&b.__esModule?b:{default:b};b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var e=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!e||"object"!=typeof e&&"function"!=typeof e?this:e}return g(c,b),c.prototype.build=function(){var b=this.config,c=b.type,d=["type"],e={},h;for(h in b)0<=d.indexOf(h)||Object.prototype.hasOwnProperty.call(b,h)&&(e[h]=b[h]);b={paragraph:"p",header:this.subtype};return b[c]&&(c=b[c]),{field:this.markup(c,k.default.parsedHtml(this.label),e),layout:"noLabel"}},c}(c.default);e.default=b;c.default.register(["paragraph","header"],b);c.default.register(["p","address","blockquote","canvas","output"],
b,"paragraph");c.default.register(["h1","h2","h3"],b,"header")},function(c,e,b){function g(b,c){var d={},e;for(e in b)0<=c.indexOf(e)||Object.prototype.hasOwnProperty.call(b,e)&&(d[e]=b[e]);return d}function k(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=
c)}Object.defineProperty(e,"__esModule",{value:!0});var h=function(){function b(c,d){for(var e,f=0;f<d.length;f++)e=d[f],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(c,e.key,e)}return function(c,d,e){return d&&b(c.prototype,d),e&&b(c,e),c}}(),d=(c=b(6))&&c.__esModule?c:{default:c};c=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var d=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!d||"object"!=typeof d&&"function"!=typeof d?this:d}return k(c,b),c.prototype.build=function(){var b=this,c=[],d=this.config,e=d.values,f=d.value,h=d.placeholder,k=d.type,l=d.inline,B=d.other,E=d.toggle,d=g(d,"values value placeholder type inline other toggle".split(" ")),u=k.replace("-group",""),D="select"===k;if((d.multiple||"checkbox-group"===k)&&(d.name+="[]"),"checkbox-group"===k&&d.required&&(this.onRender=this.groupRequired),delete d.title,e){h&&D&&c.push(this.markup("option",h,{disabled:null,
selected:null}));for(var C,F=0;F<e.length;F++){"string"==typeof(C=e[F])&&(C={label:C,value:C});var A=C,H=A.label,H=void 0===H?"":H,L=g(A,["label"]);if(L.id=d.id+"-"+F,(!L.selected||h)&&delete L.selected,void 0!==f&&L.value===f&&(L.selected=!0),D)H=this.markup("option",document.createTextNode(H),L);else{var A=u,J=[H];l&&(A+="-inline");L.type=u;L.selected&&(L.checked="checked",delete L.selected);var Q=this.markup("input",null,Object.assign({},d,L)),L={for:L.id},H=this.markup("label",J,L),H=[Q,H];E&&
(L.className="kc-toggle",J.unshift(Q,this.markup("span")),H=this.markup("label",J,L));H=this.markup("div",H,{className:A})}c.push(H)}if(!D&&B){var O={id:d.id+"-other",className:d.className+" other-option",value:"",events:{click:function(){return b.otherOptionCB(O.id)}}},e=u;l&&(e+="-inline");f=Object.assign({},d,O);f.type=u;h={type:"text",events:{input:function(b){b=b.target;b.previousElementSibling.value=b.value}},id:O.id+"-value",className:"other-val"};l=this.markup("input",null,f);h=[document.createTextNode("Other"),
this.markup("input",null,h)];f=this.markup("label",h,{for:f.id});l=this.markup("div",[l,f],{className:e});c.push(l)}}return"select"==k?this.markup(u,c,d):this.markup("div",c,{className:k})},c.prototype.groupRequired=function(){for(var b=this.element.getElementsByTagName("input"),c=function(b,c){[].forEach.call(b,function(b){c?b.removeAttribute("required"):b.setAttribute("required","required");var e=d.default.mi18n("minSelectionRequired",1);c?b.setCustomValidity(""):b.setCustomValidity(e)})},e=function(){var d=
[].some.call(b,function(b){return b.checked});c(b,d)},f=b.length-1;0<=f;f--)b[f].addEventListener("change",e);e()},c.prototype.otherOptionCB=function(b){var c=document.getElementById(b);document.getElementById(b+"-value").style.display=c.checked?"inline-block":"none"},h(c,null,[{key:"definition",get:function(){return{inactive:["checkbox"],mi18n:{minSelectionRequired:"minSelectionRequired"}}}}]),c}(d.default);e.default=c;d.default.register(["select","checkbox-group","radio-group","checkbox"],c)},function(c,
e,b){function g(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}Object.defineProperty(e,"__esModule",{value:!0});c=(c=b(36))&&c.__esModule?c:{default:c};b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var d=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?this:d}return g(c,b),c.prototype.configure=function(){this.js="//cdn.quilljs.com/1.2.4/quill.js";this.css="//cdn.quilljs.com/1.2.4/quill.snow.css"},c.prototype.build=function(){var b=this.config;b.value;var c=["value"],e={},h;for(h in b)0<=c.indexOf(h)||Object.prototype.hasOwnProperty.call(b,h)&&(e[h]=b[h]);return this.field=
this.markup("div",null,e),this.field},c.prototype.onRender=function(){var b=this.config.value||"",c=window.Quill.import("delta");window.fbEditors.quill[this.id]={};var e=window.fbEditors.quill[this.id];e.instance=new window.Quill(this.field,{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["code-block"]]},placeholder:this.config.placeholder||"",theme:"snow"});e.data=new c;b&&e.instance.setContents(window.JSON.parse(this.parsedHtml(b)));e.instance.on("text-change",function(b){e.data=
e.data.compose(b)})},c}(c.default);e.default=b;c.default.register("quill",b,"textarea")},function(c,e,b){function g(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}Object.defineProperty(e,"__esModule",{value:!0});c=(c=b(36))&&c.__esModule?c:{default:c};
b=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var d=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?this:d}return g(c,b),c.prototype.configure=function(){if(this.js=["//cdn.tinymce.com/4/tinymce.min.js"],this.classConfig.js){var b=this.classConfig.js;Array.isArray(b)||(b=Array(b));this.js.concat(b);delete this.classConfig.js}this.classConfig.css&&
(this.css=this.classConfig.css);this.editorOptions={height:250,paste_data_images:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code"],toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | table"}},c.prototype.build=function(){var b=this.config,c=b.value,c=void 0===c?"":c,e=["value"],h={},g;
for(g in b)0<=e.indexOf(g)||Object.prototype.hasOwnProperty.call(b,g)&&(h[g]=b[g]);return this.field=this.markup("textarea",this.parsedHtml(c),h),this.field},c.prototype.onRender=function(){window.tinymce.editors[this.id]&&window.tinymce.editors[this.id].remove();var b=$.extend(this.editorOptions,this.classConfig);b.target=this.field;window.tinymce.init(b)},c}(c.default);e.default=b;c.default.register("tinymce",b,"textarea")},function(c,e,b){var g=b(10),k=b(45),h=b(9);c.exports=function(b){for(var c=
g(this),e=h(c.length),n=arguments.length,p=k(1<n?arguments[1]:void 0,e),n=2<n?arguments[2]:void 0,e=void 0===n?e:k(n,e);e>p;)c[p++]=b;return c}},function(c,e,b){var g=b(157);c.exports=function(b,c){return new (g(b))(c)}},function(c,e,b){var g=b(8),k=b(42);c.exports=function(b,c,e){c in b?g.f(b,c,k(0,e)):b[c]=e}},function(c,e,b){e=b(4);var g=b(2).document,k=e(g)&&e(g.createElement);c.exports=function(b){return k?g.createElement(b):{}}},function(c){c.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},
function(c,e,b){var g=b(5)("match");c.exports=function(b){var c=/./;try{"/./"[b](c)}catch(d){try{return c[g]=!1,!"/./"[b](c)}catch(e){}}return!0}},function(c,e,b){e=b(2).document;c.exports=e&&e.documentElement},function(c,e,b){var g=b(4),k=b(100).set;c.exports=function(b,c,e){var l;c=c.constructor;return c!==e&&"function"==typeof c&&(l=c.prototype)!==e.prototype&&g(l)&&k&&k(b,l),b}},function(c,e,b){var g=b(47),k=b(5)("iterator"),h=Array.prototype;c.exports=function(b){return void 0!==b&&(g.Array===
b||h[k]===b)}},function(c,e,b){var g=b(40),k=b(42),h=b(48),d={};b(13)(d,b(5)("iterator"),function(){return this});c.exports=function(b,c,e){b.prototype=g(d,{next:k(1,e)});h(b,c+" Iterator")}},function(c,e,b){var g=b(39),k=b(0),h=b(14),d=b(13),f=b(12),l=b(47),n=b(94),p=b(48),q=b(18),r=b(5)("iterator"),s=!([].keys&&"next"in[].keys()),v=function(){return this};c.exports=function(b,c,e,E,u,D,C){n(e,c,E);var F,A,H;E=function(b){return!s&&b in O?O[b]:function(){return new e(this,b)}};var L=c+" Iterator",
J="values"==u,Q=!1,O=b.prototype,N=O[r]||O["@@iterator"]||u&&O[u],R=N||E(u),T=u?J?E("entries"):R:void 0,W="Array"==c?O.entries||N:N;if(W&&(H=q(W.call(new b)))!==Object.prototype&&H.next&&(p(H,L,!0),!g&&!f(H,r)&&d(H,r,v)),J&&N&&"values"!==N.name&&(Q=!0,R=function(){return N.call(this)}),(!g||C)&&(s||Q||!O[r])&&d(O,r,R),l[c]=R,l[L]=v,u)if(F={values:J?R:E("values"),keys:D?R:E("keys"),entries:T},C)for(A in F)A in O||h(O,A,F[A]);else k(k.P+k.F*(s||Q),c,F);return F}},function(c){var e=_Mathexpm;c.exports=
!e||22025.465794806718<e(10)||22025.465794806718>e(10)||-2E-17!=e(-2E-17)?function(b){return 0==(b=+b)?b:-1E-6<b&&1E-6>b?b+b*b/2:_Mathexp(b)-1}:e},function(c){c.exports=Math.sign||function(c){return 0==(c=+c)||c!=c?c:0>c?-1:1}},function(c,e,b){var g=b(2),k=b(106).set,h=g.MutationObserver||g.WebKitMutationObserver,d=g.process,f=g.Promise,l="process"==b(20)(d);c.exports=function(){var b,c,e,r=function(){var f,h;for(l&&(f=d.domain)&&f.exit();b;){h=b.fn;b=b.next;try{h()}catch(g){throw b?e():c=void 0,
g;}}c=void 0;f&&f.enter()};if(l)e=function(){d.nextTick(r)};else if(h){var s=!0,v=document.createTextNode("");(new h(r)).observe(v,{characterData:!0});e=function(){v.data=s=!s}}else if(f&&f.resolve){var z=f.resolve();e=function(){z.then(r)}}else e=function(){k.call(g,r)};return function(d){d={fn:d,next:void 0};c&&(c.next=d);b||(b=d,e());c=d}}},function(c,e,b){function g(b){var c,e;this.promise=new b(function(b,h){if(void 0!=c||void 0!=e)throw TypeError("Bad Promise constructor");c=b;e=h});this.resolve=
k(c);this.reject=k(e)}var k=b(11);c.exports.f=function(b){return new g(b)}},function(c,e,b){var g=b(4),k=b(1),h=function(b,c){if(k(b),!g(c)&&null!==c)throw TypeError(c+": can't set as prototype!");};c.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(c,e,g){try{g=b(21)(Function.call,b(17).f(Object.prototype,"__proto__").set,2),g(c,[]),e=!(c instanceof Array)}catch(k){e=!0}return function(b,c){return h(b,c),e?b.__proto__=c:g(b,c),b}}({},!1):void 0),check:h}},function(c,e,b){var g=b(74)("keys"),
k=b(46);c.exports=function(b){return g[b]||(g[b]=k(b))}},function(c,e,b){var g=b(27),k=b(25);c.exports=function(b){return function(c,e){var l,n,p=k(c)+"",q=g(e),r=p.length;return 0>q||q>=r?b?"":void 0:(l=p.charCodeAt(q),55296>l||56319<l||q+1===r||56320>(n=p.charCodeAt(q+1))||57343<n?b?p.charAt(q):l:b?p.slice(q,q+2):n-56320+(l-55296<<10)+65536)}}},function(c,e,b){var g=b(68),k=b(25);c.exports=function(b,c,e){if(g(c))throw TypeError("String#"+e+" doesn't accept regex!");return k(b)+""}},function(c,
e,b){var g=b(27),k=b(25);c.exports=function(b){var c=k(this)+"",e="";b=g(b);if(0>b||b==1/0)throw RangeError("Count can't be negative");for(;0<b;(b>>>=1)&&(c+=c))1&b&&(e+=c);return e}},function(c){c.exports="\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF"},function(c,e,b){var g,k,h,d=b(21),f=b(66),l=b(91),n=b(88),p=b(2),q=p.process;e=p.setImmediate;var r=p.clearImmediate,s=p.MessageChannel,
v=p.Dispatch,z=0,w={},B=function(){var b=+this;if(w.hasOwnProperty(b)){var c=w[b];delete w[b];c()}},E=function(b){B.call(b.data)};e&&r||(e=function(b){for(var c=[],d=1;arguments.length>d;)c.push(arguments[d++]);return w[++z]=function(){f("function"==typeof b?b:Function(b),c)},g(z),z},r=function(b){delete w[b]},"process"==b(20)(q)?g=function(b){q.nextTick(d(B,b,1))}:v&&v.now?g=function(b){v.now(d(B,b,1))}:s?(k=new s,h=k.port2,k.port1.onmessage=E,g=d(h.postMessage,h,1)):p.addEventListener&&"function"==
typeof postMessage&&!p.importScripts?(g=function(b){p.postMessage(b+"","*")},p.addEventListener("message",E,!1)):g="onreadystatechange"in n("script")?function(b){l.appendChild(n("script")).onreadystatechange=function(){l.removeChild(this);B.call(b)}}:function(b){setTimeout(d(B,b,1),0)});c.exports={set:e,clear:r}},function(c,e,b){function g(b,c,d){var e,f,h,g=Array(d);d=8*d-c-1;var k=(1<<d)-1,l=k>>1,n=23===c?K(2,-24)-K(2,-77):0,p=0,q=0>b||0===b&&0>1/b?1:0;b=P(b);for(b!=b||b===ba?(f=b==b?0:1,e=k):(e=
ea(M(b)/ca),1>b*(h=K(2,-e))&&(e--,h*=2),b+=1<=e+l?n/h:n*K(2,1-l),2<=b*h&&(e++,h/=2),e+l>=k?(f=0,e=k):1<=e+l?(f=(b*h-1)*K(2,c),e+=l):(f=b*K(2,l-1)*K(2,c),e=0));8<=c;g[p++]=255&f,f/=256,c-=8);e=e<<c|f;for(d+=c;0<d;g[p++]=255&e,e/=256,d-=8);return g[--p]|=128*q,g}function k(b,c,d){for(var e=8*d-c-1,f=(1<<e)-1,h=f>>1,e=e-7,g=d-1,k=b[g--],l=127&k,k=k>>7;0<e;l=256*l+b[g],g--,e-=8);d=l&(1<<-e)-1;l>>=-e;for(e+=c;0<e;d=256*d+b[g],g--,e-=8);if(0===l)l=1-h;else{if(l===f)return d?NaN:k?-ba:ba;d+=K(2,c);l-=h}return(k?
-1:1)*d*K(2,l-c)}function h(b){return b[3]<<24|b[2]<<16|b[1]<<8|b[0]}function d(b){return[255&b]}function f(b){return[255&b,255&b>>8]}function l(b){return[255&b,255&b>>8,255&b>>16,255&b>>24]}function n(b){return g(b,52,8)}function p(b){return g(b,23,4)}function q(b,c,d){L(b[Q],c,{get:function(){return this[d]}})}function r(b,c,d,e){d=A(+d);if(d+c>b[Y])throw W(O);d+=b[X];b=b[U]._b.slice(d,d+c);return e?b:b.reverse()}function s(b,c,d,e,f,h){var g=A(+d);if(g+c>b[Y])throw W(O);d=b[U]._b;b=g+b[X];e=e(+f);
for(f=0;f<c;f++)d[b+f]=e[h?f:c-f-1]}var v=b(2),z=b(7),w=b(39);c=b(76);var B=b(13),E=b(43),u=b(3),D=b(37),C=b(27),F=b(9),A=b(143),H=b(41).f,L=b(8).f,J=b(85);b=b(48);var Q="prototype",O="Wrong index!",N=v.ArrayBuffer,R=v.DataView,T=v.Math,W=v.RangeError,ba=v.Infinity,qa=N,P=T.abs,K=T.pow,ea=T.floor,M=T.log,ca=T.LN2,U=z?"_b":"buffer",Y=z?"_l":"byteLength",X=z?"_o":"byteOffset";if(c.ABV){if(!u(function(){N(1)})||!u(function(){new N(-1)})||u(function(){return new N,new N(1.5),new N(NaN),"ArrayBuffer"!=
N.name})){for(var N=function(b){return D(this,N),new qa(A(b))},fa,v=N[Q]=qa[Q],H=H(qa),z=0;H.length>z;)(fa=H[z++])in N||B(N,fa,qa[fa]);w||(v.constructor=N)}fa=new R(new N(2));var ga=R[Q].setInt8;fa.setInt8(0,2147483648);fa.setInt8(1,2147483649);!fa.getInt8(0)&&fa.getInt8(1)||E(R[Q],{setInt8:function(b,c){ga.call(this,b,c<<24>>24)},setUint8:function(b,c){ga.call(this,b,c<<24>>24)}},!0)}else N=function(b){D(this,N,"ArrayBuffer");b=A(b);this._b=J.call(Array(b),0);this[Y]=b},R=function(b,c,d){D(this,
R,"DataView");D(b,N,"DataView");var e=b[Y];c=C(c);if(0>c||c>e)throw W("Wrong offset!");if(d=void 0===d?e-c:F(d),c+d>e)throw W("Wrong length!");this[U]=b;this[X]=c;this[Y]=d},z&&(q(N,"byteLength","_l"),q(R,"buffer","_b"),q(R,"byteLength","_l"),q(R,"byteOffset","_o")),E(R[Q],{getInt8:function(b){return r(this,1,b)[0]<<24>>24},getUint8:function(b){return r(this,1,b)[0]},getInt16:function(b,c){var d=r(this,2,b,c);return(d[1]<<8|d[0])<<16>>16},getUint16:function(b,c){var d=r(this,2,b,c);return d[1]<<8|
d[0]},getInt32:function(b,c){return h(r(this,4,b,c))},getUint32:function(b,c){return h(r(this,4,b,c))>>>0},getFloat32:function(b,c){return k(r(this,4,b,c),23,4)},getFloat64:function(b,c){return k(r(this,8,b,c),52,8)},setInt8:function(b,c){s(this,1,b,d,c)},setUint8:function(b,c){s(this,1,b,d,c)},setInt16:function(b,c,d){s(this,2,b,f,c,d)},setUint16:function(b,c,d){s(this,2,b,f,c,d)},setInt32:function(b,c,d){s(this,4,b,l,c,d)},setUint32:function(b,c,d){s(this,4,b,l,c,d)},setFloat32:function(b,c,d){s(this,
4,b,p,c,d)},setFloat64:function(b,c,d){s(this,8,b,n,c,d)}});b(N,"ArrayBuffer");b(R,"DataView");B(R[Q],c.VIEW,!0);e.ArrayBuffer=N;e.DataView=R},function(c,e,b){var g=b(2),k=b(24),h=b(39),d=b(144),f=b(8).f;c.exports=function(b){var c=k.Symbol||(k.Symbol=h?{}:g.Symbol||{});"_"==b.charAt(0)||b in c||f(c,b,{value:d.f(b)})}},function(c,e,b){var g=b(55),k=b(5)("iterator"),h=b(47);c.exports=b(24).getIteratorMethod=function(b){if(void 0!=b)return b[k]||b["@@iterator"]||h[g(b)]}},function(c,e,b){e=b(32);var g=
b(128),k=b(47),h=b(16);c.exports=b(95)(Array,"Array",function(b,c){this._t=h(b);this._i=0;this._k=c},function(){var b=this._t,c=this._k,e=this._i++;return!b||e>=b.length?(this._t=void 0,g(1)):"keys"==c?g(0,e):"values"==c?g(0,b[e]):g(0,[e,b[e]])},"values");k.Arguments=k.Array;e("keys");e("values");e("entries")},function(c){function e(b,c){var e=b[1]||"",h=b[3];if(!h)return e;if(c&&"function"==typeof btoa){var d="/*# sourceMappingURL\x3ddata:application/json;charset\x3dutf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(h))))+
" */";return[e].concat(h.sources.map(function(b){return"/*# sourceURL\x3d"+h.sourceRoot+b+" */"})).concat([d]).join("\n")}return""+e}c.exports=function(b){var c=[];return c.toString=function(){return this.map(function(c){var h=e(c,b);return c[2]?"@media "+c[2]+"{"+h+"}":h}).join("")},c.i=function(b,e){"string"==typeof b&&(b=[[null,b,""]]);for(var d,f={},l=0;l<this.length;l++)"number"==typeof(d=this[l][0])&&(f[d]=!0);for(l=0;l<b.length;l++)d=b[l],"number"==typeof d[0]&&f[d[0]]||(e&&!d[2]?d[2]=e:e&&
(d[2]="("+d[2]+") and ("+e+")"),c.push(d))},c}},function(c){function e(){throw Error("setTimeout has not been defined");}function b(){throw Error("clearTimeout has not been defined");}function g(b){if(n===setTimeout)return setTimeout(b,0);if((n===e||!n)&&setTimeout)return n=setTimeout,setTimeout(b,0);try{return n(b,0)}catch(c){try{return n.call(null,b,0)}catch(d){return n.call(this,b,0)}}}function k(c){if(p===clearTimeout)return clearTimeout(c);if((p===b||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(c);
try{return p(c)}catch(d){try{return p.call(null,c)}catch(e){return p.call(this,c)}}}function h(){z&&s&&(z=!1,s.length?v=s.concat(v):w=-1,v.length&&d())}function d(){if(!z){var b=g(h);z=!0;for(var c=v.length;c;){s=v;for(v=[];++w<c;)s&&s[w].run();w=-1;c=v.length}s=null;z=!1;k(b)}}function f(b,c){this.fun=b;this.array=c}function l(){}var n,p;c=c.exports={};try{n="function"==typeof setTimeout?setTimeout:e}catch(q){n=e}try{p="function"==typeof clearTimeout?clearTimeout:b}catch(r){p=b}!0;var s,v=[],z=!1,
w=-1;c.nextTick=function(b){var c=Array(arguments.length-1);if(1<arguments.length)for(var e=1;e<arguments.length;e++)c[e-1]=arguments[e];v.push(new f(b,c));1!==v.length||z||g(d)};f.prototype.run=function(){this.fun.apply(null,this.array)};c.title="browser";c.browser=!0;c.env={};c.argv=[];c.version="";c.versions={};c.on=l;c.addListener=l;c.once=l;c.off=l;c.removeListener=l;c.removeAllListeners=l;c.emit=l;c.prependListener=l;c.prependOnceListener=l;c.listeners=function(){return[]};c.binding=function(){throw Error("process.binding is not supported");
};c.cwd=function(){return"/"};c.chdir=function(){throw Error("process.chdir is not supported");};c.umask=function(){return 0}},function(c,e,b){function g(b,c){for(var d=0;d<b.length;d++){var e=b[d],f=v[e.id];if(f){f.refs++;for(var h=0;h<f.parts.length;h++)f.parts[h](e.parts[h]);for(;h<e.parts.length;h++)f.parts.push(p(e.parts[h],c))}else{f=[];for(h=0;h<e.parts.length;h++)f.push(p(e.parts[h],c));v[e.id]={id:e.id,refs:1,parts:f}}}}function k(b){for(var c=[],d={},e=0;e<b.length;e++){var f=b[e],h=f[0],
f={css:f[1],media:f[2],sourceMap:f[3]};d[h]?d[h].parts.push(f):c.push(d[h]={id:h,parts:[f]})}return c}function h(b,c){var d=w(b.insertInto);if(!d)throw Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=u[u.length-1];if("top"===b.insertAt)e?e.nextSibling?d.insertBefore(c,e.nextSibling):d.appendChild(c):d.insertBefore(c,d.firstChild),u.push(c);else{if("bottom"!==b.insertAt)throw Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
d.appendChild(c)}}function d(b){b.parentNode.removeChild(b);b=u.indexOf(b);0<=b&&u.splice(b,1)}function f(b){var c=document.createElement("style");return b.attrs.type="text/css",n(c,b.attrs),h(b,c),c}function l(b){var c=document.createElement("link");return b.attrs.type="text/css",b.attrs.rel="stylesheet",n(c,b.attrs),h(b,c),c}function n(b,c){Object.keys(c).forEach(function(d){b.setAttribute(d,c[d])})}function p(b,c){var e,h,g;if(c.singleton){var k=E++;e=B||(B=f(c));h=q.bind(null,e,k,!1);g=q.bind(null,
e,k,!0)}else b.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=l(c),h=s.bind(null,e,c),g=function(){d(e);e.href&&URL.revokeObjectURL(e.href)}):(e=f(c),h=r.bind(null,e),g=function(){d(e)});return h(b),function(c){c?c.css===b.css&&c.media===b.media&&c.sourceMap===b.sourceMap||h(b=c):g()}}function q(b,c,d,e){d=d?"":e.css;b.styleSheet?b.styleSheet.cssText=C(c,d):(d=document.createTextNode(d),
e=b.childNodes,e[c]&&b.removeChild(e[c]),e.length?b.insertBefore(d,e[c]):b.appendChild(d))}function r(b,c){var d=c.css,e=c.media;if(e&&b.setAttribute("media",e),b.styleSheet)b.styleSheet.cssText=d;else{for(;b.firstChild;)b.removeChild(b.firstChild);b.appendChild(document.createTextNode(d))}}function s(b,c,d){var e=d.css;d=d.sourceMap;var f=void 0===c.convertToAbsoluteUrls&&d;(c.convertToAbsoluteUrls||f)&&(e=D(e));d&&(e+="\n/*# sourceMappingURL\x3ddata:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+
" */");c=new Blob([e],{type:"text/css"});e=b.href;b.href=URL.createObjectURL(c);e&&URL.revokeObjectURL(e)}var v={},z=function(b){var c;return function(){return void 0===c&&(c=b.apply(this,arguments)),c}}(function(){return window&&document&&document.all&&!window.atob}),w=function(b){var c={};return function(d){return void 0===c[d]&&(c[d]=b.call(this,d)),c[d]}}(function(b){return document.querySelector(b)}),B=null,E=0,u=[],D=b(114);c.exports=function(b,c){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=
typeof document)throw Error("The style-loader cannot be used in a non-browser environment");c=c||{};c.attrs="object"==typeof c.attrs?c.attrs:{};void 0===c.singleton&&(c.singleton=z());void 0===c.insertInto&&(c.insertInto="head");void 0===c.insertAt&&(c.insertAt="bottom");var d=k(b);return g(d,c),function(b){for(var e=[],f=0;f<d.length;f++){var h=v[d[f].id];h.refs--;e.push(h)}b&&g(k(b),c);for(f=0;f<e.length;f++)if(h=e[f],0===h.refs){for(b=0;b<h.parts.length;b++)h.parts[b]();delete v[h.id]}}};var C=
function(){var b=[];return function(c,d){return b[c]=d,b.filter(Boolean).join("\n")}}()},function(c){c.exports=function(c){var b="undefined"!=typeof window&&window.location;if(!b)throw Error("fixUrls requires window.location");if(!c||"string"!=typeof c)return c;var g=b.protocol+"//"+b.host,k=g+b.pathname.replace(/\/[^\/]*$/,"/");return c.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(b,c){var e=c.trim().replace(/^"(.*)"$/,function(b,c){return c}).replace(/^'(.*)'$/,function(b,
c){return c});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(e))return b;var l;return l=0===e.indexOf("//")?e:0===e.indexOf("/")?g+e:k+e.replace(/^\.\//,""),"url("+JSON.stringify(l)+")"})}},,function(c,e,b){var g=b(20);c.exports=function(b,c){if("number"!=typeof b&&"Number"!=g(b))throw TypeError(c);return+b}},function(c,e,b){var g=b(10),k=b(45),h=b(9);c.exports=[].copyWithin||function(b,c){var e=g(this),n=h(e.length),p=k(b,n),q=k(c,n),r=2<arguments.length?arguments[2]:void 0,n=_Mathmin((void 0===
r?n:k(r,n))-q,n-p),r=1;for(q<p&&p<q+n&&(r=-1,q+=n-1,p+=n-1);0<n--;)q in e?e[p]=e[q]:delete e[p],p+=r,q+=r;return e}},function(c,e,b){var g=b(38);c.exports=function(b,c){var d=[];return g(b,!1,d.push,d,c),d}},function(c,e,b){var g=b(11),k=b(10),h=b(56),d=b(9);c.exports=function(b,c,e,p,q){g(c);b=k(b);var r=h(b),s=d(b.length),v=q?s-1:0,z=q?-1:1;if(2>e)for(;;){if(v in r){p=r[v];v+=z;break}if(v+=z,q?0>v:s<=v)throw TypeError("Reduce of empty array with no initial value");}for(;q?0<=v:s>v;v+=z)v in r&&
(p=c(p,r[v],v,b));return p}},function(c,e,b){var g=b(11),k=b(4),h=b(66),d=[].slice,f={};c.exports=Function.bind||function(b){var c=g(this),e=d.call(arguments,1),q=function(){var g=e.concat(d.call(arguments)),k;if(this instanceof q){k=c;var v=g.length;if(!(v in f)){for(var z=[],w=0;w<v;w++)z[w]="a["+w+"]";f[v]=Function("F,a","return new F("+z.join(",")+")")}k=f[v](k,g)}else k=h(c,g,b);return k};return k(c.prototype)&&(q.prototype=c.prototype),q}},function(c,e,b){var g=b(8).f,k=b(40),h=b(43),d=b(21),
f=b(37),l=b(38),n=b(95),p=b(128),q=b(44),r=b(7),s=b(33).fastKey,v=b(50),z=r?"_s":"size",w=function(b,c){var d;d=s(c);if("F"!==d)return b._i[d];for(d=b._f;d;d=d.n)if(d.k==c)return d};c.exports={getConstructor:function(b,c,e,n){var p=b(function(b,d){f(b,p,c,"_i");b._t=c;b._i=k(null);b._f=void 0;b._l=void 0;b[z]=0;void 0!=d&&l(d,e,b[n],b)});return h(p.prototype,{clear:function(){for(var b=v(this,c),d=b._i,e=b._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete d[e.i];b._f=b._l=void 0;b[z]=0},delete:function(b){var d=
v(this,c);if(b=w(d,b)){var e=b.n,f=b.p;delete d._i[b.i];b.r=!0;f&&(f.n=e);e&&(e.p=f);d._f==b&&(d._f=e);d._l==b&&(d._l=f);d[z]--}return!!b},forEach:function(b){v(this,c);for(var e,f=d(b,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(f(e.v,e.k,this);e&&e.r;)e=e.p},has:function(b){return!!w(v(this,c),b)}}),r&&g(p.prototype,"size",{get:function(){return v(this,c)[z]}}),p},def:function(b,c,d){var e,f,h=w(b,c);return h?h.v=d:(b._l=h={i:f=s(c,!0),k:c,v:d,p:e=b._l,n:void 0,r:!1},!b._f&&(b._f=
h),e&&(e.n=h),b[z]++,"F"!==f&&(b._i[f]=h)),b},getEntry:w,setStrong:function(b,c,d){n(b,c,function(b,d){this._t=v(b,c);this._k=d;this._l=void 0},function(){for(var b=this._k,c=this._l;c&&c.r;)c=c.p;return this._t&&(this._l=c=c?c.n:this._t._f)?"keys"==b?p(0,c.k):"values"==b?p(0,c.v):p(0,[c.k,c.v]):(this._t=void 0,p(1))},d?"entries":"values",!d,!0);q(c)}}},function(c,e,b){var g=b(55),k=b(118);c.exports=function(b){return function(){if(g(this)!=b)throw TypeError(b+"#toJSON isn't generic");return k(this)}}},
function(c,e,b){var g=b(43),k=b(33).getWeak,h=b(1),d=b(4),f=b(37),l=b(38);e=b(23);var n=b(12),p=b(50),q=e(5),r=e(6),s=0,v=function(b){return b._l||(b._l=new z)},z=function(){this.a=[]},w=function(b,c){return q(b.a,function(b){return b[0]===c})};z.prototype={get:function(b){if(b=w(this,b))return b[1]},has:function(b){return!!w(this,b)},set:function(b,c){var d=w(this,b);d?d[1]=c:this.a.push([b,c])},delete:function(b){var c=r(this.a,function(c){return c[0]===b});return~c&&this.a.splice(c,1),!!~c}};c.exports=
{getConstructor:function(b,c,e,h){var q=b(function(b,d){f(b,q,c,"_i");b._t=c;b._i=s++;b._l=void 0;void 0!=d&&l(d,e,b[h],b)});return g(q.prototype,{delete:function(b){if(!d(b))return!1;var e=k(b);return!0===e?v(p(this,c)).delete(b):e&&n(e,this._i)&&delete e[this._i]},has:function(b){if(!d(b))return!1;var e=k(b);return!0===e?v(p(this,c)).has(b):e&&n(e,this._i)}}),q},def:function(b,c,d){var e=k(h(c),!0);return!0===e?v(b).set(c,d):e[b._i]=d,b},ufstore:v}},function(c,e,b){function g(b,c,e,r,s,v,z,w){var B,
E,u=0;for(z=!!z&&f(z,w,3);u<r;){if(u in e){if(B=z?z(e[u],u,c):e[u],E=!1,h(B)&&(E=B[l],E=void 0===E?k(B):!!E),E&&0<v)s=g(b,c,B,d(B.length),s,v-1)-1;else{if(9007199254740991<=s)throw TypeError();b[s]=B}s++}u++}return s}var k=b(67),h=b(4),d=b(9),f=b(21),l=b(5)("isConcatSpreadable");c.exports=g},function(c,e,b){c.exports=!b(7)&&!b(3)(function(){return 7!=Object.defineProperty(b(88)("div"),"a",{get:function(){return 7}}).a})},function(c,e,b){var g=b(4);c.exports=function(b){return!g(b)&&isFinite(b)&&_Mathfloor(b)===
b}},function(c,e,b){var g=b(1);c.exports=function(b,c,d,e){try{return e?c(g(d)[0],d[1]):c(d)}catch(l){throw c=b.return,void 0!==c&&g(c.call(b)),l;}}},function(c){c.exports=function(c,b){return{value:b,done:!!c}}},function(c,e,b){var g=b(97);e=_Mathpow;var k=e(2,-52),h=e(2,-23),d=e(2,127)*(2-h),f=e(2,-126);c.exports=Math.fround||function(b){var c,e,q=_Mathabs(b);b=g(b);return q<f?b*(q/f/h+1/k-1/k)*f*h:(c=(1+h/k)*q,e=c-(c-q),e>d||e!=e?1/0*b:b*e)}},function(c){c.exports=Math.log1p||function(c){return-1E-8<
(c=+c)&&1E-8>c?c-c*c/2:_Mathlog(1+c)}},function(c){c.exports=Math.scale||function(c,b,g,k,h){return 0===arguments.length||c!=c||b!=b||g!=g||k!=k||h!=h?NaN:c===1/0||c===-1/0?c:(c-b)*(h-k)/(g-b)+k}},function(c,e,b){var g=b(34),k=b(71),h=b(57),d=b(10),f=b(56),l=Object.assign;c.exports=!l||b(3)(function(){var b={},c={},d=Symbol();return b[d]=7,"abcdefghijklmnopqrst".split("").forEach(function(b){c[b]=b}),7!=l({},b)[d]||"abcdefghijklmnopqrst"!=Object.keys(l({},c)).join("")})?function(b){for(var c=d(b),
e=arguments.length,l=1,s=k.f,v=h.f;e>l;)for(var z,w=f(arguments[l++]),B=s?g(w).concat(s(w)):g(w),E=B.length,u=0;E>u;)v.call(w,z=B[u++])&&(c[z]=w[z]);return c}:l},function(c,e,b){var g=b(8),k=b(1),h=b(34);c.exports=b(7)?Object.defineProperties:function(b,c){k(b);for(var e,n=h(c),p=n.length,q=0;p>q;)g.f(b,e=n[q++],c[e]);return b}},function(c,e,b){var g=b(16),k=b(41).f,h={}.toString,d="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(b){var c;
if(d&&"[object Window]"==h.call(b))try{c=k(b)}catch(e){c=d.slice()}else c=k(g(b));return c}},function(c,e,b){var g=b(12),k=b(16),h=b(62)(!1),d=b(101)("IE_PROTO");c.exports=function(b,c){var e,p=k(b),q=0,r=[];for(e in p)e!=d&&g(p,e)&&r.push(e);for(;c.length>q;)g(p,e=c[q++])&&(~h(r,e)||r.push(e));return r}},function(c,e,b){var g=b(34),k=b(16),h=b(57).f;c.exports=function(b){return function(c){var e;c=k(c);for(var n=g(c),p=n.length,q=0,r=[];p>q;)h.call(c,e=n[q++])&&r.push(b?[e,c[e]]:c[e]);return r}}},
function(c,e,b){var g=b(41),k=b(71),h=b(1);e=b(2).Reflect;c.exports=e&&e.ownKeys||function(b){var c=g.f(h(b)),e=k.f;return e?c.concat(e(b)):c}},function(c,e,b){var g=b(2).parseFloat,k=b(49).trim;c.exports=1/g(b(105)+"-0")==-1/0?g:function(b){b=k(b+"",3);var c=g(b);return 0===c&&"-"==b.charAt(0)?-0:c}},function(c,e,b){var g=b(2).parseInt,k=b(49).trim;e=b(105);var h=/^[-+]?0[xX]/;c.exports=8!==g(e+"08")||22!==g(e+"0x16")?function(b,c){var e=k(b+"",3);return g(e,c>>>0||(h.test(e)?16:10))}:g},function(c){c.exports=
function(c){try{return{e:!1,v:c()}}catch(b){return{e:!0,v:b}}}},function(c,e,b){var g=b(99);c.exports=function(b,c){var d=g.f(b);return(0,d.resolve)(c),d.promise}},function(c,e,b){var g=b(9),k=b(104),h=b(25);c.exports=function(b,c,e,n){b=h(b)+"";var p=b.length;e=void 0===e?" ":e+"";c=g(c);if(c<=p||""==e)return b;c-=p;p=k.call(e,_Mathceil(c/e.length));return p.length>c&&(p=p.slice(0,c)),n?p+b:b+p}},function(c,e,b){var g=b(27),k=b(9);c.exports=function(b){if(void 0===b)return 0;b=g(b);var c=k(b);if(b!==
c)throw RangeError("Wrong length!");return c}},function(c,e,b){e.f=b(5)},function(c,e,b){var g=b(121),k=b(50);c.exports=b(63)("Map",function(b){return function(){return b(this,0<arguments.length?arguments[0]:void 0)}},{get:function(b){return(b=g.getEntry(k(this,"Map"),b))&&b.v},set:function(b,c){return g.def(k(this,"Map"),0===b?0:b,c)}},g,!0)},function(c,e,b){b(7)&&"g"!=/./g.flags&&b(8).f(RegExp.prototype,"flags",{configurable:!0,get:b(65)})},function(c,e,b){var g=b(121),k=b(50);c.exports=b(63)("Set",
function(b){return function(){return b(this,0<arguments.length?arguments[0]:void 0)}},{add:function(b){return g.def(k(this,"Set"),b=0===b?0:b,b)}},g)},function(c,e,b){var g;e=b(23)(0);var k=b(14),h=b(33),d=b(132),f=b(123),l=b(4),n=b(3),p=b(50),q=h.getWeak,r=Object.isExtensible,s=f.ufstore,v={},z=function(b){return function(){return b(this,0<arguments.length?arguments[0]:void 0)}},w={get:function(b){if(l(b)){var c=q(b);return!0===c?s(p(this,"WeakMap")).get(b):c?c[this._i]:void 0}},set:function(b,c){return f.def(p(this,
"WeakMap"),b,c)}},B=c.exports=b(63)("WeakMap",z,w,f,!0,!0);n(function(){return 7!=(new B).set((Object.freeze||Object)(v),7).get(v)})&&(g=f.getConstructor(z,"WeakMap"),d(g.prototype,w),h.NEED=!0,e(["delete","has","get","set"],function(b){var c=B.prototype,d=c[b];k(c,b,function(c,e){if(l(c)&&!r(c)){this._f||(this._f=new g);var f=this._f[b](c,e);return"set"==b?this:f}return d.call(this,c,e)})}))},,function(c,e,b){(function(c){function e(b,c,g){b[c]||Object[h](b,c,{writable:!0,configurable:!0,value:g})}
if(b(358),b(155),b(156),c._babelPolyfill)throw Error("only one instance of babel-polyfill is allowed");c._babelPolyfill=!0;var h="defineProperty";e(String.prototype,"padLeft","".padStart);e(String.prototype,"padRight","".padEnd);"pop reverse shift keys values entries indexOf every some forEach map filter find findIndex includes join slice concat push splice unshift sort lastIndexOf reduce reduceRight copyWithin fill".split(" ").forEach(function(b){[][b]&&e(Array,b,Function.call.bind([][b]))})}).call(e,
b(58))},,function(c,e,b){e=b(360);"string"==typeof e&&(e=[[c.i,e,""]]);b(113)(e,{attrs:{class:"formBuilder-injected-style"}});e.locals&&(c.exports=e.locals)},,function(c,e,b){function g(b){return b&&b.__esModule?b:{default:b}}var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};b(150);b(61);b(152);c=b(29);var h=g(c);c=b(19);var d=g(c);c=b(53);var f=
g(c);c=b(60);var l=g(c);c=b(6);var n=g(c);b(59);c=b(35);var p=g(c),q=b(52),r=function(){function b(){var c=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var g={layout:l.default,layoutTemplates:{},controls:{},controlConfig:{},destroyTemplate:!0,container:!1,dataType:"json",formData:!1,i18n:Object.assign({},q.defaultI18n),messages:{formRendered:"Form Rendered",noFormData:"No form data.",other:"Other",
selectColor:"Select Color",invalidControl:"Invalid control"},onRender:function(){},render:!0,templates:{},notify:{error:function(b){return console.error(b)},success:function(b){},warning:function(b){return console.warn(b)}}};this.options=$.extend(!0,g,e);h.default.current||h.default.init(this.options.i18n);(function(){if(!c.options.formData)return!1;"object"!==k(c.options.formData)&&(c.options.formData={xml:function(b){return d.default.parseXML(b)},json:function(b){return window.JSON.parse(b)}}[c.options.dataType](c.options.formData)||
!1)})();n.default.controlConfig=e.controlConfig||{};n.default.loadCustom(e.controls);Object.keys(this.options.templates).length&&p.default.register(this.options.templates);"function"!=typeof Element.prototype.appendFormFields&&(Element.prototype.appendFormFields=function(b){Array.isArray(b)||(b=[b]);var c=d.default.markup("div",b,{className:"rendered-form"});this.appendChild(c);b.forEach(function(b){c.appendChild(b);b.dispatchEvent(f.default.fieldRendered)})});"function"!=typeof Element.prototype.emptyContainer&&
(Element.prototype.emptyContainer=function(){for(;this.lastChild;)this.removeChild(this.lastChild)})}return b.prototype.santizeField=function(b){var c=Object.assign({},b);return c.className=b.className||b.class||null,delete c.class,b.values&&(b.values=b.values.map(function(b){return d.default.trimObj(b)})),d.default.trimObj(c)},b.prototype.getElement=function(b){return b=this.options.container||b,b instanceof jQuery?b=b[0]:"string"==typeof b&&(b=document.querySelector(b)),b},b.prototype.render=function(){var b=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,c=this.options,b=this.getElement(b),e=[];if(c.formData){for(var f=new c.layout(c.layoutTemplates),h=0;h<c.formData.length;h++){var g=c.formData[h],k=this.santizeField(g),g=n.default.getClass(g.type,g.subtype),k=f.build(g,k);e.push(k)}c.render&&b?(b.emptyContainer(),b.appendFormFields(e),c.onRender&&c.onRender(),c.notify.success(c.messages.formRendered)):this.markup=function(b){return b.map(function(b){return b.innerHTML}).join("")}(e)}else b=
d.default.markup("div",c.messages.noFormData,{className:"no-form-data"}),e.push(b),c.notify.error(c.messages.noFormData);return this},b.prototype.renderControl=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,c=this.options,d=c.formData;if(!d||Array.isArray(d))throw Error("To render a single element, please specify a single object of formData for the field in question");var e=this.santizeField(d),f=new c.layout,d=n.default.getClass(d.type,d.subtype),e=f.build(d,e,c.forceTemplate||
"hidden");return b.appendFormFields(e),c.notify.success(c.messages.formRendered),this},b}();!function(b){b.fn.formRender=function(b){var c=this,d=new r(b);c.each(function(b){return d.render(c[b])})};b.fn.controlRender=function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c.formData=b;c.dataType="string"==typeof b?"json":"xml";var d=new r(c),e=this;return e.each(function(b){return d.renderControl(e[b])}),e}}(jQuery)},function(c,e,b){(function(b){!function(b){function e(b,c,d,
h){c=Object.create((c&&c.prototype instanceof f?c:f).prototype);h=new w(h||[]);return c._invoke=r(b,d,h),c}function d(b,c,d){try{return{type:"normal",arg:b.call(c,d)}}catch(e){return{type:"throw",arg:e}}}function f(){}function g(){}function n(){}function p(b){["next","throw","return"].forEach(function(c){b[c]=function(b){return this._invoke(c,b)}})}function q(c){function e(b,f,h,g){b=d(c[b],c,f);if("throw"!==b.type){var k=b.arg;return(b=k.value)&&"object"==typeof b&&C.call(b,"__await")?Promise.resolve(b.__await).then(function(b){e("next",
b,h,g)},function(b){e("throw",b,h,g)}):Promise.resolve(b).then(function(b){k.value=b;h(k)},g)}g(b.arg)}"object"==typeof b.process&&b.process.domain&&(e=b.process.domain.bind(e));var f;this._invoke=function(b,c){function d(){return new Promise(function(d,f){e(b,c,d,f)})}return f=f?f.then(d,d):d()}}function r(b,c,e){var f=Q;return function(h,g){if(f==N)throw Error("Generator is already running");if(f==R){if("throw"===h)throw g;return E()}e.method=h;for(e.arg=g;;){var k=e.delegate;if(k&&(k=s(k,e))){if(k===
T)continue;return k}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(f==Q)throw f=R,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);f=N;k=d(b,c,e);if("normal"===k.type){if(f=e.done?R:O,k.arg===T)continue;return{value:k.arg,done:e.done}}"throw"===k.type&&(f=R,e.method="throw",e.arg=k.arg)}}}function s(b,c){var e=b.iterator[c.method];if(e===u){if(c.delegate=null,"throw"===c.method){if(b.iterator.return&&(c.method="return",c.arg=u,s(b,c),"throw"===
c.method))return T;c.method="throw";c.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}e=d(e,b.iterator,c.arg);return"throw"===e.type?(c.method="throw",c.arg=e.arg,c.delegate=null,T):(e=e.arg)?e.done?(c[b.resultName]=e.value,c.next=b.nextLoc,"return"!==c.method&&(c.method="next",c.arg=u),c.delegate=null,T):e:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,T)}function v(b){var c={tryLoc:b[0]};1 in b&&(c.catchLoc=b[1]);2 in b&&(c.finallyLoc=
b[2],c.afterLoc=b[3]);this.tryEntries.push(c)}function z(b){var c=b.completion||{};c.type="normal";delete c.arg;b.completion=c}function w(b){this.tryEntries=[{tryLoc:"root"}];b.forEach(v,this);this.reset(!0)}function B(b){if(b){var c=b[A];if(c)return c.call(b);if("function"==typeof b.next)return b;if(!isNaN(b.length)){var d=-1,c=function M(){for(;++d<b.length;)if(C.call(b,d))return M.value=b[d],M.done=!1,M;return M.value=u,M.done=!0,M};return c.next=c}}return{next:E}}function E(){return{value:u,done:!0}}
var u,D=Object.prototype,C=D.hasOwnProperty,F="function"==typeof Symbol?Symbol:{},A=F.iterator||"@@iterator",H=F.asyncIterator||"@@asyncIterator",L=F.toStringTag||"@@toStringTag",F="object"==typeof c,J=b.regeneratorRuntime;if(J)return void(F&&(c.exports=J));J=b.regeneratorRuntime=F?c.exports:{};J.wrap=e;var Q="suspendedStart",O="suspendedYield",N="executing",R="completed",T={},F={};F[A]=function(){return this};var W=Object.getPrototypeOf;(W=W&&W(W(B([]))))&&W!==D&&C.call(W,A)&&(F=W);var ba=n.prototype=
f.prototype=Object.create(F);g.prototype=ba.constructor=n;n.constructor=g;n[L]=g.displayName="GeneratorFunction";J.isGeneratorFunction=function(b){b="function"==typeof b&&b.constructor;return!!b&&(b===g||"GeneratorFunction"===(b.displayName||b.name))};J.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,n):(b.__proto__=n,!(L in b)&&(b[L]="GeneratorFunction")),b.prototype=Object.create(ba),b};J.awrap=function(b){return{__await:b}};p(q.prototype);q.prototype[H]=function(){return this};
J.AsyncIterator=q;J.async=function(b,c,d,f){var g=new q(e(b,c,d,f));return J.isGeneratorFunction(c)?g:g.next().then(function(b){return b.done?b.value:g.next()})};p(ba);ba[L]="Generator";ba[A]=function(){return this};ba.toString=function(){return"[object Generator]"};J.keys=function(b){var c=[],d;for(d in b)c.push(d);return c.reverse(),function M(){for(;c.length;){var d=c.pop();if(d in b)return M.value=d,M.done=!1,M}return M.done=!0,M}};J.values=B;w.prototype={constructor:w,reset:function(b){if(this.prev=
0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(z),!b)for(var c in this)"t"===c.charAt(0)&&C.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=u)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(b){function c(e,f){return h.type="throw",h.arg=b,d.next=e,f&&(d.method="next",d.arg=u),!!f}if(this.done)throw b;for(var d=this,e=this.tryEntries.length-
1;0<=e;--e){var f=this.tryEntries[e],h=f.completion;if("root"===f.tryLoc)return c("end");if(f.tryLoc<=this.prev){var g=C.call(f,"catchLoc"),k=C.call(f,"finallyLoc");if(g&&k){if(this.prev<f.catchLoc)return c(f.catchLoc,!0);if(this.prev<f.finallyLoc)return c(f.finallyLoc)}else if(g){if(this.prev<f.catchLoc)return c(f.catchLoc,!0)}else{if(!k)throw Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return c(f.finallyLoc)}}}},abrupt:function(b,c){for(var d,e=this.tryEntries.length-
1;0<=e;--e)if(d=this.tryEntries[e],d.tryLoc<=this.prev&&C.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var f=d;break}f&&("break"===b||"continue"===b)&&f.tryLoc<=c&&c<=f.finallyLoc&&(f=null);d=f?f.completion:{};return d.type=b,d.arg=c,f?(this.method="next",this.next=f.finallyLoc,T):this.complete(d)},complete:function(b,c){if("throw"===b.type)throw b.arg;return"break"===b.type||"continue"===b.type?this.next=b.arg:"return"===b.type?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):"normal"===
b.type&&c&&(this.next=c),T},finish:function(b){for(var c,d=this.tryEntries.length-1;0<=d;--d)if(c=this.tryEntries[d],c.finallyLoc===b)return this.complete(c.completion,c.afterLoc),z(c),T},catch:function(b){for(var c,d=this.tryEntries.length-1;0<=d;--d)if(c=this.tryEntries[d],c.tryLoc===b){b=c.completion;if("throw"===b.type){var e=b.arg;z(c)}return e}throw Error("illegal catch attempt");},delegateYield:function(b,c,d){return this.delegate={iterator:B(b),resultName:c,nextLoc:d},"next"===this.method&&
(this.arg=u),T}}}("object"==typeof b?b:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,b(58))},function(c,e,b){b(166);c.exports=b(24).RegExp.escape},function(c,e,b){var g=b(4),k=b(67),h=b(5)("species");c.exports=function(b){var c;return k(b)&&(c=b.constructor,"function"==typeof c&&(c===Array||k(c.prototype))&&(c=void 0),g(c)&&null===(c=c[h])&&(c=void 0)),void 0===c?Array:c}},function(c,e,b){e=b(3);var g=Date.prototype.getTime,k=Date.prototype.toISOString,h=function(b){return 9<
b?b:"0"+b};c.exports=e(function(){return"0385-07-25T07:06:39.999Z"!=k.call(new Date(-50000000000001))})||!e(function(){k.call(new Date(NaN))})?function(){if(!isFinite(g.call(this)))throw RangeError("Invalid time value");var b=this.getUTCFullYear(),c=this.getUTCMilliseconds(),e=0>b?"-":9999<b?"+":"";return e+("00000"+_Mathabs(b)).slice(e?-6:-4)+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"."+(99<c?c:"0"+h(c))+
"Z"}:k},function(c,e,b){var g=b(1),k=b(28);c.exports=function(b){if("string"!==b&&"number"!==b&&"default"!==b)throw TypeError("Incorrect hint");return k(g(this),"number"!=b)}},function(c,e,b){var g=b(34),k=b(71),h=b(57);c.exports=function(b){var c=g(b),e=k.f;if(e)for(var n,e=e(b),p=h.f,q=0;e.length>q;)p.call(b,n=e[q++])&&c.push(n);return c}},function(c,e,b){var g=b(34),k=b(16);c.exports=function(b,c){for(var e,l=k(b),n=g(l),p=n.length,q=0;p>q;)if(l[e=n[q++]]===c)return e}},function(c,e,b){var g=b(163),
k=b(66),h=b(11);c.exports=function(){for(var b=h(this),c=arguments.length,e=Array(c),n=0,p=g._,q=!1;c>n;)(e[n]=arguments[n++])===p&&(q=!0);return function(){var h,g=arguments.length,n=0,z=0;if(!q&&!g)return k(b,e,this);if(h=e.slice(),q)for(;c>n;n++)h[n]===p&&(h[n]=arguments[z++]);for(;g>z;)h.push(arguments[z++]);return k(b,h,this)}}},function(c,e,b){c.exports=b(2)},function(c){c.exports=function(c,b){var g=b===Object(b)?function(c){return b[c]}:b;return function(b){return(b+"").replace(c,g)}}},function(c){c.exports=
Object.is||function(c,b){return c===b?0!==c||1/c==1/b:c!=c&&b!=b}},function(c,e,b){c=b(0);var g=b(164)(/[\\^$*+?.()|[\]{}]/g,"\\$\x26");c(c.S,"RegExp",{escape:function(b){return g(b)}})},function(c,e,b){c=b(0);c(c.P,"Array",{copyWithin:b(117)});b(32)("copyWithin")},function(c,e,b){c=b(0);var g=b(23)(4);c(c.P+c.F*!b(22)([].every,!0),"Array",{every:function(b,c){return g(this,b,c)}})},function(c,e,b){c=b(0);c(c.P,"Array",{fill:b(85)});b(32)("fill")},function(c,e,b){c=b(0);var g=b(23)(2);c(c.P+c.F*!b(22)([].filter,
!0),"Array",{filter:function(b,c){return g(this,b,c)}})},function(c,e,b){c=b(0);var g=b(23)(6),k=!0;"findIndex"in[]&&[,].findIndex(function(){k=!1});c(c.P+c.F*k,"Array",{findIndex:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0)}});b(32)("findIndex")},function(c,e,b){c=b(0);var g=b(23)(5),k=!0;"find"in[]&&[,].find(function(){k=!1});c(c.P+c.F*k,"Array",{find:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0)}});b(32)("find")},function(c,e,b){c=b(0);var g=b(23)(0);
b=b(22)([].forEach,!0);c(c.P+c.F*!b,"Array",{forEach:function(b,c){return g(this,b,c)}})},function(c,e,b){var g=b(21);c=b(0);var k=b(10),h=b(127),d=b(93),f=b(9),l=b(87),n=b(109);c(c.S+c.F*!b(69)(function(b){Array.from(b)}),"Array",{from:function(b){var c,e,s;s=k(b);e="function"==typeof this?this:Array;c=arguments.length;var v=1<c?arguments[1]:void 0,z=void 0!==v,w=0,B=n(s);if(z&&(v=g(v,2<c?arguments[2]:void 0,2)),void 0==B||e==Array&&d(B))for(c=f(s.length),e=new e(c);c>w;w++)l(e,w,z?v(s[w],w):s[w]);
else for(s=B.call(s),e=new e;!(c=s.next()).done;w++)l(e,w,z?h(s,v,[c.value,w],!0):c.value);return e.length=w,e}})},function(c,e,b){c=b(0);var g=b(62)(!1),k=[].indexOf,h=!!k&&0>1/[1].indexOf(1,-0);c(c.P+c.F*(h||!b(22)(k)),"Array",{indexOf:function(b){return h?k.apply(this,arguments)||0:g(this,b,arguments[1])}})},function(c,e,b){c=b(0);c(c.S,"Array",{isArray:b(67)})},function(c,e,b){c=b(0);var g=b(16),k=[].join;c(c.P+c.F*(b(56)!=Object||!b(22)(k)),"Array",{join:function(b){return k.call(g(this),void 0===
b?",":b)}})},function(c,e,b){c=b(0);var g=b(16),k=b(27),h=b(9),d=[].lastIndexOf,f=!!d&&0>1/[1].lastIndexOf(1,-0);c(c.P+c.F*(f||!b(22)(d)),"Array",{lastIndexOf:function(b){if(f)return d.apply(this,arguments)||0;var c=g(this),e=h(c.length),q=e-1;1<arguments.length&&(q=_Mathmin(q,k(arguments[1])));for(0>q&&(q=e+q);0<=q;q--)if(q in c&&c[q]===b)return q||0;return-1}})},function(c,e,b){c=b(0);var g=b(23)(1);c(c.P+c.F*!b(22)([].map,!0),"Array",{map:function(b,c){return g(this,b,c)}})},function(c,e,b){c=
b(0);var g=b(87);c(c.S+c.F*b(3)(function(){function b(){}return!(Array.of.call(b)instanceof b)}),"Array",{of:function(){for(var b=0,c=arguments.length,d=new ("function"==typeof this?this:Array)(c);c>b;)g(d,b,arguments[b++]);return d.length=c,d}})},function(c,e,b){c=b(0);var g=b(119);c(c.P+c.F*!b(22)([].reduceRight,!0),"Array",{reduceRight:function(b){return g(this,b,arguments.length,arguments[1],!0)}})},function(c,e,b){c=b(0);var g=b(119);c(c.P+c.F*!b(22)([].reduce,!0),"Array",{reduce:function(b){return g(this,
b,arguments.length,arguments[1],!1)}})},function(c,e,b){c=b(0);var g=b(91),k=b(20),h=b(45),d=b(9),f=[].slice;c(c.P+c.F*b(3)(function(){g&&f.call(g)}),"Array",{slice:function(b,c){var e=d(this.length),g=k(this);if(c=void 0===c?e:c,"Array"==g)return f.call(this,b,c);for(var r=h(b,e),e=h(c,e),e=d(e-r),s=Array(e),v=0;v<e;v++)s[v]="String"==g?this.charAt(r+v):this[r+v];return s}})},function(c,e,b){c=b(0);var g=b(23)(3);c(c.P+c.F*!b(22)([].some,!0),"Array",{some:function(b,c){return g(this,b,c)}})},function(c,
e,b){c=b(0);var g=b(11),k=b(10);e=b(3);var h=[].sort,d=[1,2,3];c(c.P+c.F*(e(function(){d.sort(void 0)})||!e(function(){d.sort(null)})||!b(22)(h)),"Array",{sort:function(b){return void 0===b?h.call(k(this)):h.call(k(this),g(b))}})},function(c,e,b){b(44)("Array")},function(c,e,b){c=b(0);c(c.S,"Date",{now:function(){return(new Date).getTime()}})},function(c,e,b){c=b(0);b=b(158);c(c.P+c.F*(Date.prototype.toISOString!==b),"Date",{toISOString:b})},function(c,e,b){c=b(0);var g=b(10),k=b(28);c(c.P+c.F*b(3)(function(){return null!==
(new Date(NaN)).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var b=g(this),c=k(b);return"number"!=typeof c||isFinite(c)?b.toISOString():null}})},function(c,e,b){c=b(5)("toPrimitive");e=Date.prototype;c in e||b(13)(e,c,b(159))},function(c,e,b){c=Date.prototype;var g=c.toString,k=c.getTime;"Invalid Date"!=new Date(NaN)+""&&b(14)(c,"toString",function(){var b=k.call(this);return b===b?g.call(this):"Invalid Date"})},function(c,e,b){c=b(0);c(c.P,
"Function",{bind:b(120)})},function(c,e,b){var g=b(4),k=b(18);c=b(5)("hasInstance");e=Function.prototype;c in e||b(8).f(e,c,{value:function(b){if("function"!=typeof this||!g(b))return!1;if(!g(this.prototype))return b instanceof this;for(;b=k(b);)if(this.prototype===b)return!0;return!1}})},function(c,e,b){c=b(8).f;e=Function.prototype;var g=/^\s*function ([^ (]*)/;"name"in e||b(7)&&c(e,"name",{configurable:!0,get:function(){try{return(""+this).match(g)[1]}catch(b){return""}}})},function(c,e,b){c=b(0);
var g=b(130),k=_Mathsqrt;b=Math.acosh;c(c.S+c.F*!(b&&710==_Mathfloor(b(Number.MAX_VALUE))&&b(1/0)==1/0),"Math",{acosh:function(b){return 1>(b=+b)?NaN:9.490626562425156E7<b?_Mathlog(b)+_MathLN:g(b-1+k(b-1)*k(b+1))}})},function(c,e,b){function g(b){return isFinite(b=+b)&&0!=b?0>b?-g(-b):_Mathlog(b+_Mathsqrt(b*b+1)):b}c=b(0);e=Math.asinh;c(c.S+c.F*!(e&&0<1/e(0)),"Math",{asinh:g})},function(c,e,b){c=b(0);e=Math.atanh;c(c.S+c.F*!(e&&0>1/e(-0)),"Math",{atanh:function(b){return 0==(b=+b)?b:_Mathlog((1+b)/
(1-b))/2}})},function(c,e,b){c=b(0);var g=b(97);c(c.S,"Math",{cbrt:function(b){return g(b=+b)*_Mathpow(_Mathabs(b),1/3)}})},function(c,e,b){c=b(0);c(c.S,"Math",{clz32:function(b){return(b>>>=0)?31-_Mathfloor(_Mathlog(b+.5)*Math.LOG2E):32}})},function(c,e,b){c=b(0);var g=_Mathexp;c(c.S,"Math",{cosh:function(b){return(g(b=+b)+g(-b))/2}})},function(c,e,b){c=b(0);b=b(96);c(c.S+c.F*(b!=_Mathexpm),"Math",{expm1:b})},function(c,e,b){c=b(0);c(c.S,"Math",{fround:b(129)})},function(c,e,b){c=b(0);c(c.S,"Math",
{hypot:function(){for(var b,c,e=0,d=0,f=arguments.length,l=0;d<f;)b=_Mathabs(arguments[d++]),l<b?(c=l/b,e=e*c*c+1,l=b):0<b?(c=b/l,e+=c*c):e+=b;return l==1/0?1/0:l*_Mathsqrt(e)}})},function(c,e,b){c=b(0);var g=Math.imul;c(c.S+c.F*b(3)(function(){return-5!=g(4294967295,5)||2!=g.length}),"Math",{imul:function(b,c){var d=+b,e=+c,g=65535&d,n=65535&e;return 0|g*n+((65535&d>>>16)*n+g*(65535&e>>>16)<<16>>>0)}})},function(c,e,b){c=b(0);c(c.S,"Math",{log10:function(b){return _Mathlog(b)*Math.LOG10E}})},function(c,
e,b){c=b(0);c(c.S,"Math",{log1p:b(130)})},function(c,e,b){c=b(0);c(c.S,"Math",{log2:function(b){return _Mathlog(b)/_MathLN}})},function(c,e,b){c=b(0);c(c.S,"Math",{sign:b(97)})},function(c,e,b){c=b(0);var g=b(96),k=_Mathexp;c(c.S+c.F*b(3)(function(){return!0}),"Math",{sinh:function(b){return 1>_Mathabs(b=+b)?(g(b)-g(-b))/2:(k(b-1)-k(-b-1))*(Math.E/2)}})},function(c,e,b){c=b(0);var g=b(96),k=_Mathexp;c(c.S,"Math",{tanh:function(b){var c=g(b=+b),e=g(-b);return c==1/0?1:e==1/0?-1:(c-e)/(k(b)+k(-b))}})},
function(c,e,b){c=b(0);c(c.S,"Math",{trunc:function(b){return(0<b?_Mathfloor:_Mathceil)(b)}})},function(c,e,b){c=b(2);e=b(12);var g=b(20),k=b(92),h=b(28),d=b(3),f=b(41).f,l=b(17).f,n=b(8).f,p=b(49).trim,q=c.Number,r=q,s=q.prototype,v="Number"==g(b(40)(s)),z="trim"in String.prototype,w=function(b){var c=h(b,!1);if("string"==typeof c&&2<c.length){var c=z?c.trim():p(c,3),d;b=c.charCodeAt(0);if(43===b||45===b){if(88===(d=c.charCodeAt(2))||120===d)return NaN}else if(48===b){switch(c.charCodeAt(1)){case 66:case 98:d=
2;b=49;break;case 79:case 111:d=8;b=55;break;default:return+c}for(var e,c=c.slice(2),f=0,g=c.length;f<g;f++)if(48>(e=c.charCodeAt(f))||e>b)return NaN;return parseInt(c,d)}}return+c};if(!q(" 0o1")||!q("0b1")||q("+0x1")){for(var q=function(b){var c=1>arguments.length?0:b,e=this;return e instanceof q&&(v?d(function(){s.valueOf.call(e)}):"Number"!=g(e))?k(new r(w(c)),e,q):w(c)},B,f=b(7)?f(r):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger".split(" "),
E=0;f.length>E;E++)e(r,B=f[E])&&!e(q,B)&&n(q,B,l(r,B));q.prototype=s;s.constructor=q;b(14)(c,"Number",q)}},function(c,e,b){c=b(0);c(c.S,"Number",{EPSILON:2.220446049250313E-16})},function(c,e,b){c=b(0);var g=b(2).isFinite;c(c.S,"Number",{isFinite:function(b){return"number"==typeof b&&g(b)}})},function(c,e,b){c=b(0);c(c.S,"Number",{isInteger:b(126)})},function(c,e,b){c=b(0);c(c.S,"Number",{isNaN:function(b){return b!=b}})},function(c,e,b){c=b(0);var g=b(126);c(c.S,"Number",{isSafeInteger:function(b){return g(b)&&
9007199254740991>=_Mathabs(b)}})},function(c,e,b){c=b(0);c(c.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(c,e,b){c=b(0);c(c.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(c,e,b){c=b(0);b=b(138);c(c.S+c.F*(Number.parseFloat!=b),"Number",{parseFloat:b})},function(c,e,b){c=b(0);b=b(139);c(c.S+c.F*(Number.parseInt!=b),"Number",{parseInt:b})},function(c,e,b){c=b(0);var g=b(27),k=b(116),h=b(104),d=(1).toFixed,f=_Mathfloor,l=[0,0,0,0,0,0],n=function(b,c){for(var d=-1,e=c;6>++d;)e+=
b*l[d],l[d]=e%1E7,e=f(e/1E7)},p=function(b){for(var c=6,d=0;0<=--c;)d+=l[c],l[c]=f(d/b),d=d%b*1E7},q=function(){for(var b=6,c="";0<=--b;)if(""!=c||0==b||0!==l[b])var d=l[b]+"",c=""==c?d:c+h.call("0",7-d.length)+d;return c},r=function(b,c,d){return 0===c?d:1==c%2?r(b,c-1,d*b):r(b*b,c/2,d)};c(c.P+c.F*("0.000"!==(8E-5).toFixed(3)||"1"!==(.9).toFixed(0)||"1.25"!==(1.255).toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)||!b(3)(function(){d.call({})})),"Number",{toFixed:function(b){var c,
d,e,f=k(this,"Number.toFixed: incorrect invocation!");b=g(b);var l="",u="0";if(0>b||20<b)throw RangeError("Number.toFixed: incorrect invocation!");if(f!=f)return"NaN";if(-1E21>=f||1E21<=f)return f+"";if(0>f&&(l="-",f=-f),1E-21<f){for(var u=0,D=f*r(2,69,1);4096<=D;)u+=12,D/=4096;for(;2<=D;)u+=1,D/=2;if(c=u-69,d=0>c?f*r(2,-c,1):f/r(2,c,1),d*=4503599627370496,0<(c=52-c)){n(0,d);for(d=b;7<=d;)n(1E7,0),d-=7;n(r(10,d,1),0);for(d=c-1;23<=d;)p(8388608),d-=23;p(1<<d);n(1,1);p(2);u=q()}else n(0,d),n(1<<-c,
0),u=q()+h.call("0",b)}return 0<b?(e=u.length,u=l+(e<=b?"0."+h.call("0",b-e)+u:u.slice(0,e-b)+"."+u.slice(e-b))):u=l+u,u}})},function(c,e,b){c=b(0);e=b(3);var g=b(116),k=(1).toPrecision;c(c.P+c.F*(e(function(){return"1"!==k.call(1,void 0)})||!e(function(){k.call({})})),"Number",{toPrecision:function(b){var c=g(this,"Number#toPrecision: incorrect invocation!");return void 0===b?k.call(c):k.call(c,b)}})},function(c,e,b){c=b(0);c(c.S+c.F,"Object",{assign:b(132)})},function(c,e,b){c=b(0);c(c.S,"Object",
{create:b(40)})},function(c,e,b){c=b(0);c(c.S+c.F*!b(7),"Object",{defineProperties:b(133)})},function(c,e,b){c=b(0);c(c.S+c.F*!b(7),"Object",{defineProperty:b(8).f})},function(c,e,b){var g=b(4),k=b(33).onFreeze;b(26)("freeze",function(b){return function(c){return b&&g(c)?b(k(c)):c}})},function(c,e,b){var g=b(16),k=b(17).f;b(26)("getOwnPropertyDescriptor",function(){return function(b,c){return k(g(b),c)}})},function(c,e,b){b(26)("getOwnPropertyNames",function(){return b(134).f})},function(c,e,b){var g=
b(10),k=b(18);b(26)("getPrototypeOf",function(){return function(b){return k(g(b))}})},function(c,e,b){var g=b(4);b(26)("isExtensible",function(b){return function(c){return!!g(c)&&(!b||b(c))}})},function(c,e,b){var g=b(4);b(26)("isFrozen",function(b){return function(c){return!g(c)||!!b&&b(c)}})},function(c,e,b){var g=b(4);b(26)("isSealed",function(b){return function(c){return!g(c)||!!b&&b(c)}})},function(c,e,b){c=b(0);c(c.S,"Object",{is:b(165)})},function(c,e,b){var g=b(10),k=b(34);b(26)("keys",function(){return function(b){return k(g(b))}})},
function(c,e,b){var g=b(4),k=b(33).onFreeze;b(26)("preventExtensions",function(b){return function(c){return b&&g(c)?b(k(c)):c}})},function(c,e,b){var g=b(4),k=b(33).onFreeze;b(26)("seal",function(b){return function(c){return b&&g(c)?b(k(c)):c}})},function(c,e,b){c=b(0);c(c.S,"Object",{setPrototypeOf:b(100).set})},function(c,e,b){var g=b(55);({})[b(5)("toStringTag")]="z";b(14)(Object.prototype,"toString",function(){return"[object "+g(this)+"]"},!0)},function(c,e,b){c=b(0);b=b(138);c(c.G+c.F*(parseFloat!=
b),{parseFloat:b})},function(c,e,b){c=b(0);b=b(139);c(c.G+c.F*(parseInt!=b),{parseInt:b})},function(c,e,b){var g,k,h,d;c=b(39);var f=b(2),l=b(21),n=b(55);e=b(0);var p=b(4),q=b(11),r=b(37),s=b(38),v=b(75),z=b(106).set,w=b(98)(),B=b(99),E=b(140),u=b(141),D=f.TypeError,C=f.process,F=f.Promise,A="process"==n(C),H=function(){},L=k=B.f,n=!!function(){try{var c=F.resolve(1),d=(c.constructor={})[b(5)("species")]=function(b){b(H,H)};return(A||"function"==typeof PromiseRejectionEvent)&&c.then(H)instanceof d}catch(e){}}(),
J=c?function(b,c){return b===c||b===F&&c===d}:function(b,c){return b===c},Q=function(b){var c;return p(b)&&"function"==typeof(c=b.then)&&c},O=function(b,c){if(!b._n){b._n=!0;var d=b._c;w(function(){for(var e=b._v,f=1==b._s,h=0;d.length>h;){var g=d[h++],k=void 0,l=void 0,n=f?g.ok:g.fail,p=g.resolve,q=g.reject,r=g.domain;try{n?(!f&&(2==b._h&&T(b),b._h=1),!0===n?k=e:(r&&r.enter(),k=n(e),r&&r.exit()),k===g.promise?q(D("Promise-chain cycle")):(l=Q(k))?l.call(k,p,q):p(k)):q(e)}catch(s){q(s)}!0}b._c=[];
b._n=!1;c&&!b._h&&N(b)})}},N=function(b){z.call(f,function(){var c,d,e,h=b._v,g=R(b);if(g&&(c=E(function(){A?C.emit("unhandledRejection",h,b):(d=f.onunhandledrejection)?d({promise:b,reason:h}):(e=f.console)&&e.error&&e.error("Unhandled promise rejection",h)}),b._h=A||R(b)?2:1),b._a=void 0,g&&c.e)throw c.v;})},R=function(b){if(1==b._h)return!1;var c;b=b._a||b._c;for(var d=0;b.length>d;)if(c=b[d++],c.fail||!R(c.promise))return!1;return!0},T=function(b){z.call(f,function(){var c;A?C.emit("rejectionHandled",
b):(c=f.onrejectionhandled)&&c({promise:b,reason:b._v})})},W=function(b){var c=this;c._d||(c._d=!0,c=c._w||c,c._v=b,c._s=2,!c._a&&(c._a=c._c.slice()),O(c,!0))},ba=function(b){var c,d=this;if(!d._d){d._d=!0;d=d._w||d;try{if(d===b)throw D("Promise can't be resolved itself");(c=Q(b))?w(function(){var e={_w:d,_d:!1};try{c.call(b,l(ba,e,1),l(W,e,1))}catch(f){W.call(e,f)}}):(d._v=b,d._s=1,O(d,!1))}catch(e){W.call({_w:d,_d:!1},e)}}};n||(F=function(b){r(this,F,"Promise","_h");q(b);g.call(this);try{b(l(ba,
this,1),l(W,this,1))}catch(c){W.call(this,c)}},g=function(){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1},g.prototype=b(43)(F.prototype,{then:function(b,c){var d=L(v(this,F));return d.ok="function"!=typeof b||b,d.fail="function"==typeof c&&c,d.domain=A?C.domain:void 0,this._c.push(d),this._a&&this._a.push(d),this._s&&O(this,!1),d.promise},catch:function(b){return this.then(void 0,b)}}),h=function(){var b=new g;this.promise=b;this.resolve=l(ba,b,1);this.reject=
l(W,b,1)},B.f=L=function(b){return J(F,b)?new h(b):k(b)});e(e.G+e.W+e.F*!n,{Promise:F});b(48)(F,"Promise");b(44)("Promise");d=b(24).Promise;e(e.S+e.F*!n,"Promise",{reject:function(b){var c=L(this);return(0,c.reject)(b),c.promise}});e(e.S+e.F*(c||!n),"Promise",{resolve:function(b){return b instanceof F&&J(b.constructor,this)?b:u(this,b)}});e(e.S+e.F*!(n&&b(69)(function(b){F.all(b).catch(H)})),"Promise",{all:function(b){var c=this,d=L(c),e=d.resolve,f=d.reject,h=E(function(){var d=[],h=0,g=1;s(b,!1,
function(b){var k=h++,l=!1;d.push(void 0);g++;c.resolve(b).then(function(b){l||(l=!0,d[k]=b,--g||e(d))},f)});--g||e(d)});return h.e&&f(h.v),d.promise},race:function(b){var c=this,d=L(c),e=d.reject,f=E(function(){s(b,!1,function(b){c.resolve(b).then(d.resolve,e)})});return f.e&&e(f.v),d.promise}})},function(c,e,b){c=b(0);var g=b(11),k=b(1),h=(b(2).Reflect||{}).apply,d=Function.apply;c(c.S+c.F*!b(3)(function(){h(function(){})}),"Reflect",{apply:function(b,c,e){b=g(b);e=k(e);return h?h(b,c,e):d.call(b,
c,e)}})},function(c,e,b){c=b(0);var g=b(40),k=b(11),h=b(1),d=b(4);e=b(3);var f=b(120),l=(b(2).Reflect||{}).construct,n=e(function(){function b(){}return!(l(function(){},[],b)instanceof b)}),p=!e(function(){l(function(){})});c(c.S+c.F*(n||p),"Reflect",{construct:function(b,c){k(b);h(c);var e=3>arguments.length?b:k(arguments[2]);if(p&&!n)return l(b,c,e);if(b==e){switch(c.length){case 0:return new b;case 1:return new b(c[0]);case 2:return new b(c[0],c[1]);case 3:return new b(c[0],c[1],c[2]);case 4:return new b(c[0],
c[1],c[2],c[3])}e=[null];return e.push.apply(e,c),new (f.apply(b,e))}var e=e.prototype,e=g(d(e)?e:Object.prototype),v=Function.apply.call(b,e,c);return d(v)?v:e}})},function(c,e,b){var g=b(8);c=b(0);var k=b(1),h=b(28);c(c.S+c.F*b(3)(function(){Reflect.defineProperty(g.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(b,c,e){k(b);c=h(c,!0);k(e);try{return g.f(b,c,e),!0}catch(n){return!1}}})},function(c,e,b){c=b(0);var g=b(17).f,k=b(1);c(c.S,"Reflect",{deleteProperty:function(b,c){var e=
g(k(b),c);return!(e&&!e.configurable)&&delete b[c]}})},function(c,e,b){c=b(0);var g=b(1),k=function(b){this._t=g(b);this._i=0;var c,e=this._k=[];for(c in b)e.push(c)};b(94)(k,"Object",function(){var b,c=this._k;do if(this._i>=c.length)return{value:void 0,done:!0};while(!((b=c[this._i++])in this._t));return{value:b,done:!1}});c(c.S,"Reflect",{enumerate:function(b){return new k(b)}})},function(c,e,b){var g=b(17);c=b(0);var k=b(1);c(c.S,"Reflect",{getOwnPropertyDescriptor:function(b,c){return g.f(k(b),
c)}})},function(c,e,b){c=b(0);var g=b(18),k=b(1);c(c.S,"Reflect",{getPrototypeOf:function(b){return g(k(b))}})},function(c,e,b){function g(b,c){var e,r,s=3>arguments.length?b:arguments[2];return l(b)===s?b[c]:(e=k.f(b,c))?d(e,"value")?e.value:void 0===e.get?void 0:e.get.call(s):f(r=h(b))?g(r,c,s):void 0}var k=b(17),h=b(18),d=b(12);c=b(0);var f=b(4),l=b(1);c(c.S,"Reflect",{get:g})},function(c,e,b){c=b(0);c(c.S,"Reflect",{has:function(b,c){return c in b}})},function(c,e,b){c=b(0);var g=b(1),k=Object.isExtensible;
c(c.S,"Reflect",{isExtensible:function(b){return g(b),!k||k(b)}})},function(c,e,b){c=b(0);c(c.S,"Reflect",{ownKeys:b(137)})},function(c,e,b){c=b(0);var g=b(1),k=Object.preventExtensions;c(c.S,"Reflect",{preventExtensions:function(b){g(b);try{return k&&k(b),!0}catch(c){return!1}}})},function(c,e,b){c=b(0);var g=b(100);g&&c(c.S,"Reflect",{setPrototypeOf:function(b,c){g.check(b,c);try{return g.set(b,c),!0}catch(d){return!1}}})},function(c,e,b){function g(b,c,e){var v,z,w=4>arguments.length?b:arguments[3];
z=h.f(n(b),c);if(!z){if(p(z=d(b)))return g(z,c,e,w);z=l(0)}return f(z,"value")?!1!==z.writable&&p(w)&&(v=h.f(w,c)||l(0),v.value=e,k.f(w,c,v),!0):void 0!==z.set&&(z.set.call(w,e),!0)}var k=b(8),h=b(17),d=b(18),f=b(12);c=b(0);var l=b(42),n=b(1),p=b(4);c(c.S,"Reflect",{set:g})},function(c,e,b){c=b(2);var g=b(92),k=b(8).f;e=b(41).f;var h=b(68),d=b(65),f=c.RegExp,l=f,n=f.prototype,p=/a/g,q=/a/g,r=new f(p)!==p;if(b(7)&&(!r||b(3)(function(){return q[b(5)("match")]=!1,f(p)!=p||f(q)==q||"/a/i"!=f(p,"i")}))){f=
function(b,c){var e=this instanceof f,k=h(b),p=void 0===c;return!e&&k&&b.constructor===f&&p?b:g(r?new l(k&&!p?b.source:b,c):l((k=b instanceof f)?b.source:b,k&&p?d.call(b):c),e?this:n,f)};e=e(l);for(var s=0;e.length>s;)!function(b){b in f||k(f,b,{configurable:!0,get:function(){return l[b]},set:function(c){l[b]=c}})}(e[s++]);n.constructor=f;f.prototype=n;b(14)(c,"RegExp",f)}b(44)("RegExp")},function(c,e,b){b(64)("match",1,function(b,c,e){return[function(d){var e=b(this),h=void 0==d?void 0:d[c];return void 0===
h?(new RegExp(d))[c](e+""):h.call(d,e)},e]})},function(c,e,b){b(64)("replace",2,function(b,c,e){return[function(d,f){var l=b(this),n=void 0==d?void 0:d[c];return void 0===n?e.call(l+"",d,f):n.call(d,l,f)},e]})},function(c,e,b){b(64)("search",1,function(b,c,e){return[function(d){var e=b(this),h=void 0==d?void 0:d[c];return void 0===h?(new RegExp(d))[c](e+""):h.call(d,e)},e]})},function(c,e,b){b(64)("split",2,function(c,e,h){var d=b(68),f=h,l=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,
-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length){var n=void 0===/()??/.exec("")[1];h=function(b,c){var e=this+"";if(void 0===b&&0===c)return[];if(!d(b))return f.call(e,b,c);var h,g,k,w,B,E=[],u=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.unicode?"u":"")+(b.sticky?"y":""),D=0,C=void 0===c?4294967295:c>>>0,F=new RegExp(b.source,u+"g");for(n||(h=new RegExp("^"+F.source+"$(?!\\s)",u));(g=F.exec(e))&&!((k=g.index+g[0].length)>
D&&(E.push(e.slice(D,g.index)),!n&&1<g.length&&g[0].replace(h,function(){for(B=1;B<arguments.length-2;B++)void 0===arguments[B]&&(g[B]=void 0)}),1<g.length&&g.index<e.length&&l.apply(E,g.slice(1)),w=g[0].length,D=k,E.length>=C));)F.lastIndex===g.index&&F.lastIndex++;return D===e.length?(w||!F.test(""))&&E.push(""):E.push(e.slice(D)),E.length>C?E.slice(0,C):E}}else"0".split(void 0,0).length&&(h=function(b,c){return void 0===b&&0===c?[]:f.call(this,b,c)});return[function(b,d){var f=c(this),l=void 0==
b?void 0:b[e];return void 0===l?h.call(f+"",b,d):l.call(b,f,d)},h]})},function(c,e,b){b(146);var g=b(1),k=b(65),h=b(7),d=/./.toString;c=function(c){b(14)(RegExp.prototype,"toString",c,!0)};b(3)(function(){return"/a/b"!=d.call({source:"a",flags:"b"})})?c(function(){var b=g(this);return"/".concat(b.source,"/","flags"in b?b.flags:!h&&b instanceof RegExp?k.call(b):void 0)}):"toString"!=d.name&&c(function(){return d.call(this)})},function(c,e,b){b(15)("anchor",function(b){return function(c){return b(this,
"a","name",c)}})},function(c,e,b){b(15)("big",function(b){return function(){return b(this,"big","","")}})},function(c,e,b){b(15)("blink",function(b){return function(){return b(this,"blink","","")}})},function(c,e,b){b(15)("bold",function(b){return function(){return b(this,"b","","")}})},function(c,e,b){c=b(0);var g=b(102)(!1);c(c.P,"String",{codePointAt:function(b){return g(this,b)}})},function(c,e,b){c=b(0);var g=b(9),k=b(103);c(c.P+c.F*b(90)("endsWith"),"String",{endsWith:function(b){var c=k(this,
b,"endsWith"),e=1<arguments.length?arguments[1]:void 0,l=g(c.length),e=void 0===e?l:_Mathmin(g(e),l),l=b+"";return c.slice(e-l.length,e)===l}})},function(c,e,b){b(15)("fixed",function(b){return function(){return b(this,"tt","","")}})},function(c,e,b){b(15)("fontcolor",function(b){return function(c){return b(this,"font","color",c)}})},function(c,e,b){b(15)("fontsize",function(b){return function(c){return b(this,"font","size",c)}})},function(c,e,b){c=b(0);var g=b(45),k=String.fromCharCode;b=String.fromCodePoint;
c(c.S+c.F*(!!b&&1!=b.length),"String",{fromCodePoint:function(){for(var b,c=[],e=arguments.length,l=0;e>l;){if(b=+arguments[l++],g(b,1114111)!==b)throw RangeError(b+" is not a valid code point");c.push(65536>b?k(b):k(55296+((b-=65536)>>10),b%1024+56320))}return c.join("")}})},function(c,e,b){c=b(0);var g=b(103);c(c.P+c.F*b(90)("includes"),"String",{includes:function(b){return!!~g(this,b,"includes").indexOf(b,1<arguments.length?arguments[1]:void 0)}})},function(c,e,b){b(15)("italics",function(b){return function(){return b(this,
"i","","")}})},function(c,e,b){var g=b(102)(!0);b(95)(String,"String",function(b){this._t=b+"";this._i=0},function(){var b,c=this._t,d=this._i;return d>=c.length?{value:void 0,done:!0}:(b=g(c,d),this._i+=b.length,{value:b,done:!1})})},function(c,e,b){b(15)("link",function(b){return function(c){return b(this,"a","href",c)}})},function(c,e,b){c=b(0);var g=b(16),k=b(9);c(c.S,"String",{raw:function(b){for(var c=g(b.raw),e=k(c.length),l=arguments.length,n=[],p=0;e>p;)n.push(c[p++]+""),p<l&&n.push(arguments[p]+
"");return n.join("")}})},function(c,e,b){c=b(0);c(c.P,"String",{repeat:b(104)})},function(c,e,b){b(15)("small",function(b){return function(){return b(this,"small","","")}})},function(c,e,b){c=b(0);var g=b(9),k=b(103);c(c.P+c.F*b(90)("startsWith"),"String",{startsWith:function(b){var c=k(this,b,"startsWith"),e=g(_Mathmin(1<arguments.length?arguments[1]:void 0,c.length)),l=b+"";return c.slice(e,e+l.length)===l}})},function(c,e,b){b(15)("strike",function(b){return function(){return b(this,"strike",
"","")}})},function(c,e,b){b(15)("sub",function(b){return function(){return b(this,"sub","","")}})},function(c,e,b){b(15)("sup",function(b){return function(){return b(this,"sup","","")}})},function(c,e,b){b(49)("trim",function(b){return function(){return b(this,3)}})},function(c,e,b){c=b(2);var g=b(12),k=b(7);e=b(0);var h=b(14),d=b(33).KEY,f=b(3),l=b(74),n=b(48),p=b(46),q=b(5),r=b(144),s=b(108),v=b(161),z=b(160),w=b(67),B=b(1),E=b(16),u=b(28),D=b(42),C=b(40),F=b(134),A=b(17),H=b(8),L=b(34),J=A.f,
Q=H.f,O=F.f,N=c.Symbol,R=c.JSON,T=R&&R.stringify,W=q("_hidden"),ba=q("toPrimitive"),qa={}.propertyIsEnumerable,P=l("symbol-registry"),K=l("symbols"),ea=l("op-symbols"),M=Object.prototype,l="function"==typeof N,ca=c.QObject,U=!ca||!ca.prototype||!ca.prototype.findChild,Y=k&&f(function(){return 7!=C(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a})?function(b,c,d){var e=J(M,c);e&&delete M[c];Q(b,c,d);e&&b!==M&&Q(M,c,e)}:Q,X=function(b){var c=K[b]=C(N.prototype);return c._k=b,c},fa=l&&
"symbol"==typeof N.iterator?function(b){return"symbol"==typeof b}:function(b){return b instanceof N},ga=function(b,c,d){return b===M&&ga(ea,c,d),B(b),c=u(c,!0),B(d),g(K,c)?(d.enumerable?(g(b,W)&&b[W][c]&&(b[W][c]=!1),d=C(d,{enumerable:D(0,!1)})):(!g(b,W)&&Q(b,W,D(1,{})),b[W][c]=!0),Y(b,c,d)):Q(b,c,d)},ha=function(b,c){B(b);for(var d,e=z(c=E(c)),f=0,h=e.length;h>f;)ga(b,d=e[f++],c[d]);return b},ja=function(b){var c=qa.call(this,b=u(b,!0));return!(this===M&&g(K,b)&&!g(ea,b))&&(!(c||!g(this,b)||!g(K,
b)||g(this,W)&&this[W][b])||c)},ca=function(b,c){if(b=E(b),c=u(c,!0),b!==M||!g(K,c)||g(ea,c)){var d=J(b,c);return d&&g(K,c)&&!(g(b,W)&&b[W][c])&&(d.enumerable=!0),d}},ya=function(b){var c;b=O(E(b));for(var e=[],f=0;b.length>f;)g(K,c=b[f++])||c==W||c==d||e.push(c);return e},Aa=function(b){var c,d=b===M;b=O(d?ea:E(b));for(var e=[],f=0;b.length>f;)g(K,c=b[f++])&&(!d||g(M,c))&&e.push(K[c]);return e};l||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var b=p(0<arguments.length?
arguments[0]:void 0),c=function(d){this===M&&c.call(ea,d);g(this,W)&&g(this[W],b)&&(this[W][b]=!1);Y(this,b,D(1,d))};return k&&U&&Y(M,b,{configurable:!0,set:c}),X(b)},h(N.prototype,"toString",function(){return this._k}),A.f=ca,H.f=ga,b(41).f=F.f=ya,b(57).f=ja,b(71).f=Aa,k&&!b(39)&&h(M,"propertyIsEnumerable",ja,!0),r.f=function(b){return X(q(b))});e(e.G+e.W+e.F*!l,{Symbol:N});h="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");
for(r=0;h.length>r;)q(h[r++]);L=L(q.store);for(h=0;L.length>h;)s(L[h++]);e(e.S+e.F*!l,"Symbol",{for:function(b){return g(P,b+="")?P[b]:P[b]=N(b)},keyFor:function(b){if(fa(b))return v(P,b);throw TypeError(b+" is not a symbol!");},useSetter:function(){U=!0},useSimple:function(){U=!1}});e(e.S+e.F*!l,"Object",{create:function(b,c){return void 0===c?C(b):ha(C(b),c)},defineProperty:ga,defineProperties:ha,getOwnPropertyDescriptor:ca,getOwnPropertyNames:ya,getOwnPropertySymbols:Aa});R&&e(e.S+e.F*(!l||f(function(){var b=
N();return"[null]"!=T([b])||"{}"!=T({a:b})||"{}"!=T(Object(b))})),"JSON",{stringify:function(b){if(void 0!==b&&!fa(b)){for(var c,d,e=[b],f=1;arguments.length>f;)e.push(arguments[f++]);return c=e[1],"function"==typeof c&&(d=c),(d||!w(c))&&(c=function(b,c){if(d&&(c=d.call(this,b,c)),!fa(c))return c}),e[1]=c,T.apply(R,e)}}});N.prototype[ba]||b(13)(N.prototype,ba,N.prototype.valueOf);n(N,"Symbol");n(Math,"Math",!0);n(c.JSON,"JSON",!0)},function(c,e,b){c=b(0);e=b(76);var g=b(107),k=b(1),h=b(45),d=b(9),
f=b(4),l=b(2).ArrayBuffer,n=b(75),p=g.ArrayBuffer,q=g.DataView,r=e.ABV&&l.isView,s=p.prototype.slice,v=e.VIEW;c(c.G+c.W+c.F*(l!==p),{ArrayBuffer:p});c(c.S+c.F*!e.CONSTR,"ArrayBuffer",{isView:function(b){return r&&r(b)||f(b)&&v in b}});c(c.P+c.U+c.F*b(3)(function(){return!(new p(2)).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(b,c){if(void 0!==s&&void 0===c)return s.call(k(this),b);for(var e=k(this).byteLength,f=h(b,e),e=h(void 0===c?e:c,e),g=new (n(this,p))(d(e-f)),l=new q(this),r=new q(g),
v=0;f<e;)r.setUint8(v++,l.getUint8(f++));return g}});b(44)("ArrayBuffer")},function(c,e,b){c=b(0);c(c.G+c.W+c.F*!b(76).ABV,{DataView:b(107).DataView})},function(c,e,b){b(31)("Float32",4,function(b){return function(c,e,d){return b(this,c,e,d)}})},function(c,e,b){b(31)("Float64",8,function(b){return function(c,e,d){return b(this,c,e,d)}})},function(c,e,b){b(31)("Int16",2,function(b){return function(c,e,d){return b(this,c,e,d)}})},function(c,e,b){b(31)("Int32",4,function(b){return function(c,e,d){return b(this,
c,e,d)}})},function(c,e,b){b(31)("Int8",1,function(b){return function(c,e,d){return b(this,c,e,d)}})},function(c,e,b){b(31)("Uint16",2,function(b){return function(c,e,d){return b(this,c,e,d)}})},function(c,e,b){b(31)("Uint32",4,function(b){return function(c,e,d){return b(this,c,e,d)}})},function(c,e,b){b(31)("Uint8",1,function(b){return function(c,e,d){return b(this,c,e,d)}})},function(c,e,b){b(31)("Uint8",1,function(b){return function(c,e,d){return b(this,c,e,d)}},!0)},function(c,e,b){var g=b(123),
k=b(50);b(63)("WeakSet",function(b){return function(){return b(this,0<arguments.length?arguments[0]:void 0)}},{add:function(b){return g.def(k(this,"WeakSet"),b,!0)}},g,!1,!0)},function(c,e,b){c=b(0);var g=b(124),k=b(10),h=b(9),d=b(11),f=b(86);c(c.P,"Array",{flatMap:function(b,c){var e,q,r=k(this);return d(b),e=h(r.length),q=f(r,0),g(q,r,r,e,0,1,b,c),q}});b(32)("flatMap")},function(c,e,b){c=b(0);var g=b(124),k=b(10),h=b(9),d=b(27),f=b(86);c(c.P,"Array",{flatten:function(b){var c=k(this),e=h(c.length),
q=f(c,0);return g(q,c,c,e,0,void 0===b?1:d(b)),q}});b(32)("flatten")},function(c,e,b){c=b(0);var g=b(62)(!0);c(c.P,"Array",{includes:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0)}});b(32)("includes")},function(c,e,b){c=b(0);var g=b(98)(),k=b(2).process,h="process"==b(20)(k);c(c.G,{asap:function(b){var c=h&&k.domain;g(c?c.bind(b):b)}})},function(c,e,b){c=b(0);var g=b(20);c(c.S,"Error",{isError:function(b){return"Error"===g(b)}})},function(c,e,b){c=b(0);c(c.G,{global:b(2)})},function(c,
e,b){b(72)("Map")},function(c,e,b){b(73)("Map")},function(c,e,b){c=b(0);c(c.P+c.R,"Map",{toJSON:b(122)("Map")})},function(c,e,b){c=b(0);c(c.S,"Math",{clamp:function(b,c,e){return _Mathmin(e,_Mathmax(c,b))}})},function(c,e,b){c=b(0);c(c.S,"Math",{DEG_PER_RAD:_MathPI/180})},function(c,e,b){c=b(0);c(c.S,"Math",{degrees:function(b){return 180/_MathPI*b}})},function(c,e,b){c=b(0);var g=b(131),k=b(129);c(c.S,"Math",{fscale:function(b,c,e,l,n){return k(g(b,c,e,l,n))}})},function(c,e,b){c=b(0);c(c.S,"Math",
{iaddh:function(b,c,e,d){b>>>=0;e>>>=0;return 0|(c>>>0)+(d>>>0)+((b&e|(b|e)&~(b+e>>>0))>>>31)}})},function(c,e,b){c=b(0);c(c.S,"Math",{imulh:function(b,c){var e=+b,d=+c,f=e&65535,l=d&65535,e=e>>16,d=d>>16,l=(e*l>>>0)+(f*l>>>16);return e*d+(l>>16)+((f*d>>>0)+(l&65535)>>16)}})},function(c,e,b){c=b(0);c(c.S,"Math",{isubh:function(b,c,e,d){b>>>=0;e>>>=0;return 0|(c>>>0)-(d>>>0)-((~b&e|~(b^e)&b-e>>>0)>>>31)}})},function(c,e,b){c=b(0);c(c.S,"Math",{RAD_PER_DEG:180/_MathPI})},function(c,e,b){c=b(0);c(c.S,
"Math",{radians:function(b){return _MathPI/180*b}})},function(c,e,b){c=b(0);c(c.S,"Math",{scale:b(131)})},function(c,e,b){c=b(0);c(c.S,"Math",{signbit:function(b){return(b=+b)==b?0==b?1/b==1/0:0<b:b}})},function(c,e,b){c=b(0);c(c.S,"Math",{umulh:function(b,c){var e=+b,d=+c,f=e&65535,l=d&65535,e=e>>>16,d=d>>>16,l=(e*l>>>0)+(f*l>>>16);return e*d+(l>>>16)+((f*d>>>0)+(l&65535)>>>16)}})},function(c,e,b){c=b(0);var g=b(10),k=b(11),h=b(8);b(7)&&c(c.P+b(70),"Object",{__defineGetter__:function(b,c){h.f(g(this),
b,{get:k(c),enumerable:!0,configurable:!0})}})},function(c,e,b){c=b(0);var g=b(10),k=b(11),h=b(8);b(7)&&c(c.P+b(70),"Object",{__defineSetter__:function(b,c){h.f(g(this),b,{set:k(c),enumerable:!0,configurable:!0})}})},function(c,e,b){c=b(0);var g=b(136)(!0);c(c.S,"Object",{entries:function(b){return g(b)}})},function(c,e,b){c=b(0);var g=b(137),k=b(16),h=b(17),d=b(87);c(c.S,"Object",{getOwnPropertyDescriptors:function(b){var c,e;b=k(b);for(var p=h.f,q=g(b),r={},s=0;q.length>s;)void 0!==(e=p(b,c=q[s++]))&&
d(r,c,e);return r}})},function(c,e,b){c=b(0);var g=b(10),k=b(28),h=b(18),d=b(17).f;b(7)&&c(c.P+b(70),"Object",{__lookupGetter__:function(b){var c=g(this),e=k(b,!0);do if(b=d(c,e))return b.get;while(c=h(c))}})},function(c,e,b){c=b(0);var g=b(10),k=b(28),h=b(18),d=b(17).f;b(7)&&c(c.P+b(70),"Object",{__lookupSetter__:function(b){var c=g(this),e=k(b,!0);do if(b=d(c,e))return b.set;while(c=h(c))}})},function(c,e,b){c=b(0);var g=b(136)(!1);c(c.S,"Object",{values:function(b){return g(b)}})},function(c,e,
b){c=b(0);var g=b(2),k=b(24),h=b(98)(),d=b(5)("observable"),f=b(11),l=b(1),n=b(37);e=b(43);var p=b(13),q=b(38),r=q.RETURN,s=function(b){return null==b?void 0:f(b)},v=function(b){var c=b._c;c&&(b._c=void 0,c())},z=function(b){return void 0===b._o},w=function(b,c){l(b);this._c=void 0;this._o=b;b=new B(this);try{var d=c(b),e=d;null!=d&&("function"==typeof d.unsubscribe?d=function(){e.unsubscribe()}:f(d),this._c=d)}catch(h){return void b.error(h)}z(this)&&v(this)};w.prototype=e({},{unsubscribe:function(){z(this)||
(this._o=void 0,v(this))}});var B=function(b){this._s=b};B.prototype=e({},{next:function(b){var c=this._s;if(!z(c)){var d=c._o;try{var e=s(d.next);if(e)return e.call(d,b)}catch(f){try{z(c)||(c._o=void 0,v(c))}finally{throw f;}}}},error:function(b){var c=this._s;if(z(c))throw b;var d=c._o;c._o=void 0;try{var e=s(d.error);if(!e)throw b;b=e.call(d,b)}catch(f){try{v(c)}finally{throw f;}}return v(c),b},complete:function(b){var c=this._s;if(!z(c)){var d=c._o;c._o=void 0;try{var e=s(d.complete);b=e?e.call(d,
b):void 0}catch(f){try{v(c)}finally{throw f;}}return v(c),b}}});var E=function(b){n(this,E,"Observable","_f")._f=f(b)};e(E.prototype,{subscribe:function(b){return new w(b,this._f)},forEach:function(b){var c=this;return new (k.Promise||g.Promise)(function(d,e){f(b);var h=c.subscribe({next:function(c){try{return b(c)}catch(d){e(d),h.unsubscribe()}},error:e,complete:d})})}});e(E,{from:function(b){var c="function"==typeof this?this:E,e=s(l(b)[d]);if(e){var f=l(e.call(b));return f.constructor===c?f:new c(function(b){return f.subscribe(b)})}return new c(function(c){var d=
!1;return h(function(){if(!d){try{if(q(b,!1,function(b){if(c.next(b),d)return r})===r)return}catch(e){if(d)throw e;return void c.error(e)}c.complete()}}),function(){d=!0}})},of:function(){for(var b=0,c=arguments.length,d=Array(c);b<c;)d[b]=arguments[b++];return new ("function"==typeof this?this:E)(function(b){var c=!1;return h(function(){if(!c){for(var e=0;e<d.length;++e)if(b.next(d[e]),c)return;b.complete()}}),function(){c=!0}})}});p(E.prototype,d,function(){return this});c(c.G,{Observable:E});b(44)("Observable")},
function(c,e,b){c=b(0);var g=b(24),k=b(2),h=b(75),d=b(141);c(c.P+c.R,"Promise",{finally:function(b){var c=h(this,g.Promise||k.Promise),e="function"==typeof b;return this.then(e?function(e){return d(c,b()).then(function(){return e})}:b,e?function(e){return d(c,b()).then(function(){throw e;})}:b)}})},function(c,e,b){c=b(0);var g=b(99),k=b(140);c(c.S,"Promise",{try:function(b){var c=g.f(this);b=k(b);return(b.e?c.reject:c.resolve)(b.v),c.promise}})},function(c,e,b){c=b(30);var g=b(1),k=c.key,h=c.set;
c.exp({defineMetadata:function(b,c,e,n){h(b,c,g(e),k(n))}})},function(c,e,b){c=b(30);var g=b(1),k=c.key,h=c.map,d=c.store;c.exp({deleteMetadata:function(b,c){var e=3>arguments.length?void 0:k(arguments[2]),p=h(g(c),e,!1);if(void 0===p||!p.delete(b))return!1;if(p.size)return!0;p=d.get(c);return p.delete(e),!!p.size||d.delete(c)}})},function(c,e,b){var g=b(147),k=b(118);c=b(30);var h=b(1),d=b(18),f=c.keys,l=c.key,n=function(b,c){var e=f(b,c),h=d(b);if(null===h)return e;h=n(h,c);return h.length?e.length?
k(new g(e.concat(h))):h:e};c.exp({getMetadataKeys:function(b){return n(h(b),2>arguments.length?void 0:l(arguments[1]))}})},function(c,e,b){c=b(30);var g=b(1),k=b(18),h=c.has,d=c.get,f=c.key,l=function(b,c,e){if(h(b,c,e))return d(b,c,e);c=k(c);return null===c?void 0:l(b,c,e)};c.exp({getMetadata:function(b,c){return l(b,g(c),3>arguments.length?void 0:f(arguments[2]))}})},function(c,e,b){c=b(30);var g=b(1),k=c.keys,h=c.key;c.exp({getOwnMetadataKeys:function(b){return k(g(b),2>arguments.length?void 0:
h(arguments[1]))}})},function(c,e,b){c=b(30);var g=b(1),k=c.get,h=c.key;c.exp({getOwnMetadata:function(b,c){return k(b,g(c),3>arguments.length?void 0:h(arguments[2]))}})},function(c,e,b){c=b(30);var g=b(1),k=b(18),h=c.has,d=c.key,f=function(b,c,d){if(h(b,c,d))return!0;c=k(c);return null!==c&&f(b,c,d)};c.exp({hasMetadata:function(b,c){return f(b,g(c),3>arguments.length?void 0:d(arguments[2]))}})},function(c,e,b){c=b(30);var g=b(1),k=c.has,h=c.key;c.exp({hasOwnMetadata:function(b,c){return k(b,g(c),
3>arguments.length?void 0:h(arguments[2]))}})},function(c,e,b){c=b(30);var g=b(1),k=b(11),h=c.key,d=c.set;c.exp({metadata:function(b,c){return function(e,p){d(b,c,(void 0===p?k:g)(e),h(p))}}})},function(c,e,b){b(72)("Set")},function(c,e,b){b(73)("Set")},function(c,e,b){c=b(0);c(c.P+c.R,"Set",{toJSON:b(122)("Set")})},function(c,e,b){c=b(0);var g=b(102)(!0);c(c.P,"String",{at:function(b){return g(this,b)}})},function(c,e,b){c=b(0);var g=b(25),k=b(9),h=b(68),d=b(65),f=RegExp.prototype,l=function(b,c){this._r=
b;this._s=c};b(94)(l,"RegExp String",function(){var b=this._r.exec(this._s);return{value:b,done:null===b}});c(c.P,"String",{matchAll:function(b){if(g(this),!h(b))throw TypeError(b+" is not a regexp!");var c=this+"",e="flags"in f?b.flags+"":d.call(b),e=new RegExp(b.source,~e.indexOf("g")?e:"g"+e);return e.lastIndex=k(b.lastIndex),new l(e,c)}})},function(c,e,b){c=b(0);var g=b(142);c(c.P,"String",{padEnd:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0,!1)}})},function(c,e,b){c=b(0);
var g=b(142);c(c.P,"String",{padStart:function(b){return g(this,b,1<arguments.length?arguments[1]:void 0,!0)}})},function(c,e,b){b(49)("trimLeft",function(b){return function(){return b(this,1)}},"trimStart")},function(c,e,b){b(49)("trimRight",function(b){return function(){return b(this,2)}},"trimEnd")},function(c,e,b){b(108)("asyncIterator")},function(c,e,b){b(108)("observable")},function(c,e,b){c=b(0);c(c.S,"System",{global:b(2)})},function(c,e,b){b(72)("WeakMap")},function(c,e,b){b(73)("WeakMap")},
function(c,e,b){b(72)("WeakSet")},function(c,e,b){b(73)("WeakSet")},function(c,e,b){c=b(110);var g=b(34);e=b(14);var k=b(2),h=b(13),d=b(47),f=b(5);b=f("iterator");for(var f=f("toStringTag"),l=d.Array,n={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,
Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=g(n),p=0;p<g.length;p++){var q,r=g[p],s=n[r],v=k[r];if((v=v&&v.prototype)&&(v[b]||h(v,b,l),v[f]||h(v,f,r),d[r]=l,s))for(q in c)v[q]||e(v,q,c[q],!0)}},function(c,e,b){c=b(0);b=b(106);c(c.G+c.B,{setImmediate:b.set,clearImmediate:b.clear})},function(c,e,b){c=b(2);e=b(0);var g=b(66),
k=b(162);b=c.navigator;var h=!!b&&/MSIE .\./.test(b.userAgent);b=function(b){return h?function(c,e){return b(g(k,[].slice.call(arguments,2),"function"==typeof c?c:Function(c)),e)}:b};e(e.G+e.B+e.F*h,{setTimeout:b(c.setTimeout),setInterval:b(c.setInterval)})},function(c,e,b){b(286);b(225);b(227);b(226);b(229);b(231);b(236);b(230);b(228);b(238);b(237);b(233);b(234);b(232);b(224);b(235);b(239);b(240);b(192);b(194);b(193);b(242);b(241);b(212);b(222);b(223);b(213);b(214);b(215);b(216);b(217);b(218);b(219);
b(220);b(221);b(195);b(196);b(197);b(198);b(199);b(200);b(201);b(202);b(203);b(204);b(205);b(206);b(207);b(208);b(209);b(210);b(211);b(273);b(278);b(285);b(276);b(268);b(269);b(274);b(279);b(281);b(264);b(265);b(266);b(267);b(270);b(271);b(272);b(275);b(277);b(280);b(282);b(283);b(284);b(187);b(189);b(188);b(191);b(190);b(176);b(174);b(180);b(177);b(183);b(185);b(173);b(179);b(170);b(184);b(168);b(182);b(181);b(175);b(178);b(167);b(169);b(172);b(171);b(186);b(110);b(258);b(263);b(146);b(259);b(260);
b(261);b(262);b(243);b(145);b(147);b(148);b(298);b(287);b(288);b(293);b(296);b(297);b(291);b(294);b(292);b(295);b(289);b(290);b(244);b(245);b(246);b(247);b(248);b(251);b(249);b(250);b(252);b(253);b(254);b(255);b(257);b(256);b(301);b(299);b(300);b(342);b(345);b(344);b(346);b(347);b(343);b(348);b(349);b(323);b(326);b(322);b(320);b(321);b(324);b(325);b(307);b(341);b(306);b(340);b(352);b(354);b(305);b(339);b(351);b(353);b(304);b(350);b(303);b(308);b(309);b(310);b(311);b(312);b(314);b(313);b(315);b(316);
b(317);b(319);b(318);b(328);b(329);b(330);b(331);b(333);b(332);b(335);b(334);b(336);b(337);b(338);b(302);b(327);b(357);b(356);b(355);c.exports=b(24)},,function(c,e,b){e=c.exports=b(111)(void 0);e.push([c.i,'.rendered-form *{box-sizing:border-box}.rendered-form input{line-height:normal}.rendered-form button,.rendered-form input,.rendered-form optgroup,.rendered-form select,.rendered-form textarea{margin:0;font:inherit;color:inherit}.rendered-form textarea{overflow:auto}.rendered-form button,.rendered-form input,.rendered-form select,.rendered-form textarea{font-family:inherit;font-size:inherit;line-height:inherit}.rendered-form .btn-group{position:relative;display:inline-block;vertical-align:middle}.rendered-form .btn-group\x3e.btn{position:relative;float:left}.rendered-form .btn-group\x3e.btn:first-child:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.rendered-form .btn-group\x3e.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.rendered-form .btn-group .btn+.btn,.rendered-form .btn-group .btn+.btn-group,.rendered-form .btn-group .btn-group+.btn,.rendered-form .btn-group .btn-group+.btn-group{margin-left:-1px}.rendered-form .btn-group .input-group-addon:last-child,.rendered-form .btn-group .input-group-btn:first-child\x3e.btn-group:not(:first-child)\x3e.btn,.rendered-form .btn-group .input-group-btn:first-child\x3e.btn:not(:first-child),.rendered-form .btn-group .input-group-btn:last-child\x3e.btn,.rendered-form .btn-group .input-group-btn:last-child\x3e.btn-group\x3e.btn,.rendered-form .btn-group .input-group-btn:last-child\x3e.dropdown-toggle,.rendered-form .btn-group .input-group .form-control:last-child,.rendered-form .btn-group\x3e.btn:last-child:not(:first-child),.rendered-form .btn-group\x3e.dropdown-toggle:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.rendered-form .btn-group\x3e.btn.active,.rendered-form .btn-group\x3e.btn:active,.rendered-form .btn-group\x3e.btn:focus,.rendered-form .btn-group\x3e.btn:hover{z-index:2}.rendered-form .btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border-radius:4px}.rendered-form .btn.btn-lg{padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.rendered-form .btn.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.rendered-form .btn.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}.rendered-form .btn.active,.rendered-form .btn.btn-active,.rendered-form .btn:active{background-image:none}.rendered-form .input-group-addon:last-child,.rendered-form .input-group-btn:first-child\x3e.btn-group:not(:first-child)\x3e.btn,.rendered-form .input-group-btn:first-child\x3e.btn:not(:first-child),.rendered-form .input-group-btn:last-child\x3e.btn,.rendered-form .input-group-btn:last-child\x3e.btn-group\x3e.btn,.rendered-form .input-group-btn:last-child\x3e.dropdown-toggle,.rendered-form .input-group .form-control:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.rendered-form .input-group-addon,.rendered-form .input-group-btn,.rendered-form .input-group .form-control{display:table-cell}.rendered-form .input-group-lg\x3e.form-control,.rendered-form .input-group-lg\x3e.input-group-addon,.rendered-form .input-group-lg\x3e.input-group-btn\x3e.btn{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333}.rendered-form .input-group{position:relative;display:table;border-collapse:separate}.rendered-form .input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.rendered-form .form-control,.rendered-form output{font-size:14px;line-height:1.42857143;display:block}.rendered-form textarea.form-control{height:auto}.rendered-form .form-control{height:34px;display:block;width:100%;padding:6px 12px;font-size:14px;line-height:1.42857143;border-radius:4px}.rendered-form .form-control:focus{outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.rendered-form .form-group{margin-left:0;margin-bottom:15px}.rendered-form .btn,.rendered-form .form-control{background-image:none}.rendered-form .pull-right{float:right}.rendered-form .pull-left{float:left}.rendered-form .fb-required,.rendered-form .required-asterisk{color:#c10000}.rendered-form .fb-checkbox-group .checkbox,.rendered-form .fb-checkbox-group .checkbox-inline{padding-left:0}.rendered-form .fb-checkbox-group .checkbox-inline input,.rendered-form .fb-checkbox-group .checkbox input{position:relative;margin:4px 0 0}.rendered-form .fb-checkbox-group .checkbox-inline label,.rendered-form .fb-checkbox-group .checkbox label{padding-left:4px}.rendered-form .fb-radio-group .radio,.rendered-form .fb-radio-group .radio-inline{padding-left:0}.rendered-form .fb-radio-group .radio-inline input,.rendered-form .fb-radio-group .radio input{position:relative;margin:4px 0 0}.rendered-form .fb-radio-group .radio-inline label,.rendered-form .fb-radio-group .radio label{padding-left:4px}.rendered-form .fb-checkbox-inline,.rendered-form .fb-radio-inline{display:inline-block;vertical-align:middle}.rendered-form .fb-checkbox-inline:first-child,.rendered-form .fb-radio-inline:first-child{padding-left:0}.rendered-form .fb-autocomplete-list{background-color:#fff;display:none;list-style:none;padding:0;border:1px solid #ccc;border-width:0 1px 1px;position:absolute;z-index:20;max-height:200px;overflow-y:auto}.rendered-form .fb-autocomplete-list li{display:none;cursor:default;padding:5px;margin:0;transition:background-color .2s ease-in-out}.rendered-form .fb-autocomplete-list li.active-option,.rendered-form .fb-autocomplete-list li:hover{background-color:rgba(0,0,0,.075)}.rendered-form .kc-toggle{padding-left:0!important}.rendered-form .kc-toggle span{position:relative;width:48px;height:24px;background:#e6e6e6;display:inline-block;border-radius:4px;border:1px solid #ccc;padding:2px;overflow:hidden;float:left;margin-right:5px;will-change:transform}.rendered-form .kc-toggle span:after,.rendered-form .kc-toggle span:before{position:absolute;display:inline-block;top:0}.rendered-form .kc-toggle span:after{position:relative;content:"";width:50%;height:100%;left:0;border-radius:3px;background:linear-gradient(180deg,#fff 0,#ccc);border:1px solid #999;transition:transform .1s;transform:translateX(0)}.rendered-form .kc-toggle span:before{border-radius:4px;top:2px;left:2px;content:"";width:calc(100% - 4px);height:18px;box-shadow:inset 0 0 1px 1px #b3b3b3;background-color:transparent}.rendered-form .kc-toggle input{height:0;overflow:hidden;width:0;opacity:0;pointer-events:none;margin:0}.rendered-form .kc-toggle input:checked+span:after{transform:translateX(100%)}.rendered-form .kc-toggle input:checked+span:before{background-color:#6fc665}.form-group .fb-required{color:#c10000}.other-val{margin-left:5px;display:none}[tooltip]{position:relative}[tooltip]:hover:after{background:rgba(0,0,0,.9);border-radius:5px 5px 5px 0;bottom:23px;color:#fff;content:attr(tooltip);padding:10px 5px;position:absolute;z-index:98;left:2px;width:230px;text-shadow:none;font-size:12px;line-height:1.5em}[tooltip]:hover:before{border:solid;border-color:#222 transparent;border-width:6px 6px 0;bottom:17px;content:"";left:2px;position:absolute;z-index:99}.tooltip-element{color:#fff;background:#000;width:16px;height:16px;border-radius:8px;display:inline-block;text-align:center;line-height:16px;margin:0 5px;font-size:12px}.form-control.number{width:auto}.form-control[type\x3dcolor]{width:60px;padding:2px;display:inline-block}.form-control[multiple]{height:auto}',
""])}]);
(function(c,e,b,g){function k(b,e){this.element=b;this.settings=c.extend({},h,e);this.settings.radius=2*this.settings.width/5;this.settings.fontSize||(this.settings.fontSize=this.settings.radius/1.2);this.settings.strokeWidth||(this.settings.strokeWidth=this.settings.radius/4);this._defaults=h;this._name="countdown360";this._init()}var h={strokeStyle:"#156c90",strokeWidth:g,fillStyle:"#39baee",fontColor:"#FFFFFF",fontFamily:"sans-serif",fontSize:g,fontWeight:700,autostart:!0,seconds:10,label:[],startOverAfterAdding:!0,
smooth:!1,onComplete:function(){}};k.prototype={getTimeRemaining:function(){return this._secondsLeft(this.getElapsedTime())},getElapsedTime:function(){return Math.round(((new Date).getTime()-this.startedAt.getTime())/1E3)},extendTimer:function(b){var c=parseInt(b),e=Math.round(((new Date).getTime()-this.startedAt.getTime())/1E3);this._secondsLeft(e)+c<=this.settings.seconds&&this.startedAt.setSeconds(this.startedAt.getSeconds()+parseInt(b))},addSeconds:function(b){var c=Math.round(((new Date).getTime()-
this.startedAt.getTime())/1E3);this.settings.startOverAfterAdding?(this.settings.seconds=this._secondsLeft(c)+parseInt(b),this.start()):this.settings.seconds+=parseInt(b)},start:function(b,c){null!=this.secondsElapsed?(this._drawCountdownShape(3.5*Math.PI,!1),this.settings.seconds==this.secondsElapsed+1?this._drawCountdownLabel(this.secondsElapsed+1):this._drawCountdownLabel(this.secondsElapsed)):(this._drawCountdownShape(3.5*Math.PI,!0),this._drawCountdownLabel(0));if(!b){this.startedAt=new Date;
var e=1E3;this.settings.smooth&&(e=16);this.interval=setInterval(jQuery.proxy(this._draw,this),e)}},stop:function(b){clearInterval(this.interval);b&&b()},updateSize:function(){var b=c(this.element).closest(".gplayer-countdown-form").height();this.settings.width=b;this.settings.height=this.settings.width;this.settings.radius=2*this.settings.width/5;this.settings.arcX=this.settings.width/2;this.settings.arcY=this.settings.width/2;this.settings.strokeWidth=this.settings.radius/4;this.settings.fontSize=
this.settings.radius/1.3;999<this.settings.seconds&&(this.settings.fontSize=this.settings.radius/1.9);c(this.element).find("canvas")[0].getContext("2d").canvas.width=this.settings.width;c(this.element).find("canvas")[0].getContext("2d").canvas.height=this.settings.height;this._initPen(c(this.element).find("canvas")[0]);this.start(!0)},_init:function(){this.settings.width=2*this.settings.radius+2*this.settings.strokeWidth;this.settings.height=this.settings.width;this.settings.arcX=this.settings.radius+
this.settings.strokeWidth;this.settings.arcY=this.settings.arcX;this._initPen(this._getCanvas());this.settings.autostart&&this.start()},_getCanvas:function(){var b=c('\x3ccanvas id\x3d"countdown360_'+c(this.element).attr("id")+'" width\x3d"'+this.settings.width+'" height\x3d"'+this.settings.height+'"\x3e\x3cspan id\x3d"countdown-text" role\x3d"status" aria-live\x3d"assertive"\x3e\x3c/span\x3e\x3c/canvas\x3e');c(this.element).prepend(b[0]);return b[0]},_initPen:function(b){this.pen=b.getContext("2d");
this.pen.lineWidth=this.settings.strokeWidth;this.pen.strokeStyle=this.settings.strokeStyle;this.pen.fillStyle=this.settings.fillStyle;this.pen.textAlign="center";this.pen.textBaseline="middle";this.ariaText=c(b).children("#countdown-text");this._clearRect()},_clearRect:function(){this.pen.clearRect(0,0,this.settings.width,this.settings.height)},_secondsLeft:function(b){return this.settings.seconds-b},_drawCountdownLabel:function(b){this.ariaText.text(c);this.pen.font=this.settings.fontWeight+" "+
this.settings.fontSize+"px "+this.settings.fontFamily;var c=this._secondsLeft(b);b=1===c?this.settings.label[0]:this.settings.label[1];"seconds"==b&&1===c?b="second":"secs"==b&&1===c&&(b="sec");drawLabel=this.settings.label&&2===this.settings.label.length;x=this.settings.width/2;y=drawLabel?this.settings.height/2-this.settings.fontSize/6.2:this.settings.height/2;this.pen.fillStyle=this.settings.fillStyle;this.pen.fillText(c+1,x,y);this.pen.fillStyle=this.settings.fontColor;this.pen.fillText(c,x,y);
drawLabel&&(this.pen.font="normal small-caps "+this.settings.fontSize/3+"px "+this.settings.fontFamily,this.pen.fillText(b,this.settings.width/2,this.settings.height/2+this.settings.fontSize/2.2))},_drawCountdownShape:function(b,c){this.pen.fillStyle=this.settings.fillStyle;this.pen.beginPath();this.pen.arc(this.settings.arcX,this.settings.arcY,this.settings.radius,1.5*Math.PI,b,!1);this.pen.fill();c&&this.pen.stroke()},_draw:function(){var b,c;b=(new Date).getTime()-this.startedAt.getTime();c=Math.floor(b/
1E3);endAngle=3.5*Math.PI-2*Math.PI/(1E3*this.settings.seconds)*b;this._clearRect();this._drawCountdownShape(3.5*Math.PI,!1);c<this.settings.seconds?(this.secondsElapsed=c,this._drawCountdownShape(endAngle,!0),this._drawCountdownLabel(c)):(this._drawCountdownLabel(this.settings.seconds),this.stop(),this.settings.onComplete())}};c.fn.countdown360=function(b){var e;this.each(function(){e=c.data(this,"plugin_countdown360");e||(e=new k(this,b),c.data(this,"plugin_countdown360",e))});return e}})(jQuery,
window,document);
!function(c,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(c=c||self).parseCssColor=e()}(this,function(){function c(b){return"number"!=typeof b&&(b=b.endsWith("%")?parseFloat(b)/100:parseFloat(b)),v(b,0,1)}function e(b){var d=b[1],e=b[2],f=b[3];b=b[4];return void 0===b&&(b=1),{type:"rgb",values:[d,e,f].map(z),alpha:c(null===b?1:b)}}var b={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,
255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],
darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],
fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,
250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,
179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,
239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,
255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},g=new RegExp(/^#([a-f0-9]{3,4}|[a-f0-9]{4}(?:[a-f0-9]{2}){1,2})\b$/,"i"),k="^\n  hsla?\\(\n    \\s*(-?\\d*(?:\\.\\d+)?(?:deg|rad|turn)?)\\s*,\n    \\s*(-?\\d*(?:\\.\\d+)?%)\\s*,\n    \\s*(-?\\d*(?:\\.\\d+)?%)\\s*\n    (?:,\\s*(-?\\d*(?:\\.\\d+)?%?)\\s*)?\n  \\)\n  $\n".replace(/\n|\s/g,
""),h=new RegExp(k),k="^\n  hsla?\\(\n    \\s*(-?\\d*(?:\\.\\d+)?(?:deg|rad|turn)?)\\s*\n    \\s+(-?\\d*(?:\\.\\d+)?%)\n    \\s+(-?\\d*(?:\\.\\d+)?%)\n    \\s*(?:\\s*\\/\\s*(-?\\d*(?:\\.\\d+)?%?)\\s*)?\n  \\)\n  $\n".replace(/\n|\s/g,""),d=new RegExp(k),k="^\n  rgba?\\(\n    \\s*(-?\\d*(?:\\.\\d+)?)\\s*,\n    \\s*(-?\\d*(?:\\.\\d+)?)\\s*,\n    \\s*(-?\\d*(?:\\.\\d+)?)\\s*\n    (?:,\\s*(-?\\d*(?:\\.\\d+)?%?)\\s*)?\n  \\)\n  $\n".replace(/\n|\s/g,""),f=new RegExp(k),k="^\n  rgba?\\(\n    \\s*(-?\\d*(?:\\.\\d+)?%)\\s*,\n    \\s*(-?\\d*(?:\\.\\d+)?%)\\s*,\n    \\s*(-?\\d*(?:\\.\\d+)?%)\\s*\n    (?:,\\s*(-?\\d*(?:\\.\\d+)?%?)\\s*)?\n  \\)\n  $\n".replace(/\n|\s/g,
""),l=new RegExp(k),k="^\n  rgba?\\(\n    \\s*(-?\\d*(?:\\.\\d+)?)\n    \\s+(-?\\d*(?:\\.\\d+)?)\n    \\s+(-?\\d*(?:\\.\\d+)?)\n    \\s*(?:\\s*\\/\\s*(-?\\d*(?:\\.\\d+)?%?)\\s*)?\n  \\)\n$\n".replace(/\n|\s/g,""),n=new RegExp(k),k="^\n  rgba?\\(\n    \\s*(-?\\d*(?:\\.\\d+)?%)\n    \\s+(-?\\d*(?:\\.\\d+)?%)\n    \\s+(-?\\d*(?:\\.\\d+)?%)\n    \\s*(?:\\s*\\/\\s*(-?\\d*(?:\\.\\d+)?%?)\\s*)?\n  \\)\n$\n".replace(/\n|\s/g,""),p=new RegExp(k),q=new RegExp(/^transparent$/,"i"),r=/[^#a-f\d]/gi,s=/^#?[a-f\d]{3}[a-f\d]?$|^#?[a-f\d]{6}([a-f\d]{2})?$/i,
v=function(b,c,d){return Math.min(Math.max(c,b),d)},z=function(b){return"number"!=typeof b&&(b=b.endsWith("%")?255*parseFloat(b)/100:parseFloat(b)),v(Math.round(b),0,255)};return function(k){if("string"!=typeof k)return null;var z=g.exec(k);if(z){var E=z[0],z={format:"array"};if(void 0===z&&(z={}),"string"!=typeof E||r.test(E)||!s.test(E))throw new TypeError("Expected a valid hex string");k=1;8===(E=E.replace(/^#/,"")).length&&(k=Number.parseInt(E.slice(6,8),16)/255,E=E.slice(0,6));4===E.length&&
(k=Number.parseInt(E.slice(3,4).repeat(2),16)/255,E=E.slice(0,3));3===E.length&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]);var u=Number.parseInt(E,16),E=u>>16,D=u>>8&255,u=255&u;k="number"==typeof z.alpha?z.alpha:k;z="array"===z.format?[E,D,u,k]:"css"===z.format?"rgb("+E+" "+D+" "+u+(1===k?"":" / "+Number((100*k).toFixed(2))+"%")+")":{red:E,green:D,blue:u,alpha:k};return e([null,z[0],z[1],z[2],z[3]])}return(z=d.exec(k)||h.exec(k))?(k=z[1],E=z[2],D=z[3],z=z[4],void 0===z&&(z=1),{type:"hsl",values:[k.endsWith("turn")?
360*parseFloat(k)/1:k.endsWith("rad")?Math.round(180*parseFloat(k)/Math.PI):parseFloat(k),v(parseFloat(E),0,100),v(parseFloat(D),0,100)],alpha:c(null===z?1:z)}):(z=n.exec(k)||p.exec(k)||f.exec(k)||l.exec(k))?e(z):q.exec(k)?e([null,0,0,0,0]):(z=b[k.toLowerCase()])?e([null,z[0],z[1],z[2],1]):null}});
!function(c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SockJS=c()}(function(){return function e(b,g,k){function h(f,n){if(!g[f]){if(!b[f]){var p="function"==typeof require&&require;if(!n&&p)return p(f,!0);if(d)return d(f,!0);p=Error("Cannot find module '"+f+"'");throw p.code="MODULE_NOT_FOUND",p;}p=g[f]={exports:{}};
b[f][0].call(p.exports,function(d){return h(b[f][1][d]||d)},p,p.exports,e,b,g,k)}return g[f].exports}for(var d="function"==typeof require&&require,f=0;f<k.length;f++)h(k[f]);return h}({1:[function(e,b,g){g="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};var k=e("./transport-list");b.exports=e("./main")(k);"_sockjs_onload"in g&&setTimeout(g._sockjs_onload,1)},{"./main":14,"./transport-list":16}],2:[function(e,b,g){function k(){h.call(this);this.initEvent("close",
!1,!1);this.wasClean=!1;this.code=0;this.reason=""}g=e("inherits");var h=e("./event");g(k,h);b.exports=k},{"./event":4,inherits:54}],3:[function(e,b,g){function k(){h.call(this)}g=e("inherits");var h=e("./eventtarget");g(k,h);k.prototype.removeAllListeners=function(b){b?delete this._listeners[b]:this._listeners={}};k.prototype.once=function(b,e){var h=this,g=!1;this.on(b,function q(){h.removeListener(b,q);g||(g=!0,e.apply(this,arguments))})};k.prototype.emit=function(){var b=this._listeners[arguments[0]];
if(b){for(var e=arguments.length,h=Array(e-1),g=1;g<e;g++)h[g-1]=arguments[g];for(e=0;e<b.length;e++)b[e].apply(this,h)}};k.prototype.on=k.prototype.addListener=h.prototype.addEventListener;k.prototype.removeListener=h.prototype.removeEventListener;b.exports.EventEmitter=k},{"./eventtarget":5,inherits:54}],4:[function(e,b,g){function k(b){this.type=b}k.prototype.initEvent=function(b,d,e){return this.type=b,this.bubbles=d,this.cancelable=e,this.timeStamp=+new Date,this};k.prototype.stopPropagation=
function(){};k.prototype.preventDefault=function(){};k.CAPTURING_PHASE=1;k.AT_TARGET=2;k.BUBBLING_PHASE=3;b.exports=k},{}],5:[function(e,b,g){function k(){this._listeners={}}k.prototype.addEventListener=function(b,d){b in this._listeners||(this._listeners[b]=[]);var e=this._listeners[b];-1===e.indexOf(d)&&(e=e.concat([d]));this._listeners[b]=e};k.prototype.removeEventListener=function(b,d){var e=this._listeners[b];if(e){var g=e.indexOf(d);-1===g||(1<e.length?this._listeners[b]=e.slice(0,g).concat(e.slice(g+
1)):delete this._listeners[b])}};k.prototype.dispatchEvent=function(){var b=arguments[0],d=b.type,b=1===arguments.length?[b]:Array.apply(null,arguments);if(this["on"+d]&&this["on"+d].apply(this,b),d in this._listeners)for(var d=this._listeners[d],e=0;e<d.length;e++)d[e].apply(this,b)};b.exports=k},{}],6:[function(e,b,g){function k(b){h.call(this);this.initEvent("message",!1,!1);this.data=b}g=e("inherits");var h=e("./event");g(k,h);b.exports=k},{"./event":4,inherits:54}],7:[function(e,b,g){function k(b){(this._transport=
b).on("message",this._transportMessage.bind(this));b.on("close",this._transportClose.bind(this))}var h=e("./utils/iframe");k.prototype._transportClose=function(b,e){h.postMessage("c",JSON.stringify([b,e]))};k.prototype._transportMessage=function(b){h.postMessage("t",b)};k.prototype._send=function(b){this._transport.send(b)};k.prototype._close=function(){this._transport.close();this._transport.removeAllListeners()};b.exports=k},{"./utils/iframe":47}],8:[function(e,b,g){var k=e("./utils/url"),h=e("./utils/event"),
d=e("./facade"),f=e("./info-iframe-receiver"),l=e("./utils/iframe"),n=e("./location");b.exports=function(b,e){var g,s={};e.forEach(function(b){b.facadeTransport&&(s[b.facadeTransport.transportName]=b.facadeTransport)});s[f.transportName]=f;b.bootstrap_iframe=function(){var e;l.currentWindowId=n.hash.slice(1);h.attachEvent("message",function(f){if(f.source===parent&&(void 0===g&&(g=f.origin),f.origin===g)){var h;try{h=JSON.parse(f.data)}catch(q){return}if(h.windowId===l.currentWindowId)switch(h.type){case "s":var E;
try{E=JSON.parse(h.data)}catch(u){break}f=E[0];h=E[1];var D=E[2];E=E[3];if(f!==b.version)throw Error('Incompatible SockJS! Main site uses: "'+f+'", the iframe: "'+b.version+'".');if(!k.isOriginEqual(D,n.href)||!k.isOriginEqual(E,n.href))throw Error("Can't connect to different domain from within an iframe. ("+n.href+", "+D+", "+E+")");e=new d(new s[h](D,E));break;case "m":e._send(h.data);break;case "c":e&&e._close(),e=null}}});l.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,
"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:void 0}],9:[function(e,b,g){function k(b,e){h.call(this);var g=this,k=+new Date;this.xo=new e("GET",b);this.xo.once("finish",function(b,e){var f,h;if(200===b){if(h=+new Date-k,e)try{f=JSON.parse(e)}catch(l){}d.isObject(f)||(f={})}g.emit("finish",f,h);g.removeAllListeners()})}var h=e("events").EventEmitter;g=e("inherits");var d=e("./utils/object");g(k,h);k.prototype.close=function(){this.removeAllListeners();this.xo.close()};b.exports=k},
{"./utils/object":49,debug:void 0,events:3,inherits:54}],10:[function(e,b,g){function k(b){var e=this;h.call(this);this.ir=new f(b,d);this.ir.once("finish",function(b,d){e.ir=null;e.emit("message",JSON.stringify([b,d]))})}g=e("inherits");var h=e("events").EventEmitter,d=e("./transport/sender/xhr-local"),f=e("./info-ajax");g(k,h);k.transportName="iframe-info-receiver";k.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null);this.removeAllListeners()};b.exports=k},{"./info-ajax":9,"./transport/sender/xhr-local":37,
events:3,inherits:54}],11:[function(e,b,g){(function(g){(function(){function h(b,e){function f(){var d=h.ifr=new n(p.transportName,e,b);d.once("message",function(b){if(b){var d;try{d=JSON.parse(b)}catch(e){return h.emit("finish"),void h.close()}h.emit("finish",d[0],d[1])}h.close()});d.once("close",function(){h.emit("finish");h.close()})}var h=this;d.call(this);g.document.body?f():l.attachEvent("load",f)}var d=e("events").EventEmitter,f=e("inherits"),l=e("./utils/event"),n=e("./transport/iframe"),
p=e("./info-iframe-receiver");f(h,d);h.enabled=function(){return n.enabled()};h.prototype.close=function(){this.ifr&&this.ifr.close();this.removeAllListeners();this.ifr=null};b.exports=h}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:void 0,events:3,inherits:54}],12:[function(e,b,g){function k(b,d){var e=this;h.call(this);setTimeout(function(){e.doXhr(b,
d)},0)}var h=e("events").EventEmitter;g=e("inherits");var d=e("./utils/url"),f=e("./transport/sender/xdr"),l=e("./transport/sender/xhr-cors"),n=e("./transport/sender/xhr-local"),p=e("./transport/sender/xhr-fake"),q=e("./info-iframe"),r=e("./info-ajax");g(k,h);k._getReceiver=function(b,d,e){return e.sameOrigin?new r(d,n):l.enabled?new r(d,l):f.enabled&&e.sameScheme?new r(d,f):q.enabled()?new q(b,d):new r(d,p)};k.prototype.doXhr=function(b,e){var f=this,h=d.addPath(b,"/info");this.xo=k._getReceiver(b,
h,e);this.timeoutRef=setTimeout(function(){f._cleanup(!1);f.emit("finish")},k.timeout);this.xo.once("finish",function(b,d){f._cleanup(!0);f.emit("finish",b,d)})};k.prototype._cleanup=function(b){clearTimeout(this.timeoutRef);this.timeoutRef=null;!b&&this.xo&&this.xo.close();this.xo=null};k.prototype.close=function(){this.removeAllListeners();this._cleanup(!1)};k.timeout=8E3;b.exports=k},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,
"./transport/sender/xhr-local":37,"./utils/url":52,debug:void 0,events:3,inherits:54}],13:[function(e,b,g){b.exports=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},{}],14:[function(e,b,g){(function(g){(function(){function h(b,d,e){if(!(this instanceof h))return new h(b,d,e);if(1>arguments.length)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");
E.call(this);this.readyState=h.CONNECTING;this.protocol=this.extensions="";(e=e||{}).protocols_whitelist&&w.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead.");this._transportsWhitelist=e.transports;this._transportOptions=e.transportOptions||{};this._timeout=e.timeout||0;var g=e.sessionId||8;if("function"==typeof g)this._generateSessionId=g;else{if("number"!=typeof g)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=
function(){return n.string(g)}}this._server=e.server||n.numberString(1E3);var k=new f(b);if(!k.host||!k.protocol)throw new SyntaxError("The URL '"+b+"' is invalid");if(k.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==k.protocol&&"https:"!==k.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+k.protocol+"' is not allowed.");var l="https:"===k.protocol;if("https:"===u.protocol&&!l&&!q.isLoopbackAddr(k.hostname))throw Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");
d?Array.isArray(d)||(d=[d]):d=[];var p=d.sort();p.forEach(function(b,d){if(!b)throw new SyntaxError("The protocols entry '"+b+"' is invalid.");if(d<p.length-1&&b===p[d+1])throw new SyntaxError("The protocols entry '"+b+"' is duplicated.");});this._origin=(l=q.getOrigin(u.href))?l.toLowerCase():null;k.set("pathname",k.pathname.replace(/\/+$/,""));this.url=k.href;this._urlInfo={nullOrigin:!z.hasDomain(),sameOrigin:q.isOriginEqual(this.url,u.href),sameScheme:q.isSchemeEqual(this.url,u.href)};this._ir=
new F(this.url,this._urlInfo);this._ir.once("finish",this._receiveInfo.bind(this))}e("./shims");var d,f=e("url-parse"),l=e("inherits"),n=e("./utils/random"),p=e("./utils/escape"),q=e("./utils/url"),r=e("./utils/event"),s=e("./utils/transport"),v=e("./utils/object"),z=e("./utils/browser"),w=e("./utils/log"),B=e("./event/event"),E=e("./event/eventtarget"),u=e("./location"),D=e("./event/close"),C=e("./event/trans-message"),F=e("./info-receiver");l(h,E);h.prototype.close=function(b,d){if(b&&!(1E3===b||
3E3<=b&&4999>=b))throw Error("InvalidAccessError: Invalid code");if(d&&123<d.length)throw new SyntaxError("reason argument has an invalid length");this.readyState!==h.CLOSING&&this.readyState!==h.CLOSED&&this._close(b||1E3,d||"Normal closure",!0)};h.prototype.send=function(b){if("string"!=typeof b&&(b=""+b),this.readyState===h.CONNECTING)throw Error("InvalidStateError: The connection has not been established yet");this.readyState===h.OPEN&&this._transport.send(p.quote(b))};h.version=e("./version");
h.CONNECTING=0;h.OPEN=1;h.CLOSING=2;h.CLOSED=3;h.prototype._receiveInfo=function(b,e){(this._ir=null,b)?(this._rto=this.countRTO(e),this._transUrl=b.base_url?b.base_url:this.url,b=v.extend(b,this._urlInfo),this._transports=d.filterToEnabled(this._transportsWhitelist,b).main,this._connect()):this._close(1002,"Cannot connect to server")};h.prototype._connect=function(){for(var b=this._transports.shift();b;){if(b.needBody&&(!g.document.body||void 0!==g.document.readyState&&"complete"!==g.document.readyState&&
"interactive"!==g.document.readyState))return this._transports.unshift(b),void r.attachEvent("load",this._connect.bind(this));var d=Math.max(this._timeout,this._rto*b.roundTrips||5E3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),d);d=q.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId());d=new b(d,this._transUrl,this._transportOptions[b.transportName]);return d.on("message",this._transportMessage.bind(this)),d.once("close",this._transportClose.bind(this)),
d.transportName=b.transportName,void(this._transport=d)}this._close(2E3,"All transports failed",!1)};h.prototype._transportTimeout=function(){this.readyState===h.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};h.prototype._transportMessage=function(b){var d,e=this,f=b.slice(0,1);b=b.slice(1);switch(f){case "o":return void this._open();case "h":return this.dispatchEvent(new B("heartbeat")),void 0}if(b)try{d=JSON.parse(b)}catch(h){}if(void 0!==
d)switch(f){case "a":Array.isArray(d)&&d.forEach(function(b){e.dispatchEvent(new C(b))});break;case "m":this.dispatchEvent(new C(d));break;case "c":Array.isArray(d)&&2===d.length&&this._close(d[0],d[1],!0)}};h.prototype._transportClose=function(b,d){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null);1E3===b||3E3<=b&&4999>=b||2E3===b||this.readyState!==h.CONNECTING?this._close(b,d):this._connect()};h.prototype._open=function(){this.readyState===h.CONNECTING?
(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=h.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new B("open"))):this._close(1006,"Server lost session")};h.prototype._close=function(b,d,e){var f=!1;if(this._ir&&(f=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===h.CLOSED)throw Error("InvalidStateError: SockJS has already been closed");
this.readyState=h.CLOSING;setTimeout(function(){this.readyState=h.CLOSED;f&&this.dispatchEvent(new B("error"));var g=new D("close");g.wasClean=e||!1;g.code=b||1E3;g.reason=d;this.dispatchEvent(g);this.onmessage=this.onclose=this.onerror=null}.bind(this),0)};h.prototype.countRTO=function(b){return 100<b?4*b:300+b};b.exports=function(b){return d=s(b),e("./iframe-bootstrap")(h,b),h}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:
{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:void 0,inherits:54,"url-parse":57}],15:[function(e,b,g){function k(b,d,e){for(var h in d)n.hasOwnProperty.call(d,h)&&f(b,h,d[h],e)}function h(b){if(null==b)throw new TypeError("can't convert "+
b+" to object");return Object(b)}function d(){}var f,l=Array.prototype,n=Object.prototype;b=Function.prototype;e=String.prototype;var p=l.slice,q=n.toString;if(g=Object.defineProperty)try{g=(Object.defineProperty({},"x",{}),!0)}catch(r){g=!1}f=g?function(b,d,e,f){!f&&d in b||Object.defineProperty(b,d,{configurable:!0,enumerable:!1,writable:!0,value:e})}:function(b,d,e,f){!f&&d in b||(b[d]=e)};k(b,{bind:function(b){var e=this;if("[object Function]"!==n.toString.call(e))throw new TypeError("Function.prototype.bind called on incompatible "+
e);for(var f=p.call(arguments,1),h=Math.max(0,e.length-f.length),g=[],k=0;k<h;k++)g.push("$"+k);var l=Function("binder","return function ("+g.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof l){var d=e.apply(this,f.concat(p.call(arguments)));return Object(d)===d?d:this}return e.apply(b,f.concat(p.call(arguments)))});return e.prototype&&(d.prototype=e.prototype,l.prototype=new d,d.prototype=null),l}});k(Array,{isArray:function(b){return"[object Array]"===q.call(b)}});
var s,v,z;b=Object("a");var w="a"!==b[0]||!(0 in b);k(l,{forEach:function(b,d){var e=h(this),f=w&&"[object String]"===q.call(this)?this.split(""):e,g=-1,k=f.length>>>0;if("[object Function]"!==n.toString.call(b))throw new TypeError;for(;++g<k;)g in f&&b.call(d,f[g],g,e)}},(s=l.forEach,z=v=!0,s&&(s.call("foo",function(b,d,e){"object"!=typeof e&&(v=!1)}),s.call([1],function(){z="string"==typeof this},"x")),!(s&&v&&z)));s=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);k(l,{indexOf:function(b,d){var e=
w&&"[object String]"===q.call(this)?this.split(""):h(this),f=e.length>>>0;if(!f)return-1;var g=0;if(1<arguments.length)var k=+d,g=(k!=k?k=0:0!==k&&k!==1/0&&k!==-1/0&&(k=(0<k||-1)*Math.floor(Math.abs(k))),k);for(g=0<=g?g:Math.max(0,f+g);g<f;g++)if(g in e&&e[g]===b)return g;return-1}},s);var B,E=e.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||1<".".split(/()()/).length?(B=void 0===
/()??/.exec("")[1],e.split=function(b,d){var e=this;if(void 0===b&&0===d)return[];if("[object RegExp]"!==q.call(b))return E.call(this,b,d);var f,h,g,k,n=[],p=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.extended?"x":"")+(b.sticky?"y":""),r=0;b=new RegExp(b.source,p+"g");e+="";B||(f=new RegExp("^"+b.source+"$(?!\\s)",p));for(d=void 0===d?4294967295:d>>>0;(h=b.exec(e))&&!(r<(g=h.index+h[0].length)&&(n.push(e.slice(r,h.index)),!B&&1<h.length&&h[0].replace(f,function(){for(var b=1;b<arguments.length-
2;b++)void 0===arguments[b]&&(h[b]=void 0)}),1<h.length&&h.index<e.length&&l.push.apply(n,h.slice(1)),k=h[0].length,r=g,n.length>=d));)b.lastIndex===h.index&&b.lastIndex++;return r===e.length?!k&&b.test("")||n.push(""):n.push(e.slice(r)),n.length>d?n.slice(0,d):n}):"0".split(void 0,0).length&&(e.split=function(b,d){return void 0===b&&0===d?[]:E.call(this,b,d)});var u=e.substr;s="".substr&&"b"!=="0b".substr(-1);k(e,{substr:function(b,d){return u.call(this,0>b&&0>(b=this.length+b)?0:b,d)}},s)},{}],
16:[function(e,b,g){b.exports=[e("./transport/websocket"),e("./transport/xhr-streaming"),e("./transport/xdr-streaming"),e("./transport/eventsource"),e("./transport/lib/iframe-wrap")(e("./transport/eventsource")),e("./transport/htmlfile"),e("./transport/lib/iframe-wrap")(e("./transport/htmlfile")),e("./transport/xhr-polling"),e("./transport/xdr-polling"),e("./transport/lib/iframe-wrap")(e("./transport/xhr-polling")),e("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,
"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(e,b,g){(function(g){(function(){function h(b,e,f,h){var g=this;d.call(this);setTimeout(function(){g._start(b,e,f,h)},0)}var d=e("events").EventEmitter,f=e("inherits"),l=e("../../utils/event"),n=e("../../utils/url"),p=g.XMLHttpRequest;f(h,d);h.prototype._start=function(b,d,e,
f){var g=this;try{this.xhr=new p}catch(k){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();d=n.addQuery(d,"t\x3d"+ +new Date);this.unloadRef=l.unloadAdd(function(){g._cleanup(!0)});try{this.xhr.open(b,d,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){g.emit("finish",0,"");g._cleanup(!1)})}catch(q){return this.emit("finish",0,""),void this._cleanup(!1)}if(f&&f.noCredentials||!h.supportsCORS||(this.xhr.withCredentials=
!0),f&&f.headers)for(var r in f.headers)this.xhr.setRequestHeader(r,f.headers[r]);this.xhr.onreadystatechange=function(){if(g.xhr){var b,d,e=g.xhr;switch(e.readyState){case 3:try{d=e.status,b=e.responseText}catch(f){}1223===d&&(d=204);200===d&&b&&0<b.length&&g.emit("chunk",d,b);break;case 4:d=e.status,1223===d&&(d=204),12005!==d&&12029!==d||(d=0),g.emit("finish",d,e.responseText),g._cleanup(!1)}}};try{g.xhr.send(e)}catch(C){g.emit("finish",0,""),g._cleanup(!1)}};h.prototype._cleanup=function(b){if(this.xhr){if(this.removeAllListeners(),
l.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),b)try{this.xhr.abort()}catch(d){}this.unloadRef=this.xhr=null}};h.prototype.close=function(){this._cleanup(!0)};h.enabled=!!p;var q=["Active"].concat("Object").join("X");!h.enabled&&q in g&&(h.enabled=!!new (p=function(){try{return new g[q]("Microsoft.XMLHTTP")}catch(b){return null}}));f=!1;try{f="withCredentials"in new p}catch(r){}h.supportsCORS=f;b.exports=h}).call(this)}).call(this,
"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],18:[function(e,b,g){b.exports=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).EventSource},{}],19:[function(e,b,g){(function(e){(function(){var h=e.WebSocket||e.MozWebSocket;b.exports=h?function(b){return new h(b)}:void 0}).call(this)}).call(this,"undefined"!=typeof global?
global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,b,g){function k(b){if(!k.enabled())throw Error("Transport created when disabled");h.call(this,b,"/eventsource",d,f)}g=e("inherits");var h=e("./lib/ajax-based"),d=e("./receiver/eventsource"),f=e("./sender/xhr-cors"),l=e("eventsource");g(k,h);k.enabled=function(){return!!l};k.transportName="eventsource";k.roundTrips=2;b.exports=k},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,
inherits:54}],21:[function(e,b,g){function k(b){if(!h.enabled)throw Error("Transport created when disabled");f.call(this,b,"/htmlfile",h,d)}g=e("inherits");var h=e("./receiver/htmlfile"),d=e("./sender/xhr-local"),f=e("./lib/ajax-based");g(k,f);k.enabled=function(b){return h.enabled&&b.sameOrigin};k.transportName="htmlfile";k.roundTrips=2;b.exports=k},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:54}],22:[function(e,b,g){function k(b,d,e){if(!k.enabled())throw Error("Transport created when disabled");
h.call(this);var g=this;this.origin=f.getOrigin(e);this.baseUrl=e;this.transUrl=d;this.transport=b;this.windowId=p.string(8);b=f.addPath(e,"/iframe.html")+"#"+this.windowId;this.iframeObj=l.createIframe(b,function(b){g.emit("close",1006,"Unable to load an iframe ("+b+")");g.close()});this.onmessageCallback=this._message.bind(this);n.attachEvent("message",this.onmessageCallback)}g=e("inherits");var h=e("events").EventEmitter,d=e("../version"),f=e("../utils/url"),l=e("../utils/iframe"),n=e("../utils/event"),
p=e("../utils/random");g(k,h);k.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){n.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(b){}this.iframeObj.cleanup();this.onmessageCallback=this.iframeObj=this.iframeObj=null}};k.prototype._message=function(b){if(f.isOriginEqual(b.origin,this.origin)){var e;try{e=JSON.parse(b.data)}catch(h){return}if(e.windowId===this.windowId)switch(e.type){case "s":this.iframeObj.loaded();this.postMessage("s",JSON.stringify([d,
this.transport,this.transUrl,this.baseUrl]));break;case "t":this.emit("message",e.data);break;case "c":var g;try{g=JSON.parse(e.data)}catch(k){break}this.emit("close",g[0],g[1]);this.close()}}};k.prototype.postMessage=function(b,d){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:b,data:d||""}),this.origin)};k.prototype.send=function(b){this.postMessage("m",b)};k.enabled=function(){return l.iframeEnabled};k.transportName="iframe";k.roundTrips=2;b.exports=k},{"../utils/event":46,"../utils/iframe":47,
"../utils/random":50,"../utils/url":52,"../version":53,debug:void 0,events:3,inherits:54}],23:[function(e,b,g){(function(g){(function(){function h(b){if(!h.enabled())throw Error("Transport created when disabled");f.call(this,b,"/jsonp",n,l)}var d=e("inherits"),f=e("./lib/sender-receiver"),l=e("./receiver/jsonp"),n=e("./sender/jsonp");d(h,f);h.enabled=function(){return!!g.document};h.transportName="jsonp-polling";h.roundTrips=1;h.needBody=!0;b.exports=h}).call(this)}).call(this,"undefined"!=typeof global?
global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:54}],24:[function(e,b,g){function k(b,e,g,k){d.call(this,b,e,function(b){return function(d,e,f){var g={};"string"==typeof e&&(g.headers={"Content-type":"text/plain"});d=h.addPath(d,"/xhr_send");var k=new b("POST",d,e,g);return k.once("finish",function(b){if(k=null,200!==b&&204!==b)return f(Error("http status "+b));f()}),function(){k.close();k=null;
var b=Error("Aborted");b.code=1E3;f(b)}}}(k),g,k)}g=e("inherits");var h=e("../../utils/url"),d=e("./sender-receiver");g(k,d);b.exports=k},{"../../utils/url":52,"./sender-receiver":28,debug:void 0,inherits:54}],25:[function(e,b,g){function k(b,e){h.call(this);this.sendBuffer=[];this.sender=e;this.url=b}g=e("inherits");var h=e("events").EventEmitter;g(k,h);k.prototype.send=function(b){this.sendBuffer.push(b);this.sendStop||this.sendSchedule()};k.prototype.sendScheduleWait=function(){var b,e=this;this.sendStop=
function(){e.sendStop=null;clearTimeout(b)};b=setTimeout(function(){e.sendStop=null;e.sendSchedule()},25)};k.prototype.sendSchedule=function(){var b=this;if(0<this.sendBuffer.length){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){b.sendStop=null;e?(b.emit("close",e.code||1006,"Sending error: "+e),b.close()):b.sendScheduleWait()});this.sendBuffer=[]}};k.prototype._cleanup=function(){this.removeAllListeners()};k.prototype.close=function(){this._cleanup();this.sendStop&&
(this.sendStop(),this.sendStop=null)};b.exports=k},{debug:void 0,events:3,inherits:54}],26:[function(e,b,g){(function(g){(function(){var h=e("inherits"),d=e("../iframe"),f=e("../../utils/object");b.exports=function(b){function e(f,g){d.call(this,b.transportName,f,g)}return h(e,d),e.enabled=function(e,h){if(!g.document)return!1;var n=f.extend({},h);return n.sameOrigin=!0,b.enabled(n)&&d.enabled()},e.transportName="iframe-"+b.transportName,e.needBody=!0,e.roundTrips=d.roundTrips+b.roundTrips-1,e.facadeTransport=
b,e}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:54}],27:[function(e,b,g){function k(b,e,g){h.call(this);this.Receiver=b;this.receiveUrl=e;this.AjaxObject=g;this._scheduleReceiver()}g=e("inherits");var h=e("events").EventEmitter;g(k,h);k.prototype._scheduleReceiver=function(){var b=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){b.emit("message",
e)});e.once("close",function(g,h){b.poll=e=null;b.pollIsClosing||("network"===h?b._scheduleReceiver():(b.emit("close",g||1006,h),b.removeAllListeners()))})};k.prototype.abort=function(){this.removeAllListeners();this.pollIsClosing=!0;this.poll&&this.poll.abort()};b.exports=k},{debug:void 0,events:3,inherits:54}],28:[function(e,b,g){function k(b,e,g,k,r){e=h.addPath(b,e);var s=this;d.call(this,b,g);this.poll=new f(k,e,r);this.poll.on("message",function(b){s.emit("message",b)});this.poll.once("close",
function(b,d){s.poll=null;s.emit("close",b,d);s.close()})}g=e("inherits");var h=e("../../utils/url"),d=e("./buffered-sender"),f=e("./polling");g(k,d);k.prototype.close=function(){d.prototype.close.call(this);this.removeAllListeners();this.poll&&(this.poll.abort(),this.poll=null)};b.exports=k},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:void 0,inherits:54}],29:[function(e,b,g){function k(b){h.call(this);var e=this,g=this.es=new d(b);g.onmessage=function(b){e.emit("message",decodeURI(b.data))};
g.onerror=function(b){b=2!==g.readyState?"network":"permanent";e._cleanup();e._close(b)}}g=e("inherits");var h=e("events").EventEmitter,d=e("eventsource");g(k,h);k.prototype.abort=function(){this._cleanup();this._close("user")};k.prototype._cleanup=function(){var b=this.es;b&&(b.onmessage=b.onerror=null,b.close(),this.es=null)};k.prototype._close=function(b){var d=this;setTimeout(function(){d.emit("close",null,b);d.removeAllListeners()},200)};b.exports=k},{debug:void 0,events:3,eventsource:18,inherits:54}],
30:[function(e,b,g){(function(g){(function(){function h(b){n.call(this);var d=this;f.polluteGlobalNamespace();this.id="a"+p.string(6);b=l.addQuery(b,"c\x3d"+decodeURIComponent(f.WPrefix+"."+this.id));var e=h.htmlfileEnabled?f.createHtmlfile:f.createIframe;g[f.WPrefix][this.id]={start:function(){d.iframeObj.loaded()},message:function(b){d.emit("message",b)},stop:function(){d._cleanup();d._close("network")}};this.iframeObj=e(b,function(){d._cleanup();d._close("permanent")})}var d=e("inherits"),f=e("../../utils/iframe"),
l=e("../../utils/url"),n=e("events").EventEmitter,p=e("../../utils/random");d(h,n);h.prototype.abort=function(){this._cleanup();this._close("user")};h.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null);delete g[f.WPrefix][this.id]};h.prototype._close=function(b){this.emit("close",null,b);this.removeAllListeners()};h.htmlfileEnabled=!1;d=["Active"].concat("Object").join("X");if(d in g)try{h.htmlfileEnabled=!!new g[d]("htmlfile")}catch(q){}h.enabled=h.htmlfileEnabled||
f.iframeEnabled;b.exports=h}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],31:[function(e,b,g){(function(g){(function(){function h(b){var e=this;q.call(this);d.polluteGlobalNamespace();this.id="a"+f.string(6);b=n.addQuery(b,"c\x3d"+encodeURIComponent(d.WPrefix+"."+this.id));g[d.WPrefix][this.id]=this._callback.bind(this);
this._createScript(b);this.timeoutId=setTimeout(function(){e._abort(Error("JSONP script loaded abnormally (timeout)"))},h.timeout)}var d=e("../../utils/iframe"),f=e("../../utils/random"),l=e("../../utils/browser"),n=e("../../utils/url"),p=e("inherits"),q=e("events").EventEmitter;p(h,q);h.prototype.abort=function(){if(g[d.WPrefix][this.id]){var b=Error("JSONP user aborted read");b.code=1E3;this._abort(b)}};h.timeout=35E3;h.scriptErrorTimeout=1E3;h.prototype._callback=function(b){this._cleanup();this.aborting||
(b&&this.emit("message",b),this.emit("close",null,"network"),this.removeAllListeners())};h.prototype._abort=function(b){this._cleanup();this.aborting=!0;this.emit("close",b.code,b.message);this.removeAllListeners()};h.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var b=this.script;b.parentNode.removeChild(b);this.script=b.onreadystatechange=b.onerror=b.onload=b.onclick=null}delete g[d.WPrefix][this.id]};
h.prototype._scriptError=function(){var b=this;this.errorTimer||(this.errorTimer=setTimeout(function(){b.loadedOkay||b._abort(Error("JSONP script loaded abnormally (onerror)"))},h.scriptErrorTimeout))};h.prototype._createScript=function(b){var d,e=this,h=this.script=g.document.createElement("script");if(h.id="a"+f.string(8),h.src=b,h.type="text/javascript",h.charset="UTF-8",h.onerror=this._scriptError.bind(this),h.onload=function(){e._abort(Error("JSONP script loaded abnormally (onload)"))},h.onreadystatechange=
function(){if(/loaded|closed/.test(h.readyState)){if(h&&h.htmlFor&&h.onclick){e.loadedOkay=!0;try{h.onclick()}catch(b){}}h&&e._abort(Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===h.async&&g.document.attachEvent)if(l.isOpera())(d=this.script2=g.document.createElement("script")).text="try{var a \x3d document.getElementById('"+h.id+"'); if(a)a.onerror();}catch(x){};",h.async=d.async=!1;else{try{h.htmlFor=h.id,h.event="onclick"}catch(n){}h.async=!0}void 0!==h.async&&(h.async=
!0);b=g.document.getElementsByTagName("head")[0];b.insertBefore(h,b.firstChild);d&&b.insertBefore(d,b.firstChild)};b.exports=h}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],32:[function(e,b,g){function k(b,e){h.call(this);var g=this;this.bufferPosition=0;this.xo=new e("POST",b,null);this.xo.on("chunk",
this._chunkHandler.bind(this));this.xo.once("finish",function(b,d){g._chunkHandler(b,d);g.xo=null;g.emit("close",null,200===b?"network":"permanent");g._cleanup()})}g=e("inherits");var h=e("events").EventEmitter;g(k,h);k.prototype._chunkHandler=function(b,e){if(200===b&&e)for(var g=-1;;this.bufferPosition+=g+1){var h=e.slice(this.bufferPosition);if(-1===(g=h.indexOf("\n")))break;(h=h.slice(0,g))&&this.emit("message",h)}};k.prototype._cleanup=function(){this.removeAllListeners()};k.prototype.abort=
function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null);this._cleanup()};b.exports=k},{debug:void 0,events:3,inherits:54}],33:[function(e,b,g){(function(g){(function(){var h,d,f=e("../../utils/random"),l=e("../../utils/url");b.exports=function(b,e,q){function r(b){v.onerror&&(v.onreadystatechange=v.onerror=v.onload=null,setTimeout(function(){v.parentNode.removeChild(v);v=null},500),d.value="",q(b))}h||((h=g.document.createElement("form")).style.display="none",h.style.position=
"absolute",h.method="POST",h.enctype="application/x-www-form-urlencoded",h.acceptCharset="UTF-8",(d=g.document.createElement("textarea")).name="d",h.appendChild(d),g.document.body.appendChild(h));var s="a"+f.string(8);h.target=s;h.action=l.addQuery(l.addPath(b,"/jsonp_send"),"i\x3d"+s);var v=function(b){try{return g.document.createElement('\x3ciframe name\x3d"'+b+'"\x3e')}catch(d){var e=g.document.createElement("iframe");return e.name=b,e}}(s);v.id=s;v.style.display="none";h.appendChild(v);try{d.value=
e}catch(z){}h.submit();return v.onerror=function(){r()},v.onload=function(){r()},v.onreadystatechange=function(b){"complete"===v.readyState&&r()},function(){r(Error("Aborted"))}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:void 0}],34:[function(e,b,g){(function(g){(function(){function h(b,e,f){var g=this;d.call(this);setTimeout(function(){g._start(b,e,f)},0)}var d=
e("events").EventEmitter,f=e("inherits"),l=e("../../utils/event"),n=e("../../utils/browser"),p=e("../../utils/url");f(h,d);h.prototype._start=function(b,d,e){var f=this,h=new g.XDomainRequest;d=p.addQuery(d,"t\x3d"+ +new Date);h.onerror=function(){f._error()};h.ontimeout=function(){f._error()};h.onprogress=function(){f.emit("chunk",200,h.responseText)};h.onload=function(){f.emit("finish",200,h.responseText);f._cleanup(!1)};this.xdr=h;this.unloadRef=l.unloadAdd(function(){f._cleanup(!0)});try{this.xdr.open(b,
d),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(e)}catch(n){this._error()}};h.prototype._error=function(){this.emit("finish",0,"");this._cleanup(!1)};h.prototype._cleanup=function(b){if(this.xdr){if(this.removeAllListeners(),l.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,b)try{this.xdr.abort()}catch(d){}this.unloadRef=this.xdr=null}};h.prototype.close=function(){this._cleanup(!0)};h.enabled=!(!g.XDomainRequest||!n.hasDomain());
b.exports=h}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],35:[function(e,b,g){function k(b,e,g,k){h.call(this,b,e,g,k)}g=e("inherits");var h=e("../driver/xhr");g(k,h);k.enabled=h.enabled&&h.supportsCORS;b.exports=k},{"../driver/xhr":17,inherits:54}],36:[function(e,b,g){function k(){var b=this;h.call(this);this.to=
setTimeout(function(){b.emit("finish",200,"{}")},k.timeout)}var h=e("events").EventEmitter;e("inherits")(k,h);k.prototype.close=function(){clearTimeout(this.to)};k.timeout=2E3;b.exports=k},{events:3,inherits:54}],37:[function(e,b,g){function k(b,e,g){h.call(this,b,e,g,{noCredentials:!0})}g=e("inherits");var h=e("../driver/xhr");g(k,h);k.enabled=h.enabled;b.exports=k},{"../driver/xhr":17,inherits:54}],38:[function(e,b,g){function k(b,e,g){if(!k.enabled())throw Error("Transport created when disabled");
f.call(this);var r=this;b=d.addPath(b,"/websocket");this.url=b="https"===b.slice(0,5)?"wss"+b.slice(5):"ws"+b.slice(4);this.ws=new l(this.url,[],g);this.ws.onmessage=function(b){r.emit("message",b.data)};this.unloadRef=h.unloadAdd(function(){r.ws.close()});this.ws.onclose=function(b){r.emit("close",b.code,b.reason);r._cleanup()};this.ws.onerror=function(b){r.emit("close",1006,"WebSocket connection broken");r._cleanup()}}var h=e("../utils/event"),d=e("../utils/url");g=e("inherits");var f=e("events").EventEmitter,
l=e("./driver/websocket");g(k,f);k.prototype.send=function(b){this.ws.send("["+b+"]")};k.prototype.close=function(){var b=this.ws;this._cleanup();b&&b.close()};k.prototype._cleanup=function(){var b=this.ws;b&&(b.onmessage=b.onclose=b.onerror=null);h.unloadDel(this.unloadRef);this.unloadRef=this.ws=null;this.removeAllListeners()};k.enabled=function(){return!!l};k.transportName="websocket";k.roundTrips=2;b.exports=k},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:void 0,events:3,
inherits:54}],39:[function(e,b,g){function k(b){if(!l.enabled)throw Error("Transport created when disabled");h.call(this,b,"/xhr",f,l)}g=e("inherits");var h=e("./lib/ajax-based"),d=e("./xdr-streaming"),f=e("./receiver/xhr"),l=e("./sender/xdr");g(k,h);k.enabled=d.enabled;k.transportName="xdr-polling";k.roundTrips=2;b.exports=k},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:54}],40:[function(e,b,g){function k(b){if(!f.enabled)throw Error("Transport created when disabled");
h.call(this,b,"/xhr_streaming",d,f)}g=e("inherits");var h=e("./lib/ajax-based"),d=e("./receiver/xhr"),f=e("./sender/xdr");g(k,h);k.enabled=function(b){return!b.cookie_needed&&!b.nullOrigin&&f.enabled&&b.sameScheme};k.transportName="xdr-streaming";k.roundTrips=2;b.exports=k},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:54}],41:[function(e,b,g){function k(b){if(!l.enabled&&!f.enabled)throw Error("Transport created when disabled");h.call(this,b,"/xhr",d,f)}g=e("inherits");var h=
e("./lib/ajax-based"),d=e("./receiver/xhr"),f=e("./sender/xhr-cors"),l=e("./sender/xhr-local");g(k,h);k.enabled=function(b){return!b.nullOrigin&&(!(!l.enabled||!b.sameOrigin)||f.enabled)};k.transportName="xhr-polling";k.roundTrips=2;b.exports=k},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],42:[function(e,b,g){(function(g){(function(){function h(b){if(!p.enabled&&!n.enabled)throw Error("Transport created when disabled");f.call(this,b,"/xhr_streaming",
l,n)}var d=e("inherits"),f=e("./lib/ajax-based"),l=e("./receiver/xhr"),n=e("./sender/xhr-cors"),p=e("./sender/xhr-local"),q=e("../utils/browser");d(h,f);h.enabled=function(b){return!b.nullOrigin&&!q.isOpera()&&n.enabled};h.transportName="xhr-streaming";h.roundTrips=2;h.needBody=!!g.document;b.exports=h}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,
"./sender/xhr-local":37,inherits:54}],43:[function(e,b,g){(function(e){(function(){e.crypto&&e.crypto.getRandomValues?b.exports.randomBytes=function(b){b=new Uint8Array(b);return e.crypto.getRandomValues(b),b}:b.exports.randomBytes=function(b){for(var d=Array(b),e=0;e<b;e++)d[e]=Math.floor(256*Math.random());return d}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,b,g){(function(e){(function(){b.exports=
{isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(b){return!1}}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,b,g){var k,h=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;
b.exports={quote:function(b){b=JSON.stringify(b);return h.lastIndex=0,h.test(b)?(k=k||function(b){var d,e={},g=[];for(d=0;65536>d;d++)g.push(String.fromCharCode(d));return b.lastIndex=0,g.join("").replace(b,function(b){return e[b]="\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4),""}),b.lastIndex=0,e}(h),b.replace(h,function(b){return k[b]})):b}}},{}],46:[function(e,b,g){(function(g){(function(){var h=e("./random"),d={},f=!1,l=g.chrome&&g.chrome.app&&g.chrome.app.runtime;b.exports={attachEvent:function(b,
d){void 0!==g.addEventListener?g.addEventListener(b,d,!1):g.document&&g.attachEvent&&(g.document.attachEvent("on"+b,d),g.attachEvent("on"+b,d))},detachEvent:function(b,d){void 0!==g.addEventListener?g.removeEventListener(b,d,!1):g.document&&g.detachEvent&&(g.document.detachEvent("on"+b,d),g.detachEvent("on"+b,d))},unloadAdd:function(b){if(l)return null;var e=h.string(8);return d[e]=b,f&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(b){b in d&&delete d[b]},triggerUnloadCallbacks:function(){for(var b in d)d[b](),
delete d[b]}};l||b.exports.attachEvent("unload",function(){f||(f=!0,b.exports.triggerUnloadCallbacks())})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(e,b,g){(function(g){(function(){var h=e("./event"),d=e("./browser");b.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){b.exports.WPrefix in g||(g[b.exports.WPrefix]={})},postMessage:function(d,e){g.parent!==g&&
g.parent.postMessage(JSON.stringify({windowId:b.exports.currentWindowId,type:d,data:e||""}),"*")},createIframe:function(b,d){function e(){clearTimeout(q);try{s.onload=null}catch(b){}s.onerror=null}function p(){s&&(e(),setTimeout(function(){s&&s.parentNode.removeChild(s);s=null},0),h.unloadDel(r))}var q,r,s=g.document.createElement("iframe");return s.src=b,s.style.display="none",s.style.position="absolute",s.onerror=function(){s&&(p(),d("onerror"))},s.onload=function(){clearTimeout(q);q=setTimeout(function(){s&&
(p(),d("onload timeout"))},2E3)},g.document.body.appendChild(s),q=setTimeout(function(){s&&(p(),d("timeout"))},15E3),r=h.unloadAdd(p),{post:function(b,d){setTimeout(function(){try{s&&s.contentWindow&&s.contentWindow.postMessage(b,d)}catch(e){}},0)},cleanup:p,loaded:e}},createHtmlfile:function(d,e){function n(){clearTimeout(q);s.onerror=null}function p(){z&&(n(),h.unloadDel(r),s.parentNode.removeChild(s),s=z=null,CollectGarbage())}var q,r,s,v=["Active"].concat("Object").join("X"),z=new g[v]("htmlfile");
z.open();z.write('\x3chtml\x3e\x3cscript\x3edocument.domain\x3d"'+g.document.domain+'";\x3c/script\x3e\x3c/html\x3e');z.close();z.parentWindow[b.exports.WPrefix]=g[b.exports.WPrefix];v=z.createElement("div");return z.body.appendChild(v),s=z.createElement("iframe"),v.appendChild(s),s.src=d,s.onerror=function(){z&&(p(),e("onerror"))},q=setTimeout(function(){z&&(p(),e("timeout"))},15E3),r=h.unloadAdd(p),{post:function(b,d){try{setTimeout(function(){s&&s.contentWindow&&s.contentWindow.postMessage(b,d)},
0)}catch(e){}},cleanup:p,loaded:n}}};b.exports.iframeEnabled=!1;g.document&&(b.exports.iframeEnabled=("function"==typeof g.postMessage||"object"==typeof g.postMessage)&&!d.isKonqueror())}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:void 0}],48:[function(e,b,g){(function(e){(function(){var g={};["log","debug","warn"].forEach(function(b){var f;try{f=e.console&&e.console[b]&&e.console[b].apply}catch(l){}g[b]=
f?function(){return e.console[b].apply(e.console,arguments)}:"log"===b?function(){}:g.log});b.exports=g}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,b,g){b.exports={isObject:function(b){var e=typeof b;return"function"==e||"object"==e&&!!b},extend:function(b){if(!this.isObject(b))return b;for(var e,d,f=1,g=arguments.length;f<g;f++)for(d in e=arguments[f])Object.prototype.hasOwnProperty.call(e,d)&&
(b[d]=e[d]);return b}}},{}],50:[function(e,b,g){var k=e("crypto");b.exports={string:function(b){for(var d=k.randomBytes(b),e=[],g=0;g<b;g++)e.push("abcdefghijklmnopqrstuvwxyz012345".substr(d[g]%32,1));return e.join("")},number:function(b){return Math.floor(Math.random()*b)},numberString:function(b){var d=(""+(b-1)).length;return(Array(d+1).join("0")+this.number(b)).slice(-d)}}},{crypto:43}],51:[function(e,b,g){b.exports=function(b){return{filterToEnabled:function(e,d){var f={main:[],facade:[]};return e?
"string"==typeof e&&(e=[e]):e=[],b.forEach(function(b){b&&("websocket"!==b.transportName||!1!==d.websocket)&&(e.length&&-1===e.indexOf(b.transportName)||b.enabled(d)&&(f.main.push(b),b.facadeTransport&&f.facade.push(b.facadeTransport)))}),f}}}},{debug:void 0}],52:[function(e,b,g){var k=e("url-parse");b.exports={getOrigin:function(b){if(!b)return null;b=new k(b);if("file:"===b.protocol)return null;var d=b.port;return d=d||("https:"===b.protocol?"443":"80"),b.protocol+"//"+b.hostname+":"+d},isOriginEqual:function(b,
d){return this.getOrigin(b)===this.getOrigin(d)},isSchemeEqual:function(b,d){return b.split(":")[0]===d.split(":")[0]},addPath:function(b,d){var e=b.split("?");return e[0]+d+(e[1]?"?"+e[1]:"")},addQuery:function(b,d){return b+(-1===b.indexOf("?")?"?"+d:"\x26"+d)},isLoopbackAddr:function(b){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(b)||/^\[::1\]$/.test(b)}}},{debug:void 0,"url-parse":57}],53:[function(e,b,g){b.exports="1.6.1"},{}],54:[function(e,b,g){"function"==typeof Object.create?
b.exports=function(b,e){e&&(b.super_=e,b.prototype=Object.create(e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}))}:b.exports=function(b,e){if(e){var d=function(){};b.super_=e;d.prototype=e.prototype;b.prototype=new d;b.prototype.constructor=b}}},{}],55:[function(e,b,g){function k(b){try{return decodeURIComponent(b.replace(/\+/g," "))}catch(e){return null}}var h=Object.prototype.hasOwnProperty;g.stringify=function(b,e){e=e||"";var g,k,p=[];for(k in"string"!=typeof e&&
(e="?"),b)h.call(b,k)&&((g=b[k])||null!=g&&!isNaN(g)||(g=""),k=encodeURIComponent(k),g=encodeURIComponent(g),null!==k&&null!==g)&&p.push(k+"\x3d"+g);return p.length?e+p.join("\x26"):""};g.parse=function(b){for(var e,g=/([^=?&]+)=?([^&]*)/g,h={};e=g.exec(b);){var p=k(e[1]);e=k(e[2]);null===p||null===e||p in h||(h[p]=e)}return h}},{}],56:[function(e,b,g){b.exports=function(b,e){if(e=e.split(":")[0],!(b=+b))return!1;switch(e){case "http":case "ws":return 80!==b;case "https":case "wss":return 443!==b;
case "ftp":return 21!==b;case "gopher":return 70!==b;case "file":return!1}return 0!==b}},{}],57:[function(e,b,g){(function(g){(function(){function h(b){return(b||"").toString().replace(r,"")}function d(b){var d,e=("undefined"!=typeof window?window:void 0!==g?g:"undefined"!=typeof self?self:{}).location||{},f={},e=typeof(b=b||e);if("blob:"===b.protocol)f=new n(unescape(b.pathname),{});else if("string"==e)for(d in f=new n(b,{}),u)delete f[d];else if("object"==e){for(d in b)d in u||(f[d]=b[d]);void 0===
f.slashes&&(f.slashes=v.test(b.href))}return f}function f(b){return"file:"===b||"ftp:"===b||"http:"===b||"https:"===b||"ws:"===b||"wss:"===b}function l(b,d){b=(b=h(b)).replace(s,"");d=d||{};var e,g=w.exec(b),k=g[1]?g[1].toLowerCase():"",l=!!g[2],n=!!g[3],p=0;return l?p=n?(e=g[2]+g[3]+g[4],g[2].length+g[3].length):(e=g[2]+g[4],g[2].length):n?(e=g[3]+g[4],p=g[3].length):e=g[4],"file:"===k?2<=p&&(e=e.slice(2)):f(k)?e=g[4]:k?l&&(e=e.slice(2)):2<=p&&f(d.protocol)&&(e=g[4]),{protocol:k,slashes:l||f(k),
slashesCount:p,rest:e}}function n(b,e,g){if(b=(b=h(b)).replace(s,""),!(this instanceof n))return new n(b,e,g);var k,r,u,v,w,z,N=E.slice();k=typeof e;var R=0;"object"!=k&&"string"!=k&&(g=e,e=null);g&&"function"!=typeof g&&(g=q.parse);k=!(r=l(b||"",e=d(e))).protocol&&!r.slashes;this.slashes=r.slashes||k&&e.slashes;this.protocol=r.protocol||e.protocol||"";b=r.rest;for(("file:"===r.protocol&&(2!==r.slashesCount||B.test(b))||!r.slashes&&(r.protocol||2>r.slashesCount||!f(this.protocol)))&&(N[3]=[/(.*)/,
"pathname"]);R<N.length;R++)"function"!=typeof(v=N[R])?(u=v[0],z=v[1],u!=u?this[z]=b:"string"==typeof u?~(w="@"===u?b.lastIndexOf(u):b.indexOf(u))&&(b="number"==typeof v[2]?(this[z]=b.slice(0,w),b.slice(w+v[2])):(this[z]=b.slice(w),b.slice(0,w))):(w=u.exec(b))&&(this[z]=w[1],b=b.slice(0,w.index)),this[z]=this[z]||k&&v[3]&&e[z]||"",v[4]&&(this[z]=this[z].toLowerCase())):b=v(b,this);g&&(this.query=g(this.query));if(k&&e.slashes&&"/"!==this.pathname.charAt(0)&&(""!==this.pathname||""!==e.pathname)){b=
this.pathname;e=e.pathname;if(""!==b){e=(e||"/").split("/").slice(0,-1).concat(b.split("/"));b=e.length;g=e[b-1];r=!1;for(u=0;b--;)"."===e[b]?e.splice(b,1):".."===e[b]?(e.splice(b,1),u++):u&&(0===b&&(r=!0),e.splice(b,1),u--);e=(r&&e.unshift(""),"."!==g&&".."!==g||e.push(""),e.join("/"))}this.pathname=e}"/"!==this.pathname.charAt(0)&&f(this.protocol)&&(this.pathname="/"+this.pathname);p(this.port,this.protocol)||(this.host=this.hostname,this.port="");this.username=this.password="";this.auth&&(~(w=
this.auth.indexOf(":"))?(this.username=this.auth.slice(0,w),this.username=encodeURIComponent(decodeURIComponent(this.username)),this.password=this.auth.slice(w+1),this.password=encodeURIComponent(decodeURIComponent(this.password))):this.username=encodeURIComponent(decodeURIComponent(this.auth)),this.auth=this.password?this.username+":"+this.password:this.username);this.origin="file:"!==this.protocol&&f(this.protocol)&&this.host?this.protocol+"//"+this.host:"null";this.href=this.toString()}var p=e("requires-port"),
q=e("querystringify"),r=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,v=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,z=/:\d+$/,w=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,B=/^[a-zA-Z]:/,E=[["#","hash"],["?","query"],function(b,d){return f(d.protocol)?b.replace(/\\/g,"/"):b},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};n.prototype={set:function(b,d,e){switch(b){case "query":"string"==
typeof d&&d.length&&(d=(e||q.parse)(d));this[b]=d;break;case "port":this[b]=d;p(d,this.protocol)?d&&(this.host=this.hostname+":"+d):(this.host=this.hostname,this[b]="");break;case "hostname":this[b]=d;this.port&&(d+=":"+this.port);this.host=d;break;case "host":this[b]=d;z.test(d)?(d=d.split(":"),this.port=d.pop(),this.hostname=d.join(":")):(this.hostname=d,this.port="");break;case "protocol":this.protocol=d.toLowerCase();this.slashes=!e;break;case "pathname":case "hash":d?(e="pathname"===b?"/":"#",
this[b]=d.charAt(0)!==e?e+d:d):this[b]=d;break;case "username":case "password":this[b]=encodeURIComponent(d);break;case "auth":b=d.indexOf(":"),~b?(this.username=d.slice(0,b),this.username=encodeURIComponent(decodeURIComponent(this.username)),this.password=d.slice(b+1),this.password=encodeURIComponent(decodeURIComponent(this.password))):this.username=encodeURIComponent(decodeURIComponent(d))}for(d=0;d<E.length;d++)b=E[d],b[4]&&(this[b[1]]=this[b[1]].toLowerCase());return this.auth=this.password?this.username+
":"+this.password:this.username,this.origin="file:"!==this.protocol&&f(this.protocol)&&this.host?this.protocol+"//"+this.host:"null",this.href=this.toString(),this},toString:function(b){b&&"function"==typeof b||(b=q.stringify);var d,e=this.host,g=this.protocol;g&&":"!==g.charAt(g.length-1)&&(g+=":");g+=this.protocol&&this.slashes||f(this.protocol)?"//":"";return this.username?(g+=this.username,this.password&&(g+=":"+this.password),g+="@"):this.password?(g+=":"+this.password,g+="@"):"file:"!==this.protocol&&
f(this.protocol)&&!e&&"/"!==this.pathname&&(g+="@"),(":"===e[e.length-1]||z.test(this.hostname)&&!this.port)&&(e+=":"),g+=e+this.pathname,(d="object"==typeof this.query?b(this.query):this.query)&&(g+="?"!==d.charAt(0)?"?"+d:d),this.hash&&(g+=this.hash),g}};n.extractProtocol=l;n.location=d;n.trimLeft=h;n.qs=q;b.exports=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:55,"requires-port":56}]},{},[1])(1)});
!function(c){if("function"===typeof require&&"undefined"!==typeof module){var e=require("sockjs-client");if(!e)throw Error("vertx-eventbus.js requires sockjs-client, see http://sockjs.org");c(e)}else if("function"===typeof define&&define.amd)define("vertx-eventbus",["sockjs"],c);else{if("undefined"===typeof this.SockJS)throw Error("vertx-eventbus.js requires sockjs-client, see http://sockjs.org");EventBus=c(this.SockJS)}}(function(c){function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(b,c){return c=16*Math.random(),("y"==b?c&3|8:c|0).toString(16)})}function b(b,c){if(b){if(!c)return b;for(var d in b)b.hasOwnProperty(d)&&"undefined"===typeof c[d]&&(c[d]=b[d])}return c||{}}var g=function(b,e){var d=this;e=e||{};this.pingInterval=e.vertxbus_ping_interval||5E3;this.pingTimerID=null;this.reconnectEnabled=!1;this.reconnectAttempts=0;this.reconnectTimerID=null;this.maxReconnectAttempts=e.vertxbus_reconnect_attempts_max||Infinity;this.reconnectDelayMin=e.vertxbus_reconnect_delay_min||
1E3;this.reconnectDelayMax=e.vertxbus_reconnect_delay_max||5E3;this.reconnectExponent=e.vertxbus_reconnect_exponent||2;this.randomizationFactor=e.vertxbus_randomization_factor||.5;this.defaultHeaders=null;this.onerror=function(b){try{console.error(b)}catch(c){}};var f=function(){d.sockJSConn=new c(b,null,e);d.state=g.CONNECTING;d.handlers={};d.replyHandlers={};d.sockJSConn.onopen=function(){d.enablePing(!0);d.state=g.OPEN;d.onopen&&d.onopen();d.reconnectTimerID&&(d.reconnectAttempts=0,d.onreconnect&&
d.onreconnect())};d.sockJSConn.onclose=function(b){d.state=g.CLOSED;d.pingTimerID&&clearInterval(d.pingTimerID);if(d.reconnectEnabled&&d.reconnectAttempts<d.maxReconnectAttempts){d.sockJSConn=null;var c=setTimeout,e=f,h;h=d.reconnectDelayMin*Math.pow(d.reconnectExponent,d.reconnectAttempts);if(d.randomizationFactor){var k=Math.random(),s=Math.floor(k*d.randomizationFactor*h);h=0==(Math.floor(10*k)&1)?h-s:h+s}h=Math.min(h,d.reconnectDelayMax)|0;d.reconnectTimerID=c(e,h);++d.reconnectAttempts}d.onclose&&
d.onclose(b)};d.sockJSConn.onmessage=function(b){var c=JSON.parse(b.data);c.replyAddress&&Object.defineProperty(c,"reply",{value:function(b,e,f){d.send(c.replyAddress,b,e,f)}});if(d.handlers[c.address]){b=d.handlers[c.address];for(var e=0;e<b.length;e++)if("err"===c.type)b[e]({failureCode:c.failureCode,failureType:c.failureType,message:c.message});else b[e](null,c)}else if(d.replyHandlers[c.address])b=d.replyHandlers[c.address],delete d.replyHandlers[c.address],"err"===c.type?b({failureCode:c.failureCode,
failureType:c.failureType,message:c.message}):b(null,c);else if("err"===c.type)d.onerror(c);else try{console.warn("No handler found for message: ",c)}catch(f){}}};f()};g.prototype.send=function(c,h,d,f){if(this.state!=g.OPEN)throw Error("INVALID_STATE_ERR");"function"===typeof d&&(f=d,d={});c={type:"send",address:c,headers:b(this.defaultHeaders,d),body:h};f&&(h=e(),c.replyAddress=h,this.replyHandlers[h]=f);this.sockJSConn.send(JSON.stringify(c))};g.prototype.publish=function(c,e,d){if(this.state!=
g.OPEN)throw Error("INVALID_STATE_ERR");this.sockJSConn.send(JSON.stringify({type:"publish",address:c,headers:b(this.defaultHeaders,d),body:e}))};g.prototype.registerHandler=function(c,e,d){if(this.state!=g.OPEN)throw Error("INVALID_STATE_ERR");"function"===typeof e&&(d=e,e={});this.handlers[c]||(this.handlers[c]=[],this.sockJSConn.send(JSON.stringify({type:"register",address:c,headers:b(this.defaultHeaders,e)})));this.handlers[c].push(d)};g.prototype.unregisterHandler=function(c,e,d){if(this.state!=
g.OPEN)throw Error("INVALID_STATE_ERR");var f=this.handlers[c];f&&("function"===typeof e&&(d=e,e={}),d=f.indexOf(d),-1!=d&&(f.splice(d,1),0===f.length&&(this.sockJSConn.send(JSON.stringify({type:"unregister",address:c,headers:b(this.defaultHeaders,e)})),delete this.handlers[c])))};g.prototype.close=function(){this.state=g.CLOSING;this.enableReconnect(!1);this.sockJSConn.close()};g.CONNECTING=0;g.OPEN=1;g.CLOSING=2;g.CLOSED=3;g.prototype.enablePing=function(b){var c=this;b?(b=function(){c.sockJSConn.send(JSON.stringify({type:"ping"}))},
0<c.pingInterval&&(b(),c.pingTimerID=setInterval(b,c.pingInterval))):c.pingTimerID&&(clearInterval(c.pingTimerID),c.pingTimerID=null)};g.prototype.enableReconnect=function(b){this.reconnectEnabled=b;!b&&this.reconnectTimerID&&(clearTimeout(this.reconnectTimerID),this.reconnectTimerID=null,this.reconnectAttempts=0)};if("undefined"!==typeof exports)"undefined"!==typeof module&&module.exports?exports=module.exports=g:exports.EventBus=g;else return g});